define("DS/CfgWebAppSpecificationsUX/facets/CfgSpecificationsFacet",["UWA/Core","DS/EditPropWidget/facets/Common/FacetsBase","DS/EditPropWidget/constants/EditPropConstants","DS/UIKIT/Mask","DS/CfgBaseUX/scripts/CfgData"],(function(e,t,n,i,s){"use strict";var o=t.extend({init:function(){this._parent.apply(this,arguments),this.elements.container||(this.elements.container=e.createElement("div",{styles:{height:"100%"}}))},updateFacet:function(){var e=this;require(["DS/CfgSpecificationsViewUX/scripts/CfgSpecificationsView"],(function(t){if(e.elements&&e.elements.container){var n=e.getModel();if(!n)return!1;e.instanceID="";var i=e.getOccurrence().getOptions("Specifications");e.instanceID=i?i.targets[0].id:n.get("objectId"),e.getTenantID(n),e.elements.container.setContent(""),e.elements.container.setContent(new t({env:e.isNativeEnvironnement()?"Native":"3DDashboard",tenantID:e.tenantID,instanceID:e.instanceID,displayCompactMode:!0}).render()),e.subscribeConfigurationRevisionEvents()}}))},isNativeEnvironnement:function(){let e=!1;return(this.options.webToWinComSocket||"undefined"!=typeof dscef)&&(e=!0),e},getTenantID:function(e){this.tenantID=e.getTenant(),!this.tenantID&&widget.getValue("x3dPlatformId")?(console.log(">> tenant taken from widget"),this.tenantID=widget.getValue("x3dPlatformId")):!this.tenantID&&this.options.context&&this.options.context._context?(console.log(">> tenant taken from options for web in win"),this.tenantID=this.options.context._context.tenant):this.tenantID||(console.log(">> tenant value not found and OnPremise tenant value is used"),this.tenantID="OnPremise")},destroyComponent:function(){e.is(this.destroy,"function")&&this.destroy()},onSave:function(){s.cfgRevActionEvents.publish({event:"ConfiguredRevisionAssociatedObjectsSaveClicked",data:{}})},subscribeConfigurationRevisionEvents:function(){var e=this;s.cfgRevActionEvents.subscribe({event:"ConfiguredRevisionAssociatedObjectsUpdated"},(function(){e._raiseEvent("disableSave",!0),e._raiseEvent("switchSave",!0)})),s.cfgRevActionEvents.subscribe({event:"ConfiguredRevisionAssociatedObjectsNotUpdated"},(function(){e._raiseEvent("disableSave",!0),e._raiseEvent("switchSave",!1)})),s.cfgRevActionEvents.subscribe({event:"ConfiguredRevisionViewLoaded"},(function(){}))}});return o}));