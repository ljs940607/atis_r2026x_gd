define("DS/CSIViewModelWebInterfaces/CSIVMClientIdPattern",["require","exports"],(function(e,t){"use strict";return class{constructor(e,t,i){this._idSpace=e,this._idContext=t,this._shared=i}}})),define("DS/CSIViewModelWebInterfaces/CSIVMLabelManager",["DS/CSICommandBinder/CSICommandBinder"],(function(e){"use strict";let t=function(e,t){let i="version";return e.writeInt32(i,t[i]),i="solver",e.writeString(i,t[i]),i="label",e.writeString(i,t[i]),!0},i=function(e){let t={},i="version";return t[i]=e.readInt32(i),i="solver",t[i]=e.readString(i),i="label",t[i]=e.readString(i),t},r=function(e,t){let i="version";return e.writeInt32(i,t[i]),i="treekey",e.writeString(i,t[i]),i="labelType",e.writeInt32(i,t[i]),i="initPath",null!=t[i]&&e.writeObject(i,"CSISelectionObject",t[i]),i="labelPathes",e.writeObjectArray(i,"CSIVMInternalLabel",t[i]),!0},n=function(e){let t={},i="version";return t[i]=e.readInt32(i),i="treekey",t[i]=e.readString(i),i="labelType",t[i]=e.readInt32(i),i="initPath",t[i]=e.readObject(i,"CSISelectionObject"),i="labelPathes",t[i]=e.readObjectArray(i,"CSIVMInternalLabel"),t};function a(e){let t={};t.status=e.readBool("commandHasSucceeded");let i=e.readObject("label","CSIVMLabel");t.label=JSON.stringify(i),this._onBuildAnswer(t)}function o(e){let t={};t.status=e.readBool("commandHasSucceeded"),t.selectionObjects=e.readObjectArray("selectionObjects","CSISelectionObject"),this._onSolveAnswer(t)}function s(){}return e.declareType({type:"CSIVMInternalLabel",serialize:t,unserialize:i}),e.declareType({type:"CSIVMLabel",serialize:r,unserialize:n}),s.prototype.getVMLabelFromSelectionObject=function(t){this._onBuildAnswer=t.onAnswer;let i=t.node.createRequest({destinationNodeId:t.serverNodeId,command:"CSIVMLabelBuildCommand",version:1,onAnswer:a.bind(this)}),r=new e.Parameters;r.writeObject("selectionObject","CSISelectionObject",t.selectionObject),r.writeInt32("labelType",1),i.send(null,r,null)},s.prototype.getSelectionObjectFromVMLabel=function(t){this._onSolveAnswer=t.onAnswer;let i=t.node.createRequest({destinationNodeId:t.serverNodeId,command:"CSIVMLabelSolveCommand",version:1,onAnswer:o.bind(this)}),r=(n=t.label,JSON.parse(n));var n;let a=new e.Parameters;a.writeObject("label","CSIVMLabel",r),i.send(null,a,null)},s})),define("DS/CSIViewModelWebInterfaces/CSIVMClientCAT3DGaussianSplatRepParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder"],(function(e,t,i){"use strict";class r{constructor(e,t){this.buffer=e,this.type=t}static deserialize(e){let t=e.readBuffer("buffer"),i=e.readUint8("type");return new r(t,i)}static declareType(){i.declareType({type:"CSIViewModelGaussianSplatData",serialize:e=>!1,unserialize:r.deserialize})}}return function(e){let t;!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.PLY=1]="PLY"}(t=e.Type||(e.Type={}))}(r||(r={})),r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientGeometricalData",["require","exports"],(function(e,t){"use strict";class i{constructor(e,t,r,n,a,o,s,l,d,c){this._boundingSphere=e,this._idPathInitializers=t,this._shortIdInitializers=r,this._initializers=void 0,this._geometries=n,this._dimension=null!=a?a:i.dimensionValues.undefined,this._version=2,this._hasInfiniteGeometry=s||!1,this._hasGeomDecorations=l||!1,this._useParentForPixelCulling=d,this._terminalRepWithPrimitivesWithoutGas=c}getBoundingSphere(){return this._boundingSphere}getInitializers(){return this._initializers}getGeometries(){return this._geometries}getDimension(){return this._dimension}getTerminalRepWithPrimitivesWithoutGas(){return this._terminalRepWithPrimitivesWithoutGas}getUseParentForPixelCulling(){return this._useParentForPixelCulling}getVersion(){return this._version}hasInfiniteGeometry(){return this._hasInfiniteGeometry}hasGeomDecorations(){return this._hasGeomDecorations}get dimensionValues(){return i.dimensionValues}}return function(e){let t;!function(e){e[e[void 0]=-1]="undefined",e[e.point=0]="point",e[e.wire=1]="wire",e[e.surface=2]="surface",e[e.volume=3]="volume"}(t=e.dimensionValues||(e.dimensionValues={}))}(i||(i={})),i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientExtInterfaces",["require","exports"],(function(e,t){"use strict";return class{}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientCAT2DAdvancedInheritanceBagRepParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder"],(function(e,t,i){"use strict";class r{constructor(e,t,i,r){this.mode=e,this.weight=t,this.type=i,this.scale=r}static deserialize(e){let t=e.readUint8("mode"),i=e.readUint8("weight"),n=e.readUint16("type"),a=e.readFloat("scale");return new r(t,i,n,a)}static declareType(){i.declareType({type:"CSIViewModelAdvancedInheritanceData",serialize:e=>!1,unserialize:r.deserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMStringMap",[],(function(){"use strict";function e(){this._data=new Map,this.clear()}return e.prototype.clear=function(){this._data.clear()},e.prototype.createValue=function(e,t){if(void 0===e)return;let i=e.toString(),r=this._data.get(i);Array.isArray(r)?r.push(t):this._data.set(i,[t])},e.prototype.size=function(e){return this._data.size},e.prototype.get=function(e){if(void 0!==e)return this._data.get(e.toString())},e.prototype.remove=function(e,t){if(void 0!==e){let i=e.toString(),r=!0;if(void 0!==t){let e=this._data.get(i);if(Array.isArray(e)){let i=e.indexOf(t);i>-1&&e.splice(i,1),e.length>0&&(r=!1)}}r&&this._data.delete(i)}},e.prototype.forEachValue=function(e,t){let i,r,n,a;if(void 0!==t){if(a=this._data.get(t.toString()),Array.isArray(a))for(r=a.length,i=0;i<r;++i){n=a[i];if(e(n,t))break}}else this._data.forEach((function(t){if(Array.isArray(t))for(r=t.length,i=0;i<r;++i){n=t[i];if(e(n))break}}))},e.prototype.findValue=function(e){let t,i,r=this._data.values(),n=r.next();for(;!n.done&&void 0===t;)i=n.value,Array.isArray(i)&&(t=i.find((function(t){return e(t)}))),n=r.next();return t},e})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisSkeletonSkinningParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder"],(function(e,t,i){"use strict";function r(){return!1}function n(e){let t={boneIdsBufferId:e.readUint64("boneIdsRawBufferId"),boneWeightsBufferId:e.readUint64("boneWeightsRawBufferId"),boneMatricesBufferId:e.readUint64("boneMatricesRawBufferId"),nbBones:e.readUint64("nbBones"),positionMatricesBufferId:e.readUint64("positionMatricesRawBufferId"),nbInstances:e.readUint64("nbInstances"),isRemoveSkeleton:e.readBool("isRemoveSkeleton"),isRemoveAnimation:e.readBool("isRemoveAnimation")};return new a(t)}class a{constructor(e){this._boneIdsBufferId=e.boneIdsBufferId,this._boneWeightsBufferId=e.boneWeightsBufferId,this._boneMatricesBufferId=e.boneMatricesBufferId,this._nbBones=e.nbBones,this._positionMatricesBufferId=e.positionMatricesBufferId,this._nbInstances=e.nbInstances,this._isRemoveSkeleton=e.isRemoveSkeleton,this._isRemoveAnimation=e.isRemoveAnimation}getBoneIdsBufferId(){return this._boneIdsBufferId}getBoneWeightsBufferId(){return this._boneWeightsBufferId}getBoneMatricesBufferId(){return this._boneMatricesBufferId}getNbBones(){return this._nbBones}getPositionMatricesBufferId(){return this._positionMatricesBufferId}getNbInstances(){return this._nbInstances}getIsRemoveSkeleton(){return this._isRemoveSkeleton}getIsRemoveAnimation(){return this._isRemoveAnimation}static declareType(){i.declareType({type:"CSIVisSkeletonSkinning",serialize:r,unserialize:n})}}return a})),define("DS/CSIViewModelWebInterfaces/CSIVMClientLight",["require","exports"],(function(e,t){"use strict";return class{constructor(e,t){this.properties={nbBuffer:0,lightBuffers:[],lightJson:""},this.itemReadGeom=0,this.itemReadAdditional=0;let i=t+4;this.properties.nbBuffer=new Uint32Array(e.slice(t,i).buffer)[0];for(let t=0;t<this.properties.nbBuffer;t++){const t=new Uint32Array(e.slice(i,i+4).buffer)[0];i+=4;const r=e.slice(i,i+t);this.properties.lightBuffers.push({buffer:r}),i+=t}const r=new Uint32Array(e.slice(i,i+4).buffer)[0];i+=4;const n=new TextDecoder("utf-8").decode(e.slice(i,i+r));this.properties.lightJson=JSON.parse(n),this.itemReadAdditional=i}}})),define("DS/CSIViewModelWebInterfaces/CSIDeserializerUtils",["require","exports"],(function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.CSIDataStream=t.CSISerializationProperties=void 0,function(e){let t,i;e.isLittleEndian=function(){if(null==t){let e=new Uint32Array([287454020]),i=new Uint8Array(e.buffer);t=68==i[0]}return t},function(e){e.bool=()=>1,e.char=()=>1,e.short=()=>2,e.int=()=>4,e.float=()=>4,e.long=()=>8,e.double=()=>8}(i=e.ByteSize||(e.ByteSize={}))}(i||(t.CSISerializationProperties=i={}));t.CSIDataStream=class{constructor(e,t,i){this.data=new DataView(e,t,i),this.index=0}readInt8(){return this.read(this.data.getInt8.bind(this.data),i.ByteSize.char)}readUint8(){return this.read(this.data.getUint8.bind(this.data),i.ByteSize.char)}readFloat32(){return this.read(this.data.getFloat32.bind(this.data),i.ByteSize.float)}readFloat64(){return this.read(this.data.getFloat64.bind(this.data),i.ByteSize.double)}readFloat64Point2D(){return[this.readFloat64(),this.readFloat64(),0]}readFloat64Point3D(){return[this.readFloat64(),this.readFloat64(),this.readFloat64()]}read(e,t){let r=e(this.index,i.isLittleEndian());return this.index+=t(),r}}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientCAT3DProjectionBagRepDataParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder"],(function(e,t,i){"use strict";class r{constructor(e,t,i){this.leftRatio=e,this.topRatio=t,this.scale=i}static deserialize(e){let t=e.readFloat("leftRatio"),i=e.readFloat("topRatio"),n=e.readFloat("scale");return new r(t,i,n)}static declareType(){i.declareType({type:"CSIViewModel3DProjectionData",serialize:e=>!1,unserialize:r.deserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientCAT2DBagRepWithAdvancedTablesParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder"],(function(e,t,i){"use strict";class r{constructor(e,t,i,r,n,a){this.uuid=e,this.version=t,this.layers=i,this.nlayers=r,this.types=n,this.widths=a}static deserialize(e){let t=e.readBuffer("uuid"),i=e.readFloat("version"),a=e.readUint32("nlayers"),o=e.readBuffer("layers"),s=new Array(a),l=0,d=new Uint32Array(o),c=new Float32Array(o);for(var u=0;u<a;u++){let e=c[l++],t=d[l++],i=255&t,r=(65280&t)>>8,a=(16711680&t)>>16,o=(16777216&t)>0,h=t>>>25,p=d[l++],S=65535&p,C=(16711680&p)>>16;s[u]=new n(i,r,a,o,h,e,S,C)}let h=e.readString("types"),p=e.readString("widths");return new r(t,i,s,a,h,p)}static declareType(){i.declareType({type:"CSIViewModelUDLData",serialize:e=>!1,unserialize:r.deserialize})}}class n{constructor(e,t,i,r,n,a,o,s){this.red=e,this.green=t,this.blue=i,this.frozen=r,this.transparency=n,this.scale=a,this.type=o,this.weight=s}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientTransaction",["require","exports"],(function(e,t){"use strict";return class{doOperation(e){}executeEnd(){}commit(){}abort(){}static call(e){}}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientCATBagRepWithToleranceScaleParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder"],(function(e,t,i){"use strict";class r{constructor(e){this.scale=e}static deserialize(e){let t=e.readFloat("scale");return new r(t)}static declareType(){i.declareType({type:"CSIViewModelWithToleranceScaleData",serialize:e=>!1,unserialize:r.deserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientStateMode",["require","exports"],(function(e,t){"use strict";var i;return function(e){e[e.Unknown=1]="Unknown",e[e.Tempo=2]="Tempo",e[e.Permanent=3]="Permanent",e[e.TempoOrPermanent=4]="TempoOrPermanent"}(i||(i={})),i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientOperation",["require","exports"],(function(e,t){"use strict";const i=[{OperatedObject:!0,IdNewObject:!0},{OperatedObject:!0,GeometricalData:!0,IdNewObject:!0},{OperatedObject:!0,GeometricalData:!0,IdPattern:!1},{OperatedObject:!0,CustomData:!0,IdNewObject:!0},{OperatedObject:!0,OperandObject:!0},{OperatedObject:!0,OperandObject:!0},{OperatedObject:!0,OperandObject:!0},{OperatedObject:!0,OperandObject:!0},{},{OperatedObject:!0,CustomData:!0},{OperatedObject:!0,Groups:!0},{OperatedObject:!1,GraphicProperties:!0},{IdNewObject:!0},{OperatedObject:!0,SemanticData:!0,IdNewObject:!0},{OperatedObject:!0,SemanticData:!0},{IdNewObject:!0,SemanticData:!0},{OperatedObject:!0,Attributes:!0},{OperatedObject:!0,GeometricalData:!1,InfiniteGeometricalData:!1,VisData:!1,VisDataUpdate:!1},{OperatedObject:!0,OperandSubElements:!0},{OperatedObject:!0,OperandSubElements:!0},{SceneEnvData:!0},{OperatedObject:!0,IdNewObject:!0},{OperatedObject:!0},{IdNewObject:!0},{TextureUids:!0},{VisuContext:!0},{OperatedObject:!0,GeometricalData:!0}],r=[{IdOperatedObject:!0,IdNewObject:!0,IdPreviousObject:!1,Index:!1,Attributes:!1},{IdOperatedObject:!0,GeometricalData:!1,VisData:!1,IdNewObject:!0,Attributes:!1,IdBatchParentObject:!1},{IdOperatedObject:!0,GeometricalData:!1,InfiniteGeometricalData:!1,IdPattern:!1,MultipleViewElts:!1},{IdOperatedObject:!0,CustomData:!0,IdNewObject:!0,IdPreviousObject:!1,Index:!1,Attributes:!1},{IdOperatedObject:!0,ShortIdOperand:!1,GlobalIdOperand:!1,IdPreviousObject:!1,Index:!1,IdBatchParentObject:!1,IdBatchParentSharedObject:!1},{IdOperatedObject:!0,GlobalIdOperand:!0},{IdOperatedObject:!0,GlobalIdOperand:!0,IdPreviousObject:!1},{IdOperatedObject:!0,GlobalIdOperand:!0},{},{IdOperatedObject:!0,CustomData:!0},{IdOperatedObject:!0,Groups:!0,IdBatchParentObject:!1},{IdOperatedObject:!1,GraphicProperties:!0,IdOperatedSubElements:!1,OperatedGeomTypes:!1,IdBatchParentObject:!1},{IdNewObject:!0,Attributes:!1},{IdOperatedObject:!0,SemanticData:!0,IdNewObject:!0,IdPreviousObject:!1,Attributes:!1},{IdOperatedObject:!0,SemanticData:!0},{IdNewObject:!0,SemanticData:!0,Attributes:!1},{IdOperatedObject:!0,Attributes:!0},{IdOperatedObject:!0,GeometricalData:!1,VisData:!1,VisDataUpdate:!1,IdPattern:!1},{IdOperatedObject:!0,ExistingCells:!0,IdBatchParentObject:!1},{IdOperatedObject:!0,ExistingCells:!0},{SceneEnvData:!0},{IdOperatedObject:!0,IdNewObject:!0,IdPreviousObject:!1,Index:!1,Attributes:!1,GeometricalData:!1,InfiniteGeometricalData:!1,BatchCellIdPattern:!1},{IdOperatedObject:!0,GeometricalData:!1,InfiniteGeometricalData:!1},{IdNewObject:!0,Attributes:!1,GeometricalData:!1,InfiniteGeometricalData:!1,BatchCellIdPattern:!1},{TextureUids:!0},{VisuContext:!0},{IdOperatedObject:!0,GeometricalData:!0},{IdOperatedObject:!0,DirectNode:!0,DirectModel:!0}];class n{static createOperation(e){let t,i=e.type>1?r[e.type-2]:void 0;null!=i&&(t=new n,t.type=e.type);for(let r in i){if(1==i[r]&&null==e[r]){const e=n.OperationsTypes[t.type];throw new Error(`operation ${e} doesn't satisfy integrity constraints missing : ${r} `)}null!=e[r]&&(t[r]=e[r])}return t}staticcheckCompletedOperation(e){let t=e;if(e.type<2)t=void 0;else{let r=i[e.type-2];for(let i in r)if(1==r[i]&&null==e[i]){t=void 0;break}}return t}get OperationType(){return n.OperationsTypes}getType(){return this.type}getTreeKey(){return this.TreeKey}getOperatedObject(){return this.OperatedObject}getBatchParentObject(){return this.BatchParentObject}getBatchParentSharedObject(){return this.BatchParentSharedObject}getBatchParentCellObject(){return this.BatchParentCellObject}getOperatedSubElements(){return this.OperatedSubElements}getOperatedGeomTypes(){return this.OperatedGeomTypes}getOperandObject(){return this.OperandObject}getOperandSubElements(){return this.OperandSubElements}getPreviousObject(){return this.PreviousObject}getGraphicProperties(){return this.GraphicProperties}getCustomData(){return this.CustomData}getGeometricalData(){return this.GeometricalData}getInfiniteGeometricalData(){return this.InfiniteGeometricalData}getVisData(){return this.VisData}getSemanticData(){return this.SemanticData}getSelectionGroups(){return this.Groups}getAttributes(){return this.Attributes}getVisuContext(){return this.VisuContext}getTextureUids(){return this.TextureUids}getIndex(){return this.Index}getDirectNodePromise(){return this.DirectNodePromise}getDirectNode(){return this.DirectNode}getDirectModelPromise(){return this.DirectModelPromise}getDirectModel(){return this.DirectModel}setCreatedObject(e){this.CreatedObject=e}addCreatedObjectWithID(e,t){this.CreatedObjectsWithID??(this.CreatedObjectsWithID=[]),this.CreatedObjectsWithID.push({object:e,ident:t})}}return function(e){let t;!function(e){e[e.UnknownType=1]="UnknownType",e[e.AddNode=2]="AddNode",e[e.AddBody=3]="AddBody",e[e.AddCells=4]="AddCells",e[e.AddCustomNode=5]="AddCustomNode",e[e.AddExistingNode=6]="AddExistingNode",e[e.AddExistingCell=7]="AddExistingCell",e[e.RemoveExistingNode=8]="RemoveExistingNode",e[e.RemoveExistingCell=9]="RemoveExistingCell",e[e.RemoveAll=10]="RemoveAll",e[e.ModifyCustomNode=11]="ModifyCustomNode",e[e.AddGroups=12]="AddGroups",e[e.ApplyGP=13]="ApplyGP",e[e.CreateRoot=14]="CreateRoot",e[e.AddSemanticNode=15]="AddSemanticNode",e[e.ModifySemanticNode=16]="ModifySemanticNode",e[e.CreateSemanticRoot=17]="CreateSemanticRoot",e[e.ApplyAttributes=18]="ApplyAttributes",e[e.ModifyBody=19]="ModifyBody",e[e.AddExistingCells=20]="AddExistingCells",e[e.RemoveExistingCells=21]="RemoveExistingCells",e[e.AddBatchNode=23]="AddBatchNode",e[e.ModifyBatch=24]="ModifyBatch",e[e.CreateRootBatch=25]="CreateRootBatch",e[e.RemoveTextureFromCache=26]="RemoveTextureFromCache",e[e.VisuContextUpdate=27]="VisuContextUpdate",e[e.ModifyBoundingElement=28]="ModifyBoundingElement",e[e.AddCGRNode=29]="AddCGRNode"}(t=e.OperationsTypes||(e.OperationsTypes={}))}(n||(n={})),n})),define("DS/CSIViewModelWebInterfaces/CSIVMClientDelegateInterface",["require","exports"],(function(e,t){"use strict";return class{createTransaction(e){}createPathElement(e,t=!1){}createIdentifiedObjectsArray(e){}addView(e,t){}removeView(e){}setManager(e){this._manager=e}getManager(){return this._manager}static call(e){e._manager=void 0,e.getManager=function(){return this._manager}.bind(e),e.setManager=function(e){this._manager=e}.bind(e)}}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels",["require","exports"],(function(e,t){"use strict";return{viewVersion:"viewVersion",viewStatus:"viewStatus",idPatterns:"idPatterns",graphicProperties:"graphicProperties",materialMessage:"materialMessage",treeUpdates:"treeUpdates",textureUids:"textureUids",Material:"material",CustomProperty:"customProperty",Gas:"gas",SymbolType:"symbolType",Fill:"fill",Layer:"Layer",Inherit:"Inherit",DefaultMaterial:"noMaterial",MaterialIDs:"materialIDs",CustomPropertyTypes:["staticPickWithChildrenAsAWhole","staticPickPriority","excludeFromBounding","staticMaterial","staticLook","staticGeomType","worldScalable","filtered","viewModeSensitivity","layerNumber","viewMode","pickMode","inheritanceMode","isIn3DBackGround","","noShow"],id:"id",idSpace:"idSpace",idContext:"idContext",shared:"shared",valuePositionMatrix:"positionMatrix",valueTextureMatrix:"textureMatrix",valueISO:"iso",value2DTo3D:"to3D",valuePLM:"plm",valueBillboard:"billboard",valueFixedSize:"fixedSize",valueSemantic:"semantic",valueVis3DNodeGroupRep:"vis3DNodeGroupRep",valueFilters:"filters",valueLod:"lod",value3DProjection:"projectionRep3D",valueVisFilter_ClipTolerance:"clipTolerance",valueVisFilter_CappingPicking:"cappingPicking",valueVisFilter_ContourPicking:"contourPicking",valueVisFilter_ClippingPlane:"clippingPlane",valueVisFilter_RepViewMode:"repViewMode",valueVisFilter_CNbPlanes:"clippingPlanenbPlanes",valueVisFilter_CPoint:"clippingPlanepoint",valueVisFilter_CNormal:"clippingPlanenormal",valueVisFilter_CFlags:"clippingPlaneflags",valueVisFilter_CSectionning:"clippingPlanesectionning",valueVisFilter_Radius:"radius",valueVisFilter_Center:"center",valueVisFilter_Origin:"origin",valueVisFilter_DirectionX:"directionX",valueVisFilter_DirectionY:"directionY",valueVisFilter_BoundariesVisible:"boundariesVisible",valueVisFilter_Gas:"gas",valueVisFilter_AnnotationMode:"annotationMode",valueVisFilter_AnnotationPaths:"annotationPaths",valueVisFilter_AnnotationValue:"annotationValue",valueVisFilter_OverloadedProperties:"overloadedProperties",valueVisFilter_OverloadedValues:"overloadedValues",valueVisFilter_OverloadedRGBA:"overloadedRGBA",valueVisFilter_InheritProps:"inheritProps",valueVisFilter_ForceInheritProps:"forceInheritProps",valueVisFilter_Material:"material",valueVisFilter_Matrix:"matrix",valueVisFilter_FirstDirection:"firstDirection",valueVisFilter_SecondDirection:"secondDirection",valueVisFilter_Mode:"mode",valueVisFilter_Plane:"plane",valueVisFilter_Layers:"layers",valueVisFilter_Point:"point",valueVisFilter_NbPolygon:"nbPolygon",valueVisFilter_NbVertex:"nbVertex",valueVisFilter_Vertices:"vertices",valueVisFilter_ColorInheritance:"colorInheritance",valueVisFilter_AsmInheritance:"asmInheritance",valueVisFilter_ZMode:"ZMode",valueVisFilter_Alpha:"alpha",valueVisFilter_NegativeVisibilityMode:"negativeVisibilityMode",valueVisFilter_Paths:"paths",valueVisFilter_Path:"path",valueVisFilter_Value:"value",valueVisFilter_RGBA:"rgba",valueVisFilter_X:"x",valueVisFilter_Y:"y",valueVisFilter_Dx:"dx",valueVisFilter_Dy:"dy",valueVisFilter_SkipDrawFurtive:"skipDrawFurtive",valueVisFilter_PolygonOffsetMode:"polygonOffsetMode",valueVisFilter_CurveCount:"curveCount",valueVisFilter_VertexCounts:"vertexCounts",valueVisFilter_Normals:"normals",valueVisFilter_TransformFromVertices:"transformFromVertices",valueVisFilter_NREDynamicMode:"nreDynamicMode",valueVisFilter_WebDynamicMode:"webDynamicMode",valueVisFilter_SkipDrawHighlight:"skipDrawHighlight",valueVisFilter_SkipDrawPreHighlight:"skipDrawPreHighlight",valueISO_DrawLayer:"drawLayer",valuePLM_Styles:"styles",value2DTo3D_StaticMode:"staticMode",value2DTo3D_ZDepthMode:"zDepthMode",value2DTo3D_AdvancedPriority:"advancedPriority",value2DTo3D_SphericalMode:"sphericalMode",value2DTo3D_AttachPoint:"attachPoint",valueBillboard_Type:"type",valueFixedSize_ScaleFactor:"scaleFactor",valueFixedSize_MinSize:"minSize",valueFixedSize_MaxSize:"maxSize",valueFixedSize_InvariantPoint:"invariantPoint",valueFixedSize_MutablePositionMatrix:"mutablePositionMatrix",valueSemantic_Type:"type",csiTreeKey:"csiTreeKey",tokens:"tokens",appliedGP:"appliedGP",uuid:"uuid",viewType:"viewType",view3DType:"view3DType",nameSpaceId:"nameSpaceId",viewpointID:"viewpointID",node:"Node",shortIds:"shortIDs",globalIds:"globalIDs",targetsInContext:"targetsInContext",idGP:"idGP",value:"value",localIdInt:"localIdInt",localIdString:"localIdString",localIdIntDual:"localIdDualInt",localIdStringDual:"localIdDualString",idPattern:"idPattern",batchCellIdPattern:"batchCellIdPattern",parent:"parent",batchParent:"batchParent",batchParentShared:"batchParentShared",previous:"previous",index:"index",valueBoundingSphere:"bs",valueBoundingBox:"bbox",valueIdPathInitializers:"initsIdPath",valueShortIdInitializers:"initsShortId",valueDimension:"dim",valueUseParentForPixelCulling:"useParentForPixelCulling",valueTerminalRepWithPrimitivesWithoutGas:"terminalRepWithPrimitivesWithoutGas",valueHasInfiniteGeometry:"hasInfiniteGeometry",valueCustomData:"customdata",valueGroups:"groups",valueAttribute:"attr",valueGeometry:"geometry",valueGeometries:"geometries",valueInfiniteGeometry:"infiniteGeometry",valueInfiniteGeometries:"infiniteGeometries",valueVisGeometry:"visGeometry",valueMultipleViewElts:"MultipleViewElts",valueHasGeomDecorations:"hasGeomDecorations",valueOffset:"offset",valueByteLength:"bytelength",valueBytePerElement:"bpe",valueDrawGroups:"dgs",valueInfiniteDrawGroups:"infdgs",valueStart:"start",valueCount:"count",valueGeomType:"geomType",valueInfiniteGeomType:"infiniteGeomType",valuePrimitives:"primitives",valueSkeletonSkinning:"skeletonSkinning",valueBuffer:"buffer",valueBufferType:"bufferType",valueBufferPartition:"bufferPartition",valueBufferPartitions:"bufferPartitions",valueInfiniteBuffer:"infiniteBuffer",valueInfiniteBufferType:"infiniteBufferType",valueInfiniteBufferPartition:"infiniteBufferPartition",valueInfiniteBufferPartitions:"infiniteBufferPartitions",valueRadius:"rad",valueRadiusMM:"radMM",valueState:"state",valueX1:"x1",valueY1:"y1",valueZ1:"z1",valueX2:"x2",valueY2:"y2",valueZ2:"z2",shortId:"shortId",idPath:"idPath",treeKey:"treeKey",valueBinaryFormat:"binaryformat",valueClientModule:"clientmodule",valueData:"data",valueAlias:"alias",valueTypeId:"typeId",valueSubTypeId:"subTypeId",valueIconName:"iconName",valueIconModule:"iconModule",valueEditCommandName:"cmdName",valueErrors:"errors",valueStates:"states",errorType:"errorType",errorID:"errorID",stateType:"stateType",stateValue:"stateValue",groupedElements:"groupElements",targetsContext:"targetsContext",targetsNoContext:"targetsNoContext",targets:"targets",targetTag:"targetTag",valueBufData:"data",valueBufLength:"bytelength",valueBufName:"name",valueJSON:"json",MaterialJSON:"materialJSON",MaterialBuffers:"materialBuffers",IsDefaultAmbiance:"isDefaultAmbiance",LightsJSON:"lightsJSON",CamerasJSON:"camerasJSON",Cameras2DJSON:"cameras2DJSON",ManageAmbiances:"manageAmbiances",ManageLights:"manageLights",ManageCameras:"manageCameras",VMViewMode:"viewMode",VMShininess:"shininess",VMOpacity:"opacity",VMColor:"color",VMAppearance:"appearance",VMUseObjectColor:"useObjectColor",AmbianceJSON:"ambianceJSON",AmbianceBuffers:"ambianceBuffers",GroundGridActivation:"groundGridActivation",ViewerType:"viewerType",HighlightRenderingData:"highlightRenderingData",PrehighlightRenderingData:"prehighlightRenderingData",Fog:"fog",Background3DViewMode:"background3DViewMode",BlankingPolygonMode:"blankingPolygonMode",MultiviewSyncMode:"multiviewSyncMode",DynamicMode:"dynamicMode",SupportClippingPlane:"clippingPlane",Support2DMode:"filter2DMode",SupportViewModeAnnotation:"viewModeAnnotation",MainViewpointUID:"mainViewpointUID",StandardActivation:"standardActivation",OutlineActivation:"outlineActivation",OutlineColor:"outlineColor",HaloActivation:"haloActivation",HaloColor:"haloColor",HaloLevel:"haloLevel",HaloSize:"haloSize",HaloIntensity:"haloIntensity",ScanActivation:"scanActivation",ScanColor:"scanColor",ScanIntensity:"scanIntensity",PolitnessActivation:"politnessActivation",PolitnessColor:"politnessColor",PolitnessMeshAlpha:"politnessMeshAlpha",PolitnessOccludedMeshAlpha:"politnessOccludedMeshAlpha",PolitnessEdgeThicknessDeltaEdgeSelected:"politnessEdgeThicknessDeltaEdgeSelected",PolitnessEdgeThicknessDeltaFaceSelected:"politnessEdgeThicknessDeltaFaceSelected",PolitnessOccludedEdgeAlpha:"politnessOccludedEdgeAlpha",PolitnessOccludedEdgeDotted:"politnessOccludedEdgeDotted",PolitnessPointSize:"politnessPointSize",PolitnessOccludedPointAlpha:"politnessOccludedPointAlpha",MultiColorActivation:"multiColorActivation",MultiColorHighlightSlots:"multiColorHighlightSlots",AdvancedPolitnessActivation:"advancedPolitnessActivation",AdvancedPolitnessColor:"advancedPolitnessColor",AdvancedPolitnessOutlineColor:"advancedPolitnessOutlineColor",AdvancedPolitnessHaloColor:"advancedPolitnessHaloColor",AdvancedPolitnessVisibleFaceAlpha:"advancedPolitnessVisibleFaceAlpha",AdvancedPolitnessOccludedFaceAlpha:"advancedPolitnessOccludedFaceAlpha",AdvancedPolitnessFaceThickness:"advancedPolitnessFaceThickness",AdvancedPolitnessHaloIntensity:"advancedPolitnessHaloIntensity",AdvancedPolitnessEdgeAndMarkerPolite:"advancedPolitnessEdgeAndMarkerPolite",AdvancedMultiHighlightSlots:"advancedMultiHighlightSlots",OutlineThickness:"outlineThickness",FaceIntensity:"faceIntensity",OccludedFaceIntensity:"occludedFaceIntensity",VpUID:"uid",VpType:"type",VpMinZoom:"minZoom",VpMaxZoom:"maxZoom",VpIsShowSpace:"isShowSpace",VpAaMode:"aaMode",VpIsStretched:"isStretched",VpViewport:"viewport",VpPLMViewMode:"plmViewMode",VpIsMainDialog:"isMainDialog",VpIsV3D:"isV3D",VpIsMultiview:"isMultiview",VpHasVpEditor:"hasVpEditor",VpViewpointEditorType:"viewpointEditorType",VpViewpointEditorMode:"viewpointEditorMode",VpTransformationLocks:"transformationLocks",Vp3DInfo:"viewpoint3DInfo",Vp2DInfo:"viewpoint2DInfo",VpClippingMode:"clippingMode",VpNearValue:"nearValue",VpFarValue:"farValue",VpGravityDirection:"gravityDirection",VpGravityMode:"gravityMode",VpGravityLocked:"gravityLocked",VpBottomLeft:"bottomLeft",VpTopRight:"topRight",VpBoundsX:"boundsX",VpBoundsY:"boundsY",VpTranslationBoundsDefined:"translationBoundsDefined",VpClip:"clip",VpDepth:"depth",VpAnchor:"anchor",ViewpointsInfo:"viewpointsInfo",ViewpointsChangeType:"changeType",PLMRenderingStyles:"plmRenderingStyles",PLMCustomRenderingStyle:"plmCustomRenderingStyle",PLMRenderingStyleData:"renderingStyleData",PLMMeshMaterial:"meshMaterial",PLMMeshMaterialBuffers:"meshMaterialBuffers",PLMEdgeGasAtt:"edgeGasAtt",PLMEdgeGasRGBA:"edgeGasRGBA",PLMEdgeVisibility:"edgeVisibility",PLMFilterMode:"filterMode",VisContextCommonData:"commonData",VisContextObjectsData:"objectsData",VisContextObjectIdentifier:"identifier",VisContextObjectData:"data",Viewpoints:"viewpoints",ViewMode:"viewMode",Ambiance:"ambiance",ColorMap:"colorMap",SupportParameters:"supportParameters",PLMViewMode:"plmViewMode",LineDefinitions:"lineDefinitions",VisContextData:"visContextData",VisuContextMessage:"visuContext",VisPrimitiveGroupRep:"visPrimitiveGroupRep",VisAttribute:"attribute",VisAttributePrimitiveGroupRep:"visAttribute",VisIndicesDescriptions:"indicesDescriptions",VisVerticesDescription:"verticesDescription",Components:"components",RawBuffer:"rawBuffer",RawBufferArray:"rawBuffers",VisRawBuffer:"visRawBuffers",ContentHint:"contentHint",Size:"size",FrameIds:"frameIds",FillingPathIds:"fillingPathIds",NbVertices:"nbVertices",Type:"type",ConnectivityType:"connectivityType",Attributetypes:"attributeTypes",NbIndices:"nbIndices",Data:"data",RawBufferID:"rawBufferId",Stride:"stride",Offset:"offset",ComponentType:"componentType",Is3d:"is3D",sceneID:"sceneID"}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientManagerInterface",["require","exports"],(function(e,t){"use strict";var i;return i||(i={}),i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientCAT2DLinkableBagRepParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder"],(function(e,t,i){"use strict";class r{constructor(e){this.uuid=e}static deserialize(e){let t=e.readBuffer("uuid");return new r(t)}static declareType(){i.declareType({type:"CSIViewModelLinkableData",serialize:e=>!1,unserialize:r.deserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIViewModelWebEnv",["require","exports"],(function(e,t){"use strict";const i=new class{constructor(){this.CSITrue="TRUE",this.CSIFalse="FALSE",this.CSIShow="Show",this.CSINoShow="NoShow",this.CSIPick="Pick",this.CSINoPick="NoPick",this.CSIZBuffer="ZBuffer",this.CSINoZBuffer="NoZBuffer",this.isA2X=!1,this.debugLogCrossView=!1,this.debugLogSelectionObject=!1,this._performanceTraces=!1,this._EKPerfoTraces=!0,this._EKPerfoProvider="techno_3dsync",this.reset()}reset(){this.throwPrivateMemberAccess=2,this.useNewVMClientObject=!1,this.cleanCbOnClearScene=!1,this.allowAccessTemporaryDuringTransaction=1,this.throwOnDupIdentification=1,this.byPassNoCleanIdent=!1,this.noPathUsageInViewParam=!0,this.isA2X&&this.InitForA2X()}activatePerformanceTraces(){this._performanceTraces=!0}isPerformanceTracesActivated(){return this._performanceTraces}startPerfo(e){window.performance.mark(e+".start")}endPerfo(e){window.performance.mark(e+".end"),window.performance.measure(e,e+".start",e+".end")}activateEKPerfoTraces(){this._EKPerfoTraces=!0}isEKPerfoTracesActivated(){return this._EKPerfoTraces}getEKPerfoProvider(){return this._EKPerfoProvider}InitForA2X(){this.isA2X=!0,this.useNewVMClientObject=!0,this.throwPrivateMemberAccess=1,this.cleanCbOnClearScene=!0,this.byPassNoCleanIdent=!1}throwFun(e){if(this.throwPrivateMemberAccess)try{throw new Error(`ðŸš¨ ðŸš¨ ðŸš¨ [Forbidden Private Member Access] To fix as soon as possible!!! ${e}`)}catch(e){switch(this.throwPrivateMemberAccess){case 1:throw e;case 2:console.warn(e)}}}};return i.reset(),i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientCAT3DUniformLatticeRepDataParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder"],(function(e,t,i){"use strict";class r{constructor(e,t,i,r){this.transformation=e,this.cells=t,this.ncells=i,this.geometry=r}static deserialize(e){let t=e.readDoubleArray("transformation"),i=e.readUint32("ncells"),o=e.readBuffer("cells"),s=new Array(i),l=0,d=new Float32Array(o),c=new Int32Array(o);for(var u=0;u<i;u++){let e=[d[l++],d[l++],c[l++]],t=c[l++];s[u]=new n(e,t)}let h=e.readUint32("nvertices"),p=e.readFloatArray("vertices"),S=e.readUint32("nnormals"),C=e.readFloatArray("normals"),f=e.readUint32("nindices"),I=e.readUint32Array("indices"),g=new a(p,h,C,S,I,f);return new r(t,s,i,g)}static declareType(){i.declareType({type:"CSIViewModel3DUniformLatticeData",serialize:e=>!1,unserialize:r.deserialize})}}class n{constructor(e,t){this.indices=e,this.distance=t}}class a{constructor(e,t,i,r,n,a){this.vertices=e,this.nvertices=t,this.normals=i,this.nnormals=r,this.indices=n,this.nindices=a}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientParameterVersion",[],(function(){"use strict";return{currentVersion:691}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientParameterHelper",["require","exports","DS/CSIViewModelWebInterfaces/CSIViewModelWebEnv"],(function(e,t,i){"use strict";return i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientViewMode",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";function i(e){this._shininess=e.shininess,this._opacity=e.opacity,this._viewMode=e.viewMode,this._useObjectColor=e.useObjectColor,this._appearanceName=e.appearanceName,this._color=e.color}i.prototype.getViewMode=function(){return this._viewMode},i.prototype.getShininess=function(){return this._shininess},i.prototype.getOpacity=function(){return this._opacity},i.prototype.getAppearance=function(){return this._appearanceName},i.prototype.getColor=function(){return this._color},i.prototype.getUseObjectColor=function(){return this._useObjectColor};let r=function(e,i){e.writeString(t.VMAppearance,i._appearanceName),e.writeFloat(t.VMShininess,i._shininess),e.writeFloat(t.VMOpacity,i._opacity),e.writeInt32(t.VMViewMode,i._viewMode),e.writeBool(t.VMUseObjectColor,i._useObjectColor),e.writeFloatArray(t.VMColor,i._color)},n=function(e){return new i({appearanceName:e.readString(t.VMAppearance),shininess:e.readFloat(t.VMShininess),opacity:e.readFloat(t.VMOpacity),viewMode:e.readInt32(t.VMViewMode),useObjectColor:e.readBool(t.VMUseObjectColor),color:e.readFloatArray(t.VMColor)})};return i.prototype.declareType=function(){e.declareType({type:"CSIViewMode",serialize:r,unserialize:n})},i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientCustomDataParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";function i(e){this._binFormat=e.binFormat||this.binFormatValues.unknown,this._module=e.module||"",this._data=e.data||null}i.prototype.binFormatValues={unknown:0,bin:1,sem:2,cgr:3},i.prototype.getBinFormat=function(){return this._binFormat},i.prototype.getModule=function(){return this._module},i.prototype.getData=function(){return this._data};let r=function(){return!1},n=function(e){return new i({binFormat:e.readUint8(t.valueBinaryFormat),module:e.readString(t.valueClientModule),data:e.readObject(t.valueData,"Parameters")})};return i.prototype.declareType=function(){e.declareType({type:"CSICustomDataParam",serialize:r,unserialize:n})},i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVis3DDynamicLeaderGPParameter",["require","exports","DS/CSIViewModelWebInterfaces/CSIDeserializerUtils"],(function(e,t,i){"use strict";class r{constructor(e,t){this.type=e,this.data=t}static deserialize(e){let t=new i.CSIDataStream(e.buffer,e.byteOffset),l=t.readUint8(),d=!!(l&this.DIMENSION_MASK),c=d?t.readFloat64Point2D():t.readFloat64Point3D(),u=d?t.readFloat64Point2D():t.readFloat64Point3D(),h=t.readFloat32(),p=t.readFloat32(),S=t.readFloat32(),C=t.readFloat32(),f=t.readFloat64(),I=t.readUint8()>0,g=new s(u,h,p,S,C,f,I),V=t.readFloat32(),m=t.readUint8()>0,w=l&this.TYPE_MASK,M=function(){switch(w){case r.Type.SIMPLE:return new n(c,g,V,m);case r.Type.SNAPABLE:let e=t.readFloat32(),i=t.readFloat32();return new a(c,g,V,m,e,i);case r.Type.CLOUD:let s=t.readUint8()>0;return new o(c,g,m,s)}}();return new r(w,M)}}r.DIMENSION_MASK=128,r.TYPE_MASK=127,function(e){let t;!function(e){e[e.SIMPLE=0]="SIMPLE",e[e.SNAPABLE=1]="SNAPABLE",e[e.CLOUD=2]="CLOUD"}(t=e.Type||(e.Type={}))}(r||(r={}));class n{constructor(e,t,i,r){this.target=e,this.box=t,this.arrowHead=i,this.centroidMode=r}}class a extends n{constructor(e,t,i,r,n,a){super(e,t,i,r),this.horizontalOffset=n,this.verticalOffset=a}}class o extends n{constructor(e,t,i,r){super(e,t,0,i),this.filled=r}}class s{constructor(e,t,i,r,n,a,o){this.pos=e,this.xmin=t,this.xmax=i,this.ymin=r,this.ymax=n,this.angle=a,this.zoomable=o}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientCAT2DRectangleWithCornersGPParameter",["require","exports","DS/CSIViewModelWebInterfaces/CSIDeserializerUtils"],(function(e,t,i){"use strict";class r{constructor(e,t,i,r,n,a,o){this.type=e,this.leftBottom=t,this.topRight=i,this.matrix=r,this.frameColor=n,this.darkColor=a,this.brightColor=o}static readRGBAColor(e,t){let r=new DataView(e.buffer,e.byteOffset+t);return[r.getFloat32(0,i.CSISerializationProperties.isLittleEndian()),r.getFloat32(4,i.CSISerializationProperties.isLittleEndian()),r.getFloat32(8,i.CSISerializationProperties.isLittleEndian()),r.getFloat32(12,i.CSISerializationProperties.isLittleEndian())]}static deserialize(e,t){let i,n,a,o=t[0],s=[e[0],e[1],0],l=[e[2],e[3],0],d=[e[4],e[5],0,0,e[6],e[7],0,0,0,0,1,0,e[8],e[9],0,1];return t.length%32>1&&(i=this.readRGBAColor(t,1)),t.length>17&&(n=this.readRGBAColor(t,t.length-32),a=this.readRGBAColor(t,t.length-16)),new r(o,s,l,d,i,n,a)}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientRequestWithView",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";function i(e,t){this.stackOfCallBack=[],this.defaultCallBack=e.command.defaultCallback,this.node=e.node.index_;let i=this,a=n[this.node];void 0!==a&&a.hasBegan()&&!a.isFinished()&&a.End(void 0,!0);let o={command:e.command.command,version:e.command.version,onComplete:function(e){let t=i.stackOfCallBack.shift();void 0===t&&(t=i.defaultCallBack),t&&t(e)}.bind(this)};n[this.node]=new r(e.node,e.serverNodeId,o,t,e.sceneID)}let r=function(e,t,i,r,n){this.beginState=!1,this.doState=!1,this.endState=!1,this._sceneID=isNaN(n)?void 0:n,this.viewRequest_=e.createIterativeRequest({destinationNodeId:t,command:"CSIViewCommand",version:1,onComplete:r}),i.destinationNodeId=t,this.applicativeRequest_=e.createIterativeRequest(i)};r.prototype.isFinished=function(){return this.beginState&&this.endState},r.prototype.hasBegan=function(){return this.beginState},r.prototype.Begin=function(i){let r;this.applicativeRequest_.begin(i),this._sceneID&&(r=new e.Parameters,r.writeUint32(t.sceneID,this._sceneID)),this.viewRequest_.begin(r),this.beginState=!0},r.prototype.Do=function(i){let r;this.applicativeRequest_.send(i),this._sceneID&&(r=new e.Parameters,r.writeUint32(t.sceneID,this._sceneID)),this.viewRequest_.send(r)},r.prototype.End=function(i,r,n){let a;this.applicativeRequest_.end(i),(r||this._sceneID)&&(a=new e.Parameters),r&&(a.writeBool("isCanceled",r),void 0===i?i=a:i.writeBool("isCanceled",r),n&&i.writeBool("isAbort",n)),this._sceneID&&a.writeUint32(t.sceneID,this._sceneID),this.viewRequest_.end(a),this.doState=!0,this.endState=!0};let n={};return i.prototype.begin=function(e,t){let i=n[this.node];i.beginState||(this.stackOfCallBack.push(t),i.Begin(e))},i.prototype.send=function(e,t){let i=n[this.node];!i.doState&&i.beginState&&(this.stackOfCallBack.push(t),i.Do(e))},i.prototype.end=function(e,t,i,r){let a=n[this.node];!a.endState&&a.beginState&&(this.stackOfCallBack.push(t),a.End(e,i,r))},i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientGroup",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";function i(e){this._localIDs=e}i.prototype.getGroupedElements=function(){return this._groupedElements};let r=function(){return!1},n=function(e){return new i(e.readUint32Array(t.groupedElements))};return i.prototype.declareType=function(){e.declareType({type:"CSIViewModelGroup",serialize:r,unserialize:n})},i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientSelectionObjectAdvanced",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientStateMode"],(function(e,t){"use strict";function i(e){this.rootSelectionObject=e.rootSelectionObject||null,this.subElementsId=e.subElementsId||[],this.context=e.context||""}i.prototype.getPathElementTab=function(){let e,i,r=[],n=this.rootSelectionObject.getModelElementTab(),a=n.length,o=n[a-1],s=this.rootSelectionObject.getModelAccessData(),l=s.notifier,d=s.curKey,c=t.TempoOrPermanent,u=o.getChildrenWithId(d,c,this.subElementsId),h=u.length,p=[],S=0;for(S=0;S<a;++S){let e=n[S].getAssociatedViewElt(d);e&&p.push(e)}for(e=0;e<h;++e)i=u[e].getAssociatedViewElt(d),i&&(p[S]=i,r.push(l.createPathElement(p)));if(0==r.length){let e=l.createPathElement(p);r.push(e)}return r};let r=function(e,t){return e.writeObject("body","CSISelectionObject",t.rootSelectionObject),e.writeStringArray("nodes",t.subElementsId),e.writeString("context",t.context),!0},n=function(e){return new i({rootSelectionObject:e.readObject("body","CSISelectionObject"),context:e.readString("context"),subElementsId:e.readStringArray("nodes")})};return i.prototype.declareType=function(){e.declareType({type:"CSISelectionObjectAdvanced",serialize:r,unserialize:n})},i.prototype.declareType(),i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientTreeKey",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(require,exports,CSICommands,CSIVMClientParameterLabels){"use strict";class CSIVMClientTreeKey{constructor(e,t,i,r,n){this._uuid=e,this._viewType=t,this._view3DType=i,void 0===this._view3DType&&(this._view3DType=this._viewType===CSIVMClientTreeKey.ViewType.View3D?CSIVMClientTreeKey.View3DType.View3D_Main:CSIVMClientTreeKey.View3DType.View3D_Unknown),this._viewpointID=r||0,this._sceneID=n||0}getUUID(){return this._uuid}getViewType(){return this._viewType}getView3DType(){return this._view3DType}getViewpointUID(){return this._viewpointID}getSceneID(){return this._sceneID}is3D(){return this._viewType===CSIVMClientTreeKey.ViewType.View3D}getNameSpaceId(){return this._nameSpaceId}process(e){let t=e.getProcessor().getModel().getOrCreateTreeKey(this._uuid,this._viewType,this._view3DType,this._viewpointID,this._sceneID);return t._nameSpaceId=this._nameSpaceId,t}static*iterateOnTypes(){for(let e of Object.values(CSIVMClientTreeKey.ViewType))e!=CSIVMClientTreeKey.ViewType.ViewUnknown&&"string"!=typeof e&&(yield e)}}function serialize(){return!1}function unserialize(e){const t=e.readString(CSIVMClientParameterLabels.uuid),i=e.readUint8(CSIVMClientParameterLabels.viewType),r=e.readUint8(CSIVMClientParameterLabels.view3DType),n=e.readString(CSIVMClientParameterLabels.nameSpaceId),a=e.readUint32(CSIVMClientParameterLabels.viewpointID),o=e.readUint32(CSIVMClientParameterLabels.sceneID),s=new CSIVMClientTreeKey(t,i,r,a,o);return n&&(s._nameSpaceId=n),s}return CSICommands.declareType({type:"CSIViewTreeKey",serialize:serialize,unserialize:unserialize}),function(e){let t,i;!function(e){e[e.ViewUnknown=1]="ViewUnknown",e[e.View3D=2]="View3D",e[e.ViewSpecTree=3]="ViewSpecTree",e[e.ViewSpecTree2=4]="ViewSpecTree2"}(t=e.ViewType||(e.ViewType={})),function(e){e[e.View3D_Unknown=1]="View3D_Unknown",e[e.View3D_Main=2]="View3D_Main",e[e.View3D_Highlight=3]="View3D_Highlight",e[e.View3D_MultiColorHighlight=4]="View3D_MultiColorHighlight",e[e.View3D_PreHighlight=5]="View3D_PreHighlight",e[e.View3D_Dialog=6]="View3D_Dialog",e[e.View3D_OnTop=7]="View3D_OnTop",e[e.View3D_Furtive=8]="View3D_Furtive",e[e.View3D_Transient=9]="View3D_Transient"}(i=e.View3DType||(e.View3DType={}))}(CSIVMClientTreeKey||(CSIVMClientTreeKey={})),eval("\n    CSIVMClientTreeKey.prototype.ViewType  = CSIVMClientTreeKey.ViewType;\n    CSIVMClientTreeKey.prototype.View3DType  = CSIVMClientTreeKey.View3DType;\n"),CSIVMClientTreeKey})),define("DS/CSIViewModelWebInterfaces/CSIVMClientManagerList",["require","exports","DS/CSIViewModelWebInterfaces/CSIVMClientTreeKey"],(function(e,t,i){"use strict";return new class{constructor(){this._Managers=new Map}Entries(){return this._Managers.entries()}Add(e){this._Managers.set(e.getSceneID(),e)}Remove(e){e.reset(),this._Managers.delete(e?.getSceneID())}Find(e){return this._Managers.get(e)}GetFirst(){for(let e of this._Managers.values())return e}GetViewer(e){let t=this._Managers.get(e)?.getNotifier(i.ViewType.View3D);return t?.viewManager?.viewer}GetProcessor(){return this.GetFirst()?.getProcessor()}GetModel(){return this.GetFirst()?.getProcessor()?.getModel()}GetNotifier(e){return this.GetProcessor().getNotifier(e.getSceneID(),e.getViewType())}}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientJSON",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";function i(e){this._json=e.json||"",""!==this._json&&(this._json=JSON.parse(this._json))}i.prototype.getJSON=function(){return this._json};let r=function(){return!1},n=function(e){return new i({json:e.readString(t.valueJSON)})};return i.prototype.declareType=function(){e.declareType({type:"CSIViewModelJSON",serialize:r,unserialize:n})},i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientSelectionObject",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIViewModelWebEnv","DS/CSIViewModelWebInterfaces/CSIVMClientManagerList","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientStateMode","DS/CSIViewModelWebInterfaces/CSIVMClientTreeKey"],(function(require,exports,CSICommandBinder,CSIViewModelWebEnv,CSIVMClientManagerList,CSIVMClientParameterLabels,CSIVMClientStateMode,CSIVMClientTreeKey){"use strict";let CSISelectionObjectCustom,_declared=!1;class CSIVMClientSelectionObject{constructor(e){this.treeKey=e.treeKey||"",this.idPath=e.idPath||""}fromPathElement(e){let t,i,r,n=[],a=!1,o=e.getLength();for(let t=0;t<o;t++){const s=e.getElement(t);let l=getIdentObject(s);if(0===l){console.warn("[CSIVMClientSelectionObject] Trying to get pathElement from a dead object (ident===0). consider path as invalid"),r=void 0,i=void 0;break}if(t===o-1&&!l&&a&&void 0!==e.findAssociatedSGNode){let t=e.findAssociatedSGNode(s,s.persistentId);if(void 0!==t){l=getIdentObject(t);let e,i=[];for(;void 0!==(t=t.parent)&&void 0!==(e=getIdentObject(t));)i.unshift(e);i.forEach((e=>n.push(e)))}}if(l&&(n.push(l),void 0===r&&void 0===i)){if(r=l.getKey(s),i=l.getNameSpace(),void 0===r||void 0===i)break;a=r.getViewType()===CSIVMClientTreeKey.ViewType.View3D}}return void 0!==r&&void 0!==i&&(this.idPath=i.buildGlobalId(n),this.treeKey=r.getUUID(),t=this),CSIViewModelWebEnv.debugLogSelectionObject&&console.log("fromPathElement",CSIVMClientSelectionObject.dbgPathToStr(e),"  |   ",t?.idPath),t}getPathElement(e=!0){let t;const i=CSIVMClientManagerList.GetModel();if(!i)return;const r=i.getTreeKey(this.treeKey);if(null!=r){const n=i.decodeGlobalIdToViewObjects(null,r,this.idPath,CSIVMClientStateMode.Permanent,e);t=CSIVMClientManagerList.GetNotifier(r).createPathElement(n,!e)}return CSIViewModelWebEnv.debugLogSelectionObject&&console.log("getPathElement",this.idPath,CSIVMClientSelectionObject.dbgPathToStr(t)),t}isACustomCSISelectionObject(){return!1}static declareType(){_declared||(_declared=!0,CSICommandBinder.declareType({type:"CSISelectionObject",serialize:CSIVMClientSelectionObject.serialize,unserialize:CSIVMClientSelectionObject.unserialize}))}static serialize(e,t){return void 0!==t.treeKey&&e.writeString(CSIVMClientParameterLabels.treeKey,t.treeKey),e.writeString(CSIVMClientParameterLabels.idPath,t.idPath),CSIViewModelWebEnv.debugLogSelectionObject&&console.log("serialize",t?.treeKey,t?.idPath),!0}static unserialize(message){let params={treeKey:message.readString(CSIVMClientParameterLabels.treeKey),idPath:message.readString(CSIVMClientParameterLabels.idPath)};if(void 0===params.treeKey){if(!CSISelectionObjectCustom){try{eval('CSISelectionObjectCustom = require("DS/CSIViewModelWebInterfaces/CSISelectionObjectCustom");')}catch(e){}if(!CSISelectionObjectCustom)throw new Error("Empty tree key only allowed for CSISelectionObjectCustom. As this class was not imported it's a forbidden pattern.")}return new CSISelectionObjectCustom(params.idPath)}return CSIViewModelWebEnv.debugLogSelectionObject&&console.log("unserialize",params?.treeKey,params?.idPath),new CSIVMClientSelectionObject(params)}static dbgPathToStr(e){if(null==e)return"empty";let t=[];for(let i=0;i<e.getLength();i++){let r=getIdentObject(e.getElement(i));r?.isEmpty()&&(r=void 0),t.push(r?`${r?.getGlobalId()}`:"____")}return t.join(" / ")}}function getIdentObject(e){return e?.getIdentificationObject?.call(e)}return eval("\nCSIVMClientSelectionObject.prototype.declareType =  CSIVMClientSelectionObject.declareType;\nCSIVMClientSelectionObject.prototype._declareType =  CSIVMClientSelectionObject.declareType;\n"),CSIVMClientSelectionObject})),define("DS/CSIViewModelWebInterfaces/CSIVMClientDebugTools",["require","exports","DS/CSIViewModelWebInterfaces/CSIVMClientManagerList","DS/CSIViewModelWebInterfaces/CSIVMClientTreeKey","DS/CSIViewModelWebInterfaces/CSIVMClientSelectionObject","DS/CSICommandBinder/CSIParameters","DS/VisualizationProfiler/VisuProfiler"],(function(require,exports,ManagerList,CSIVMClientTreeKey,CSIVMClientSelectionObject,CSIParameters,VisuProfiler){"use strict";function colorCss(e){return`color:rgb(${Math.floor(255*e.r)}, ${Math.floor(255*e.g)}, ${Math.floor(255*e.b)});`}function req(path){let tmp;return eval(`tmp = require('${path}')`),tmp}function _preprocessGasMaterial(e,t){const i=new(req("DS/Visualization/GraphicAttributeSet"))({NREInit:!0});let r,n,a;if(e&&255===e._colorIndex)r=e._color;else{r=window.THREEDS.Core._getColorMap()[e?e._colorIndex:0]}null===r&&(r=i._color),n=r,t&&(t.color&&(r=t.color),a=r);let o=null;return e&&(e._rgba!==i._rgba||e._attr!==i._attr)&&(o={},e.side!==i.side&&(o.side=e.side),e._alpha!==i._alpha&&(o._alpha=e._alpha),e._basic!==i._basic&&(o._basic=e._basic),e._color&&e._color.getHexString()!==i._color.getHexString()&&(o._color=e._color),e._colorIndex!==i._colorIndex&&(o._colorIndex=e._colorIndex),e._colorSet!==i._colorSet&&(o._colorSet=e._colorSet),e._highlight!==i._highlight&&(o._highlight=e._highlight),e._inheritance!==i._inheritance&&(o._inheritance=e._inheritance),e._inheritanceCustom0!==i._inheritanceCustom0&&(o._inheritanceCustom0=e._inheritanceCustom0),e._lineType1!==i._lineType1&&(o._lineType1=e._lineType1),e._lineWidth!==i._lineWidth&&(o._lineWidth=e._lineWidth),e._lowlight!==i._lowlight&&(o._lowlight=e._lowlight),e._noPick!==i._noPick&&(o._noPick=e._noPick),e._priority!==i._priority&&(o._priority=e._priority),e._show!==i._show&&(o._show=e._show),e._showFree!==i._showFree&&(o._showFree=e._showFree),e._symbolType!==i._symbolType&&(o._symbolType=e._symbolType),e._transparent!==i._transparent&&(o._transparent=e._transparent)),[r,a,n,o]}function _logGasMaterial(e,t,i,r){void 0!==e&&(i&&console.log("ðŸŽ¨ gas ( %câ–ˆâ–ˆ ",colorCss(e),")",i),r&&console.log("ðŸŒˆ material ( %câ–ˆâ–ˆ",colorCss(t),")",r))}function _LogPrimitives(e){if(e&&0!==e.length)for(let t=0;t<e.length;t++){const i=e[t];let r="";i.IdentObj&&(r=`${i.IdentObj.getIdPattern()._idContext}#${i.IdentObj.getLocalId()}`);let[n,a,o,s]=_preprocessGasMaterial(i?.group?.gas,i?.group?.material);console.groupCollapsed(`ðŸ”¶ Primitive cgmId=${i.cgmId} ${r} %câ–ˆâ–ˆ`,colorCss(n)),_logGasMaterial(o,a,s,i?.group?.material),console.log("prim",i),console.groupEnd()}}function _recLogNode(e,t){const i=t?console.group:console.groupCollapsed,r=req("DS/Visualization/Node3D"),n=req("DS/Visualization/Mesh3D"),a=req("DS/Mesh/Mesh");let o=e.name??"",s=null;e.passes&&e.passes[0]&&e.passes[0].includes("iso")&&(s=e.passes[0],""===o&&(o="ISO")),e.internalSceneGraph&&(o="Batch");let l="";switch(""===o&&(o=e.light3js?"Light":e instanceof n?"Mesh":e._pathes?"Path":e instanceof r?"Node":e instanceof a.SGBag?"SGBag":e instanceof a.SGRep?"SGRep":"unknown"),o){case"refPlane":case"reference_plane":case"RefPlaneNode":case"_refplaneitem_":l="â¢";break;case"ISO":l="â’¤";break;case"3Dto2D":case"CAT2DTo3DRep":l="â…”";break;case"CAT3DPLMBagRep":l="P";break;case"SGV6":l="â­";break;case"Light":l="ðŸ’¡";break;case"Batch":l="ðŸ§±";break;case"Path":l="PathElement";break;case"SGBag":l="ðŸ”·";break;case"SGRep":l="ðŸ”¶";break;default:l=o.includes("Mesh")?"ðŸ§Š":e.getChildren&&e.getChildren()?e.getChildren().length?"ðŸ“¦":"ðŸŸ¨":"?"}let d=e.modelIdentification,c="";d&&(c=`${d.getIdPattern()._idContext}#${d.getLocalId()}`),""===c&&e._idObject&&(c=e._idObject._localId);{let[t,r,n,a]=_preprocessGasMaterial(e._gas,e.material),s=[];if(e.getOverrideSetManager&&e.getOverrideSetManager())for(let t of e.getOverrideSetManager()._sceneGraphOverrideSetArray)t.sceneGraphOverrideSet&&t.sceneGraphOverrideSet.name.startsWith("__3DSyncFilters__")&&s.push(t.sceneGraphOverrideSet);const d=e.children&&e.children.length?"(+"+e.children.length+")":"";!1===e.visible&&(l="ðŸ™ˆ"+l);i(`${l} ${e.id?`[${e.id}]`:""} ${o} ${d} ${c}  %câ–ˆâ–ˆ`,colorCss(t));let u=[];e.material&&u.push("ðŸŒˆ"),s.length&&u.push("â“•"),e.getMatrix&&!e.getMatrix().isIdentity()&&u.push("ðŸ”¢"),a&&u.push("ðŸŽ¨");const h=u.length?`{${u.join(" ")}}`:"";let p="",S=[];if(e.mesh3js?.layer?.layers?.length){for(let t of e.mesh3js?.layer?.layers)0!==t.drawableInterval.layerNum&&S.push(t.drawableGroup);p="layers"}else if(e?.mesh3js?.geometry){for(let t of e.mesh3js.geometry)for(let e of t.drawingGroups??[])S.push(e);p="geometry"}if(console.groupCollapsed(`ðŸ”Ž data ${S.length?`${S.length} DG from ${p}`:""} ${h} `),console.log("ðŸ“ node",e),e._pathes,_logGasMaterial(n,r,a,e.material),s.length&&console.log("filters",s),S.length){console.groupCollapsed(`ðŸ“š DSs ( ${S.length} )`);let e=Object.fromEntries(Object.entries(window.THREEDS.Core.GeomTypeEnum).map((e=>[e[1],e[0]]))),t=Object.fromEntries(Object.entries(window.THREEDS.Core.GASTypeEnum).map((e=>[e[1],e[0]])));for(let i=0;i<S.length;i++){const r=S[i];console.groupCollapsed(`ðŸ“™ ${i} GeomType ${e[r._geomType]} ${r._geomType} Dim ${t[r._dimension]} ${r._dimension}`),console.log(`âž¿ Primitives ${r?._primitives?.length} Nb vertices ${r?.geometry?.getVertexCount()||r?.geometry?.vertexCountGPU} Nb indexes ${r?.geometry?.vertexIndexArray?.length||r?.geometry?.indexCountGPU}`),_LogPrimitives(r?._primitives),console.groupEnd()}console.groupEnd()}console.groupEnd()}e.internalSceneGraph&&(i("ðŸ—º Internal SG"),_recLogNode(e.internalSceneGraph,t),console.groupEnd());for(const i of e.children??[])_recLogNode(i,t);let u=[];for(const t of e?._primitives??[])for(const e of t?.group._primitives)u.push(e);_LogPrimitives(u),console.groupEnd()}const dbgCsiSceneTools={ping(){},help:()=>{console.log("\n********************************\nUSAGE OF window._dbgCsiSceneTools\n\n\n\n* debugRepTree: dump in logs (with grouping) the rep tree\n            It's heavily inspired of native side DebugRepTree\n\nAfter debugRepTree, as it's logging, we cannot add interactions. So retrieve the node and use QOL API proposed here:\nTo get a node:\n*   in debugRepTree use right-click / \"store object as global variable\" to use it\n*   or use findNode()\n*   or use node.id\n\n\nWith that you can use the QOL api\n\nðŸŸ¨ = empty bag\nðŸ“¦ = bag with children\nðŸ§Š = mesh\n\nðŸŒˆ = Material\nâ“• = Filters\nðŸ”¢ = Matrix\nðŸ™ˆ = hidden\n\n\nTips:\n* if you replace in the code /*/ 3DSync_dbg_qol to /*/ 3DSync_dbg_qol\nnode.name will contains much more information to helps debugging\n********************************\n")},getProcessor:()=>ManagerList.GetProcessor(),debugRepTree:function(e=null,t=!1){var i,r,n;if(e)return console.group("Debug Rep Tree"),_recLogNode(this.findNode(e),t),void console.groupEnd();const a=ManagerList.GetModel(),o={};for(const[e,t]of a.getRoots())e.getViewType()===CSIVMClientTreeKey.ViewType.View3D&&((r=o[i=e.getSceneID()]??(o[i]={}))[n=e.getViewpointUID()]??(r[n]=[])).push([e,t]);for(let[e,i]of Object.entries(o)){console.group(`******* SceneID = ${e}`);for(const[r,n]of Object.entries(i)){let i=ManagerList.GetViewer(parseInt(e)).viewManager._viewpointMap.get(parseInt(r)),a=!!i&&i.isMain(),o=!!i&&i._2DMode,s=a?console.group:console.groupCollapsed;s(`##### Viewpoint ${r} ${a?"IsMain":""} ${o?"2D ðŸŸ¨":"3D ðŸ“¦"}`);for(const[e,i]of n)i&&(s=e.getView3DType()===CSIVMClientTreeKey.View3DType.View3D_Main?console.group:console.groupCollapsed,s(`----- 3DSyncTree ${CSIVMClientTreeKey.ViewType[e.getViewType()]} ${CSIVMClientTreeKey.View3DType[e.getView3DType()]}  ${e.getUUID()} | Viewpoint ${e.getViewpointUID()}`),_recLogNode(i.getAssociatedObject(2),t),console.groupEnd());console.groupEnd()}}},addToSelection:function(e){let t=this.findNode(e,!0);const i=window.WUX;i.Selection.HSOManager.add({pathElement:t[0]}),i.Selection.CSOManager.add({pathElement:t[0]})},getSelection:function(e=!1){let t=window.WUX.Selection.HSOManager.get().map((e=>e.pathElement));if(0!==t.length)return e?t[0].getLastElement(!0):t},getDelegate3D(e=0){let t=new CSIVMClientTreeKey("",CSIVMClientTreeKey.ViewType.View3D,CSIVMClientTreeKey.View3DType.View3D_Unknown,0,e);return ManagerList.GetNotifier(t)},getVMClientManager:e=>ManagerList.Find(e),getViewer(e=0){let t=ManagerList.GetViewer(e);return void 0===t&&(t=ManagerList.GetViewer(ManagerList.GetFirst().getSceneID())),t},getViewerFromNode(e){let t;return e&&(t=e._getViewer()),t||(t=this.getViewer()),t},findNode:function(e,t=!1){if(void 0===e)return this.getSelection(!0);const i=req("DS/Visualization/Node3D"),r=req("DS/Visualization/Mesh3D");let n=null;if((e instanceof i||e instanceof r)&&(n=e),null===n){const t=ManagerList.GetModel();for(const[i,r]of t.getRoots()){if(i.getViewType()!=CSIVMClientTreeKey.ViewType.View3D)continue;let t=t=>t.id===e&&(n=t,!0);if(r.getAssociatedObject(CSIVMClientTreeKey.ViewType.View3D).traverse(t),null!==n)break}}if(n&&t){return req("DS/Visualization/SceneGraphUtils").buildPathesLeadingToNode(n)}return n},reframeOn:function(e,t=5){let i;i=void 0===e?this.getSelection():this.findNode(e,!0);const r=i[0].getLastElement(!0);this.getViewerFromNode(r).viewpoints[0].reframeOn(t,i)},toggleNodeVisibility:function(e,t){const i=this.findNode(e);if(i){const e=null!==t?t:!i.visible;i.setVisibility(e),this.getViewerFromNode(i).render()}},dumpBoundingBox:function(e,t=1e4){const i=this.findNode(e);let r=i.getBoundingBox();console.log(r);const n=req("DS/Visualization/SceneGraphFactory").createCuboidNode({cornerPoint:r.min,firstAxis:new window.THREEDS.Core.Vector3(r.max.x-r.min.x,0,0),secondAxis:new window.THREEDS.Core.Vector3(0,r.max.y-r.min.y,0),thirdAxis:new window.THREEDS.Core.Vector3(0,0,r.max.z-r.min.z),fill:!1}),a=this.getViewerFromNode(i);return a.addNode(n),a.render(),new Promise((e=>{null!==t&&setTimeout((()=>{a.removeNode(n),a.render(),e(!0)}),t),e(!0)}))},saveReloadAsBinary:async function(e){this._sendFunctionCall("exportReloadAsBinary",e)},saveAsJson:async function(e){this._sendFunctionCall("exportSceneJson",e)},saveAsJsonStart:async function(e){this._sendFunctionCall("exportSceneJsonActivation",e,{onOff:!0})},saveAsJsonStop:async function(e){this._sendFunctionCall("exportSceneJsonActivation",e,{onOff:!1})},dumpViewModel:async function(e){return this._sendFunctionCall("dumpViewModel",e)},saveAsCgr:async function(e){return this._sendFunctionCall("exportSceneCgr",e)},saveAsCgrStart:async function(e){await this._sendFunctionCall("exportSceneCgrActivation",e,{onOff:!1})},saveAsCgrStop:async function(e){await this._sendFunctionCall("exportSceneCgrActivation",e,{onOff:!1})},testSelection:async function(e){void 0===e&&(e=this.getSelection());const t=(await this._sendFunctionCall("testSelection",e)).readObjectArray("outSelection","CSISelectionObject");let i=!1,r=0;for(r=0;r<e.length;r++){let n=t[r].getPathElement(),a=!0;n&&n.hash()===e[r].hash()||(console.error("not matching selection",n?n.hash():"",e[r].hash()),window.tmpPathIn=e[r],window.tmpPathOut=n,console.error("see window.tmpPathIn and window.tmpPathOut"),i=!1),a?console.log("compare OK",e[r]):(console.log("compare FAILED",e[r],n),i=!0)}for(;r<t.length;r++)console.error("got additional path",t[r].getPathElement()),i=!0;if(i)throw new Error("Returned selection did not match input")},addToHighlight:async function(e){const t=this.findNode(e),i=this.getViewerFromNode(t);i._dbgQuickHighlight(),i._dbgQuickHighlight(t),console.log(this.getSelection())},SGLifeTrackerStart:async function(){await this._sendFunctionCall("sgLifeTracker",null,{onOff:!0})},SGLifeTrackerStop:async function(){await this._sendFunctionCall("sgLifeTracker",null,{onOff:!1})},pause3DSync:async function(e){await this._sendFunctionCall("pause3DSync",null,{onOff:e})},_sendFunctionCall:async function(e,t,i){let r=[];void 0===i&&(i={});const n=t||this.getSelection(),a=new CSIParameters;a.writeString("operation",e);for(let[e,t]of Object.entries(i))a.writeBool(e,t);let o,s={name:"csiSceneServiceDebugToolsFunction",parameters:a},l=!1;const d=ManagerList.GetFirst();if(null==d){if(o=req("DS/WA2XCommunication/WA2XClient"),o&&void 0===ManagerList.GetFirst()){let e={},t=await new Promise(((t,i)=>{Object.assign(e,s,{version:1,onSuccess:t,onError:i}),o.getA2XClient().call(e)}));r.push(t)}}else{let e=d.getModel().getTreeKeysFromViewType(CSIVMClientTreeKey.ViewType.View3D)[0];if(n){let t=n.map((t=>{let i=new CSIVMClientSelectionObject({treeKey:e.getUUID()});return i.fromPathElement(t),i}));a.writeObjectArray("selection","CSISelectionObject",t)}try{let e=await d._sendFunctionCall({name:"csiSceneServiceDebugToolsFunction",parameters:a});r.push(e)}catch(e){console.error(e)}}0===r.length&&(console.error("no command sent",t,i),l=!0);for(let e of r)if(console.log("Server call finished: ",e.readString("commandMessage")),!e.readBool("commandHasSucceeded"))throw console.error("args",t,i),new Error("Failed command");if(l)throw new Error("Send command failed.");return 1===r.length?r[0]:r},openProfilerPanel:function(params){let snippet="req(['DS/VisualizationA2XWebToolkit/VisuProfilerWebPanel'], function (VisuProfilerWebPanel) {\n        var immersiveFrame = document.getElementsByClassName('wux-windows-immersive-frame')[0].dsModel;\n        var options = { immersiveFrame: immersiveFrame }\n        new VisuProfilerWebPanel(options);\n        }); ";eval(snippet)},startProfiler:async function(e=!1){e&&(VisuProfiler._mode=0),await new Promise((e=>VisuProfiler.enable(e))),console.log("Start profiler done")},stopProfiler:async function(){const e=new Promise((e=>VisuProfiler.subscribeToPostProcessing(e))),t=new Promise((e=>VisuProfiler.disable(e)));await Promise.all([e,t]),console.log("Stop profiler done")},stopProfilerAndDownloadAll:async function(){await this.stopProfiler()},stopProfilerAndDownloadNative:async function(){await this.stopProfiler(),VisuProfiler.downloadNativeTraces()},stopProfilerAndDownloadWeb:async function(){await this.stopProfiler(),VisuProfiler.downloadWebTraces()},stopProfilerAndDownloadCombined:async function(){await this.stopProfiler(),VisuProfiler.downloadA2XTraces()},getAllObjects(e=2){const t=ManagerList.GetModel();let i=new Map;for(const r of t.getNameSpaceIterator())for(const[t,n]of r._objects._data){const r=n[0].getAssociatedObject(e??2);r&&i.set(t,[n[0],r])}return i}};return eval("window._dbgCsiSceneTools = dbgCsiSceneTools"),eval("if (window.top && window.top.dsA2X) window.top.dsA2X._dbgCsiSceneTools = dbgCsiSceneTools"),dbgCsiSceneTools})),define("DS/CSIViewModelWebInterfaces/CSIVMCrossViewRequest",["require","exports","DS/CSIViewModelWebInterfaces/CSIViewModelWebEnv","DS/CSIViewModelWebInterfaces/CSIVMClientTreeKey","DS/CSIViewModelWebInterfaces/CSIVMClientStateMode","DS/CSIViewModelWebInterfaces/CSIVMClientSelectionObject","DS/CSIViewModelWebInterfaces/CSIVMClientManagerList"],(function(e,t,i,r,n,a,o){"use strict";var s;!function(e){e[e.succeeded=1]="succeeded",e[e.failed=2]="failed",e[e.noRepresentationInView=3]="noRepresentationInView"}(s||(s={}));function l(e){const t=e?.getIdentificationObject?.call(e);if(0!==t){if(!t?.isEmpty())return t||void 0}else console.warn("[CSIVMCrossViewRequest] You provided a dead object in Cross View request!")}function d(e){let t=[];if(e){let i=e.getNameSpace();i&&(t=i.getAllTreeKeys());let r=e.getDualObject();void 0!==r&&(i=r.getNameSpace(),i&&(t=t.concat(i.getAllTreeKeys())))}return t}function c(e,t,i,r){let a={belongs:!1,index:t.indexOf(e)};if(-1!==a.index)a.belongs=!0;else{let o=e.getParents(i,r?n.TempoOrPermanent:n.Permanent);Array.isArray(o)?o.forEach((function(e){let n=c(e,t,i,r);n.belongs&&(a.belongs=!0,(-1===a.index||n.index<a.index)&&(a.index=n.index))})):a.belongs=e.isRoot()}return a}function u(e,t,r,s,l,d,h){if(!e)return;let p=d;r.push(e);let S,C=[e],f=C.length,I=0,g=0;for(I=0;I<f;I++)if(S=C[I],S.getViewData(l)){let e=S.getParents(l,h?n.TempoOrPermanent:n.Permanent);if(e&&e.length){let i=[];if(e.length>1&&p){let r=-1;e.forEach((function(e){let n=c(e,t,l,h);n.belongs&&(-1===r||n.index<=r)&&(n.index<r?i=[e]:i.push(e),r=n.index)}))}else i=e;for(g=0;g<i.length;g++)u(i[g],t,r,s,l,p,h)}else{if(!S.isRoot())throw i.debugLogCrossView&&console.log("FAILED CV",a.dbgPathToStr(s[0])),new Error("error : ident object with no parent but not root");let e=[];for(g=r.length-1;g>=0;g--){let t=r[g].getAssociatedViewElt(l);if(!t)throw new Error("error : no view object associated with ident object");e.push(t)}if(!e.length)throw new Error("error : path vide");const t=o.GetNotifier(l);if(!t)throw new Error("error : no notifier found");let n=t.createPathElement(e);if(!n)throw new Error("error : no pathElement returned by the notifier");s.push(n)}}r.pop()}return class{constructor(e){this._pathElt=e}getAvailableTreeKeys(){let e=this._pathElt.getLength(),t=new Set,i=[];for(let r=0;r<e&&t.size<2;r++){const e=l(this._pathElt.getElement(r));e&&(i=d(e),i.forEach((function(e){t.add(e)})))}return Array.from(t)}getPathElementsInView(e){let t,n,d,c=[],h=[],p=[],S=s.failed,C=e.treeKey.getViewType(),f=o.GetModel().getInWork();if(f){let M="[UNSAFE API USAGE] Do not call CSIVMCrossViewRequest in the middle of a transaction! This warning will be changed to throw soon.";if(!i.allowAccessTemporaryDuringTransaction)throw new Error(M);2!=i.allowAccessTemporaryDuringTransaction&&(f=!1),console.warn(M)}let I=this._pathElt.getLength(),g=I-1,V=this._pathElt.getElement(g--),m=l(V);if(!m&&void 0!==this._pathElt.findAssociatedSGNode){let y=!1;for(let _=0;_<I&&d;_++)t=this._pathElt.getElement(_),d=l(t);if(d){let b=d.getKey(t);y=void 0!==b&&b.getViewType()===r.ViewType.View3D}y&&(n=this._pathElt.findAssociatedSGNode(V,V.persistentId),m=l(n))}if(m){function D(e){let t=e;if(e){let i=e.getDualObject(C);i&&(t=i)}return t}if(m=D(m),p.push(m),n){let v;for(;void 0!==(n=n.parent)&&void 0!==(v=l(n));)v=D(v),p.push(v)}for(;g>=0&&(t=this._pathElt.getElement(g--));)d=l(t),d&&(d=D(d),p.push(d))}p.length&&(u(p.shift(),p,h,c,e.treeKey,!0,f),S=c.length?s.succeeded:s.noRepresentationInView),i.debugLogCrossView&&console.log("CV",s[S],a.dbgPathToStr(this._pathElt)," -> ",a.dbgPathToStr(c[0]));const w={diagnosisValues:S,pathElements:c};return e?.onAnswer({diagnosisValues:S,pathElements:c}),w}get diagnosisValues(){return s}}})),define("DS/CSIViewModelWebInterfaces/CSISelectionObjectCustom",["DS/CSIViewModelWebInterfaces/CSIVMClientSelectionObject"],(function(e){return class extends e{constructor(e){super({idPath:e}),this.treeKey=void 0}getCustomString(){return this.idPath}setCustomString(e){this.idPath=e}isACustomCSISelectionObject(){return!0}fromPathElement(e){throw new Error("Forbidden in CSISelectionObjectCustom")}getModelAccessData(){throw new Error("Forbidden in CSISelectionObjectCustom")}getPathElement(){throw new Error("Forbidden in CSISelectionObjectCustom")}}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientNamedBinaryBuffer",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";function i(e){this._data=e.data||null,this._name=e.name||""}i.prototype.getData=function(){return this._data},i.prototype.getName=function(){return this._name};let r=function(){return!1},n=function(e){return new i({data:e.readBuffer(t.valueBufData),name:e.readString(t.valueBufName)})};return i.prototype.declareType=function(){e.declareType({type:"CSIViewModelNamedBinaryBuffer",serialize:r,unserialize:n})},i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientAmbiance",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientNamedBinaryBuffer","DS/CSIViewModelWebInterfaces/CSIVMClientJSON"],(function(e,t,i,r){"use strict";class n{constructor(e){this._ambianceJSON=e.ambianceJSON,this._ambianceBuffers=e.ambianceBuffers,this._groundGridActivation=e.groundGridActivation}getAmbianceJSON(){return this._ambianceJSON}getAmbianceBuffers(){return this._ambianceBuffers}getGroundGridActivation(){return this._groundGridActivation}serialize(e,i){e.writeObject(t.AmbianceJSON,"CSIViewModelJSON",i._ambianceJSON),e.writeObjectArray(t.AmbianceBuffers,"CSIViewModelNamedBinaryBuffer",i._ambianceBuffers),e.writeBool(t.GroundGridActivation,i._groundGridActivation)}unserialize(e){const i={ambianceJSON:e.readObject(t.AmbianceJSON,"CSIViewModelJSON"),ambianceBuffers:e.readObjectArray(t.AmbianceBuffers,"CSIViewModelNamedBinaryBuffer"),groundGridActivation:e.readBool(t.GroundGridActivation)};return new n(i)}declareType(){e.declareType({type:"CSIAmbiance",serialize:this.serialize,unserialize:this.unserialize}),r.prototype.declareType(),i.prototype.declareType()}}return n})),define("DS/CSIViewModelWebInterfaces/CSIVMClientMaterialMessageParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientJSON","DS/CSIViewModelWebInterfaces/CSIVMClientNamedBinaryBuffer"],(function(e,t,i,r){"use strict";function n(e){this._MaterialMessage=e||void 0}n.prototype.getMaterialJSON=function(){return this._MaterialMessage.matJSON},n.prototype.getMaterialBuffers=function(){return this._MaterialMessage.matBuffers};let a=function(){return!1},o=function(e){return new n({matJSON:e.readObject(t.MaterialJSON,"CSIViewModelJSON"),matBuffers:e.readObjectArray(t.MaterialBuffers,"CSIViewModelNamedBinaryBuffer")||[]})};return n.prototype.declareType=function(){e.declareType({type:"CSIViewModelMaterialMessage",serialize:a,unserialize:o}),i.prototype.declareType(),r.prototype.declareType()},n})),define("DS/CSIViewModelWebInterfaces/CSIVMClientBinaryRangeParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";function i(e){this._offset=e.offset||0,this._byteLength=e.byteLength||0,this._bpe=e.bpe||0}i.prototype.getOffset=function(){return this._offset},i.prototype.getByteLength=function(){return this._byteLength},i.prototype.getBytePerElement=function(){return this._bpe};let r=function(){return!1},n=function(e){return new i({offset:e.readUint32(t.valueOffset),byteLength:e.readUint32(t.valueByteLength),bpe:e.readUint32(t.valueBytePerElement)})};return i.prototype.declareType=function(){e.declareType({type:"CSIBinaryRangeParam",serialize:r,unserialize:n})},i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientFixedSizeDataParameter",["require","exports","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e,t,i,r){this._minSize=e||0,this._maxSize=t||0,this._invariantPoint=i||void 0,this.mutablePositionMatrix=r}getMinSize(){return this._minSize}getMaxSize(){return this._maxSize}getInvariantPoint(){return this._invariantPoint}getMutablePositionMatrix(){return this.mutablePositionMatrix}static _deserialize(e,t){if(!e)return;let n=e.readFloat(i.valueFixedSize_MinSize);if(void 0===n)return;let a=e.readFloat(i.valueFixedSize_MaxSize),o=e.readObject(i.valueFixedSize_InvariantPoint,"CATMathPointf");return new r(n,a,o,t)}static deserialize(e){return r._deserialize(e,!1)}static deserializeMutable(e){return r._deserialize(e,!0)}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisClippingPlane",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";class i{constructor(e){this._nbPlanes=e.nbPlanes||0,this._point=e.point||[],this._normal=e.normal||[],this._flags=e.flags||[],this._sectionning=e.sectionning||[]}getNbPlanes(){return this._nbPlanes}getPoint(){return this._point}getNormal(){return this._normal}getFlags(){return this._flags}getSectionning(){return this._sectionning}serialize(e,i){e.writeUint32(t.valueVisFilter_CNbPlanes,i._nbPlanes),e.writeFloatArray(t.valueVisFilter_CPoint,i._point),e.writeFloatArray(t.valueVisFilter_CNormal,i._normal),e.writeInt32Array(t.valueVisFilter_CFlags,i._flags),e.writeInt32Array(t.valueVisFilter_CSectionning,i._sectionning)}unserialize(e){let r={nbPlanes:e.readUint32(t.valueVisFilter_CNbPlanes),point:e.readFloatArray(t.valueVisFilter_CPoint),normal:e.readFloatArray(t.valueVisFilter_CNormal),flags:e.readInt32Array(t.valueVisFilter_CFlags),sectionning:e.readInt32Array(t.valueVisFilter_CSectionning)};return new i(r)}declareType(){e.declareType({type:"CSIViewModelVisClippingPlane",serialize:this.serialize,unserialize:this.unserialize})}}return i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientCATRepPathHelper",["require","exports","DS/CSIViewModelWebInterfaces/CSIVMClientSelectionObject","DS/CSIViewModelWebInterfaces/CSIVMClientManagerList","DS/CSIViewModelWebInterfaces/CSIVMClientTreeKey","DS/CSIViewModelWebInterfaces/CSIVMClientStateMode"],(function(e,t,i,r,n,a){"use strict";return class{static*createIteratorOverPathElements(e){for(const t of e){const e=new i(t).getPathElement(!1);e?yield e:console.error("Something wrong: pathElement is empty. Do not crash in order to avoid full crash of the 3DSync message.")}}static*createIterator(e,t,i,o,s=void 0){if(!e||!e.length)return;const l=r.GetModel(),d=l.getTreeKey(s)??l.getTreeKeysFromViewType(n.ViewType.View3D)[0],c=r.GetNotifier(d),u=l.decodeGlobalIdToViewObjects(null,d,e,a.TempoOrPermanent,!1);if(!u)return void console.warn("Incorrect path detected: "+e);let h=u[u.length-1].getIdentificationObject();for(let e=0;t&&e<t.length;e++){let i=h.getChildren(d,a.TempoOrPermanent);h=i[t[e]],u.push(h.getAssociatedObject(d.getViewType()))}if(i&&i.length)for(const e of i){let t=h.getChildren(d,a.TempoOrPermanent)[e].getAssociatedObject(d.getViewType()),i=u.concat(t);yield c.createPathElement(i,!0)}else if(o&&o.length)for(const e of o){let t=l.decodeGlobalId({Id:e,noPath:!0,treeKey:d}).map((e=>e.getAssociatedObject(d.getViewType())));yield c.createPathElement(u.concat(Array.from(t)),!0)}else yield c.createPathElement(u,!0)}}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientCATVizBasePathElementRep",["require","exports","DS/CSIViewModelWebInterfaces/CSIVMClientCATRepPathHelper"],(function(e,t,i){"use strict";var r;!function(e){e[e.NoTransient=0]="NoTransient",e[e.OnlyTransient=1]="OnlyTransient",e[e.MixedTransient=2]="MixedTransient"}(r||(r={}));return class{constructor(e){this._json={};try{this._json=JSON.parse(new TextDecoder("utf-8").decode(e))}catch(e){console.error("TODO YWG6, safety guard for now...."),console.error(e)}}isValid(){return Object.keys(this._json).length>0}createIteratorOverPathElements(){return i.createIterator(this._json.ids,this._json.indexes,this._json.indexes,this._json.subids,this._json.treekey)}createIteratorOverPathElementsTransient(){return i.createIterator(this._json.transient,void 0,void 0,this._json.subids,this._json.treekey)}get isForMultiColorHighlight(){return this._json.isForMultiColorHighlight}get multiColorHighlightSlot(){return this._json.multiColorHighlightSlot}get furtive(){return this._json.furtive}get haveTransient(){return this._json.transient?0==this._json.ids.length?r.OnlyTransient:r.MixedTransient:r.NoTransient}static get TransientMode(){return r}}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientObjectOld",["UWA/Core","DS/CSIViewModelWebInterfaces/CSIVMClientStateMode","DS/CSIViewModelWebInterfaces/CSIViewModelWebEnv"],(function(e,t,i){"use strict";class r{constructor(){this._childrenMapping=void 0,this._children=void 0,this._parents=void 0,this._obj=void 0,this._withTempoState=void 0,this._childrenTempo=void 0,this._parentsTempo=void 0,this._objTempo=void 0}get _associatedObject(){return i.throwFun("_associatedObject, use getAssociatedObject"),this._obj}initTempoChildren(){e.is(this._childrenTempo)||(!0===this._childrenMapping?this._childrenTempo=new Map(this._children):this._childrenTempo=void 0!==this._children?this._children.slice():[],this._withTempoState=!0)}initTempoParents(){void 0===this._parentsTempo&&(this._parentsTempo=void 0!==this._parents?this._parents.slice():[],this._withTempoState=!0)}abort(){this._childrenTempo=void 0,this._parentsTempo=void 0,this._objTempo=void 0,this._withTempoState=!1}commit(){this._withTempoState&&(void 0!==this._childrenTempo&&(this._children=this._childrenTempo),void 0!==this._parentsTempo&&(this._parents=this._parentsTempo),void 0!==this._objTempo&&(this._obj=this._objTempo),this.abort())}getProperty(e,i){let r;switch(i){case t.Tempo:case t.TempoOrPermanent:r=this[e+"Tempo"],void 0===r&&(r=this[e]);break;case t.Permanent:r=this[e]}return r}setAssociatedObject(e){this._withTempoState=!0,this._objTempo=e}getAssociatedObject(e){return this.getProperty("_obj",e)}addChild(e){this.initTempoChildren(),!0===this._childrenMapping?this._childrenTempo.set(e.getLocalId(),e):this._childrenTempo.push(e)}addChildren(e){if(this.initTempoChildren(),!0===this._childrenMapping){let t,i=e.length;for(let r=0;r<i;++r)t=e[r],this._childrenTempo.set(t.getLocalId(),t)}else{let t=e.length,i=this._childrenTempo.length;t+=i,this._childrenTempo.length=t;for(let r=i;r<t;++r)this._childrenTempo[r]=e[r-i]}}removeChild(e){if(this.initTempoChildren(),!0===this._childrenMapping)this._childrenTempo.delete(e.getLocalId());else{let t=this._childrenTempo.indexOf(e);t>-1&&this._childrenTempo.splice(t,1)}}removeChildren(e){this.initTempoChildren();let t,i,r=e.length;if(!0===this._childrenMapping)for(t=0;t<r;++t)i=e[t],this._childrenTempo.delete(i.getLocalId());else{let n=-1;for(t=0;t<r;++t)i=e[t],n=this._childrenTempo.indexOf(i),n>-1&&this._childrenTempo.splice(n,1)}}getChildren(e){let t,i=this.getProperty("_children",e);return void 0!==i&&(t=!0===this._childrenMapping?Array.from(i.values()):i),t}getMappedChildren(e){return!0===this._childrenMapping?this.getProperty("_children",e):void 0}addParent(e){this.initTempoParents(),this._parentsTempo.push(e)}removeParent(e){this.initTempoParents();let t=this._parentsTempo.indexOf(e);t>-1&&this._parentsTempo.splice(t,1)}getParents(e){return this.getProperty("_parents",e)}}class n{constructor(e,t,i){this._localId=t,this._idPattern=i,this._nameSpace=e,this._additionalObjects=void 0,this._dualViewType=void 0,this._mainObj=void 0,this._childrenMapping=void 0,this._ViewDatasToBeRm=void 0,this._dualObjToBeRm=void 0}clear(){let e=this.getDualObject();if(void 0!==e){e.getDualObject()===this&&e.setDualObject()}void 0!==this._ViewDatasToBeRm&&delete this._ViewDatasToBeRm}getLocalId(){return this._localId}getIdPattern(){return this._idPattern}getNameSpace(){return this._nameSpace}getMainObject(){return this._mainObj}addObject(){throw new Error}getAdditionalObjects(){return this._additionalObjects}get _dualObj(){return i.throwFun("_dualObjToBeRm : use getDualObject(type : CSIVMClientTreeKey.ViewType) :  CSIVMClientObject"),this._dualObjToBeRm}get _ViewDatas(){return i.throwFun("_ViewDatas : use getAssociatedObject directly I want to remove ViewData object to make view model smaller"),this._ViewDatasToBeRm}getViewData(e){let t;return void 0!==this._ViewDatasToBeRm&&(t=this._ViewDatasToBeRm[e.getViewType()]),t}getOrCreateViewData(e){let t,i=e.getViewType();return void 0!==this._ViewDatasToBeRm&&(t=this._ViewDatasToBeRm[i]),void 0===t&&(void 0===this._ViewDatasToBeRm&&(this._ViewDatasToBeRm={}),t=new r,!0===this._childrenMapping&&(t._childrenMapping=!0),this._ViewDatasToBeRm[i]=t),t}deleteViewData(e){if(void 0!==this._ViewDatasToBeRm&&void 0!==e){const t=e.getViewType();if(!i.byPassNoCleanIdent){let e=this._ViewDatasToBeRm[t]._obj;e?.getIdentificationObject()===this&&e.setIdentificationObject(0),e=this._ViewDatasToBeRm[t]._objTempo,e?.getIdentificationObject()===this&&e.setIdentificationObject(0)}if(delete this._ViewDatasToBeRm[e.getViewType()],0===Object.keys(this._ViewDatasToBeRm).length&&delete this._ViewDatasToBeRm,void 0!==this._dualObjToBeRm){this._dualObjToBeRm.getDualObject(e.getViewType())===this&&this._dualObjToBeRm.setDualObject(),this.setDualObject()}}}isEmpty(){if(void 0!==this._additionalObjects){let e=0,t=this._additionalObjects.length;for(e=0;e<t;e++)if(!this._additionalObjects[e].isEmpty())return!1}return void 0===this._ViewDatasToBeRm&&!this.isRoot()}isTemporary(){let e,i;if(void 0!==this._ViewDatasToBeRm)for(e of Object.values(this._ViewDatasToBeRm))if(i=this.isRoot()?e.getChildren(t.Permanent):e.getParents(t.Permanent),void 0!==i)return!1;return!0}associateViewElt(e,t){let i=this.getOrCreateViewData(e);void 0!==i&&i.setAssociatedObject(t)}getAssociatedObject(e,i=!0){let r=this._ViewDatasToBeRm[e]?.getAssociatedObject(t.TempoOrPermanent);return void 0===r&&this._dualObjToBeRm&&i&&(r=this.getDualObject(e)?.getAssociatedObject(e,!1)),r}getAssociatedViewElt(e){let i,r=this.getViewData(e);return void 0!==r&&(i=r.getAssociatedObject(t.TempoOrPermanent)),i}getKey(e){let i,r;if(void 0!==this._ViewDatasToBeRm)for(let n of Object.keys(this._ViewDatasToBeRm)){if(r=this._ViewDatasToBeRm[n].getAssociatedObject(t.Tempo),r===e){i=this.getNameSpace().getTreeKeyFromViewType(n);break}if(r=this._ViewDatasToBeRm[n].getAssociatedObject(t.Permanent),r===e){i=this.getNameSpace().getTreeKeyFromViewType(n);break}}return i}setRoot(){this._isRoot=!0,this._nameSpace.setRootObject(this)}isRoot(){return!0===this._isRoot}isLeaf(e){let i=!0,r=this.getChildren(e,t.TempoOrPermanent);return void 0!==r&&r.length>0&&(i=!1),i}activateChildrenMapping(){this._childrenMapping=!0}addChild(e,t){let i=this.getOrCreateViewData(e);void 0!==i&&(i.addChild(t),t.addParent(e,this))}addChildren(e,t){let i=this.getOrCreateViewData(e);if(void 0!==i){i.addChildren(t);let r=t.length;for(let i=0;i<r;i++)t[i].addParent(e,this)}}addParent(e,t){let i=this.getOrCreateViewData(e);void 0!==i&&i.addParent(t)}removeChild(e,t){let i=this.getOrCreateViewData(e);void 0!==i&&(i.removeChild(t),t.removeParent(e,this))}removeChildren(e,t){let i=this.getOrCreateViewData(e);if(void 0!==i){i.removeChildren(t);let r=t.length;for(let i=0;i<r;i++)t[i].removeParent(e,this)}}removeParent(e,t){let i=this.getOrCreateViewData(e);void 0!==i&&i.removeParent(t)}getChildren(e,t){let i,r=this.getViewData(e);return void 0!==r&&(i=r.getChildren(t)),i}getMappedChildren(e,t){let i,r=this.getViewData(e);return void 0!==r&&(i=r.getMappedChildren(t)),i}getAllChildren(e){let t,i,r,n,a,o,s=[];if(void 0!==this._ViewDatasToBeRm)for(t of Object.keys(this._ViewDatasToBeRm))if(i=this._ViewDatasToBeRm[t],r=i.getChildren(e),void 0!==r)for(n=r.length,a=0;a<n;a++)o=r[a],s.indexOf(o)<0&&s.push(o);return s}getAllParents(e){let t,i,r,n,a,o,s=[];if(void 0!==this._ViewDatasToBeRm)for(t of Object.keys(this._ViewDatasToBeRm))if(i=this._ViewDatasToBeRm[t],r=i.getParents(e),void 0!==r)for(n=r.length,a=0;a<n;a++)o=r[a],s.indexOf(o)<0&&s.push(o);return s}getFirstParentsDefiningNameSpaceOfThis(e){let i,r=[];if(void 0===e){if(i=this.getIdPattern()._idSpace,i===this.getIdPattern()._idContext)return r}else i=e;let n=this.getAllParents(t.Tempo),a=n.length;if(a)if(n[0].getIdPattern()._idContext===i)for(let e=0;e<a;e++){if(n[e].getIdPattern()._idContext!==i)return;r.push(n[e])}else{let e=0;for(;!r.length&&e<a;)r=n[e].getFirstParentsDefiningNameSpaceOfThis(i),e++}return r}getParents(e,t){let i,r=this.getViewData(e);return void 0!==r&&(i=r.getParents(t)),i}getChildrenWithId(e,t,i){let r=[];if(void 0===i)return r;if(!0===this._childrenMapping){let n=this.getMappedChildren(e,t);if(void 0!==n){let e=i.length;if(n.size===e)r=Array.from(n.values());else{let t,a,o;for(t=0;t<e;++t)o=i[t],"string"==typeof o&&(o=parseInt(o)),a=n.get(o),void 0!==a&&r.push(a)}}}else{let n=this.getChildren(e,t);if(void 0!==n){let e=n.length,t=i.length;if(e===t)r=n;else{let a,o,s=new Map;for(a=0;a<e;++a)o=n[a],void 0!==o&&s.set(o.getLocalId().toString(),o);for(a=0;a<t;++a)o=s.get(i[a]),void 0!==o&&r.push(o)}}}return r}preCommit(i){if(void 0!==this._additionalObjects){let e,t=0,r=this._additionalObjects.length;for(t=0;t<r;t++)e=this._additionalObjects[t],e.preCommit(i)}let r=this.getViewData(i);if(void 0!==r){let n=r.getParents(t.Tempo);if(!(this.isRoot()||e.is(n)&&0!==n.length)){let e=0,n=r.getChildren(t.Tempo);if(void 0!==n){let t,r=n.length;for(e=0;e<r;e++)t=n[e],t.removeParent(i,this),t.preCommit(i)}this.deleteViewData(i)}}}commit(e){if(void 0!==this._additionalObjects){let t,i=0,r=this._additionalObjects.length;for(i=0;i<r;i++)t=this._additionalObjects[i],t.commit(e)}let t=this.getViewData(e);void 0!==t&&t.commit()}abort(e){if(void 0!==this._additionalObjects){let t=0;for(t=this._additionalObjects.length-1;t>=0;t--)this._additionalObjects[t].isTemporary()?this._additionalObjects.splice(t,1):this._additionalObjects[t].abort(e)}let t=this.getViewData(e);void 0!==t&&t.abort(),void 0!==this._dualObjToBeRm&&this._dualObjToBeRm.setDualObject(e.getViewType(),this)}setDualObject(e,t){this._dualObjToBeRm=t||void 0,this._dualViewType=e}getDualObject(e){let t;return e!==this._dualViewType&&void 0!==e||(t=this._dualObjToBeRm),t}getGlobalId(){return this._idPattern&&this._localId?`${this._idPattern._idContext}#${this._localId}`:null}}return n})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisAnnotationValue",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i,r){"use strict";function n(e,t){return e.writeUint32(r.valueVisFilter_OverloadedProperties,t._overloadedProperties),e.writeUint32(r.valueVisFilter_OverloadedRGBA,t._overloadedRGBA),e.writeUint32(r.valueVisFilter_InheritProps,t._inheritProps),e.writeUint32(r.valueVisFilter_ForceInheritProps,t._forceInheritProps),void 0===t._material||(e.writeObject(r.valueVisFilter_Material,"CSIViewModelMaterialMessage",t._material),!1)}function a(e){const t={overloadedProperties:e.readUint32(r.valueVisFilter_OverloadedProperties),overloadedRGBA:e.readUint32(r.valueVisFilter_OverloadedRGBA),inheritProps:e.readUint32(r.valueVisFilter_InheritProps),forceInheritProps:e.readUint32(r.valueVisFilter_ForceInheritProps),material:e.readObject(r.valueVisFilter_Material,"CSIViewModelMaterialMessage"),matrix:e.readDoubleArray(r.valueVisFilter_Matrix)};return new o(t)}class o{constructor(e){this._overloadedProperties=e.overloadedProperties,this._overloadedRGBA=e.overloadedRGBA,this._inheritProps=e.inheritProps,this._forceInheritProps=e.forceInheritProps,this._material=e.material,this._matrix=e.matrix}isPropertyOverloaded(e){return Boolean(this._overloadedProperties&e)}isValueOverloaded(e){return Boolean(this._overloadedProperties&e)}GetInheritance(e){return this._forceInheritProps&e?o.AnnotationInheritanceMode.ModeForceInherit:this._inheritProps&e?o.AnnotationInheritanceMode.ModeInherit:o.AnnotationInheritanceMode.ModeGraphScene}isRGBOverloaded(){return this.isPropertyOverloaded(o.AnnotationProp.fPropRGB)}isAlphaOverloaded(){return this.isPropertyOverloaded(o.AnnotationProp.fPropAlpha)}isViewModeOverloaded(){if(this.isPropertyOverloaded(o.AnnotationProp.fPropViewMode))return!0;for(let e=15;e<=21;e++)if(this.isPropertyOverloaded(1<<e))return!0;return!1}isInvisibilityOverloaded(){return this.isPropertyOverloaded(o.AnnotationProp.fPropInvisibility)}isNoPickOverloaded(){return this.isPropertyOverloaded(o.AnnotationProp.fPropNoPick)}isUncutOverloaded(){return this.isPropertyOverloaded(o.AnnotationProp.fPropUnCut)}isMaterialOverloaded(){return this.isPropertyOverloaded(o.AnnotationProp.fPropMaterial)}isMatrixOverloaded(){return this.isPropertyOverloaded(o.AnnotationProp.fPropMatrix)}getRGBInheritance(){return this.GetInheritance(o.AnnotationInheritanceProp.fInhRGB)}getAlphaInheritance(){return this.GetInheritance(o.AnnotationInheritanceProp.fInhAlpha)}getViewModeInheritance(){return this.GetInheritance(o.AnnotationInheritanceProp.fInhViewMode)}getUncutInheritance(){return this.GetInheritance(o.AnnotationInheritanceProp.fInhUncut)}getMaterialInheritance(){return this.GetInheritance(o.AnnotationInheritanceProp.fInhMaterial)}isInvisible(){return this.isInvisibilityOverloaded()}isNotPickable(){return this.isNoPickOverloaded()}isUncutEnabled(){return this.isUncutOverloaded()}GetRGBA(){return{R:this._overloadedRGBA>>24&255,G:this._overloadedRGBA>>16&255,B:this._overloadedRGBA>>8&255,A:this._overloadedRGBA>>0&255}}isViewMeshEnabled(){return this.isValueOverloaded(o.AnnotationValue.fValueViewMesh)}isViewEdgeEnabled(){return this.isValueOverloaded(o.AnnotationValue.fValueViewEdge)}isViewWithoutWiresEnabled(){return this.isValueOverloaded(o.AnnotationValue.fValueViewWithoutWires)}isViewWithoutAxisEnabled(){return this.isValueOverloaded(o.AnnotationValue.fValueViewWithoutAxis)}isViewWithoutPointsEnabled(){return this.isValueOverloaded(o.AnnotationValue.fValueViewWithoutPoints)}isViewWithoutOutlineEnabled(){return this.isValueOverloaded(o.AnnotationValue.fValueViewWithoutOutline)}getMaterial(){return this._material}getMatrix(){return this._matrix}static declareType(){i.declareType({type:"CSIViewModelVisAnnotationValue",serialize:n,unserialize:a})}}return function(e){let t,i,r,n;!function(e){e[e.fPropInvisibility=1]="fPropInvisibility",e[e.fPropNoPick=2]="fPropNoPick",e[e.fPropRGB=4]="fPropRGB",e[e.fPropAlpha=8]="fPropAlpha",e[e.fPropViewMode=16]="fPropViewMode",e[e.fPropMaterial=32]="fPropMaterial",e[e.fPropUnCut=8192]="fPropUnCut",e[e.fPropViewMesh=32768]="fPropViewMesh",e[e.fPropViewEdge=65536]="fPropViewEdge",e[e.fPropViewWithoutWires=131072]="fPropViewWithoutWires",e[e.fPropViewWithoutAxis=262144]="fPropViewWithoutAxis",e[e.fPropViewWithoutPoints=524288]="fPropViewWithoutPoints",e[e.fPropViewWithoutOutline=1048576]="fPropViewWithoutOutline",e[e.fPropViewMaterial=2097152]="fPropViewMaterial",e[e.fPropLowIntensity=4194304]="fPropLowIntensity",e[e.fPropMatrix=33554432]="fPropMatrix",e[e.fPropNoHighlight=67108864]="fPropNoHighlight",e[e.fPropNoPreHighlight=134217728]="fPropNoPreHighlight",e[e.fPropNoAlphaOnEdgesLineics=268435456]="fPropNoAlphaOnEdgesLineics"}(t=e.AnnotationProp||(e.AnnotationProp={})),function(e){e[e.fValueViewMesh=64]="fValueViewMesh",e[e.fValueViewEdge=128]="fValueViewEdge",e[e.fValueViewWithoutWires=256]="fValueViewWithoutWires",e[e.fValueViewWithoutAxis=512]="fValueViewWithoutAxis",e[e.fValueViewWithoutPoints=1024]="fValueViewWithoutPoints",e[e.fValueViewWithoutOutline=2048]="fValueViewWithoutOutline",e[e.fValueViewMaterial=4096]="fValueViewMaterial"}(i=e.AnnotationValue||(e.AnnotationValue={})),function(e){e[e.fInhRGB=4]="fInhRGB",e[e.fInhAlpha=8]="fInhAlpha",e[e.fInhViewMode=16]="fInhViewMode",e[e.fInhMaterial=32]="fInhMaterial",e[e.fInhUncut=8192]="fInhUncut"}(r=e.AnnotationInheritanceProp||(e.AnnotationInheritanceProp={})),function(e){e[e.ModeInherit=0]="ModeInherit",e[e.ModeForceInherit=1]="ModeForceInherit",e[e.ModeGraphScene=2]="ModeGraphScene"}(n=e.AnnotationInheritanceMode||(e.AnnotationInheritanceMode={}))}(o||(o={})),o})),define("DS/CSIViewModelWebInterfaces/CSIVMClientCustomPropertyParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i,r){"use strict";var n;!function(e){e[e.Unknown=0]="Unknown",e[e.StaticPickWithChildrenAsAWhole=1]="StaticPickWithChildrenAsAWhole",e[e.StaticPickPriority=2]="StaticPickPriority",e[e.ExcludeFromBounding=3]="ExcludeFromBounding",e[e.StaticMaterial=4]="StaticMaterial",e[e.StaticLook=5]="StaticLook",e[e.StaticGeomType=6]="StaticGeomType",e[e.WorldScalable=7]="WorldScalable",e[e.Filtered=8]="Filtered",e[e.ViewModeSensitivity=9]="ViewModeSensitivity",e[e.LayerNumber=10]="LayerNumber",e[e.ViewMode=11]="ViewMode",e[e.PickMode=12]="PickMode",e[e.InheritanceMode=13]="InheritanceMode",e[e.IsIn3DBackGround=14]="IsIn3DBackGround",e[e.NB_TYPES=17]="NB_TYPES",e[e.NoShow=16]="NoShow",e[e.unknown=0]="unknown",e[e.staticPickWithChildrenAsAWhole=1]="staticPickWithChildrenAsAWhole",e[e.staticPickPriority=2]="staticPickPriority",e[e.excludeFromBounding=3]="excludeFromBounding",e[e.staticMaterial=4]="staticMaterial",e[e.staticLook=5]="staticLook",e[e.staticGeomType=6]="staticGeomType",e[e.worldScalable=7]="worldScalable",e[e.filtered=8]="filtered",e[e.viewModeSensitivity=9]="viewModeSensitivity",e[e.layerNumber=10]="layerNumber",e[e.viewMode=11]="viewMode",e[e.pickMode=12]="pickMode",e[e.inheritanceMode=13]="inheritanceMode",e[e.isIn3DBackGround=14]="isIn3DBackGround",e[e.noShow=16]="noShow"}(n||(n={}));let a=function(){return!1},o=function(e){return new s(e)};class s{static get propertyTypes(){return n}constructor(e){this.propertyTypes=null,this._values={};for(let t=n.StaticPickWithChildrenAsAWhole;t<n.NB_TYPES;++t){if(15==t)continue;const i=r.CustomPropertyTypes[t-1];let n;switch(e.exists(i)){case"string":n=e.readString(i);break;case"bool":n=e.readBool(i);break;case"uint32":n=e.readUint32(i);break;case"uint16":n=e.readUint16(i);break;case"uint8":n=e.readUint8(i);break;default:n=void 0}void 0!==n&&(this._values[t]=n)}}getValue(e){return this._values[e]}}return s.declareType=function(){i.declareType({type:"CSIViewModelCustomProperty",serialize:a,unserialize:o})},s.prototype.propertyTypes=n,s})),define("DS/CSIViewModelWebInterfaces/CSIVMClientPLMDataParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";const i=new Uint32Array(5).fill(0);function r(e){this._Styles=e||void 0}r.prototype.getRenderingStyles=function(){return this._Styles};let n=function(){return!1};return r.prototype.unserialize=function(e){return new r(e?e.readUint32Array(t.valuePLM_Styles):i.slice())},r.prototype.declareType=function(){e.declareType({type:"CSIViewModelPLMData",serialize:n,unserialize:unserialize})},r})),define("DS/CSIViewModelWebInterfaces/CSISGPath",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientCATRepPathHelper"],(function(e,t,i,r){"use strict";class n{constructor(e,t,i,r,n,a){this.path=e,this.indexes=t,this.transient=i,this.subids=r,this.subindexes=n,this.treekey=a}toPathElementList(){const e=this.path.join("/");return this.subindexes?Array.from(r.createIterator(e,this.indexes,this.subindexes,void 0,this.treekey)):Array.from(r.createIterator(e,this.indexes,void 0,this.subids,this.treekey))}static serialize(e,t){return e.writeStringArray("path",t.path),e.writeString("treekey",t.treekey),t.indexes.length&&e.writeUint32Array("indexes",t.indexes),t.transient.length&&e.writeStringArray("transient",t.transient),t.subindexes.length?e.writeUint32Array("subindexes",t.subindexes):t.subids.length&&e.writeStringArray("subids",t.subids),!0}static deserialize(e){let t=e.readStringArray("path"),i=e.readUint32Array("indexes"),r=e.readStringArray("transient"),a=e.readStringArray("subids"),o=e.readUint32Array("subindexes"),s=e.readString("treekey");return new n(t,i,r,a,o,s)}static fromCSISelectionObject(e){let t=e.idPath.split("/");return new n(t,[],[],[],[],e.treeKey)}static declareType(){i.declareType({type:"CSISGPath",serialize:n.serialize,unserialize:n.deserialize})}}return n.classname="CSISGPath",n})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisClippingFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientVisClippingPlane"],(function(e,t,i){"use strict";class r{constructor(e){this._clipTolerance=e.clipTolerance||0,this._cappingPicking=e.cappingPicking||!1,this._contourPicking=e.contourPicking||!1,this._clippingPlane=e.clippingPlane||void 0}getClipTolerance(){return this._clipTolerance}getCappingPicking(){return this._cappingPicking}getContourPicking(){return this._contourPicking}getClippingPlane(){return this._clippingPlane}serialize(e,i){e.writeFloat(t.valueVisFilter_ClipTolerance,i._clipTolerance),e.writeBool(t.valueVisFilter_CappingPicking,i._cappingPicking),e.writeBool(t.valueVisFilter_ContourPicking,i._contourPicking),e.writeObject(t.valueVisFilter_ClippingPlane,"CSIViewModelVisClippingPlane",i._clippingPlane)}unserialize(e){let i={clipTolerance:e.readFloat(t.valueVisFilter_ClipTolerance),cappingPicking:e.readBool(t.valueVisFilter_CappingPicking),contourPicking:e.readBool(t.valueVisFilter_ContourPicking),clippingPlane:e.readObject(t.valueVisFilter_ClippingPlane,"CSIViewModelVisClippingPlane")};return new r(i)}declareType(){e.declareType({type:"CSIViewModelVisClippingFilter",serialize:this.serialize,unserialize:this.unserialize}),i.prototype.declareType()}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisDynamicModeFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){this._nreDynamicMode=e.nreDynamicMode||0,this._webDynamicMode=e.webDynamicMode||0}getNREDynamicMode(){return this._nreDynamicMode}getWebDynamicMode(){return this._webDynamicMode}serialize(e,i){e.writeUint8(t.valueVisFilter_NREDynamicMode,i._nreDynamicMode),e.writeUint8(t.valueVisFilter_WebDynamicMode,i._webDynamicMode)}unserialize(e){let i={nreDynamicMode:e.readUint8(t.valueVisFilter_NREDynamicMode),webDynamicMode:e.readUint8(t.valueVisFilter_WebDynamicMode)};return new r(i)}declareType(){e.declareType({type:"CSIViewModelVisDynamicModeFilter",serialize:this.serialize,unserialize:this.unserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisHighlightFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){this._skipDrawHighlight=e.skipDrawHighlight||0,this._skipDrawPreHighlight=e.skipDrawPreHighlight||0}getSkipDrawHighlight(){return this._skipDrawHighlight}getSkipDrawPreHighlight(){return this._skipDrawPreHighlight}serialize(e,i){e.writeBool(t.valueVisFilter_SkipDrawHighlight,i._skipDrawHighlight),e.writeBool(t.valueVisFilter_SkipDrawPreHighlight,i._skipDrawPreHighlight)}unserialize(e){let i={skipDrawHighlight:e.readUint8(t.valueVisFilter_SkipDrawHighlight),skipDrawPreHighlight:e.readUint8(t.valueVisFilter_SkipDrawPreHighlight)};return new r(i)}declareType(){e.declareType({type:"CSIViewModelVisHighlightFilter",serialize:this.serialize,unserialize:this.unserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisPolygonalScissorFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/MathematicsES/MathPointJSImpl"],(function(e,t,i,r){"use strict";class n{constructor(e){this._nbPolygon=e.nbPolygon||0,this._nbVertex=e.nbVertex||[],this._vertices=e.vertices||[],this._point=e.point||void 0,this._directionX=e.directionX||void 0,this._directionY=e.directionY||void 0,this._boundariesVisible=e.boundariesVisible||!1,this._gas=e.gas||void 0}getNbPolygon(){return this._nbPolygon}getNbVertex(){return this._nbVertex}getVertices(){return this._vertices}getPoint(){return this._point}getDirectionX(){return this._directionX}getDirectionY(){return this._directionY}getBoundariesVisible(){return this._boundariesVisible}getGas(){return this._gas}serialize(e,i){e.writeUint32(t.valueVisFilter_NbPolygon,i._nbPolygon),e.writeFloatArray(t.valueVisFilter_NbVertex,i._nbVertex),e.writeFloatArray(t.valueVisFilter_Vertices,i._vertices),e.writeObject(t.valueVisFilter_Point,"CATMathPointf",i._point),e.writeObject(t.valueVisFilter_DirectionX,"CATMathDirectionf",i._directionX),e.writeObject(t.valueVisFilter_DirectionY,"CATMathDirectionf",i._directionY),void 0!==i._boundariesVisible&&e.writeBool(t.valueVisFilter_BoundariesVisible,i._boundariesVisible),void 0!==i._gas&&e.writeObject(t.valueVisFilter_Gas,"CSIViewModelGraphicProperty",i._gas)}unserialize(e){let i={nbPolygon:e.readUint32(t.valueVisFilter_NbPolygon),nbVertex:e.readFloatArray(t.valueVisFilter_NbVertex),vertices:e.readFloatArray(t.valueVisFilter_Vertices),point:e.readObject(t.valueVisFilter_Point,"CATMathPointf"),directionX:e.readObject(t.valueVisFilter_DirectionX,"CATMathDirectionf"),directionY:e.readObject(t.valueVisFilter_DirectionY,"CATMathDirectionf"),boundariesVisible:e.readBool(t.valueVisFilter_BoundariesVisible),gas:e.readObject(t.valueVisFilter_Gas,"CSIViewModelGraphicProperty")};return new n(i)}declareType(){e.declareType({type:"CSIViewModelVisPolygonalScissorFilter",serialize:this.serialize,unserialize:this.unserialize})}}return n})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisAnnotationPath",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientVisAnnotationValue","DS/CSIViewModelWebInterfaces/CSISGPath"],(function(e,t,i,r,n,a){"use strict";function o(e,t){return e.writeObject("path",a.classname,t._csiPath),e.writeObject(r.valueVisFilter_AnnotationValue,"CSIViewModelVisAnnotationValue",t._value),!0}function s(e){let t={paths:e.readObject("path",a.classname),value:e.readObject(r.valueVisFilter_AnnotationValue,"CSIViewModelVisAnnotationValue")};return new l(t)}class l{constructor(e){this._value=e.value,this._csiPath=e.paths}getPaths(){return this._csiPath instanceof a?this._csiPath.toPathElementList():this._csiPath}getValue(){return this._value}declareType(){i.declareType({type:"CSIViewModelVisAnnotationPath",serialize:o,unserialize:s}),a.declareType(),n.declareType()}}return l})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisAnnotation",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientVisAnnotationPath"],(function(e,t,i,r,n){"use strict";var a;!function(e){e[e.ModeNormal=0]="ModeNormal",e[e.ModeInvertInvisibilityAndNoPick=1]="ModeInvertInvisibilityAndNoPick",e[e.ModeInvertNoPick=2]="ModeInvertNoPick",e[e.ModeForceShow=3]="ModeForceShow",e[e.ModeUndefined=4]="ModeUndefined"}(a||(a={}));class o{constructor(e){this._annotationMode=e.annotationMode||a.ModeNormal,this._annotationPaths=e.annotationPaths||[]}getMode(){return this._annotationMode}getAnnotationPaths(){return this._annotationPaths}serialize(e,t){return e.writeUint8(r.valueVisFilter_AnnotationMode,t._annotationMode),e.writeObjectArray(r.valueVisFilter_AnnotationPaths,"CSIViewModelVisAnnotationPath",t._annotationPaths),!0}unserialize(e){let t={annotationMode:e.readUint8(r.valueVisFilter_AnnotationMode),annotationPaths:e.readObjectArray(r.valueVisFilter_AnnotationPaths,"CSIViewModelVisAnnotationPath")};return new o(t)}declareType(){i.declareType({type:"CSIViewModelVisAnnotation",serialize:this.serialize,unserialize:this.unserialize}),n.prototype.declareType()}}return Object.defineProperty(o,"Mode",{value:a,writable:!1}),o})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVis3DGroupeNodeRepDataParameter",["require","exports","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientFixedSizeDataParameter"],(function(e,t,i,r){"use strict";class n{constructor(e,t,i){this._renderingMode=e,this._matrix=t,this._fixedSizeData=i}getRenderingMode(){return this._renderingMode}getTextureMatrix(){return this._matrix}getFixedSizeData(){return this._fixedSizeData}static serialize(){return!1}static unserialize(e){let t=r.deserialize(e);if(!e)return new n(void 0,void 0,t);let a=e.readUint32(i.VMViewMode),o=e.readDoubleArray(i.valueTextureMatrix);return new n(a,o,t)}}return n})),define("DS/CSIViewModelWebInterfaces/CSIVMClientViewpoint3DInformation",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";class i{constructor(e){this._clippingMode=e.clippingMode,this._nearValue=e.nearValue,this._farValue=e.farValue,this._gravityDirection=e.gravityDirection,this._gravityMode=e.gravityMode,this._gravityLocked=e.gravityLocked}getClippingMode(){return this._clippingMode}getNearValue(){return this._nearValue}getFarValue(){return this._farValue}getGravityDirection(){return this._gravityDirection}areGravityMode(){return this._gravityMode}getGravityLocked(){return this._gravityLocked}serialize(e,i){e.writeInt32(t.VpClippingMode,i._clippingMode),e.writeFloat(t.VpNearValue,i._nearValue),e.writeFloat(t.VpFarValue,i._farValue),e.writeFloatArray(t.VpGravityDirection,i._gravityDirection),e.writeInt32(t.VpGravityMode,i._gravityMode),e.writeBool(t.VpGravityLocked,i._gravityLocked)}unserialize(e){const r={clippingMode:e.readInt32(t.VpClippingMode),nearValue:e.readFloat(t.VpNearValue),farValue:e.readFloat(t.VpFarValue),gravityDirection:e.readFloatArray(t.VpGravityDirection),gravityMode:e.readInt32(t.VpGravityMode),gravityLocked:e.readBool(t.VpGravityLocked)};return new i(r)}declareType(){e.declareType({type:"CSIViewpoint3DInformation",serialize:this.serialize,unserialize:this.unserialize})}}return i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisAlphaFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){this._alpha=e.alpha||0}getAlpha(){return this._alpha}serialize(e,i){e.writeFloat(t.valueVisFilter_Alpha,i._alpha)}unserialize(e){let i={alpha:e.readFloat(t.valueVisFilter_Alpha)};return new r(i)}declareType(){e.declareType({type:"CSIViewModelVisAlphaFilter",serialize:this.serialize,unserialize:this.unserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisRawBufferParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i,r){"use strict";function n(){return!1}function a(e){return new o(e.readUint64(r.id),e.readUint8(r.ContentHint),e.readBuffer(r.valueBufData),e.readUint64(r.Size))}class o{constructor(e,t,i,r){this.id=e,this.contentHint=t,this.data=i,this.size=r}static declareType(){i.declareType({type:"CSIVisRawBuffer",serialize:n,unserialize:a})}}return o})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisFurtiveFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){this._skipDrawFurtive=e.skipDrawFurtive||0}getSkipDrawFurtive(){return this._skipDrawFurtive}serialize(e,i){e.writeBool(t.valueVisFilter_SkipDrawFurtive,i._skipDrawFurtive)}unserialize(e){let i={skipDrawFurtive:e.readBool(t.valueVisFilter_SkipDrawFurtive)};return new r(i)}declareType(){e.declareType({type:"CSIViewModelVisFurtiveFilter",serialize:this.serialize,unserialize:this.unserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientBillboardDataParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";function i(e,t){this._Type=e||0,this._Axis=t}i.prototype.BillboardTypes={Undefined:0,Cylindrical:1,Spherical:2},i.prototype.getType=function(){return this._Type},i.prototype.getCylindricalAxis=function(){return this._Axis};let r=function(){return!1};return i.prototype.unserialize=function(e){const r=e.readBool(t.valueBillboard_Type),n=e.readFloatArray("axis");return new i(r?i.prototype.BillboardTypes.Cylindrical:i.prototype.BillboardTypes.Spherical,n)},i.prototype.declareType=function(){e.declareType({type:"CSIViewModelBillboardData",serialize:r,unserialize:unserialize})},i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientViewpoint2DInformation",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";class i{constructor(e){this._bottomLeft=e.bottomLeft,this._topRight=e.topRight,this._boundsX=e.boundsX,this._boundsY=e.boundsY,this._translationBoundsDefined=e.translationBoundsDefined,this._clip=e.clip,this._depth=e.depth,this._anchor=e.anchor}getBottomLeft(){return this._bottomLeft}getTopRight(){return this._topRight}getBoundsX(){return this._boundsX}getBoundsY(){return this._boundsY}areTranslationBoundsDefined(){return this._translationBoundsDefined}getClip(){return this._clip}getDepth(){return this._depth}getAnchor(){return this._anchor}serialize(e,i){e.writeFloatArray(t.VpBottomLeft,i._bottomLeft),e.writeFloatArray(t.VpTopRight,i._topRight),e.writeFloatArray(t.VpBoundsX,i._boundsX),e.writeFloatArray(t.VpBoundsY,i._boundsY),e.writeBool(t.VpTranslationBoundsDefined,i._translationBoundsDefined),e.writeInt32(t.VpClip,i._clip),e.writeInt32(t.VpDepth,i._depth),e.writeInt32(t.VpAnchor,i._anchor)}unserialize(e){const r={bottomLeft:e.readFloatArray(t.VpBottomLeft),topRight:e.readFloatArray(t.VpTopRight),boundsX:e.readFloatArray(t.VpBoundsX),boundsY:e.readFloatArray(t.VpBoundsY),translationBoundsDefined:e.readBool(t.VpTranslationBoundsDefined),clip:e.readInt32(t.VpClip),depth:e.readInt32(t.VpDepth),anchor:e.readInt32(t.VpAnchor)};return new i(r)}declareType(){e.declareType({type:"CSIViewpoint2DInformation",serialize:this.serialize,unserialize:this.unserialize})}}return i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientISODataParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";function i(e){this._DrawLayer=e||0}i.prototype.getDrawLayer=function(){return this._DrawLayer};let r=function(){return!1};return i.prototype.unserialize=function(e){return new i(e.readUint8(t.valueISO_DrawLayer))},i.prototype.declareType=function(){e.declareType({type:"CSIViewModelISOData",serialize:r,unserialize:unserialize})},i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisClippingSphereFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){}serialize(e,t){}unserialize(e){return new r({})}declareType(){e.declareType({type:"CSIViewModelVisClippingSphereFilter",serialize:this.serialize,unserialize:this.unserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisGASInheritFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){this._colorInheritance=e.colorInheritance||0,this._asmInheritance=e.asmInheritance||0,this._gas=e.gas||0}getColorInheritance(){return this._colorInheritance}getAsmInheritance(){return this._asmInheritance}getGas(){return this._gas}serialize(e,i){e.writeUint32(t.valueVisFilter_ColorInheritance,i._colorInheritance),e.writeUint32(t.valueVisFilter_AsmInheritance,i._asmInheritance),void 0!==i._gas&&e.writeObject(t.valueVisFilter_Gas,"CSIViewModelGraphicProperty",i._gas)}unserialize(e){let i={colorInheritance:e.readUint32(t.valueVisFilter_ColorInheritance),asmInheritance:e.readUint32(t.valueVisFilter_AsmInheritance),gas:e.readObject(t.valueVisFilter_Gas,"CSIViewModelGraphicProperty")};return new r(i)}declareType(){e.declareType({type:"CSIViewModelVisGASInheritFilter",serialize:this.serialize,unserialize:this.unserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientEltState",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(require,exports,CSICommands,CSIVMClientParameterLabels){"use strict";let serialize=function(){return!1},unserialize=function(e){return new CSIVMClientEltState(e)};class CSIVMClientEltState{constructor(e){this._type=e.readUint8(CSIVMClientParameterLabels.stateType),this._value=e.readBool(CSIVMClientParameterLabels.stateValue)}getType(){return this._type}getValue(){return this._value}static declareType(){CSICommands.declareType({type:"CSIViewModelEltState",serialize:serialize,unserialize:unserialize})}}return function(e){let t;!function(e){e[e.Unknown=0]="Unknown",e[e.Suppress=1]="Suppress",e[e.Hidden=2]="Hidden",e[e.UpToDate=3]="UpToDate",e[e.InWorkObject=4]="InWorkObject",e[e.Fixed=5]="Fixed",e[e.Published=6]="Published",e[e.Linear=7]="Linear"}(t=e.StateType||(e.StateType={}))}(CSIVMClientEltState||(CSIVMClientEltState={})),eval("CSIVMClientEltState.prototype.StateType = CSIVMClientEltState.StateType"),CSIVMClientEltState})),define("DS/CSIViewModelWebInterfaces/CSIVMClientError",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i,r){"use strict";let n=function(){return!1},a=function(e){return new o(e)};class o{constructor(e){this.getID=function(){return this._id},this.getErrorType=function(){return this._errorType},this._errorType=e.readUint8(r.errorType),this._id=e.readString(r.errorID)}static declareType(){i.declareType({type:"CSIViewModelError",serialize:n,unserialize:a})}}return function(e){let t;!function(e){e[e.Unknown=0]="Unknown",e[e.Critical=1]="Critical",e[e.Fatal=2]="Fatal",e[e.Warning=3]="Warning",e[e.Information=4]="Information"}(t=e.ErrorType||(e.ErrorType={}))}(o||(o={})),o})),define("DS/CSIViewModelWebInterfaces/CSIVMClientSemanticDataParameter",["require","exports","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientError","DS/CSIViewModelWebInterfaces/CSIVMClientEltState"],(function(e,t,i,r,n){"use strict";return r.declareType(),n.declareType(),class{constructor(e){this._alias=e.readString(i.valueAlias)||"",this._iconName=e.readString(i.valueIconName)||"",this._subTypeId=e.readString(i.valueSubTypeId)||"",this._typeId=e.readString(i.valueTypeId)||"",this._iconModule=e.readString(i.valueIconModule)||"",this._editCommandName=e.readString(i.valueEditCommandName)||"",this._errors=e.readObjectArray(i.valueErrors,"CSIViewModelError")||[],this._states=e.readObjectArray(i.valueStates,"CSIViewModelEltState")||[]}getTypeId(){return this._typeId}getSubTypeId(){return this._subTypeId}getAlias(){return this._alias}getIconName(){return this._iconName}getIconModule(){return this._iconModule}getEditCommandName(){return this._editCommandName}getErrors(){return this._errors}getStates(){return this._states}}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientViewpointInformation",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientViewpoint3DInformation","DS/CSIViewModelWebInterfaces/CSIVMClientViewpoint2DInformation"],(function(e,t,i,r){"use strict";class n{constructor(e){this._uid=e.uid,this._type=e.type,this._minZoom=e.minZoom,this._maxZoom=e.maxZoom,this._isShowSpace=e.isShowSpace,this._aaMode=e.aaMode,this._isStretched=e.isStretched,this._viewport=e.viewport,this._plmViewMode=e.plmViewMode,this._isMainDialog=e.isMainDialog,this._isV3D=e.isV3D,this._isMultiview=e.isMultiview,this._hasVpEditor=e.hasVpEditor,this._viewpointEditorType=e.viewpointEditorType,this._viewpointEditorMode=e.viewpointEditorMode,this._transformationLocks=e.transformationLocks,this._viewpoint2DInfo=e.viewpoint2DInfo,this._viewpoint3DInfo=e.viewpoint3DInfo}getUID(){return this._uid}getType(){return this._type}getMinZoom(){return this._minZoom}getMaxZoom(){return this._maxZoom}isShowSpace(){return this._isShowSpace}getAaMode(){return this._aaMode}isStretched(){return this._isStretched}getViewport(){return this._viewport}getPLMViewMode(){return this._plmViewMode}isMainDialog(){return this._isMainDialog}isV3D(){return this._isV3D}isMultiview(){return this._isMultiview}hasVpEditor(){return this._hasVpEditor}getVpEditorType(){return this._viewpointEditorType}getVpEditorMode(){return this._viewpointEditorMode}getTransformationLocks(){return this._transformationLocks}getViewpoint2DInfo(){return this._viewpoint2DInfo}getViewpoint3DInfo(){return this._viewpoint3DInfo}serialize(e,i){e.writeUint32(t.VpUID,i._uid),e.writeString(t.VpType,i._type),e.writeFloat(t.VpMinZoom,i._minZoom),e.writeFloat(t.VpMaxZoom,i._maxZoom),e.writeBool(t.VpIsShowSpace,i._isShowSpace),e.writeInt32(t.VpAaMode,i._aaMode),e.writeBool(t.VpIsStretched,i._isStretched),e.writeFloatArray(t.VpViewport,i._viewport),e.writeInt32(t.VpPLMViewMode,i._plmViewMode),e.writeBool(t.VpIsMainDialog,i._isMainDialog),e.writeBool(t.VpIsV3D,i._isV3D),e.writeBool(t.VpIsMultiview,i._isMultiview),e.writeBool(t.VpHasVpEditor,i._hasVpEditor),e.writeString(t.VpViewpointEditorType,i._viewpointEditorType),e.writeInt32(t.VpViewpointEditorMode,i._viewpointEditorMode),e.writeInt32(t.VpTransformationLocks,i._transformationLocks),i._viewpoint2DInfo&&e.writeObject(t.Viewpoint2DInfo,"CSIViewpoint2DInformation",i._viewpoint2DInfo),i._viewpoint3DInfo&&e.writeObject(t.Viewpoint3DInfo,"CSIViewpoint3DInformation",i._viewpoint3DInfo)}unserialize(e){const i={uid:e.readUint32(t.VpUID),type:e.readString(t.VpType),minZoom:e.readFloat(t.VpMinZoom),maxZoom:e.readFloat(t.VpMaxZoom),isShowSpace:e.readBool(t.VpIsShowSpace),aaMode:e.readInt32(t.VpAaMode),isStretched:e.readBool(t.VpIsStretched),viewport:e.readFloatArray(t.VpViewport),plmViewMode:e.readInt32(t.VpPLMViewMode),isMainDialog:e.readBool(t.VpIsMainDialog),isV3D:e.readBool(t.VpIsV3D),isMultiview:e.readBool(t.VpIsMultiview),viewpointEditorType:e.readString(t.VpViewpointEditorType)??"None",viewpointEditorMode:e.readInt32(t.VpViewpointEditorMode)??-1,transformationLocks:e.readInt32(t.VpTransformationLocks)};return void 0!==e.exists(t.Vp2DInfo)&&(i.viewpoint2DInfo=e.readObject(t.Vp2DInfo,"CSIViewpoint2DInformation")),void 0!==e.exists(t.Vp3DInfo)&&(i.viewpoint3DInfo=e.readObject(t.Vp3DInfo,"CSIViewpoint3DInformation")),new n(i)}declareType(){e.declareType({type:"CSIViewpointInformation",serialize:this.serialize,unserialize:this.unserialize}),r.prototype.declareType(),i.prototype.declareType()}}return n})),define("DS/CSIViewModelWebInterfaces/CSIVMClientViewpoints",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientViewpointInformation","DS/CSIViewModelWebInterfaces/CSIVMClientJSON"],(function(e,t,i,r){"use strict";class n{constructor(e){this._camerasJSON=e.camerasJSON,this._cameras2DJSON=e.cameras2DJSON,this._viewpointsInfo=e.viewpointsInfo,this._changeType=e.changeType}getCamerasJSON(){return this._camerasJSON}getCameras2DJSON(){return this._cameras2DJSON}getViewpointsInfo(){return this._viewpointsInfo}getChangeType(){return this._changeType}serialize(e,i){e.writeObject(t.CamerasJSON,"CSIViewModelJSON",i._camerasJSON),e.writeObject(t.Cameras2DJSON,"CSIViewModelJSON",i._cameras2DJSON),e.writeObjectArray(t.ViewpointsInfo,"CSIViewpointInformation",i._viewpointsInfo),e.writeString(t.ViewpointsChangeType,i._changeType)}unserialize(e){const i={camerasJSON:e.readObject(t.CamerasJSON,"CSIViewModelJSON"),cameras2DJSON:e.readObject(t.Cameras2DJSON,"CSIViewModelJSON"),viewpointsInfo:e.readObjectArray(t.ViewpointsInfo,"CSIViewpointInformation"),changeType:e.readString(t.ViewpointsChangeType)};return new n(i)}declareType(){e.declareType({type:"CSIViewpoints",serialize:this.serialize,unserialize:this.unserialize}),i.prototype.declareType(),r.prototype.declareType()}}return n})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisPolygonOffsetFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){this._polygonOffsetMode=e.polygonOffsetMode||0}getPolygonOffsetMode(){return this._polygonOffsetMode}serialize(e,i){e.writeUint32(t.valueVisFilter_PolygonOffsetMode,i._polygonOffsetMode)}unserialize(e){let i={polygonOffsetMode:e.readUint32(t.valueVisFilter_PolygonOffsetMode)};return new r(i)}declareType(){e.declareType({type:"CSIViewModelVisPolygonOffsetFilter",serialize:this.serialize,unserialize:this.unserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientLodDataParameter",["require","exports","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){this._LodSag=e}getLodData(){return this._LodSag}static deserialize(e){let t=e.readFloatArray(i.valueLod);return new r(t)}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisVertexDescComponentParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i,r){"use strict";function n(){return!1}function a(e){let t={rawBufferId:e.readUint64(r.RawBufferID),componentType:e.readUint8(r.ComponentType),nbVertices:e.readUint32(r.NbVertices),offset:e.readUint32(r.Offset),stride:e.readUint32(r.Stride),type:e.readUint8(r.Type)};return new o(t)}class o{constructor(e){this._rawBufferId=e.rawBufferId,this._componentType=e.componentType,this._nbVertices=e.nbVertices,this._offset=e.offset,this._stride=e.stride,this._type=e.type}getRawBufferId(){return this._rawBufferId}getComponentType(){return this._componentType}getNbVertices(){return this._nbVertices}getOffset(){return this._offset}getStride(){return this._stride}getType(){return this._type}static declareType(){i.declareType({type:"CSIVisVertexDescComponent",serialize:n,unserialize:a})}}return o})),define("DS/CSIViewModelWebInterfaces/CSIVMClientMaterialParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i,r){"use strict";let n=function(){return!1},a=function(e){return new o(e.readBool(r.DefaultMaterial),e.readUint32Array(r.MaterialIDs)||[])};class o{constructor(e,t){this.DefaultMaterial=e,this.Indices=t,this.JSON=void 0,this.Buffers=void 0}updateValues(e,t){this.JSON=e,this.Buffers=t;for(let e=0;e<this.Indices.length;e++)this.Indices[e]--}}return o.declareType=function(){i.declareType({type:"CSIViewModelMaterial",serialize:n,unserialize:a})},o})),define("DS/CSIViewModelWebInterfaces/CSIVMClientGraphicPropertyParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIViewModelWebEnv","DS/CSIViewModelWebInterfaces/CSIVMClientCustomPropertyParameter","DS/CSIViewModelWebInterfaces/CSIVMClientMaterialParameter","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i,r,n,a,o){"use strict";function s(e,t){return e.writeUint32(o.idGP,t._id),void 0!==t._material&&e.writeObject(o.Material,"CSIViewModelMaterial",t._material),t._gas&&e.writeUint32Array(o.Gas,t._gas),void 0!==t._customProperty&&e.writeObject(o.CustomProperty,"CSIViewModelCustomProperty",t._customProperty),void 0!==t._symbolType&&e.writeUint8(o.SymbolType,t._symbolType),!0}function l(e){let t={id:e.readUint32(o.idGP),material:e.readObject(o.Material,"CSIViewModelMaterial"),customProperty:e.readObject(o.CustomProperty,"CSIViewModelCustomProperty"),gas:e.readUint32Array(o.Gas),symbolType:e.readUint8(o.SymbolType),fill:e.readUint8(o.Fill)};return new d(t)}class d{constructor(...e){let t,i,r,n,a=!1,o=!1;switch(e.length){case 4:[t,i,r,n]=e,a=!0;break;case 3:[t,i,r]=e,a=!0;break;case 2:[t,i]=e,a=!0;break;case 1:{const s=e[0];this._id=s.id,this._customProperty=s.customProperty,this._material=s.material,void 0!==s.gas&&([t,i]=s.gas,a=!0),r=s.symbolType,n=s.fill,o=!0;break}}a&&(this._gasStruct=function(e,t){let i={};if(void 0!==e){const t=255&e;i.colorIndex=e>>>24&255,i.lineWidth=e>>>12&63,i.lineType=(e>>>16&252)>>2,i.priority=e>>>8&15,i.lowlight=(4&t)>0,i.highlight=(2&t)>0,i.noPick=(1&t)>0,i.noShow=(8&t)>0,i.showFree=(64&t)>0,i.transparent=(128&t)>0,i.type=(48&t)>>4}return void 0!==t&&(i.colorRGB=t>>>8,i.colorA=255&t),i}(t,i)),void 0!==r&&(void 0===this._gasStruct&&(this._gasStruct={}),this._gasStruct.symbolType=r-1,this._gasStruct.defaultPointType=!1),void 0!==n&&(this._fill=n)}getGasStruct(e=!0){return e?{...this._gasStruct}:this._gasStruct}getMaterial(){return this._material}getCustomProperty(){return this._customProperty}getId(){return this._id}getShowMode(){let e;if(this._customProperty){e=this._customProperty.getValue(n.propertyTypes.NoShow)?r.CSINoShow:r.CSIShow}else void 0!==this._gasStruct&&void 0!==this._gasStruct.noShow&&(e=this._gasStruct.noShow?r.CSINoShow:r.CSIShow);return e}static declareType(){i.declareType({type:"CSIViewModelGraphicProperty",serialize:s,unserialize:l}),a.declareType(),n.declareType()}}return d})),define("DS/CSIViewModelWebInterfaces/CSIVMClientImagePixel",["DS/CSIViewModelWebInterfaces/CSIVMClientGraphicPropertyParameter"],(function(e){"use strict";return class{constructor(t,i){this.nbImages=0,this.imagesBuffer=[],this.annotationGPInfo=null,this.imageGPInfo=null,this.point=null,this.textureJson=null;let r=i+4;this.nbImages=new Uint32Array(t.slice(i,r).buffer)[0];for(let e=0;e<this.nbImages;e++){const e=new Uint32Array(t.slice(r,r+4).buffer)[0];r+=4;const i=t.slice(r,r+e);this.imagesBuffer.push({buffer:i}),r+=e}const n=new Uint32Array(t.slice(r,r+4).buffer)[0];r+=4;const a=new TextDecoder("utf-8").decode(t.slice(r,r+n)),o=JSON.parse(a);Object.assign(this,o),this.annotationGPInfo&&(this.annotationGPInfo.contour1&&(this.annotationGPInfo.contour1=new e(this.annotationGPInfo.contour1.set,this.annotationGPInfo.contour1.rgba)),this.annotationGPInfo.contour2&&(this.annotationGPInfo.contour2=new e(this.annotationGPInfo.contour2.set,this.annotationGPInfo.contour2.rgba)))}}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisViewportFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){this._x=e.x||0,this._y=e.y||0,this._dx=e.dx||0,this._dy=e.dy||0}getX(){return this._x}getY(){return this._y}getDx(){return this._dx}getDy(){return this._dy}serialize(e,i){e.writeInt32(t.valueVisFilter_X,i._x),e.writeInt32(t.valueVisFilter_Y,i._y),e.writeInt32(t.valueVisFilter_Dx,i._dx),e.writeInt32(t.valueVisFilter_Dy,i._dy)}unserialize(e){let i={x:e.readInt32(t.valueVisFilter_X),y:e.readInt32(t.valueVisFilter_Y),dx:e.readInt32(t.valueVisFilter_Dx),dy:e.readInt32(t.valueVisFilter_Dy)};return new r(i)}declareType(){e.declareType({type:"CSIViewModelVisViewportFilter",serialize:this.serialize,unserialize:this.unserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisVerticesDescriptionParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientVisVertexDescComponentParameter"],(function(e,t,i,r,n){"use strict";function a(){return!1}function o(e){return new s(e.readObjectArray(r.Components,"CSIVisVertexDescComponent"))}class s{constructor(e){this._components=e}getComponents(){return this._components}static declareType(){i.declareType({type:"CSIVisVerticesDescription",serialize:a,unserialize:o}),n.declareType()}}return s})),define("DS/CSIViewModelWebInterfaces/CSIVMClientPLMRenderingStyleData",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientNamedBinaryBuffer","DS/CSIViewModelWebInterfaces/CSIVMClientJSON","DS/CSIViewModelWebInterfaces/CSIVMClientGraphicPropertyParameter"],(function(e,t,i,r,n){"use strict";class a{constructor(e){this._meshMaterial=e.meshMaterial,this._meshMaterialBuffers=e.meshMaterialBuffers,this._edgeGasAtt=e.edgeGasAtt,this._edgeGasRGBA=e.edgeGasRGBA,this._edgeVisibility=e.edgeVisibility,this._filterMode=e.filterMode,void 0!==this._edgeGasAtt&&void 0!==this._edgeGasRGBA&&(this._edgeGas=new n(this._edgeGasAtt,this._edgeGasRGBA))}getMeshMaterial(){return this._meshMaterial}getMeshMaterialBuffers(){return this._meshMaterialBuffers}getEdgeGas(){return this._edgeGas}getEdgeVisibility(){return this._edgeVisibility}getFilterMode(){return this._filterMode}serialize(e,i){i._meshMaterial&&e.writeObject(t.PLMMeshMaterial,"CSIViewModelJSON",i._meshMaterial),i._meshMaterialBuffers&&e.writeObjectArray(t.PLMMeshMaterialBuffers,"CSIViewModelNamedBinaryBuffer",i._meshMaterialBuffers),e.writeInt32(t.PLMEdgeGasAtt,i._edgeGasAtt),e.writeInt32(t.PLMEdgeGasRGBA,i._edgeGasRGBA),e.writeBool(t.PLMEdgeVisibility,i._edgeVisibility),e.writeBool(t.PLMFilterMode,i._filterMode)}unserialize(e){const i={edgeGasAtt:e.readInt32(t.PLMEdgeGasAtt),edgeGasRGBA:e.readInt32(t.PLMEdgeGasRGBA),edgeVisibility:e.readBool(t.PLMEdgeVisibility),filterMode:e.readBool(t.PLMFilterMode)};return void 0!==e.exists(t.PLMMeshMaterial)&&(i.meshMaterial=e.readObject(t.PLMMeshMaterial,"CSIViewModelJSON")),void 0!==e.exists(t.PLMMeshMaterialBuffers)&&(i.meshMaterialBuffers=e.readObjectArray(t.PLMMeshMaterialBuffers,"CSIViewModelNamedBinaryBuffer")),new a(i)}declareType(){e.declareType({type:"CSIPLMRenderingStyleData",serialize:this.serialize,unserialize:this.unserialize}),i.prototype.declareType(),r.prototype.declareType()}}return a})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisAttributeParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientGraphicPropertyParameter"],(function(e,t,i,r,n){"use strict";function a(e){return{TEXTURE_MATRIX:new Float32Array(e)}}function o(e){return{RENDERING_MODE:new DataView(e).getUint32(0,!0)}}function s(e){return{FIXED_SIZE:new DataView(e).getFloat32(0,!0)}}function l(e){return{POINT_TYPE:new DataView(e).getUint32(0,!0)}}function d(e){return{POINT_SIZE:new DataView(e).getUint32(0,!0)}}function c(e){return{NUM_INSTANCES:new DataView(e).getUint32(0,!0)}}function u(e){return{INSTANCES_RAWBUFFERPTR:new DataView(e).getBigUint64(0,!0)}}function h(){return!1}function p(e){return new S(e.readUint32Array(r.Attributetypes),e.readBufferArray(r.Data))}class S{constructor(e,t){this._attributeTypes=e,this._data=t}getAttributeType(){return this._attributeTypes}getData(){return this._data}asProperties(){const e=this.getAttributeType(),t={};for(let i=0;i<e.length;i++){const r=this.getData()[i];let h={};switch(e[i]){case 1:h={GAS:new n(...new Uint32Array(r))};break;case 2:h=a(r);break;case 4:h=o(r);break;case 8:h=s(r);break;case 16:h=l(r);break;case 32:h=d(r);break;case 64:h=c(r);break;case 128:h=u(r);break;default:console.warn(`Unknown VisAttribute: ${e[i]}`)}Object.assign(t,h)}return t}static declareType(){i.declareType({type:"CSIVisAttribute",serialize:h,unserialize:p})}}return S})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisLayerFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){this._mode=e.mode||0,this._layers=e.layers||[]}getMode(){return this._mode}getLayers(){return this._plane}serialize(e,i){e.writeUint32(t.valueVisFilter_Mode,i._mode),e.writeUint8Array(t.valueVisFilter_Layers,i._layers)}unserialize(e){let i={mode:e.readUint32(t.valueVisFilter_Mode),layers:e.readUint8Array(t.valueVisFilter_Layers)};return new r(i)}declareType(){e.declareType({type:"CSIViewModelVisLayerFilter",serialize:this.serialize,unserialize:this.unserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientPLMRenderingStyle",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientPLMRenderingStyleData"],(function(e,t,i){"use strict";class r{constructor(e){this._renderingStyleData=e.renderingStyleData}getRenderingStyleData(){return this._renderingStyleData}serialize(e,i){e.writeObjectArray(t.PLMRenderingStyleData,"CSIPLMRenderingStyleData",i._renderingStyleData)}unserialize(e){const i={renderingStyleData:e.readObjectArray(t.PLMRenderingStyleData,"CSIPLMRenderingStyleData")};return new r(i)}declareType(){e.declareType({type:"CSIPLMRenderingStyle",serialize:this.serialize,unserialize:this.unserialize}),i.prototype.declareType()}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientPLMViewMode",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientPLMRenderingStyle"],(function(e,t,i){"use strict";class r{constructor(e){this._PLMRenderingStyles=e.PLMRenderingStyles,this._PLMCustomRenderingStyle=e.PLMCustomRenderingStyle}getPLMRenderingStyles(){return this._PLMRenderingStyles}getPLMCustomRenderingStyle(){return this._PLMCustomRenderingStyle}serialize(e,i){e.writeObjectArray(t.PLMRenderingStyles,"CSIPLMRenderingStyle",i._PLMRenderingStyles),i._PLMCustomRenderingStyle&&e.writeObject(t.PLMCustomRenderingStyle,"CSIPLMRenderingStyle",i._PLMCustomRenderingStyle)}unserialize(e){const i={PLMRenderingStyles:e.readObjectArray(t.PLMRenderingStyles,"CSIPLMRenderingStyle")};return void 0!==e.exists(t.PLMCustomRenderingStyle)&&(i.PLMCustomRenderingStyle=e.readObject(t.PLMCustomRenderingStyle,"CSIPLMRenderingStyle")),new r(i)}declareType(){e.declareType({type:"CSIPLMViewMode",serialize:this.serialize,unserialize:this.unserialize}),i.prototype.declareType()}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientBoundingSphereParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";function i(e){this._radius=e.radius||0,this._radiusMM=e.radiusMM||0,this._centerX=e.centerX||0,this._centerY=e.centerY||0,this._centerZ=e.centerZ||0,this._state=e.state||this.stateValues.empty}i.prototype.stateValues={empty:0,normal:1,infinite:2,contain:3},i.prototype.getRadius=function(){return this._radius},i.prototype.getRadiusMM=function(){return this._radiusMM},i.prototype.getCenterX=function(){return this._centerX},i.prototype.getCenterY=function(){return this._centerY},i.prototype.getCenterZ=function(){return this._centerZ},i.prototype.getState=function(){return this._state};let r=function(){return!1},n=function(e){return new i({radius:e.readFloat(t.valueRadius),radiusMM:e.readFloat(t.valueRadiusMM),centerX:e.readDouble(t.valueX1),centerY:e.readDouble(t.valueY1),centerZ:e.readDouble(t.valueZ1),state:e.readUint8(t.valueState)})};return i.prototype.declareType=function(){e.declareType({type:"CSIBoundingSphereParam",serialize:r,unserialize:n})},i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientBoundingBoxParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientBoundingSphereParameter"],(function(e,t,i){"use strict";function r(e){this._minX=e.minX||0,this._minY=e.minY||0,this._minZ=e.minZ||0,this._maxX=e.maxX||0,this._maxY=e.maxY||0,this._maxZ=e.maxZ||0,this._state=e.state||i.prototype.stateValues.empty}r.prototype.getMinX=function(){return this._minX},r.prototype.getMinY=function(){return this._minY},r.prototype.getMinZ=function(){return this._minZ},r.prototype.getMaxX=function(){return this._maxX},r.prototype.getMaxY=function(){return this._maxY},r.prototype.getMaxZ=function(){return this._maxZ},r.prototype.getState=function(){return this._state};let n=function(){return!1},a=function(e){return new r({minX:e.readDouble(t.valueX1),minY:e.readDouble(t.valueY1),minZ:e.readDouble(t.valueZ1),maxX:e.readDouble(t.valueX2),maxY:e.readDouble(t.valueY2),maxZ:e.readDouble(t.valueZ2),state:e.readUint8(t.valueState)})};return r.prototype.declareType=function(){e.declareType({type:"CSIBoundingBoxParam",serialize:n,unserialize:a}),i.prototype.declareType()},r})),define("DS/CSIViewModelWebInterfaces/CSIVMClient2DTo3DDataParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","CSIMathematics/CSIMathematicsDeclareTypes"],(function(e,t,i){"use strict";function r(e,t,i,r,n){this._staticMode=e||0,this._zDepthMode=t||!1,this._advancedPriority=i||!1,this._sphericalMode=r||!1,this._attachPoint=n||void 0}r.prototype.getStaticMode=function(){return this._staticMode},r.prototype.getZDepthMode=function(){return this._zDepthMode},r.prototype.getAdvancedPriority=function(){return this._advancedPriority},r.prototype.getSphericalMode=function(){return this._sphericalMode},r.prototype.getAttachPoint=function(){return this._attachPoint};let n=function(){return!1};return r.prototype.unserialize=function(e){return new r(e.readUint8(t.value2DTo3D_StaticMode),e.readBool(t.value2DTo3D_ZDepthMode),e.readBool(t.value2DTo3D_AdvancedPriority),e.readBool(t.value2DTo3D_SphericalMode),e.readObject(t.value2DTo3D_AttachPoint,"CATMathPointf"))},r.prototype.declareType=function(){e.declareType({type:"CSIViewModel2DTo3DData",serialize:n,unserialize:unserialize}),i.declareTypes(e,"CATMathPointf")},r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientSemanticAttributeDataParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";function i(e){this._Type=e||0}i.prototype.getType=function(){return this._Type};let r=function(){return!1};return i.prototype.unserialize=function(e){return new i(e.readUint8(t.valueSemantic_Type))},i.prototype.declareType=function(){e.declareType({type:"CSIViewModelSemanticData",serialize:r,unserialize:unserialize})},i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientDrawGroupParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientBinaryRangeParameter"],(function(e,t,i){"use strict";const r=[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1,!1,!0,!1,!1,!1],n=[!1,!0,!1,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],a=[!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!0,!0];function o(e){this._geomType=e.geomType||this.geomTypeValues.unknown,this._start=e.start||0,this._count=e.count||0,this._primitives=e.primitives||null}o.prototype.geomTypeValues={unknown:0,edge:1,wire_Edge:2,boundary_Edge:3,sharp_Edge:4,smooth_Edge:5,hidden_Seam_Edge:6,high_curvature_edge:7,boundary_Point:8,sharp_Point:9,smooth_Point:10,hidden_Seam_Point:11,surfacic_Point:12,free_Point:13,infinite_Face:14,face:15,unknown_0D:16,unknown_1D:17,unknown_2D:18,unknown_3D:19},o.prototype.getStart=function(){return this._start},o.prototype.getCount=function(){return this._count},o.prototype.getGeomType=function(){return this._geomType},o.prototype.getPrimitives=function(){return this._primitives},o.prototype.isPoint=function(){return r[this._geomType]},o.prototype.isEdge=function(){return n[this._geomType]},o.prototype.isFace=function(){return a[this._geomType]};let s=function(){return!1},l=function(e){return new o({geomType:e.readUint8(t.valueGeomType),start:e.readUint32(t.valueStart),count:e.readUint32(t.valueCount),primitives:e.readObject(t.valuePrimitives,"CSIBinaryRangeParam")})};return o.prototype.declareType=function(){e.declareType({type:"CSIDrawGroupParam",serialize:s,unserialize:l}),i.prototype.declareType()},o})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisContextObjectData",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";class i{constructor(e){this._identifier=e.identifier,this._data=e.data}getIdentifier(){return this._identifier}getData(){return this._data}serialize(e,t){return!1}unserialize(e){const r={identifier:e.readString(t.VisContextObjectIdentifier)},n=e.readParameters(t.VisContextObjectData,"Parameters");return r.data=n.toJSObject(),new i(r)}declareType(){e.declareType({type:"CSIVisContextObjectData",serialize:this.serialize,unserialize:this.unserialize})}}return i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisContextData",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientVisContextObjectData"],(function(e,t,i){"use strict";class r{constructor(e){this._commonData=e.commonData,this._objectsData=e.objectsData}getCommonData(){return this._commonData}getObjectsData(){return this._objectsData}serialize(e,t){return!1}unserialize(e){const i={objectsData:e.readObjectArray(t.VisContextObjectsData,"CSIVisContextObjectData")},n=e.readParameters(t.VisContextCommonData,"Parameters");return i.commonData=n.toJSObject(),new r(i)}declareType(){e.declareType({type:"CSIVisContextData",serialize:this.serialize,unserialize:this.unserialize}),i.prototype.declareType()}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisCircularScissorFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";class i{constructor(e){this._radius=e.radius||0,this._center=e.center||[],this._origin=e.origin||void 0,this._directionX=e.directionX||void 0,this._directionY=e.directionY||void 0,this._boundariesVisible=e.boundariesVisible||!1,this._gas=e.gas||void 0}getRadius(){return this._radius}getCenter(){return this._center}getOrigin(){return this._origin}getDirectionX(){return this._directionX}getDirectionY(){return this._directionY}getBoundariesVisible(){return this._boundariesVisible}getGas(){return this._gas}serialize(e,i){e.writeFloat(t.valueVisFilter_Radius,i._radius),e.writeObject(t.valueVisFilter_Center,"CATMathPoint2Df",i._center),e.writeObject(t.valueVisFilter_Origin,"CATMathPointf",i._origin),e.writeObject(t.valueVisFilter_DirectionX,"CATMathDirectionf",i._directionX),e.writeObject(t.valueVisFilter_DirectionY,"CATMathDirectionf",i._directionY),void 0!==i._boundariesVisible&&e.writeBool(t.valueVisFilter_BoundariesVisible,i._boundariesVisible),void 0!==i._gas&&e.writeObject(t.valueVisFilter_Gas,"CSIViewModelGraphicProperty",i._gas)}unserialize(e){let r={radius:e.readFloat(t.valueVisFilter_Radius),center:e.readObject(t.valueVisFilter_Center,"CATMathPoint2Df"),boundariesVisible:e.readBool(t.valueVisFilter_BoundariesVisible),origin:e.readObject(t.valueVisFilter_Origin,"CATMathPointf"),directionX:e.readObject(t.valueVisFilter_DirectionX,"CATMathDirectionf"),directionY:e.readObject(t.valueVisFilter_DirectionY,"CATMathDirectionf"),gas:e.readObject(t.valueVisFilter_Gas,"CSIViewModelGraphicProperty")};return new i(r)}declareType(){e.declareType({type:"CSIViewModelVisCircularScissorFilter",serialize:this.serialize,unserialize:this.unserialize})}}return i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientBufferPartitionParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientBinaryRangeParameter"],(function(e,t,i){"use strict";function r(e){this._bufferType=e.bufferType||0,this._bufferPartition=e.bufferPartition||null}r.prototype.getBufferType=function(){return this._bufferType},r.prototype.getBufferPartition=function(){return this._bufferPartition},r.prototype.bufferPartitionValues={unknown:0,vertexPositionArray:1,vertexIndexArray:2,vertexColorArray:3,vertexNormalArray:4,vertexBinormalArray:5,vertexTangentArray:6,vertexUvArray:7,vertexUv2Array:8,primitiveDecorationArray:9};let n=function(){return!1},a=function(e){return new r({bufferType:e.readUint8(t.valueBufferType),bufferPartition:e.readObject(t.valueBufferPartition,"CSIBinaryRangeParam")})};return r.prototype.declareType=function(){e.declareType({type:"CSIBufferPartitionParam",serialize:n,unserialize:a}),i.prototype.declareType()},r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientGeometryParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientDrawGroupParameter","DS/CSIViewModelWebInterfaces/CSIVMClientBufferPartitionParameter","DS/VisualizationProfiler/VisuProfiler"],(function(e,t,i,r,n){"use strict";function a(e){this._buffers=e.buffers||[],this._dgs=e.dgs||[],this._binaryBuffer=e.binaryBuffer||null}a.prototype.bufferPartitionValues=r.prototype.bufferPartitionValues,a.prototype.getBufferPartition=function(e){return this._buffers[e]},a.prototype.getBuffer=function(){return this._binaryBuffer},a.prototype.getDrawGroups=function(){return this._dgs};let o=function(){return!1},s=function(e){n.begin("CSIVMClientGeometryParameter::unserialize");let i=new Array(Object.keys(r.prototype.bufferPartitionValues).length),o=e.readObjectArray(t.valueBufferPartitions,"CSIBufferPartitionParam"),s={buffers:i,dgs:e.readObjectArray(t.valueDrawGroups,"CSIDrawGroupParam"),binaryBuffer:e.readBuffer(t.valueBuffer)};if(Array.isArray(o)&&s.binaryBuffer.byteLength)for(let e=0;e<o.length;++e)i[o[e].getBufferType()]=o[e].getBufferPartition();return n.end("CSIVMClientGeometryParameter::unserialize"),new a(s)};return a.prototype.declareType=function(){e.declareType({type:"CSIGeometryParam",serialize:o,unserialize:s}),i.prototype.declareType(),r.prototype.declareType()},a})),define("DS/CSIViewModelWebInterfaces/CSIVMClientInfiniteDrawGroupParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";function i(e){this._infiniteGeomType=e.infiniteGeomType||this.infiniteGeomTypeValues.unknown,this._start=e.start||0,this._count=e.count||0}i.prototype.infiniteGeomTypeValues={unknown:0,origin:1,axis:2,infinite_plane:3,text:4,points:5,reference_plane:6,light:7,canonical_cuboid:8,canonical_sphere:9,canonical_partialsphere:10,canonical_cylinder:11,canonical_cone:12,canonical_torus:13,canonical_partialtorus:14,canonical_curvedpipe:15,path_element:16,annotation_text:17,image_pixel:18,arrow:19,rectangle_with_corners:20,symbol_arrow:21,symbol:22,dynamic_leader:23},i.prototype.getStart=function(){return this._start},i.prototype.getCount=function(){return this._count},i.prototype.getInfiniteGeomType=function(){return this._infiniteGeomType};let r=function(){return!1},n=function(e){return new i({infiniteGeomType:e.readUint8(t.valueInfiniteGeomType),start:e.readUint32(t.valueStart),count:e.readUint32(t.valueCount)})};return i.prototype.declareType=function(){e.declareType({type:"CSIInfiniteDrawGroupParam",serialize:r,unserialize:n})},i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisZModeFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){this._ZMode=e.ZMode||0}getZMode(){return this._ZMode}serialize(e,i){e.writeUint32(t.valueVisFilter_ZMode,i._ZMode)}unserialize(e){let i={mode:e.readUint32(t.valueVisFilter_ZMode)};return new r(i)}declareType(){e.declareType({type:"CSIViewModelVisZModeFilter",serialize:this.serialize,unserialize:this.unserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientMathPlane",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","CSIMathematics/CSIMathematicsDeclareTypes"],(function(e,t,i){"use strict";class r{constructor(e){this._firstDirection=e.firstDirection||void 0,this._secondDirection=e.secondDirection||void 0,this._origin=e.origin||void 0}getFirstDirection(){return this._firstDirection}getSecondDirection(){return this._secondDirection}getOrigin(){return this._origin}serialize(e,i){e.writeObject(t.valueVisFilter_FirstDirection,"CATMathVector",i._firstDirection),e.writeObject(t.valueVisFilter_SecondDirection,"CATMathVector",i._secondDirection),e.writeObject(t.valueVisFilter_Origin,"CATMathPoint",i._origin)}unserialize(e){let i={firstDirection:e.readObject(t.valueVisFilter_FirstDirection,"CATMathVector"),secondDirection:e.readObject(t.valueVisFilter_SecondDirection,"CATMathVector"),origin:e.readObject(t.valueVisFilter_Origin,"CATMathPoint")};return new r(i)}declareType(){e.declareType({type:"CSIViewModelMathPlane",serialize:this.serialize,unserialize:this.unserialize}),i.declareTypes(e,"CATMathPoint"),i.declareTypes(e,"CATMathVector")}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVis2DModeFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientMathPlane"],(function(e,t,i,r){"use strict";class n{constructor(e){this._mode=e.mode||0,this._plane=e.plane||0}getMode(){return this._mode}getPlane(){return this._plane}serialize(e,i){e.writeUint32(t.valueVisFilter_Mode,i._mode),e.writeObject(t.valueVisFilter_Plane,"CSIViewModelMathPlane",i._plane)}unserialize(e){let i={mode:e.readUint32(t.valueVisFilter_Mode),plane:e.readObject(t.valueVisFilter_Plane,"CSIViewModelMathPlane")};return new n(i)}declareType(){e.declareType({type:"CSIViewModelVis2DModeFilter",serialize:this.serialize,unserialize:this.unserialize}),i.prototype.declareType()}}return n})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisClippingVolumesFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){}serialize(e,t){}unserialize(e){return new r({})}declareType(){e.declareType({type:"CSIViewModelVisClippingVolumesFilter",serialize:this.serialize,unserialize:this.unserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientInfiniteBufferPartitionParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientBinaryRangeParameter"],(function(e,t,i){"use strict";function r(){return!1}function n(e){let i={infiniteBufferType:e.readUint8(t.valueInfiniteBufferType),infiniteBufferPartition:e.readObject(t.valueInfiniteBufferPartition,"CSIBinaryRangeParam")};return new o(i)}const a={unknown:0,infiniteGeometryArray:1,additionalDataArray:2};class o{static get infiniteBufferPartitionValues(){return a}static get nbInfiniteBufferPartitionValues(){return 3}constructor(e){this._infiniteBufferType=e.infiniteBufferType||0,this._infiniteBufferPartition=e.infiniteBufferPartition||null}getInfiniteBufferType(){return this._infiniteBufferType}getInfiniteBufferPartition(){return this._infiniteBufferPartition}static declareType(){e.declareType({type:"CSIInfiniteBufferPartitionParam",serialize:r,unserialize:n}),i.prototype.declareType()}}return o})),define("DS/CSIViewModelWebInterfaces/CSIVMClientInfiniteGeometryParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientInfiniteDrawGroupParameter","DS/CSIViewModelWebInterfaces/CSIVMClientInfiniteBufferPartitionParameter","DS/VisualizationProfiler/VisuProfiler"],(function(e,t,i,r,n){"use strict";function a(){return!1}function o(e){n.begin("CSIVMClientInfiniteGeometryParameter::unserialize");let i={},r={infiniteBuffers:i,infdgs:e.readObjectArray(t.valueInfiniteDrawGroups,"CSIInfiniteDrawGroupParam"),binaryBuffer:e.readBuffer(t.valueInfiniteBuffer)};if(r.binaryBuffer.byteLength){const r=e.readObjectArray(t.valueInfiniteBufferPartitions,"CSIInfiniteBufferPartitionParam");for(let e of r)i[e.getInfiniteBufferType()]=e.getInfiniteBufferPartition()}return n.end("CSIVMClientInfiniteGeometryParameter::unserialize"),new s(r)}class s{constructor(e){this._infiniteBuffers=e.infiniteBuffers||{},this._infdgs=e.infdgs||[],this._binaryBuffer=e.binaryBuffer||null}getInfiniteBufferPartition(e){return this._infiniteBuffers[e]}getBuffer(){return this._binaryBuffer}getInfiniteDrawGroups(){return this._infdgs}getInfiniteGeometryAsFloat32Array(){const e=this.getInfiniteBufferPartition(r.infiniteBufferPartitionValues.infiniteGeometryArray);return e&&e.getByteLength()&&e.getBytePerElement()?new Float32Array(this.getBuffer(),e.getOffset(),e.getByteLength()/e.getBytePerElement()):null}getAdditionalDataAsUint8Array(e=0){const t=this.getInfiniteBufferPartition(r.infiniteBufferPartitionValues.additionalDataArray);if(t&&t.getByteLength()&&t.getBytePerElement()){let i=new Uint8Array(this.getBuffer(),t.getOffset(),t.getByteLength()/t.getBytePerElement());return e&&(i=i.slice(e)),i}return null}getAdditionalDataAsParsedJson(e=0){return new TextDecoder("utf-8").decode(this.getAdditionalDataAsUint8Array(e))}static declareType(){e.declareType({type:"CSIInfiniteGeometryParam",serialize:a,unserialize:o}),i.prototype.declareType(),r.declareType()}}return s})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisCurveClippingFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){this._curveCount=e.curveCount||0,this._vertexCounts=e.vertexCounts||[],this._vertices=e.vertices||[],this._normals=e.normals||[],this._transformFromVertices=e.transformFromVertices||!1}getCurveCount(){return this._curveCount}getVertexCounts(){return this._vertexCounts}getVertices(){return this._vertices}getNormals(){return this._normals}getTransformFromVertices(){return this._transformFromVertices}serialize(e,i){e.writeUint32(t.valueVisFilter_CurveCount,i._curveCount),e.writeUint32Array(t.valueVisFilter_VertexCounts,i._vertexCounts),e.writeFloatArray(t.valueVisFilter_Vertices,i._vertices),e.writeFloatArray(t.valueVisFilter_Normals,i._normals),e.writeBool(t.valueVisFilter_TransformFromVertices,i._transformFromVertices)}unserialize(e){let i={curveCount:e.readUint32(t.valueVisFilter_CurveCount),vertexCounts:e.readUint32Array(t.valueVisFilter_VertexCounts),vertices:e.readFloatArray(t.valueVisFilter_Vertices),normals:e.readFloatArray(t.valueVisFilter_Normals),transformFromVertices:e.readBool(t.valueVisFilter_TransformFromVertices)};return new r(i)}declareType(){e.declareType({type:"CSIViewModelVisCurveClippingFilter",serialize:this.serialize,unserialize:this.unserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisIndicesDescriptionParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i,r){"use strict";function n(){return!1}function a(e){let t={type:e.readUint8(r.Type),nbIndices:e.readUint32(r.NbIndices),offset:e.readUint32(r.valueOffset),connectivityType:e.readUint16(r.ConnectivityType),id:e.readUint64(r.RawBufferID)};return new o(t)}class o{constructor(e){this._type=e.type,this._nbIndices=e.nbIndices,this._offset=e.offset,this._connectivityType=e.connectivityType,this._id=e.id,this._rawbufferId=e.id}getType(){return this._type}getNbIndices(){return this._nbIndices}getOffset(){return this._offset}getConnectivityType(){return this._connectivityType}getId(){return this._id}static declareType(){i.declareType({type:"CSIVisIndicesDescription",serialize:n,unserialize:a})}}return o})),define("DS/CSIViewModelWebInterfaces/CSIVMClientAdvancedMultiHighlightData",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t){"use strict";class i{constructor(e){this.haloActivation=e.haloActivation,this.haloColor=e.haloColor,this.haloIntensity=e.haloIntensity,this.outlineActivation=e.outlineActivation,this.outlineColor=e.outlineColor,this.outlineThickness=e.outlineThickness,this.faceIntensity=e.faceIntensity,this.occludedFaceIntensity=e.occludedFaceIntensity}serialize(e,i){e.writeBool(t.HaloActivation,i.haloActivation),e.writeUint32(t.HaloColor,i.haloColor),e.writeFloat(t.HaloIntensity,i.haloIntensity),e.writeBool(t.OutlineActivation,i.outlineActivation),e.writeUint32(t.OutlineColor,i.outlineColor),e.writeFloat(t.OutlineThickness,i.outlineThickness),e.writeFloat(t.FaceIntensity,i.faceIntensity),e.writeFloat(t.OccludedFaceIntensity,i.occludedFaceIntensity)}unserialize(e){const r={haloActivation:e.readBool(t.HaloActivation),haloColor:e.readUint32(t.HaloColor),haloIntensity:e.readFloat(t.HaloIntensity),outlineActivation:e.readBool(t.OutlineActivation),outlineColor:e.readUint32(t.OutlineColor),outlineThickness:e.readFloat(t.OutlineThickness),faceIntensity:e.readFloat(t.FaceIntensity),occludedFaceIntensity:e.readFloat(t.OccludedFaceIntensity)};return new i(r)}declareType(){e.declareType({type:"CSIAdvancedMultiHighlightData",serialize:this.serialize,unserialize:this.unserialize})}}return i})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisPrimitiveParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientVisAttributeParameter","DS/CSIViewModelWebInterfaces/CSIVMClientVisIndicesDescriptionParameter","DS/CSIViewModelWebInterfaces/CSIVMClientVisVerticesDescriptionParameter"],(function(e,t,i,r,n,a,o){"use strict";function s(){return!1}function l(e){return new d(e)}class d{constructor(e){this._verticesDescription=e.readObject(r.VisVerticesDescription,"CSIVisVerticesDescription"),this._indicesDescription=e.readObjectArray(r.VisIndicesDescriptions,"CSIVisIndicesDescription"),this._attribute=e.readObject(r.VisAttribute,"CSIVisAttribute"),this._id=e.readUint32("id"),this._object=void 0}getVerticesDescription(){return this._verticesDescription}getIndicesDescription(){return this._indicesDescription}getAttribute(){return this._attribute}getId(){return this._id}shouldRetrieveObject(){return void 0===this._verticesDescription}setObject(e){this._object=e}getObject(){return this._object}static declareType(){i.declareType({type:"CSIVisPrimitive",serialize:s,unserialize:l}),n.declareType(),a.declareType(),o.declareType()}}return d})),define("DS/CSIViewModelWebInterfaces/CSIVMClientHighlightRenderingData",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientAdvancedMultiHighlightData"],(function(e,t,i){"use strict";class r{constructor(e){this._standardActivation=e.standardActivation,this._outlineData=e.outlineData,this._haloData=e.haloData,this._scanData=e.scanData,this._politnessData=e.politnessData,this._multiColorData=e.multiColorData,this._advancedPolitnessData=e.advancedPolitnessData,this._advancedMultiHLSlots=e.advancedMultiHLSlots}getMultiColorHighlightSlots(){return this._multiColorData&&this._multiColorData.highlightSlots}getStandardActivation(){return this._standardActivation}getOutlineData(){return this._outlineData}getHaloData(){return this._haloData}getScanData(){return this._scanData}getPolitnessData(){return this._politnessData}getMultiColorData(){return this._multiColorData}getAdvancedPolitnessData(){return this._advancedPolitnessData}getAdvancedMultiHighlightSlots(){return this._advancedMultiHLSlots}serialize(e,i){e.writeBool(t.StandardActivation,i._standardActivation),e.writeBool(t.OutlineActivation,i._outlineData.activation),e.writeUint32(t.OutlineColor,i._outlineData.color),e.writeBool(t.HaloActivation,i._haloData.activation),e.writeUint32(t.HaloColor,i._haloData.color),e.writeUint32(t.HaloLevel,i._haloData.level),e.writeFloat(t.HaloSize,i._haloData.size),e.writeFloat(t.HaloIntensity,i._haloData.intensity),e.writeBool(t.ScanActivation,i._scanData.activation),e.writeUint32(t.ScanColor,i._scanData.color),e.writeFloat(t.ScanIntensity,i._scanData.intensity),e.writeBool(t.PolitnessActivation,i._politnessData.activation),e.writeUint32(t.PolitnessColor,i._politnessData.color),e.writeUint32(t.PolitnessMeshAlpha,i._politnessData.meshAlpha),e.writeUint32(t.PolitnessOccludedMeshAlpha,i._politnessData.occludedMeshAlpha),e.writeUint32(t.PolitnessEdgeThicknessDeltaEdgeSelected,i._politnessData.edgeThicknessDeltaEdgeSelected),e.writeUint32(t.PolitnessEdgeThicknessDeltaFaceSelected,i._politnessData.edgeThicknessDeltaFaceSelected),e.writeUint32(t.PolitnessOccludedEdgeAlpha,i._politnessData.occludedEdgeAlpha),e.writeUint32(t.PolitnessOccludedEdgeDotted,i._politnessData.occludedEdgeDotted),e.writeUint32(t.PolitnessPointSize,i._politnessData.pointSize),e.writeUint32(t.PolitnessOccludedPointAlpha,i._politnessData.occludedPointAlpha),e.writeBool(t.MultiColorActivation,i._multiColorData.activation),e.writeUint32Array(t.MultiColorHighlightSlots,i._multiColorData.highlightSlots),e.writeBool(t.AdvancedPolitnessActivation,i._advancedPolitnessData.activation),e.writeUint32(t.AdvancedPolitnessColor,i._advancedPolitnessData.color),e.writeUint32(t.AdvancedPolitnessOutlineColor,i._advancedPolitnessData.outlineColor),e.writeUint32(t.AdvancedPolitnessHaloColor,i._advancedPolitnessData.haloColor),e.writeUint32(t.AdvancedPolitnessVisibleFaceAlpha,i._advancedPolitnessData.visibleFaceAlpha),e.writeUint32(t.AdvancedPolitnessOccludedFaceAlpha,i._advancedPolitnessData.occludedFaceAlpha),e.writeFloat(t.AdvancedPolitnessFaceThickness,i._advancedPolitnessData.faceThickness),e.writeFloat(t.AdvancedPolitnessHaloIntensity,i._advancedPolitnessData.haloIntensity),e.writeBool(t.AdvancedPolitnessEdgeAndMarkerPolite,i._advancedPolitnessData.edgeAndMarkerPolite),i._advancedMultiHLSlots&&e.writeObjectArray(t.AdvancedMultiHighlightSlots,"CSIAdvancedMultiHighlightData",i._advancedMultiHLSlots)}unserialize(e){const i={activation:e.readBool(t.OutlineActivation),color:e.readUint32(t.OutlineColor)},n={activation:e.readBool(t.HaloActivation),color:e.readUint32(t.HaloColor),level:e.readUint32(t.HaloLevel),size:e.readFloat(t.HaloSize),intensity:e.readFloat(t.HaloIntensity)},a={activation:e.readBool(t.ScanActivation),color:e.readUint32(t.ScanColor),intensity:e.readFloat(t.ScanIntensity)},o={activation:e.readBool(t.PolitnessActivation),color:e.readUint32(t.PolitnessColor),meshAlpha:e.readUint32(t.PolitnessMeshAlpha),occludedMeshAlpha:e.readUint32(t.PolitnessOccludedMeshAlpha),thicknessDeltaEdgeSelected:e.readUint32(t.PolitnessEdgeThicknessDeltaEdgeSelected),thicknessDeltaFaceSelected:e.readUint32(t.PolitnessEdgeThicknessDeltaFaceSelected),occludedEdgeAlpha:e.readUint32(t.PolitnessOccludedEdgeAlpha),occludedEdgeDotted:e.readUint32(t.PolitnessOccludedEdgeDotted),pointSize:e.readUint32(t.PolitnessPointSize),occludedPointAlpha:e.readUint32(t.PolitnessOccludedPointAlpha)},s={activation:e.readBool(t.MultiColorActivation),highlightSlots:e.readUint32Array(t.MultiColorHighlightSlots)},l={activation:e.readBool(t.AdvancedPolitnessActivation),color:e.readUint32(t.AdvancedPolitnessColor),outlineColor:e.readUint32(t.AdvancedPolitnessOutlineColor),haloColor:e.readUint32(t.AdvancedPolitnessHaloColor),visibleFaceAlpha:e.readUint32(t.AdvancedPolitnessVisibleFaceAlpha),occludedFaceAlpha:e.readUint32(t.AdvancedPolitnessOccludedFaceAlpha),faceThickness:e.readFloat(t.AdvancedPolitnessFaceThickness),haloIntensity:e.readFloat(t.AdvancedPolitnessHaloIntensity),edgeAndMarkerPolite:e.readBool(t.AdvancedPolitnessEdgeAndMarkerPolite)},d={standardActivation:e.readBool(t.StandardActivation),outlineData:i,haloData:n,scanData:a,politnessData:o,multiColorData:s,advancedPolitnessData:l};return void 0!==e.exists(t.AdvancedMultiHighlightSlots)&&(d.advancedMultiHLSlots=e.readObjectArray(t.AdvancedMultiHighlightSlots,"CSIAdvancedMultiHighlightData")),new r(d)}declareType(){e.declareType({type:"CSIHighlightRenderingData",serialize:this.serialize,unserialize:this.unserialize}),i.prototype.declareType()}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientSupportParameters",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientVisClippingPlane","DS/CSIViewModelWebInterfaces/CSIVMClientVis2DModeFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisAnnotation","DS/CSIViewModelWebInterfaces/CSIVMClientHighlightRenderingData"],(function(e,t,i,r,n,a){"use strict";class o{constructor(e){this._viewerType=e.viewerType,this._highlightRenderingData=e.highlightRenderingData,this._prehighlightRenderingData=e.prehighlightRenderingData,this._fog=e.fog,this._background3DViewMode=e.background3DViewMode,this._blankingPolygonMode=e.blankingPolygonMode,this._multiviewSyncMode=e.multiviewSyncMode,this._dynamicMode=e.dynamicMode,this._clippingPlane=e.clippingPlane,this._2DMode=e.support2DMode,this._viewModeAnnotation=e.viewModeAnnotation,this._MainViewpointUID=e.mainViewpointUID}getMultiColorHighlightSlots(){return this._highlightRenderingData&&this._highlightRenderingData.getMultiColorHighlightSlots()}getViewerType(){return this._viewerType}getHighlightRenderingData(){return this._highlightRenderingData}getPrehighlightRenderingData(){return this._prehighlightRenderingData}getFog(){return this._fog}getBackground3DViewMode(){return this._background3DViewMode}getBlankingPolygonMode(){return this._blankingPolygonMode}getMultiviewSyncMode(){return this._multiviewSyncMode}getDynamicMode(){return this._dynamicMode}getSupportClippingPlane(){return this._clippingPlane}get2DMode(){return this._2DMode}getViewModeAnnotation(){return this._viewModeAnnotation}getMainViewpointUID(){return this._MainViewpointUID}serialize(e,i){e.writeString(t.ViewerType,i._viewerType),e.writeObject(t.HighlightRenderingData,"CSIHighlightRenderingData",i._highlightRenderingData),e.writeObject(t.PrehighlightRenderingData,"CSIHighlightRenderingData",i._prehighlightRenderingData),e.writeBool(t.Fog,i._fog),e.writeInt32(t.Background3DViewMode,i._background3DViewMode),e.writeBool(t.BlankingPolygonMode,i._blankingPolygonMode),e.writeBool(t.MultiviewSyncMode,i._multiviewSyncMode),e.writeBool(t.DynamicMode,i._dynamicMode),e.writeObject(t.SupportClippingPlane,"CSIViewModelVisClippingPlane",i._clippingPlane),void 0!==i._2DMode&&e.writeObject(t.Support2DMode,"CSIViewModelVis2DModeFilter",i._2DMode),void 0!==i._viewModeAnnotation&&e.writeObject(t.SupportViewModeAnnotation,"CSIViewModelVisAnnotation",i._viewModeAnnotation),void 0!==i._MainViewpointUID&&e.writeUint32(t.MainViewpointUID,i._MainViewpointUID)}unserialize(e){const i={viewerType:e.readString(t.ViewerType),highlightRenderingData:e.readObject(t.HighlightRenderingData,"CSIHighlightRenderingData"),prehighlightRenderingData:e.readObject(t.PrehighlightRenderingData,"CSIHighlightRenderingData"),fog:e.readBool(t.Fog),background3DViewMode:e.readInt32(t.Background3DViewMode),blankingPolygonMode:e.readBool(t.BlankingPolygonMode),multiviewSyncMode:e.readBool(t.MultiviewSyncMode),dynamicMode:e.readBool(t.DynamicMode),clippingPlane:e.readObject(t.SupportClippingPlane,"CSIViewModelVisClippingPlane")};return void 0!==e.exists(t.Support2DMode)&&(i.support2DMode=e.readObject(t.Support2DMode,"CSIViewModelVis2DModeFilter")),void 0!==e.exists(t.SupportViewModeAnnotation)&&(i.viewModeAnnotation=e.readObject(t.SupportViewModeAnnotation,"CSIViewModelVisAnnotation")),void 0!==e.exists(t.MainViewpointUID)&&(i.mainViewpointUID=e.readUint32(t.MainViewpointUID)),new o(i)}declareType(){e.declareType({type:"CSISupportParameters",serialize:this.serialize,unserialize:this.unserialize}),i.prototype.declareType(),r.prototype.declareType(),n.prototype.declareType(),a.prototype.declareType()}}return o})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisPrimitiveGroupRepParameter",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientVisPrimitiveParameter","DS/CSIViewModelWebInterfaces/CSIVMClientVisSkeletonSkinningParameter","DS/CSIViewModelWebInterfaces/CSIVMClientVisRawBufferParameter","DS/VisualizationProfiler/VisuProfiler"],(function(e,t,i,r,n,a,o,s){"use strict";let l=function(){return!1},d=function(e){s.begin("CSIVMClientVisPrimitiveGroupRepParameter::unserialize");let t=new c(e);return s.end("CSIVMClientVisPrimitiveGroupRepParameter::unserialize"),t};class c{constructor(e){this.visPrimitives=e.readObjectArray(r.valuePrimitives,"CSIVisPrimitive"),this.skeletonSkinning=e.readObject(r.valueSkeletonSkinning,"CSIVisSkeletonSkinning"),this.rawBuffers=e.readObjectArray(r.RawBufferArray,"CSIVisRawBuffer")}}return c.declareType=function(){i.declareType({type:"CSIVisPrimitiveGroupRep",serialize:l,unserialize:d}),n.declareType(),a.declareType(),o.declareType()},c})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientVisPrimitiveGroupRepParameter"],(function(e,t,i){"use strict";function r(e){this._visPrimitiveGroupRep=e.visPrimitiveGroupRep||void 0}r.prototype.getVisPrimitiveGroupRep=function(){return this._visPrimitiveGroupRep};let n=function(){return!1},a=function(e){return new r({visPrimitiveGroupRep:e.readObject(t.VisPrimitiveGroupRep,"CSIVisPrimitiveGroupRep")})};return r.prototype.declareType=function(){e.declareType({type:"CSIVisParam",serialize:n,unserialize:a}),i.prototype.declareType()},r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisRepViewModeFilter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],(function(e,t,i){"use strict";class r{constructor(e){this._repViewMode=e.repViewMode}getRepViewMode(){return this._repViewMode}serialize(e,i){e.writeInt32(t.valueVisFilter_RepViewMode,i._repViewMode)}unserialize(e){let i={repViewMode:e.readInt32(t.valueVisFilter_RepViewMode)};return new r(i)}declareType(){e.declareType({type:"CSIViewModelVisRepViewModeFilter",serialize:this.serialize,unserialize:this.unserialize})}}return r})),define("DS/CSIViewModelWebInterfaces/CSIVMClientObject",["require","exports","DS/CSIViewModelWebInterfaces/CSIViewModelWebEnv","DS/CSIViewModelWebInterfaces/CSIVMClientStateMode"],(function(e,t,i,r){"use strict";class n{constructor(){this._parents=[]}get _associatedObject(){return i.throwFun("_associatedObject, use getAssociatedObject"),this._obj}getAssociatedObject(){return this._obj}setAssociatedObject(e){this._obj=e}reset(){this._obj&&this._obj.setIdentificationObject(0),this._obj=void 0}}class a{constructor(){}*keys(e=!1){let t=Object.keys(this);for(const e of t)yield parseInt(e)}init(e){if(void 0!==this[e])throw new Error("Already have an assigned view object");const t=new n;return this[e]=t,t}get(e){return this[e]}reset(){for(const e of Array.from(this.keys())){let t=this.get(e);t&&(t.reset(),delete this[e])}}}return class{constructor(e,t,i){this._ViewDataMap=new a,this._idPattern=i,this._localId=t,this._namespace=e}static get newVersion(){return!0}tryDestroy(){if(void 0===this._localId)return!1;if(this.getAllParents(r.Permanent).length)return!1;for(const e of this._ViewDataMap.keys()){let t=this._ViewDataMap.get(e)._children;if(t&&0!==t.length){t=[...t];for(const i of t)this._removeChild(e,i,!0)}}return this.clear(),!0}clear(){this._dualObject&&(delete this._dualObject._dualObject,delete this._dualObject._dualViewType,delete this._dualObject,delete this._dualViewType),this._ViewDataMap.reset(),this._namespace.removeObject(this,!1),this._idPattern=void 0,this._namespace=void 0,this._localId=void 0}isRoot(){return this._isRoot}setRoot(){this._isRoot=!0,this._namespace.setRootObject(this)}isLeaf(e){return(this._ViewDataMap.get(e.getViewType())?._children?.length??0)>0}getLocalId(){return this._localId}getIdPattern(){return this._idPattern}getGlobalId(){return`${this._idPattern._idContext}#${this._localId}`}associateViewElt(e,t){return this.setAssociatedObject(t,e.getViewType())}setAssociatedObject(e,t){this._getOrCreateViewData(t),this._ViewDataMap.get(t).setAssociatedObject(e)}getAssociatedObject(e,t=!0){let i=this._ViewDataMap.get(e)?.getAssociatedObject();return void 0===i&&this._dualObject&&t&&(i=this.getDualObject(e)?.getAssociatedObject(e,!1)),i}getAssociatedViewElt(e){return this.getAssociatedObject(e.getViewType())}addChild(e,t){var i;((i=this._ViewDataMap.get(e.getViewType()))._children??(i._children=[])).push(t),t._addParent(e,this)}reserveForAdditionalChildren(e,t){const i=this._ViewDataMap.get(e.getViewType())._children;let r=i.length;return i.length+=t,r}setChildrenAt(e,t,i){this._ViewDataMap.get(e.getViewType())._children[t]=i}addChildren(e,t){var i;const r=(i=this._ViewDataMap.get(e.getViewType()))._children??(i._children=[]),n=r.length;r.length=r.length+t.length;for(let i=0;i<t.length;i++)r[n+i]=t[i],t[i]._addParent(e,this)}getChildren(e,t){return this._ViewDataMap.get(e.getViewType())?._children}getMappedChildren(e,t){let i=new Map;const r=this._ViewDataMap.get(e.getViewType())._children;if(r)for(let e of r)i.set(e._localId,e);return i}removeChild(e,t){return this._removeChild(e.getViewType(),t,!1)}_removeChild(e,t,i){let r=this._ViewDataMap.get(e)._children;const n=r.indexOf(t);if(-1===n)throw new Error("Could not find child to remove");return r.splice(n,1),t._removeParent(this,e),0===t._ViewDataMap.get(e)._parents.length&&(i&&t.tryDestroy(),!0)}_removeParent(e,t){const i=this._ViewDataMap.get(t)._parents,r=i.indexOf(e);i.splice(r,1)}getChildrenWithId(e,t,i){let n=[];for(let t of this.getChildren(e,r.Permanent))i.includes(t._localId)&&n.push(t);return n}_addParent(e,t){this._ViewDataMap.get(e.getViewType())._parents.push(t)}getDualObject(e){if(e===this._dualViewType||void 0===e)return this._dualObject}getDualAssociatedObject(e){return this.getDualObject(e)?.getAssociatedObject(e)}setDualObject(e,t){this._dualObject=t,this._dualViewType=e}get _dualObj(){return i.throwFun("_dualObj : use getDualObject(type : CSIVMClientTreeKey.ViewType) :  CSIVMClientObject"),this._dualObject}get _ViewDatas(){return i.throwFun("_ViewDatas : use getAssociatedObject directly I want to remove ViewData object to make view model smaller"),this._ViewDataMap}_getOrCreateViewData(e){let t=this._ViewDataMap.get(e);return void 0===t&&(t=this._ViewDataMap.init(e)),t}getNameSpace(){return this._namespace}getViewData(e){return this._ViewDataMap.get(e.getViewType())}deleteViewData(){throw new Error("deleteViewData")}isEmpty(){return 0===Array.from(this._ViewDataMap.keys()).length&&!this.isRoot()}isTemporary(){throw new Error("isTemporary")}getKey(e){for(const t of this._ViewDataMap.keys())if(e===this._ViewDataMap.get(t).getAssociatedObject())return this.getNameSpace().getTreeKeyFromViewType(t)}activateChildrenMapping(){}getAllParents(e){let t=new Set;for(const e of this._ViewDataMap.keys())for(const i of this._ViewDataMap.get(e)._parents)t.add(i);return Array.from(t)}getParents(e,t){return this._ViewDataMap.get(e.getViewType())._parents}addParent(){throw new Error("addParent")}removeChildren(){throw new Error("removeChildren")}removeParent(){throw new Error("removeParent")}getAllChildren(){throw new Error("getAllChildren")}getMainObject(){}addObject(){throw new Error("addObject")}preCommit(){}commit(e){}abort(){}getFirstParentsDefiningNameSpaceOfThis(){return[]}}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientVisFilter",["require","exports","DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientVisClippingFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisRepViewModeFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisCircularScissorFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisPolygonalScissorFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisClippingVolumesFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisAnnotation","DS/CSIViewModelWebInterfaces/CSIVMClientVis2DModeFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisLayerFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisZModeFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisGASInheritFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisClippingSphereFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisAlphaFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisCurveClippingFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisViewportFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisFurtiveFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisPolygonOffsetFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisDynamicModeFilter","DS/CSIViewModelWebInterfaces/CSIVMClientVisHighlightFilter"],(function(e,t,i,r,n,a,o,s,l,d,c,u,h,p,S,C,f,I,g,V,m){"use strict";const w={CSIViewModelVisClippingFilter:["clippingFilter",r],CSIViewModelVisRepViewModeFilter:["repViewModeFilter",n],CSIViewModelVisCircularScissorFilter:["circularScissorFilter",a],CSIViewModelVisPolygonalScissorFilter:["polygonalScissorFilter",o],CSIViewModelVisClippingVolumesFilter:["clippingVolumesFilter",s],CSIViewModelVisAnnotation:["annotation",l],CSIViewModelVis2DModeFilter:["modeFilter2D",d],CSIViewModelVisLayerFilter:["layerFilter",c],CSIViewModelVisZModeFilter:["zModeFilter",u],CSIViewModelVisGASInheritFilter:["gasInheritFilter",h],CSIViewModelVisClippingSphereFilter:["clippingSphereFilter",p],CSIViewModelVisAlphaFilter:["alphaFilter",S],CSIViewModelVisCurveClippingFilter:["curveClippingFilter",C],CSIViewModelVisViewportFilter:["viewportFilter",f],CSIViewModelVisFurtiveFilter:["furtiveFilter",I],CSIViewModelVisPolygonOffsetFilter:["polygonOffsetFilter",g],CSIViewModelVisDynamicModeFilter:["dynamicModeFilter",V],CSIViewModelVisHighlightFilter:["highlightFilter",m]};function M(e,t){for(let[i,r]of Object.entries(w)){let[n,a]=r;if(t instanceof a)return e.writeObject(n,i,t)}return!1}function y(e){let t;for(let[i,r]of Object.entries(w)){let n=r[0];if(e.exists(n)){t=e.readObject(n,i);break}}return t}return class{declareType(){i.declareType({type:"CSIViewModelVisFilter",serialize:M,unserialize:y});for(let[e,t]of Object.values(w))t.prototype.declareType()}}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientAttributes",["require","exports","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","CSIMathematics/CSIMathematicsDeclareTypes","DS/CSIViewModelWebInterfaces/CSIVMClientVisFilter","DS/CSIViewModelWebInterfaces/CSIVMClientISODataParameter","DS/CSIViewModelWebInterfaces/CSIVMClientPLMDataParameter","DS/CSIViewModelWebInterfaces/CSIVMClient2DTo3DDataParameter","DS/CSIViewModelWebInterfaces/CSIVMClientBillboardDataParameter","DS/CSIViewModelWebInterfaces/CSIVMClientFixedSizeDataParameter","DS/CSIViewModelWebInterfaces/CSIVMClientSemanticAttributeDataParameter","DS/CSIViewModelWebInterfaces/CSIVMClientVis3DGroupeNodeRepDataParameter","DS/CSIViewModelWebInterfaces/CSIVMClientCAT3DProjectionBagRepDataParameter","DS/CSIViewModelWebInterfaces/CSIVMClientLodDataParameter","DS/CSIViewModelWebInterfaces/CSIVMClientCAT3DUniformLatticeRepDataParameter","DS/CSIViewModelWebInterfaces/CSIVMClientCATBagRepWithToleranceScaleParameter","DS/CSIViewModelWebInterfaces/CSIVMClientCAT2DAdvancedInheritanceBagRepParameter","DS/CSIViewModelWebInterfaces/CSIVMClientCAT2DLinkableBagRepParameter","DS/CSIViewModelWebInterfaces/CSIVMClientCAT2DBagRepWithAdvancedTablesParameter","DS/CSIViewModelWebInterfaces/CSIVMClientCAT3DGaussianSplatRepParameter"],(function(e,t,i,r,n,a,o,s,l,d,c,u,h,p,S,C,f,I,g,V){"use strict";var m;!function(e){e[e.ISO=0]="ISO",e[e.FIXED_SIZE=1]="FIXED_SIZE",e[e.BILLBOARD=2]="BILLBOARD",e[e.TWOD_TO_3D=3]="TWOD_TO_3D",e[e.PLM=4]="PLM",e[e.SEMANTIC=5]="SEMANTIC",e[e.VIS_GROUP=6]="VIS_GROUP",e[e.VIS_FIXED_GROUP=7]="VIS_FIXED_GROUP",e[e.LATTICE=8]="LATTICE",e[e.TOLERANCE2D=9]="TOLERANCE2D",e[e.TOLERANCE3D=10]="TOLERANCE3D",e[e.ADVANCED_INHERITANCE=11]="ADVANCED_INHERITANCE",e[e.LINKABLE=12]="LINKABLE",e[e.UDL=13]="UDL",e[e.GAUSSIAN_SPLAT=14]="GAUSSIAN_SPLAT",e[e.PROJECTION=15]="PROJECTION",e[e.LOD=16]="LOD",e[e.FIXED_SIZE_MUTABLE=17]="FIXED_SIZE_MUTABLE",e[e.SIZE=18]="SIZE",e[e.FILTER=19]="FILTER"}(m||(m={}));let w=new Array(m.SIZE);w[m.ISO]=a.prototype.unserialize,w[m.FIXED_SIZE]=d.deserialize,w[m.FIXED_SIZE_MUTABLE]=d.deserializeMutable,w[m.BILLBOARD]=l.prototype.unserialize,w[m.TWOD_TO_3D]=s.prototype.unserialize,w[m.PLM]=o.prototype.unserialize,w[m.SEMANTIC]=c.prototype.unserialize,w[m.VIS_GROUP]=u.unserialize,w[m.VIS_FIXED_GROUP]=u.unserialize,w[m.LATTICE]=S.deserialize,w[m.TOLERANCE2D]=C.deserialize,w[m.TOLERANCE3D]=C.deserialize,w[m.ADVANCED_INHERITANCE]=f.deserialize,w[m.LINKABLE]=I.deserialize,w[m.UDL]=g.deserialize,w[m.GAUSSIAN_SPLAT]=V.deserialize,w[m.PROJECTION]=h.deserialize,w[m.LOD]=p.deserialize;class M{constructor(e,t,r){this._type=e,void 0!==this._type&&(this._data=w[e](t)),r&&(this._positionMatrix=r.readObject(i.valuePositionMatrix,"CATMathTransformation"),this._filters=r.readObjectArray(i.valueFilters,"CSIViewModelVisFilter"))}getPositionMatrix(){return this._positionMatrix}getFilters(){return this._filters}getISOData(){return m.ISO==this._type?this._data:void 0}getPLMData(){return m.PLM==this._type?this._data:void 0}get2DTo3DData(){return m.TWOD_TO_3D==this._type?this._data:void 0}getBillboardData(){return m.BILLBOARD==this._type?this._data:void 0}getFixedSizeData(){return[m.FIXED_SIZE,m.FIXED_SIZE_MUTABLE].includes(this._type)?this._data:void 0}getSemanticData(){return m.SEMANTIC==this._type?this._data:void 0}getVis3DGroupeNodeRepData(){return[m.VIS_GROUP,m.VIS_FIXED_GROUP].includes(this._type)?this._data:void 0}getLodData(){return m.LOD==this._type?this._data:void 0}get3DProjectionData(){return m.PROJECTION==this._type?this._data:void 0}get3DUniformLatticeData(){return m.LATTICE==this._type?this._data:void 0}getWithToleranceScale(){return[m.TOLERANCE2D,m.TOLERANCE3D].includes(this._type)?this._data:void 0}getAdvancedInheritance(){return m.ADVANCED_INHERITANCE==this._type?this._data:void 0}getLinkable(){return m.LINKABLE==this._type?this._data:void 0}getUDL(){return m.UDL==this._type?this._data:void 0}getGaussian(){return m.GAUSSIAN_SPLAT==this._type?this._data:void 0}}return M.declareTypes=function(e){r.declareTypes(e,"CATMathTransformation"),n.prototype.declareType()},M})),define("DS/CSIViewModelWebInterfaces/CSIVMClientNameSpace",["UWA/Core","DS/CSIViewModelWebInterfaces/CSIViewModelWebEnv","DS/CSIViewModelWebInterfaces/CSIVMClientObject","DS/CSIViewModelWebInterfaces/CSIVMClientObjectOld","DS/CSIViewModelWebInterfaces/CSIVMStringMap","DS/CSIViewModelWebInterfaces/CSIVMClientTreeKey","DS/CSIViewModelWebInterfaces/CSIVMClientStateMode"],(function(e,t,i,r,n,a,o){"use strict";return class{constructor(e,t,i){this._treeKeys={},this._objects=new n,this._uuid=e,this._model=t,this._rootObj=void 0,this._sceneId=i}clear(e){if(void 0!==e){t.useNewVMClientObject&&this._rootObj&&this._rootObj.tryDestroy(),delete this._treeKeys[e.getViewType()];let i=e.getUUID();0===this._objects.size()&&(this._model.removeNameSpace(this),this._model.removeTreeKey(i))}(this.isEmpty()||void 0===e)&&(void 0===this._objects||t.useNewVMClientObject||this._objects.clear(),this._treeKeys={},this._rootObj=void 0)}getSceneId(){return this._sceneId}isEmpty(){return 0===this._objects.size()||(null==this._treeKeys||0===Object.keys(this._treeKeys).length)}addTreeKey(e){void 0!==e&&(this._treeKeys[e.getViewType()]=e)}getTreeKey(e){return this._model.getTreeKey(e)}getAllTreeKeys(){return Object.values(this._treeKeys)}getTreeKeyFromViewType(e){return this._treeKeys[e]}isNameSpaceOfTreeKey(e){return void 0!==e&&this._treeKeys[e.getViewType()]===e}setRootObject(e){this._rootObj=e}getRootObject(){return this._rootObj}getObjects(e,t){let i=[];return this._objects.forEachValue((function(t){t.getIdPattern()===e&&i.push(t)}),t),i}getObject(e,t){const i=this._objects.get(t);if(i&&i.length)for(const t of i)if(t.getIdPattern()===e)return t}getObjectsFromCtx(e,t){let i=[],r=[];this._objects.forEachValue((function(t,n){if(void 0===t._localId)return r.push(n),!1;t.getIdPattern()._idContext===e&&i.push(t)}),t);for(const e of r){let t;do{t=(this._objects.get(e)??[])[0],t&&this._objects.remove(e,t)}while(t)}return i}createObject(e,n){let a;if(t.useNewVMClientObject)a=new i(this,n,e);else{this._model.isAnExistingIdPattern(e)&&(a=new r(this,n,e))}return a&&this._objects.createValue(n,a),a}getOrCreateObject(e,t){let i,r=this.getObjects(e,t);return i=r.length?r[0]:this.createObject(e,t),i}removeObject(e,t=!0){if(void 0!==e){let i=e.getLocalId();this._objects.remove(i,e),t&&e.clear()}}pushNewExistingObject(e){if(0===this.getObjects(e._idPattern,e._localId).length){let t=this._objects.get(e._localId);t.length=0;let i=fromNamespace.getObjects(e._idPattern,e._localId);t.push(i[0])}}commit(e){this._objects.forEachValue((function(t){t.preCommit(e)}));let t=[];this._objects.forEachValue((function(i){i.isEmpty()?t.push(i):i.commit(e)}));for(let e=t.length,i=0;i<e;++i){let e=t[i];this.removeObject(e)}}abort(e){this._objects.forEachValue((function(t){t.abort(e)}))}buildGlobalId(e){let t="",i="",r=null,n=null,a=null,o=!1,s=!0,l=!0;for(let d=e.length-1;d>=0;d--){let c=e[d],u=c.getIdPattern();r=u._idSpace,o=u._shared,a=u._idContext,i=a+"#"+c.getLocalId(),a&&r&&a===n&&(l=!0),l&&(s||(i+="/"),s=!1,i+=t,t=i),l=o,l||(n=r)}return t}findNodesByIdentifier(e){let t=e.split("#"),i=t[0],r=t[1];return this.getObjectsFromCtx(i,r)}has3D(){return e.is(this._treeKeys[a.ViewType.View3D])}}})),define("DS/CSIViewModelWebInterfaces/CSIVMClientModel",["require","exports","DS/CSIViewModelWebInterfaces/CSIVMClientNameSpace","DS/CSIViewModelWebInterfaces/CSIViewModelWebEnv","DS/CSIViewModelWebInterfaces/CSIVMClientIdPattern","DS/CSIViewModelWebInterfaces/CSIVMClientManagerList","DS/CSIViewModelWebInterfaces/CSIVMClientTreeKey","DS/CSIViewModelWebInterfaces/CSIVMClientStateMode"],(function(e,t,i,r,n,a,o,s){"use strict";return class{constructor(){this._nameSpaces={},this._treeKeys={},this._idPatterns=[],this._toCommit=new Map,this._sceneIdToCheck=new Set,this._inWork=!1,this.hasBatching=!1}clear(e){for(const t of this.getNameSpaceIterator(e)){for(const e of t.getAllTreeKeys())delete this._treeKeys[e];t.clear()}void 0!==e?this._nameSpaces[e]=[]:this._nameSpaces={},this._treeKeys={}}clearScene(e){return this.clear(e)}clearTree(e){this.getNameSpace(e).clear(e),r.cleanCbOnClearScene&&this._sceneIdToCheck.add(e.getSceneID())}getOrCreateTreeKey(e,t,i,r,n){let a=this.getTreeKey(e);return void 0===a&&(a=new o(e,t,i,r,n),this._treeKeys[e]=a,this._toCommit.set(t,[])),a}getOrCreateTreeKeyForCGRS(){let e=this.getTreeKey("cgrs");return void 0===e&&(e=new o("cgrs",o.ViewType.View3D,o.View3DType.View3D_Main,0,0),e._nameSpaceId="cgrs",this._treeKeys.cgrs=e),e}getTreeKey(e){return this._treeKeys[e]}getTreeKeysFromViewType(e){let t=[];for(const i of Object.values(this._treeKeys))i.getViewType()===e&&t.push(i);return t}removeTreeKey(e){void 0!==this.getTreeKey(e)&&delete this._treeKeys[e]}removeChild(e,t,i){t.removeChild(e,i)&&this._toCommit.get(e.getViewType()).push(i)}setRootObject(e,t){this.getNameSpace(e,e.getSceneID()).setRootObject(t),t.setRoot()}getIdPattern(e,t,i){let r;if(void 0!==e&&void 0!==t&&void 0!==i){let n=0,a=this._idPatterns.length,o=null;for(n=0;n<a&&void 0===r;n++)o=this._idPatterns[n],o._idSpace===e&&o._idContext===t&&o._shared===i&&(r=o)}return r}isAnExistingIdPattern(e){let t=!1;if(void 0!==e){this._idPatterns.indexOf(e)>-1&&(t=!0)}return t}getOrCreateIdPattern(e,t,i){let r;return void 0!==e&&void 0!==t&&void 0!==i&&(r=this.getIdPattern(e,t,i),void 0===r&&(r=new n(e,t,i),this._idPatterns.push(r))),r}getObject(e,t,i){let r,n=this.getNameSpace(e,e.getSceneID());if(void 0!==n){let e=n.getObjects(t,i);e.length&&(r=e[0])}return r}getNameSpaces(){return this._nameSpaces}createObject(e,t,i){let r,n=this.getNameSpace(e);return void 0!==n&&(r=n.createObject(t,i)),r}getOrCreateObject(e,t,i){let r,n=this.getNameSpace(e);return void 0!==n&&(r=n.getOrCreateObject(t,i)),r}getDualObject(e,t,i){let r,n=this.getTreeKeysFromViewType(e),a=0,o=n.length;for(a=0;a<o&&void 0===r;a++){let e=n[a],o=this.getNameSpace(e);if(void 0!==o){let e=o.getObjects(t,i);void 0!==e&&1===e.length&&(r=e[0])}}return r}addChild(e,t,i){t.addChild(e,i)}addChildren(e,t,i){t.addChildren(e,i)}emptyObject(e,t){const i=t.getChildren(e,s.Permanent)?.slice();if(i)for(const n of i){const i=t.removeChild(e,n);r.useNewVMClientObject&&i&&this._toCommit.get(e.getViewType()).push(n)}}getNameSpace(e,t=void 0){let i;const r=e.getNameSpaceId();for(const n of this.getNameSpaceIterator(t)){if(n.isNameSpaceOfTreeKey(e)){i=n;break}if(n._uuid===r){i=n,i.addTreeKey(e);break}}return i}createNameSpace(e,t=0){let r=new i(e,this,t);return void 0===this._nameSpaces[t]&&(this._nameSpaces[t]=[]),this._nameSpaces[t].push(r),r}getOrCreateNameSpace(e,t=0){let i;if(i=this.getNameSpace(e,t),void 0===i){e.getNameSpaceId().length>0&&(i=this.createNameSpace(e.getNameSpaceId(),t),i.addTreeKey(e))}return i}*getNameSpaceIterator(e=void 0){const t=void 0===e?Object.values(this._nameSpaces):[this._nameSpaces[e]];for(const e of t)if(void 0!==e)for(const t of e)t&&(yield t)}removeNameSpace(e){const t=this._nameSpaces[e.getSceneId()];if(t){const i=t.indexOf(e);i>-1&&(t.splice(i,1),0==t.length&&delete this._nameSpaces[e.getSceneId()])}}findNodesByIdentifier(e,t){let i=[],r=t,n=!1;if(t&&(i=t.findNodesByIdentifier(e)),0==i.length)for(let a of this.getNameSpaceIterator())if(a!==t&&(i=a.findNodesByIdentifier(e),i.length)){r=a,n=!0;break}return[i,r,n]}addSharedObjectToNamespace(e,t,i){if(0===i.getObjects(e._idPattern,e._localId).length){i.createObject(e._idPattern,e._localId);let r=i._objects.get(e._localId);r.length=0;let n=t.getObjects(e._idPattern,e._localId);r.push(n[0])}}decodeGlobalId(e){void 0===e.isOptimizedPath&&(e.isOptimizedPath=!0);const t=e.Node,i=e.Id,n=e.AuthorizePartialPath,a=e.isOptimizedPath,o=i.split("/");let l=e.namespace;void 0===l&&(l=this.getNameSpace(e.treeKey));let d=null,c=[],u=!1,h=[],p=null!=t?t:l.getRootObject();if(a&&h.push(p),e.noPath){let[t,n,a]=this.findNodesByIdentifier(i,l);if(1==t.length)return t;if(1===r.throwOnDupIdentification)return console.warn("[3DSync] Try decode object with duplicate ID. For now get the last seen one..."),t;if(e.canFail)return;throw new Error(`unexpected number of object! for ${i} found ${t.length}`)}for(let e=0;e<o.length&&null!=h;e++){let t,i,S=o[e];[i,d,u]=this.findNodesByIdentifier(S,l);let C=i.length;if(1===C)t=i[0];else if(C){if(1!==r.throwOnDupIdentification)throw new Error("Multiple elements with same id. Not supported anymore. if you use CSI_NEW_CGM_IDENTIFICATION_3DSYNC=0 or CSI_BAGREP_IDENTIFICATION_FROM_CGMID=1 in your odt please update it.");console.warn("[3DSync] Try decode object with duplicate ID. Unsafe patter and introduce PCS issue. Will be deprecated soon.");for(let e=0;e<C&&null==t;e++){let r=i[e].getFirstParentsDefiningNameSpaceOfThis(),n=r.length;for(let a=0;a<n&&null==t;a++)h.indexOf(r[a])>=0&&(t=i[e])}}if(null==t){h=void 0;break}if(u&&c.push(l),l=d,a){let e=t,i=[];for(;t!==p;){if(void 0===t){i=[];break}i.push(t);const e=t.getAllParents(s.Permanent);if(t=e[0],e.length>1){if(-1===e.indexOf(p)){console.warn("Impossible to create a full PathElement from the identifier."),!0!==n?h=void 0:h.splice(0,1);break}t=p}}if(h)for(let e=i.length-1;e>=0;e--)h.push(i[e]);p=e}else h&&h.push(t)}return h}decodeGlobalIdToViewObjects(e,t,i,r,n){let a;const o=this.decodeGlobalId({Node:e,Id:i,isOptimizedPath:n,namespace:this.getNameSpace(t)});if(void 0!==o){a=[];for(const e of o){let i=e.getAssociatedViewElt(t);if(void 0===i){a=void 0;break}a.push(i)}}return a}isEmpty(e=void 0){for(const t of this.getNameSpaceIterator(e))if(!t.isEmpty())return!1;return!0}abortTree(e){{const t=this.getNameSpace(e,e.getSceneID());if(!t)return;t.abort(e)}}commitTree(e){{const t=this.getNameSpace(e,e.getSceneID());if(!t)return;t.commit(e),t.isEmpty()&&this.removeNameSpace(t)}}commit(){for(const[e,t]of this._toCommit){for(const e of t)e.tryDestroy();t.length=0}if(r.cleanCbOnClearScene){for(const e of this._sceneIdToCheck.values()){let t=!1;for(const i of this.getNameSpaceIterator(e))for(const r of i.getAllTreeKeys())if(r.getSceneID()===e){t=!0;break}if(t)continue;const i=a.Find(e);i&&a.Remove(i)}this._sceneIdToCheck.clear()}}*getRoots(){for(let e of Object.values(this._treeKeys)){const t=this.getNameSpace(e);t&&(yield[e,t.getRootObject()])}}setInWork(e){this._inWork=e}getInWork(){return this._inWork}}}));