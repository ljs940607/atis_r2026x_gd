define("DS/DELWebOERSessionModelComp/SessionModelComp",["DS/DELWebOERCommonUtils/DELWebBaseComponent","UWA/Class/Model"],(function(e,t){"use strict";let o=t.extend({validate:function(){}});return class extends e{constructor(e){super(e)}async initialize(){await super.initialize(),this._model=new o,this._modelEvents=this.getModelEvents(),this._model.addEvent("onChange",(e=>{let t=e.changedAttributes();Object.keys(t).forEach((e=>{let o=`onModelChange:${e}`,s={data:t[e]};this.logger.log(`publish event ${o} with params ${JSON.stringify(s)}`),this._modelEvents.publish({event:o,data:s})})),this.logger.log(`publish onModelChange for attributes ${JSON.stringify(t)}`),this._modelEvents.publish({event:"onModelChange",data:{data:t}})}))}async empty(){this._model.clear()}async clean(){await this.empty(),this._model.removeEvent("onChange"),await super.clean()}async destroy(){this.clear(),this._model=null,await super.destroy()}set(...e){return this._model.set.apply(this._model,e)}get(e){return this._model.get(e)}getExposedComponent(){return this.publicAPI=super.getExposedComponent(),this.publicAPI.set=this.set.bind(this),this.publicAPI.get=this.get.bind(this),this.publicAPI.empty=this.empty.bind(this),this.publicAPI}}})),define("DS/DELWebOERSessionModelComp/actions/StandardActions",["UWA/Core","DS/Logger/Logger"],(function(e,t){"use strict";t.getLogger("DS/DELWebOERSessionModelComp/actions/StandardActions");const o="SessionModel";return{addRoots:function(t,s){let n=s.executionContext.getComponent(o),i=s.args.items,r=[],a=e.is(n.get("roots"))?n.get("roots"):[];if(e.is(i,"array"))for(let t of i){if(!e.is(t.id)||!e.is(t.pprType))throw new Error("Invalid Input, id property is missing, please make sure id property for every root added");a.some((e=>e.id===t.id))||r.push(t)}n.set("roots",[...a,...r]),t()},removeRoots:function(e,t){let s=t.executionContext,n=s.getComponent(o),i=t.args.items,r=n.get("roots"),a=s.getComponent(WAfrStandardComponentKey.ModelEvents);if(!r)throw new Error("No roots to filter");r=r.filter((e=>!i.some((t=>t.id===e.id)))),n.set("roots",r),a.publish({event:"onRootsRemoved",data:{data:i}}),e()},empty:async function(e,t={}){let s=t.executionContext.getComponent(o);await s.empty(),e()},setMode:async function(e,t={}){let s=t.executionContext.getComponent(o),n=t.args.mode;s.set("mode",n),e()}}}));