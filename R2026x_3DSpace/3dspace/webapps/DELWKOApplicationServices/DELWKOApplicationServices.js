define("DS/DELWKOApplicationServices/Commands/CommandsServiceCloud",["UWA/Core","DS/CoreEvents/Events","DS/DELPPWModelServices_FD02/ModelUtils","DS/DELPPWServices_FD02/CommandsService/CommandsService","DS/DELPPWNavigationServices_FD02/SwitchDBModeManager"],(function(e,n,t,i,s){"use strict";return function(a){var o,r=[],u=[],l="CommandsService",c=function(e,n){o.notifyApp(e,n)},m=function(e,n){o.toggleModule(e,n)},d=function(){o.initState()},g=function(){var e,n,t,i,s,r,u=a.getPlugins("SelectionPlugin");u?(n=(e=u.instance.getSelections("CMDS"))[0]||[],t=e[1]||[],s=e[2]||[],r=e[3]||[],i=[],o.manageCommandsAvailability(t,i,s,n,r)):a.getLogger().debug(l,"Selection Plugin is not available.")},C=function(){o.manageDocCmdAvailability()},P=function(e){o.toggleCmdCheckHeaderState(e)},b=function(){g();a.getPlugins("SelectionPlugin").instance.getSelections("CMDS")[0]},f=function(){o.authoringCmdAvailability()},E=function(){var n=[],t=a.getPlugins("SelectionPlugin");e.is(t)&&t.isStarted&&(n=(n=t.instance.getSelectionsWithPaths("CMDS")).reduce((function(e,n){return e=e.concat(n)}),[]),c("LoadRelations",[n]))},h=function(){var e=a.getPlugins("TreeViewPlugin");e?(e=e.instance).isGroupingExist()?o.manageCommandsAvailabilityOnGrouping():g():a.getLogger().debug(l,"TreeView Plugin is not available.")};return o=new i(a),e.extend(o,{manageConfigurationCommands:function(n){var t,i=n||{},s=!!e.is(i.isLicenseCFGValid,"boolean")&&i.isLicenseCFGValid,a=!!e.is(i.isRoot,"boolean")&&i.isRoot,r=e.is(i.auxLength,"number")?i.auxLength:0,u=e.is(i.processViewLength,"number")?i.processViewLength:0,l=e.is(i.routingsViewLength,"number")?i.routingsViewLength:0,c=e.is(i.resourceViewLength,"number")?i.resourceViewLength:0,m=e.is(i.selectedItemsCount,"number")?i.selectedItemsCount:0,d=(!!e.is(i.isAuthoring,"boolean")&&i.isAuthoring,!!e.is(i.isCrossLevel,"boolean")&&i.isCrossLevel),g=r>0;t=!g&&!(c>0)&&(l>0||u>0),o.setCommandState("EditConfigurationContext",s&&t),1===m&&(o.setCommandState("DefineFilter",a&&!g),o.setEffectivityCmdState("EditEvolution",s&&!a&&t)),o.setEffectivityCmdState("EditVariant",s&&!a&&t&&!d)},manageReplaceCommandsAvailablity:function(e){var n=e.isRoot,t=e.auxiliaryViewLength,i=e.routingsViewLength;this.setCommandState("ReplaceByLatestRevision",!n&&t<1&&i>0),this.setCommandState("ReplaceByNewRevision",!n&&t<1&&i>0),this.setCommandState("ReplaceByExisting",!n&&t<1&&1===i),this.setCommandState("ReplaceByNewReference",!n&&t<1&&1===i)},getInsertAsCommands:function(n){var t,i,s,o=[];return s=a.getPlugins("DatabasePlugin"),e.is(n)&&e.is(s)&&s.isStarted&&(t=s.instance.getValidChildTypes(n),e.is(t)&&t.length>0&&(i=n.get("PPRTYPE"),["SYSTEM","OPERATION"].indexOf(i)>-1&&o.push("InsertAsCopy"),["SYSTEM","OPERATION","PROCESS","RESOURCE"].indexOf(i)>-1&&o.push("SearchAndAddInstanceCommand"))),o},manageCommandsAvailability:function(n,i,r,u,c){var m,d,g,C,P,b,f,E,h,p,L,S,D,v=this,R=0,A=0,y=0,O=0,W=0,w=0,I=0,V=0,x=0,M=a.getPlugins("DatabasePlugin"),T=a.getPlugins("DicoPlugin"),k=s.isDbMode()||t.getNavigateOnDatabasePreference();if(M&&T){if(M=M.instance,T=T.instance,i=i||[],r=r||[],u=u||[],c=c||[],R=(n=n||[]).length,y=i.length,A=c.length,d=r.length,e.is(r,"array")&&r.forEach((function(n){m=M.getReferenceModel(n),e.is(m)&&("PART"===(L=m.get("PPRTYPE"))||"PRODUCT"===L?y++:"PROCESS"===L?R++:"SYSTEM"===L?O++:"RESOURCE"===L?A++:"OPERATION"===L?W++:"WORKINSTRUCTION"===L?w++:"WORKORDER"===L?I++:"EXECHEADER"===L?V++:"STEP"===L&&x++)})),e.is(u,"array")&&u.forEach((function(n){m=M.getReferenceModel(n),e.is(m)&&("SYSTEM"===(L=m.get("PPRTYPE"))?O++:"OPERATION"===L?W++:"WORKINSTRUCTION"===L?w++:"WORKORDER"===L?I++:"EXECHEADER"===L?V++:"STEP"===L&&x++)})),C=R+y+O+A+W+w+I+V+x,E=v.getSelectedRoots([n,i,u,c,r]),1>C)v.setAllCommandsState("none");else if(1===C){if(1!==O&&1!==W||(p=v.getCommandsAvailability("one.system"),m=M.getReferenceModel(u[0]),!0!==T.isAKindOf(m,"DELLmiWorkPlanSystemReference")&&!0!==T.isAKindOf(m,"DELLmiQtyControlProcessReference")||p.enabled.push("CreateCapableResourceStructureLink"),!0!==T.isAKindOf(m,"DELLmiWorkPlanSystemReference")&&!0!==T.isAKindOf(m,"DELLmiHeaderOperationReference")&&!0!==T.isAKindOf(m,"DELLmiLoadingOperationReference")&&!0!==T.isAKindOf(m,"DELLmiGeneralOperationReference")||p.enabled.push("BuildUp")),1===w&&(p=v.getCommandsAvailability("one.workInstruction")),1===A&&(p=v.getCommandsAvailability("one.resource")),1===R&&(p=v.getCommandsAvailability("one.process")),1===y&&(p=v.getCommandsAvailability("one.product")),1===I){p=v.getCommandsAvailability("one.workorder");var U=!0;u.forEach((function(n){m=M.getReferenceModel(n),e.is(m)&&m.get("current")!==m.getCurrentStateValue("DRAFT")&&m.get("current")!==m.getCurrentStateValue("FIRM")&&(U=!1)})),e.is(U)&&!1===U&&(p.enabled.splice(p.enabled.indexOf("DeleteCmdCloud"),1),p.enabled.splice(p.enabled.indexOf("ExplodeWorkOrderCmdCloud"),1))}1===V&&(p=v.getCommandsAvailability("one.execHeader")),1===x&&(p=v.getCommandsAvailability("one.step")),e.is(p)&&(b=n[0]||u[0]||c[0]||r[0],P=M.getReferenceModel(b),e.is(P)&&(h=v.getValidChildTypeCommands(P),p.enabled=p.enabled.concat(h),h=v.getInsertAsCommands(P),p.enabled=p.enabled.concat(h)),v.setAllCommandsState(p))}else if(1<C){if(C===y)v.setAllCommandsState("multiple.product");else if(C===R)v.setAllCommandsState("multiple.process"),p=v.getCommandsAvailability("multiple.process");else if(C===O+W)v.setAllCommandsState("multiple.system");else if(C===w)v.setAllCommandsState("multiple.workInstruction");else if(C===A)v.setAllCommandsState("multiple.resource"),p=v.getCommandsAvailability("multiple.resource");else if(C===I){v.setAllCommandsState("multiple.workorder"),p=v.getCommandsAvailability("multiple.workorder");U=!0;u.forEach((function(n){m=M.getReferenceModel(n),e.is(m)&&m.get("current")!==m.getCurrentStateValue("DRAFT")&&m.get("current")!==m.getCurrentStateValue("FIRM")&&(U=!1)})),e.is(U)&&!1===U&&(p.enabled.splice(p.enabled.indexOf("DeleteCmdCloud"),1),v.setCommandState("DeleteCmdCloud",!1))}else C===V?v.setAllCommandsState("multiple.execHeader"):C===x?v.setAllCommandsState("multiple.step"):(v.setAllCommandsState("multiple.mixed"),p=v.getCommandsAvailability("multiple.mixed"));E.length!==C&&0!==E.length&&v.setCommandState("Delete",!1)}if(v.setCommandState("CreateLink",!0),v.setCommandState("CreateInstance",!0),f=E.length>0,S=C>0&&E.length===C&&y<1,v.setCommandState("Hide",f),v.setCommandState("DeleteHdr",S),v.setCommandState("DetachInstance",!f&&y<1&&C>0),v.manageReplaceCommandsAvailablity({isRoot:f,auxiliaryViewLength:r.length,mfgItemsViewLength:n.length,routingsViewLength:u.length}),v.manageDocCmdAvailability(),v.groupingViewCmdAvailability(R,y,d),g=function(){var t,i,s,a,o=!1;if(u.length>0){t=M.getInstance(u[0]),e.is(t)&&(t=t.get("isAggregatedBy"));for(let n=0;n<u.length;n++)if(i=M.getInstance(u[n]),e.is(i)&&(i=i.get("isAggregatedBy")),t!==i){o=!0;break}}else if(n.length>0){s=M.getInstance(n[0]),e.is(s)&&(s=s.get("isAggregatedBy"));for(let t=0;t<n.length;t++)if(a=M.getInstance(n[t]),e.is(a)&&(a=a.get("isAggregatedBy")),s!==a){o=!0;break}}return o},e.is(p)&&e.is(p.disabled))p.disabled.forEach((e=>{v.setCommandState(e,!1)}));C>0&&(D={isLicenseCFGValid:o._isLicenseCFGValid,isRoot:f,auxLength:r.length,processViewLength:n.length,routingsViewLength:u.length,resourceViewLength:c.length,selectedItemsCount:C,isAuthoring:k,isCrossLevel:g()},v.manageConfigurationCommands(D)),n.length>0&&this.manageCommandsAvailabilityForReadOnlyTypes(n)}else a.getLogger().debug(l,"Database or Dico  Plugin is not available.")}}),{onStart:function(e){r.push(a.addExternalListener("select",b)),r.push(a.addExternalListener("toggleCmdCheckHeaderState",P)),r.push(a.addExternalListener("authoringMode",g)),r.push(a.addExternalListener("actionBarReady",d)),r.push(a.addExternalListener("manageDocCmdAvailability",C)),r.push(a.addExternalListener("endEdit",f)),r.push(a.addExternalListener("manageCommandsOnGrouping",h)),r.push(a.addExternalListener("createInstance",g)),u.push(n.subscribe({event:"DELPPWCommands/LandingPage"},(function(e){c("ShowLandingPage",e)}))),u.push(n.subscribe({event:"DELPPWCommands/Hide"},(function(e){c("Hide",e)}))),u.push(n.subscribe({event:"DELPPWCommands/HideAll"},(function(e){c("HideAll",e)}))),u.push(n.subscribe({event:"DELPPWCommands/Relations"},(function(e){m("LINKS",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ShowLogPanel"},(function(e){c("ShowLogPanel",e)}))),u.push(n.subscribe({event:"DELPPWCommands/DisplayProperties"},(function(e){m("PROPERTIES",e)}))),u.push(n.subscribe({event:"DELPPWCommands/CreateCapableResourceStructureLink"},(function(e){c("CreateCapableResourceStructureLink",e)}))),u.push(n.subscribe({event:"DELPPWCommands/CreateLink"},(function(e){c("CreateLink",e)}))),u.push(n.subscribe({event:"DELPPWCommands/CreateInstance"},(function(e){c("CreateInstance",e)}))),u.push(n.subscribe({event:"DELPPWCommands/CreateLinkOrInstance"},(function(e){c("CreateLinkOrInstance",e)}))),u.push(n.subscribe({event:"DELPPWCommands/CreateWorkOrderFromProcess"},(function(e){c("CreateWorkOrderFromProcessCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/InsertCmd"},(function(e){c("InsertCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ShowGraphView"},(function(e){m("EGRAPHMOD",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ProductFlowCmd"},(function(e){m("PRODUCTFLOWMOD",e)}))),u.push(n.subscribe({event:"DELPPWCommands/MaturityCmdCloud"},(function(e){m("MATURITYMOD",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ToggleAuxiliaryView"},(function(e){c("toggleAuxPanel",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ManageCapableResources"},(function(e){m("MANAGECAPABLERESOURCESMOD",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ItemsView"},(function(e){c("ItemsView",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ResourcesView"},(function(e){c("ResourcesView",e)}))),u.push(n.subscribe({event:"DELPPWCommands/WorkOrderView"},(function(e){c("WorkOrderView",e)}))),u.push(n.subscribe({event:"DELPPWCommands/BuildUp"},(function(e){c("BuildUp",e)}))),u.push(n.subscribe({event:"DELPPWCommands/AttachDocument"},(function(e){c("AttachDocumentCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/SearchDocument"},(function(e){c("SearchDocumentCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ManageDocuments"},(function(e){c("ManageDocumentsCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/EditViewPreferences"},(function(e){c("EditViewPreferencesCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/LayoutPreferences"},(function(e){c("LayoutPreferences",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ExportCSV"},(function(e){c("ExportCSVCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/LoadRelations"},E)),u.push(n.subscribe({event:"DELPPWCommands/ExpandAll"},(function(e){c("expandAll",e)}))),u.push(n.subscribe({event:"DELPPWCommands/CollapseAll"},(function(e){c("collapseAll",e)}))),u.push(n.subscribe({event:"DELPPWCommands/RelationalExplorerCmd"},(function(e){c("RelationalExplorerCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/Refresh"},(function(e){c("RefreshCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/UserDefinedExplore"},(function(e){c("UserDefExplore",e)}))),u.push(n.subscribe({event:"DELPPWCommands/BIEssentialsCmd"},(function(e){c("BIEssentialsCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ManageInconsistentLinks"},(function(e){m("MIL",e)}))),u.push(n.subscribe({event:"DELPPWCommands/DeleteCmdCloud"},(function(e){m("DELETECMDMOD",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ExplodeWorkOrderCmdCloud"},(function(e){c("ExplodeWorkOrderCmd",e)}))),o.onStart(e)},onStop:function(){var e,t;for(e=0,t=r.length;e<t;e++)a.removeExternalListener(r[e]);for(r=[],e=0,t=u.length;e<t;e++)n.unsubscribe(u[e]);u=[]}}}})),define("DS/DELWKOApplicationServices/LayoutConfig",[],(function(){"use strict";return{MANUFACTURING:{row:0,col:0,command:"ItemsView"},RESOURCE:{row:0,col:1,command:"ResourcesView"},ROUTINGS:{row:1,col:0,command:"WorkOrderView"}}})),define("DS/DELWKOApplicationServices/Commands/CommandsService",["UWA/Core","DS/CoreEvents/Events","DS/DELPPWModelServices_FD02/ModelUtils","DS/DELPPWServices_FD02/CommandsService/CommandsService","DS/DELPPWNavigationServices_FD02/SwitchDBModeManager"],(function(e,n,t,i,s){"use strict";return function(a){var o,r=[],u=[],l="CommandsService",c=function(e,n){o.notifyApp(e,n)},m=function(e,n){o.toggleModule(e,n)},d=function(){o.initState()},g=function(){var e,n,t,i,s,r,u=a.getPlugins("SelectionPlugin");u?(n=(e=u.instance.getSelections("CMDS"))[0]||[],t=e[1]||[],s=e[2]||[],r=e[3]||[],i=[],o.manageCommandsAvailability(t,i,s,n,r)):a.getLogger().debug(l,"Selection Plugin is not available.")},C=function(){o.manageDocCmdAvailability()},P=function(e){o.toggleCmdCheckHeaderState(e)},b=function(){g();a.getPlugins("SelectionPlugin").instance.getSelections("CMDS")[0]},f=function(){o.authoringCmdAvailability()},E=function(){var n=[],t=a.getPlugins("SelectionPlugin");e.is(t)&&t.isStarted&&(n=(n=t.instance.getSelectionsWithPaths("CMDS")).reduce((function(e,n){return e=e.concat(n)}),[]),c("LoadRelations",[n]))},h=function(){var e=a.getPlugins("TreeViewPlugin");e?(e=e.instance).isGroupingExist()?o.manageCommandsAvailabilityOnGrouping():g():a.getLogger().debug(l,"TreeView Plugin is not available.")};return o=new i(a),e.extend(o,{manageConfigurationCommands:function(n){var t,i=n||{},s=!!e.is(i.isLicenseCFGValid,"boolean")&&i.isLicenseCFGValid,a=!!e.is(i.isRoot,"boolean")&&i.isRoot,r=e.is(i.auxLength,"number")?i.auxLength:0,u=e.is(i.processViewLength,"number")?i.processViewLength:0,l=e.is(i.routingsViewLength,"number")?i.routingsViewLength:0,c=e.is(i.resourceViewLength,"number")?i.resourceViewLength:0,m=e.is(i.selectedItemsCount,"number")?i.selectedItemsCount:0,d=!!e.is(i.isAuthoring,"boolean")&&i.isAuthoring,g=!!e.is(i.isCrossLevel,"boolean")&&i.isCrossLevel,C=r>0;t=!C&&!(c>0)&&(l>0||u>0),o.setCommandState("EditConfigurationContext",s&&t),1===m&&(o.setCommandState("DefineFilter",a&&!d&&!C),o.setEffectivityCmdState("EditEvolution",s&&!a&&t)),o.setEffectivityCmdState("EditVariant",s&&!a&&t&&!g)},manageReplaceCommandsAvailablity:function(e){var n=e.isRoot,t=e.auxiliaryViewLength,i=e.routingsViewLength;this.setCommandState("ReplaceByLatestRevision",!n&&t<1&&i>0),this.setCommandState("ReplaceByNewRevision",!n&&t<1&&i>0),this.setCommandState("ReplaceByExisting",!n&&t<1&&1===i),this.setCommandState("ReplaceByNewReference",!n&&t<1&&1===i)},getInsertAsCommands:function(n){var t,i,s,o=[];return s=a.getPlugins("DatabasePlugin"),e.is(n)&&e.is(s)&&s.isStarted&&(t=s.instance.getValidChildTypes(n),e.is(t)&&t.length>0&&(i=n.get("PPRTYPE"),["SYSTEM","OPERATION"].indexOf(i)>-1&&o.push("InsertAsCopy"),["SYSTEM","OPERATION","PROCESS","RESOURCE"].indexOf(i)>-1&&o.push("SearchAndAddInstanceCommand"))),o},manageCommandsAvailability:function(n,i,r,u,c){var m,d,g,C,P,b,f,E,h,p,L,S,D,v=this,R=0,A=0,y=0,O=0,W=0,w=0,I=0,V=0,x=a.getPlugins("DatabasePlugin"),M=a.getPlugins("DicoPlugin"),T=s.isDbMode()||t.getNavigateOnDatabasePreference();if(x&&M){if(x=x.instance,M=M.instance,i=i||[],r=r||[],u=u||[],c=c||[],R=(n=n||[]).length,y=i.length,A=c.length,d=r.length,e.is(r,"array")&&r.forEach((function(n){m=x.getReferenceModel(n),e.is(m)&&("PART"===(L=m.get("PPRTYPE"))||"PRODUCT"===L?y++:"PROCESS"===L?R++:"SYSTEM"===L?O++:"RESOURCE"===L?A++:"OPERATION"===L?W++:"WORKINSTRUCTION"===L?w++:"WORKORDER"===L?I++:"EXECHEADER"===L&&V++)})),e.is(u,"array")&&u.forEach((function(n){m=x.getReferenceModel(n),e.is(m)&&("SYSTEM"===(L=m.get("PPRTYPE"))?O++:"OPERATION"===L?W++:"WORKINSTRUCTION"===L?w++:"WORKORDER"===L?I++:"EXECHEADER"===L&&V++)})),C=R+y+O+A+W+w+I+V,E=v.getSelectedRoots([n,i,u,c,r]),1>C?v.setAllCommandsState("none"):1===C?(1!==O&&1!==W||(p=v.getCommandsAvailability("one.system"),m=x.getReferenceModel(u[0]),!0!==M.isAKindOf(m,"DELLmiWorkPlanSystemReference")&&!0!==M.isAKindOf(m,"DELLmiQtyControlProcessReference")||p.enabled.push("CreateCapableResourceStructureLink"),!0!==M.isAKindOf(m,"DELLmiWorkPlanSystemReference")&&!0!==M.isAKindOf(m,"DELLmiHeaderOperationReference")&&!0!==M.isAKindOf(m,"DELLmiLoadingOperationReference")&&!0!==M.isAKindOf(m,"DELLmiGeneralOperationReference")||p.enabled.push("BuildUp")),1===w&&(p=v.getCommandsAvailability("one.workInstruction")),1===A&&(p=v.getCommandsAvailability("one.resource")),1===R&&(p=v.getCommandsAvailability("one.process")),1===y&&(p=v.getCommandsAvailability("one.product")),1===I&&(p=v.getCommandsAvailability("one.workorder")),1===V&&(p=v.getCommandsAvailability("one.execHeader")),e.is(p)&&(b=n[0]||u[0]||c[0]||r[0],P=x.getReferenceModel(b),e.is(P)&&(h=v.getValidChildTypeCommands(P),p.enabled=p.enabled.concat(h),h=v.getInsertAsCommands(P),p.enabled=p.enabled.concat(h)),v.setAllCommandsState(p))):1<C&&(C===y?v.setAllCommandsState("multiple.product"):C===R?(v.setAllCommandsState("multiple.process"),p=v.getCommandsAvailability("multiple.process")):C===O+W?v.setAllCommandsState("multiple.system"):C===w?v.setAllCommandsState("multiple.workInstruction"):C===A?(v.setAllCommandsState("multiple.resource"),p=v.getCommandsAvailability("multiple.resource")):C===I?v.setAllCommandsState("multiple.workorder"):C===V?v.setAllCommandsState("multiple.execHeader"):(v.setAllCommandsState("multiple.mixed"),p=v.getCommandsAvailability("multiple.mixed")),E.length!==C&&0!==E.length&&v.setCommandState("Delete",!1)),v.setCommandState("CreateLink",!0),v.setCommandState("CreateInstance",!0),f=E.length>0,S=C>0&&E.length===C&&y<1,v.setCommandState("Hide",f),v.setCommandState("DeleteHdr",S),v.setCommandState("DetachInstance",!f&&y<1&&C>0),v.manageReplaceCommandsAvailablity({isRoot:f,auxiliaryViewLength:r.length,mfgItemsViewLength:n.length,routingsViewLength:u.length}),v.manageDocCmdAvailability(),v.groupingViewCmdAvailability(R,y,d),g=function(){var t,i,s,a,o=!1;if(u.length>0){t=x.getInstance(u[0]),e.is(t)&&(t=t.get("isAggregatedBy"));for(let n=0;n<u.length;n++)if(i=x.getInstance(u[n]),e.is(i)&&(i=i.get("isAggregatedBy")),t!==i){o=!0;break}}else if(n.length>0){s=x.getInstance(n[0]),e.is(s)&&(s=s.get("isAggregatedBy"));for(let t=0;t<n.length;t++)if(a=x.getInstance(n[t]),e.is(a)&&(a=a.get("isAggregatedBy")),s!==a){o=!0;break}}return o},e.is(p)&&e.is(p.disabled))p.disabled.forEach((e=>{v.setCommandState(e,!1)}));C>0&&(D={isLicenseCFGValid:o._isLicenseCFGValid,isRoot:f,auxLength:r.length,processViewLength:n.length,routingsViewLength:u.length,resourceViewLength:c.length,selectedItemsCount:C,isAuthoring:T,isCrossLevel:g()},v.manageConfigurationCommands(D)),n.length>0&&this.manageCommandsAvailabilityForReadOnlyTypes(n)}else a.getLogger().debug(l,"Database or Dico  Plugin is not available.")}}),{onStart:function(e){r.push(a.addExternalListener("select",b)),r.push(a.addExternalListener("toggleCmdCheckHeaderState",P)),r.push(a.addExternalListener("authoringMode",g)),r.push(a.addExternalListener("actionBarReady",d)),r.push(a.addExternalListener("manageDocCmdAvailability",C)),r.push(a.addExternalListener("endEdit",f)),r.push(a.addExternalListener("manageCommandsOnGrouping",h)),r.push(a.addExternalListener("createInstance",g)),u.push(n.subscribe({event:"DELPPWCommands/LandingPage"},(function(e){c("ShowLandingPage",e)}))),u.push(n.subscribe({event:"DELPPWCommands/Hide"},(function(e){c("Hide",e)}))),u.push(n.subscribe({event:"DELPPWCommands/HideAll"},(function(e){c("HideAll",e)}))),u.push(n.subscribe({event:"DELPPWCommands/Relations"},(function(e){m("LINKS",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ShowLogPanel"},(function(e){c("ShowLogPanel",e)}))),u.push(n.subscribe({event:"DELPPWCommands/DisplayProperties"},(function(e){m("PROPERTIES",e)}))),u.push(n.subscribe({event:"DELPPWCommands/CreateCapableResourceStructureLink"},(function(e){c("CreateCapableResourceStructureLink",e)}))),u.push(n.subscribe({event:"DELPPWCommands/CreateLink"},(function(e){c("CreateLink",e)}))),u.push(n.subscribe({event:"DELPPWCommands/CreateInstance"},(function(e){c("CreateInstance",e)}))),u.push(n.subscribe({event:"DELPPWCommands/CreateLinkOrInstance"},(function(e){c("CreateLinkOrInstance",e)}))),u.push(n.subscribe({event:"DELPPWCommands/CreateWorkOrderFromProcess"},(function(e){c("CreateWorkOrderFromProcessCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/InsertCmd"},(function(e){c("InsertCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/DuplicateAdv"},(function(e){c("DuplicateAdvCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/Delete"},(function(e){c("Delete",e)}))),u.push(n.subscribe({event:"DELPPWCommands/DetachInstance"},(function(e){c("DetachInstance",e)}))),u.push(n.subscribe({event:"DELPPWCommands/SearchAndAddInstanceCommand"},(function(e){c("searchAndAddInstance",e)}))),u.push(n.subscribe({event:"DELPPWCommands/InsertAsCopy"},(function(e){c("InsertAsCopy",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ReplaceByLatestRevision"},(function(e){c("ReplaceByLatestRevision",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ReplaceByExisting"},(function(e){c("ReplaceByExisting",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ReplaceByNewRevision"},(function(e){c("ReplaceByNewRevision",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ReplaceByNewReference"},(function(e){c("ReplaceByNewReference",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ShowGraphView"},(function(e){m("EGRAPHMOD",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ProductFlowCmd"},(function(e){m("PRODUCTFLOWMOD",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ToggleAuxiliaryView"},(function(e){c("toggleAuxPanel",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ManageCapableResources"},(function(e){m("MANAGECAPABLERESOURCESMOD",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ItemsView"},(function(e){c("ItemsView",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ResourcesView"},(function(e){c("ResourcesView",e)}))),u.push(n.subscribe({event:"DELPPWCommands/WorkOrderView"},(function(e){c("WorkOrderView",e)}))),u.push(n.subscribe({event:"DELPPWCommands/BuildUp"},(function(e){c("BuildUp",e)}))),u.push(n.subscribe({event:"DELPPWCommands/AttachDocument"},(function(e){c("AttachDocumentCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/SearchDocument"},(function(e){c("SearchDocumentCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ManageDocuments"},(function(e){c("ManageDocumentsCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/EditViewPreferences"},(function(e){c("EditViewPreferencesCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/LayoutPreferences"},(function(e){c("LayoutPreferences",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ExportCSV"},(function(e){c("ExportCSVCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/LoadRelations"},E)),u.push(n.subscribe({event:"DELPPWCommands/ExpandAll"},(function(e){c("expandAll",e)}))),u.push(n.subscribe({event:"DELPPWCommands/CollapseAll"},(function(e){c("collapseAll",e)}))),u.push(n.subscribe({event:"DELPPWCommands/RelationalExplorerCmd"},(function(e){c("RelationalExplorerCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/Refresh"},(function(e){c("RefreshCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/UserDefinedExplore"},(function(e){c("UserDefExplore",e)}))),u.push(n.subscribe({event:"DELPPWCommands/BIEssentialsCmd"},(function(e){c("BIEssentialsCmd",e)}))),u.push(n.subscribe({event:"DELPPWCommands/ManageInconsistentLinks"},(function(e){m("MIL",e)}))),o.onStart(e)},onStop:function(){var e,t;for(e=0,t=r.length;e<t;e++)a.removeExternalListener(r[e]);for(r=[],e=0,t=u.length;e<t;e++)n.unsubscribe(u[e]);u=[]}}}})),define("DS/DELWKOApplicationServices/Services",["UWA/Class","DS/DELPPWModelServices_FD02/BehaviorUtil"],(function(e,n){"use strict";var t="DS/DELWKOApplicationServices/",i={CommandsService:t+"Commands/CommandsService",LayoutService:t+"LayoutService"},s={CommandsService:t+"Commands/CommandsServiceCloud",LayoutService:t+"LayoutService"};return e.singleton({getMap:function(){return!0===n.isCloud()?s:i}})})),define("DS/DELWKOApplicationServices/LayoutService",["UWA/Core","DS/DELPPWServices_FD02/LayoutService/LayoutService","DS/DELWKOApplicationServices/LayoutConfig"],(function(e,n,t){"use strict";return function(i){var s,a,o,r,u,l,c,m=new n(i),d=[];return l=function(){var n,s;m.isLayoutBuilt()?e.is(m.onActionBarReady,"function")&&m.onActionBarReady():(m.buildView({rows:[{columns:2},{columns:1}],actionBarReady:function(){e.is(s,"array")&&s.forEach((function(e){i.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:e.commandName,cmdState:e.state})})),m.showLayout()}}),m.removeDockingElement(WUXDockAreaEnum.TopDockArea),m.removeDockingElement(WUXDockAreaEnum.BottomDockArea),n=widget.getViewportDimensions(),m.setDockingElement(WUXDockAreaEnum.LeftDockArea,{dockingZoneSize:n.width/4,collapseDockingZoneFlag:!0}),m.setDockingElement(WUXDockAreaEnum.RightDockArea,{dockingZoneSize:n.width/4,collapseDockingZoneFlag:!0,resizableFlag:!0,visibleDockingZoneFlag:!1}),a=m.buildTreeListAuthoringDom(!0),o=m.buildTreeListAuthoringDom(!0),r=m.buildTreeListAuthoringDom(!0),u=m.buildAuxiliaryViewDom(),m.setBlocLayoutContent(t.MANUFACTURING.row,t.MANUFACTURING.col,o),m.setBlocLayoutContent(t.RESOURCE.row,t.RESOURCE.col,r),m.setBlocLayoutContent(t.ROUTINGS.row,t.ROUTINGS.col,a),s=m.setPreferredLayoutOnStartup(t))},c=function(){d.push(i.addExternalListener(t.MANUFACTURING.command,(function(e){var n=m.isViewShown(t.MANUFACTURING.row,t.MANUFACTURING.col);n&&!0===e.state||!n&&!1===e.state||m.toggleView(t.MANUFACTURING.row,t.MANUFACTURING.col,e.state)}))),d.push(i.addExternalListener(t.RESOURCE.command,(function(e){var n=m.isViewShown(t.RESOURCE.row,t.RESOURCE.col);n&&!0===e.state||!n&&!1===e.state||m.toggleView(t.RESOURCE.row,t.RESOURCE.col,e.state)}))),d.push(i.addExternalListener(t.ROUTINGS.command,(function(e){var n=m.isViewShown(t.ROUTINGS.row,t.ROUTINGS.col);n&&!0===e.state||!n&&!1===e.state||m.toggleView(t.ROUTINGS.row,t.ROUTINGS.col,e.state)}))),d.push(i.addExternalListener("widgetLayoutChanged",(function(){var n,a,o;a=s.getPreference("widgetLayoutValues"),e.is(a)&&(n=e.Json.decode(a),(o=m.setPreferredLayout(n,t)).deferredPromise.promise.then((function(){o.columns.forEach((function(e){i.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:e.commandName,cmdState:e.state})})),i.getMediator().notify("LayoutCommandsToggled")})))})))},e.extend(m,{getContainer:function(n){switch(n){case"layoutContainer":return m.getUIContainer();case"manufacturing":return o;case"resource":return r;case"routings":return a;case"auxiliary":return u;case"alerts":return m.getAlertContainer();case"progressIndicator":return m.getProgressIndContainer();case"properties":return m.getPropertiesModuleContainer();case"none":return e.createElement("div",{class:"empty-container"});default:i.getLogger().debug("MGA_LayoutService","Invalid side choice: %s",n)}},getLayoutConfig:function(){return e.clone(t)},onStart:function(e){s=i.getService("ConfigService"),l(),c(),e()},onStop:function(){var e,n;for(e=0,n=d.length;e<n;e++)i.removeExternalListener(d[e]);d=[]}})}}));