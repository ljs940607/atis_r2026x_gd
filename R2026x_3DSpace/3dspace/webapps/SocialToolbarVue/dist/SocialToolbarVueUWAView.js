window.define("DS/SocialToolbarVue/SocialToolbarVueUWAView",["DS/SocialToolbarVue/vue","DS/SocialToolbarVue/VUEKIT","UWA/Class/View","DS/SocialToolbarVue/SocialToolbarVue","css!DS/SocialToolbarVue/VUEKIT","css!DS/UIKIT/UIKIT","css!DS/SocialToolbarVue/style"],(C,s,b,T)=>{"use strict";function d(o){return typeof o=="boolean"?!o:void 0}function S(o,n){return{alignCenterActionsToolbar:n.alignCenterActionsToolbar,appId:o.appId??n.appId,appForcedLinkUri:n.appForcedLinkUri??o.appForcedLinkUri,atInit:n.atInit??{nbCommentsToLoad:o.commentsNumberAtInit,hideCommentInput:o.mode==="light",hideCommentsList:o.mode==="light"},commentToScrollTo:n.commentToScrollTo||(o.commentToScrollToAtInit?{commentUri:o.commentToScrollToAtInit.parentCommentUri?o.commentToScrollToAtInit.parentCommentUri||"":o.commentToScrollToAtInit.commentUri||"",replyUri:o.commentToScrollToAtInit.parentCommentUri?o.commentToScrollToAtInit.commentUri:void 0}:void 0),currentUser:n.currentUser||{displayName:o.userName,login:o.userLogin},disableFeatures:n.disableFeatures??{disableComment:d(o.enableComment),disableCommentLike:d(o.enableCommentLike),disableLike:d(o.enableLike),disableReply:d(o.enableReply),disableShare:d(o.enableShare),disableSeeMore:d(o.showCommentsSummaryFirst),disableShowUserProfile:!!o.showUserProfile},platformId:n.platformId||o.tenantId,subjectUri:n.subjectUri||o.subjectUri||o.subjectURI||"",urls:n.urls||{customHeaders:o.customHeaders,service:o.serviceUrl||o.serviceURL||"",serviceCSRF:o.commentProxyToken?{name:o.commentProxyToken.header,token:o.commentProxyToken.value}:void 0},hideActionsToolbar:n.hideActionsToolbar,hideActionsToolbarLabels:n.hideActionsToolbarLabels,hideSeparator:n.hideSeparator,extraActionsBtns:n.extraActionsBtns,legacyOptions:o}}return b.extend({tagName:"div",className:"stc_social-toolbar-vue-uwa-view",_app:void 0,_appInstance:void 0,render({props:o}){const n=this,{createApp:r}=C;let m=o;o.legacyOptions&&(m=S(o.legacyOptions,o));const e=r(T,{...m,...n._getEmitsListeners(m)});e.use(s,{disableTooltipsOnDevices:!0,globalRegister:!0,sharedMessageContainer:!1}),n._app=e;const u=e.mount(n.container);return n._appInstance=u,n},setActiveCommentInputContent(o){const n=this;if(!n._appInstance)throw new Error("Social Toolbar Vue not yet rendered.");return n._appInstance.setActiveCommentInputContent(o)},_getEmitsListeners(o){const n=this,r=n.dispatchEvent.bind(n),m=o.legacyOptions,e=m==null?void 0:m.events;return{onClickOnLikeBtn(t){var i;r("onClickOnLikeBtn",t),(i=e==null?void 0:e.onEndorseButtonClick)==null||i.call(e)},onClickOnCommentBtn(t){var i;r("onClickOnCommentBtn",t),(i=e==null?void 0:e.onCommentButtonClick)==null||i.call(e)},onClickOnShareBtn(t){var i;r("onClickOnShareBtn",t),(i=e==null?void 0:e.onShareRequest)==null||i.call(e)},onClickOnExtraActionBtn(t){r("onClickOnExtraActionBtn",t)},onClickOnMedia(t){if(r("onClickOnMedia",t),e!=null&&e.onMediaClick){let i=function(l){const c=l;return!!(c.annotation||c.annotationUri)},a;i(t)?a={data:{annotationFile:t.annotation.annotation},file:t.annotation.screenshot,relatedMediaUri:t.relatedMediaUri,subjectUri:o.subjectUri,type:"annotation"}:a={contentUri:t.mediaUri,contentSource:t.source,relatedMediaUri:o.subjectUri},a&&e.onMediaClick(a)}},onToggleLikeSubject(t){var i,a;if(r("onToggleLikeSubject",t),e){const{action:l}=t;l==="like"?(i=e.onSubjectLiked)==null||i.call(e):l==="unlike"&&((a=e.onSubjectUnliked)==null||a.call(e))}},onClickOnUser(t){var i;r("onClickOnUser",t),t.userLogin&&((i=m==null?void 0:m.showUserProfile)==null||i.call(m,t.userLogin))},onAddComment(t){var i;r("onAddComment",t),(i=e==null?void 0:e.onCommentCreated)==null||i.call(e)},onEditComment(t){var i;r("onEditComment",t),(i=e==null?void 0:e.onCommentEdited)==null||i.call(e)},onRemoveComment(t){var i;r("onRemoveComment",t),(i=e==null?void 0:e.onCommentDeleted)==null||i.call(e)},onToggleLikeComment(t){r("onToggleLikeComment",t)},onLoadInitialComments(t){r("onLoadInitialComments",t)}}},destroy(...o){const n=this;n._app&&n._app.unmount(),n._app=void 0,n._appInstance=void 0,n._parent(...o)}})});
//# sourceMappingURL=SocialToolbarVueUWAView.js.map
