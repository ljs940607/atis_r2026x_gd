define("DS/DELPPWServices/AuthoringService",["UWA/Core","DS/CoreEvents/Events","DS/DELPPWModelServices/ModelUtils","DS/DELPPWResourceServices/ResourceUtils","DS/DELPPWNavigationServices/SwitchDBModeManager"],(function(e,t,n,i,o){"use strict";return function(r){var a=[],s=[],l="Authoring",c=!1,d="AuthoringService",u=!1,g=function(){!1===n.getNavigateOnDatabase()&&(c=!0),o.setDbMode(!0)};return{onStart:function(n){a.push(r.addExternalListener("referenceCreated",g)),a.push(r.addExternalListener("instanceCreated",g)),a.push(r.addExternalListener("reparent",g)),a.push(r.addExternalListener("reorder",g)),a.push(r.addExternalListener("replaced",g)),a.push(r.addExternalListener("linkCreated",g)),a.push(r.addExternalListener("createImplementLink",g)),a.push(r.addExternalListener("linkDeleted",g)),a.push(r.addExternalListener("documentAttached",g)),a.push(r.addExternalListener("objectAttributesModified",g)),a.push(r.addExternalListener("editRichText",g)),a.push(r.addExternalListener("setSequencingMode",g)),a.push(r.addExternalListener("linkAttributesModified",g)),a.push(r.addExternalListener("lifecycleChanged",g)),a.push(r.addExternalListener("assignProduct",g)),a.push(r.addExternalListener("createMfgItemAndScope",g)),a.push(r.addExternalListener("createMfgItemAndResultingProduct",g)),a.push(r.addExternalListener("reconnectScope",g)),a.push(r.addExternalListener("createMfgItemStructure",g)),a.push(r.addExternalListener("updateMfgItemStructure",g)),a.push(r.addExternalListener("RerouteMfgItem",g)),a.push(r.addExternalListener("instanceDeleted",g)),a.push(r.addExternalListener("connectionChanged",g)),a.push(r.addExternalListener("consumeProductOnDragAndDrop",g)),a.push(r.addExternalListener("versionCreated",g)),a.push(r.addExternalListener("actionBarReady",(function(){o.isDbMode()&&r.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:l,cmdState:!0})}))),s.push(t.subscribe({event:"DELPPWCommands/Authoring"},(function(e){o.setDbMode(e.state),!0===o.isDbMode()?!1===u&&(!1===c?r.getLogger().info(d,i.getNLSValue("Authoring.disablingIndex")):(c=!1,r.getLogger().info(d,i.getNLSValue("Authoring.disablingIndexOnAuthoring"))),u=!0):!1===o.isDbMode()&&!0===u&&(r.getLogger().info(d,i.getNLSValue("Authoring.enablingIndex")),u=!1),r.getMediator().notify("authoringMode")}))),s.push(t.subscribe({event:"SwitchDBManager/ChangeMode"},(function(t){e.is(t)&&e.is(t.mode,"string")&&("indexMode"===t.mode?r.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:l,cmdState:!1}):"dbMode"===t.mode&&r.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:l,cmdState:!0}))}))),n()},onStop:function(){var e,n;for(e=0,n=a.length;e<n;e++)r.removeExternalListener(a[e]);for(a=[],e=0,n=s.length;e<n;e++)t.unsubscribe(s[e]);s=[]}}}})),define("DS/DELPPWServices/LoggerService/LogManager",["UWA/Core","DS/Logger/Logger","DS/DELPPWLoggerModel/LoggerUtils"],(function(e,t,n){"use strict";return function(t){var i,o,r,a,s,l,c,d="LogPanel-Main-Container",u="ShowLogPanel",g={},f=null,m=-1;return r=function(){var n=o.getComponent("WUXFrameWindowsManager").getFrameWindow(t.getConfig().appContext),r=o.getComponent("Panel"),s=o.getComponent("WUXDockAreaEnum");(f=new r({title:i.getNLSValue("LogPanel.Header"),domId:"ShowLogPanel",position:{my:"top-right",at:"top-right"},immersiveFrame:n.getImmersiveFrame(),resizableFlag:!0})).allowedDockAreas=s.LeftDockArea|s.RightDockArea,f.close=function(){e.is(u)&&t.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:u,cmdState:!1}),a()}},a=function(){e.is(f)&&f.visibleFlag&&s(),e.is(f)&&(f.destroy(),f=void 0),m=-1},s=function(){e.is(f)&&(!0===f.visibleFlag?f.hide():f.show())},c=function(){var t,r,a,s,l,c,u=null;if(e.is(o)&&e.is(f)&&f.visibleFlag&&(g={started:i.getNLSValue("LogPanel.Started"),completed:i.getNLSValue("LogPanel.Completed"),failed:i.getNLSValue("LogPanel.Failed"),timedout:i.getNLSValue("LogPanel.TimedOut")},u=o.getComponent("Element"),(r=n.getSize())!==m))for(m=r,a=Math.min(r,1e3),f.content=new u("div",{class:d}),t=r-1;t>=r-a;t--)c=(l=n.getModel(t)).get("action"),s=i.getNLSValue("LogPanel.LineFormat",{index:l.get("index"),name:l.get("name"),action:g[c],time:l.get("time")}),(l.get("isRunning")?new e.Element("div",{text:s,styles:{fontWeight:"bold"}}):new e.Element("div",{class:"wux-textElement",text:s})).inject(f.content)},l=function(){o=t.getPlugins("UXComponentsPlugin").instance,i=t.getPlugins("ResourcePlugin").instance,e.is(f)?a():(r(),c())},n.setAddCallback((function(e,n,i){t.getMediator().notify("addLog",[e,n,i])})),{addLog:function(){c()},onShowLogPanel:function(){l()}}}})),define("DS/DELPPWServices/Services",["UWA/Class"],(function(e){"use strict";var t="DS/DELPPWServices/",n={EventsService:t+"EventsService",ModelService:t+"ModelService",ConfigService:t+"ConfigService/ConfigService",LandingPageService:t+"LandingPageService/LandingPageService",ExternalService:t+"ExternalService/ExternalService",FilterService:t+"ExternalService/FilterService",LifecycleService:t+"ExternalService/LifecycleService",LoggerService:t+"LoggerService/LoggerService",LayoutService:t+"LayoutService/LayoutService",AuthoringService:t+"AuthoringService",PreferenceService:t+"PreferenceService/PreferenceService"};return e.singleton({getMap:function(){return n}})})),define("DS/DELPPWServices/ConfigService/SecurityContext",["UWA/Core","DS/CoreEvents/Events"],(function(e,t){"use strict";return function(n,i,o){var r,a,s,l,c,d,u,g=[],f={},m=" ",h=[],p=[];return r=function(){return widget.getValue("Credentials")},u=function(){var t,n,i=[];return e.is(f)&&f.collabspaces.length>0&&f.collabspaces.forEach((function(e){for(t=0;t<e.couples.length;t++)n=e.couples[t].organization.name,-1===i.indexOf(n)&&i.push(n)})),1===i.length},a=function(){var e,t,n,i,o,r,a,s,l,m,v,S,C=[];S=u(),f.collabspaces.forEach((function(u){for(o=0;o<u.couples.length;o++)s=u.name,a=u.title,l=u.couples[o].organization.name,r=u.couples[o].organization.title,m=u.couples[o].role.name,v=u.couples[o].role.nls,i=c(s,l,m),n=d(a,r,v,S),e={csname:s,label:n,value:i},t={collabSpace:a,organization:r,role:v,value:i},C.push({sc:i,translated:e,title:t})})),C.sort((function(e,t){return e.translated.label.localeCompare(t.translated.label,widget.lang,{numeric:!0})})).forEach((function(e){g.push(e.sc),h.push(e.translated),p.push(e.title)}))},s=function(){var t,i,a,s,d;t=r(),e.is(f.preferredcredentials)&&Object.keys(f.preferredcredentials).length>0&&(d=f.preferredcredentials.role.name,s=f.preferredcredentials.organization.name,a=f.preferredcredentials.collabspace.name,i=c(a,s,d)),e.is(t,"string")&&-1!==g.indexOf(t)?(n.debug("SecurityContext.js : We retrieved the preferred SC from the widget : "+t),l(t)):e.is(i)&&-1!==g.indexOf(i)?(n.debug("SecurityContext.js : We retrieved the user's preferred SC : "+i),l(i)):(n.debug("SecurityContext.js : There is no preferred SC"),l(g[0]),n.info("ConfigService",o.getNLSValue("ApplicationInit.NoPreferredCredentials",{firstsc:g[0]})))},l=function(t){var o=r();e.is(t,"string")&&t!==o&&(n.debug("SecurityContext.js : The preferred SC "+t+" is different from the widget's "+o+" SC so we update the widget's with the preferredSC"),widget.setValue("Credentials",t),o=t),e.is(o,"string")&&(n.debug("SecurityContext.js : SecurityContext","We set the Security context with the widgetSC : "+o),i.setSecurityContext(o))},c=function(e,t,n){return"ctx::"+n+"."+t+"."+e},d=function(e,t,n,i){return i?e+m+"●"+m+n:e+m+"●"+m+t+" ●"+m+n},t.subscribe({event:"DELPPXEN/CustomizeSecurityContext"},(function(e){l(e)})),{loadSecurityContexts:function(t,n){var o,r,l,c=function(){n("ApplicationInit.NoSecurityContext")};r=i.get3DSpaceServiceName(),l=i.getPlatformID({serviceId:r}),o="modeler/pno/person?current=true&select=preferredcredentials&select=collabspaces",e.is(l,"string")&&l.length>0&&"NOT_DEFINED"!==l&&(o=o+"&tenant="+l),i.webServiceRequest({url:o,method:"GET",headers:{Accept:"application/json,text/javascript,*/*","Content-Type":"application/ds-json","Accept-Language":e.is(widget.lang)?widget.lang:"en"},onComplete:function(i){e.is(i)&&i.collabspaces.length>0?(f=i,a(),s(),t()):n("ApplicationInit.NoSecurityContext")},onFailure:c,onTimeout:c})},getAllSC:function(){return Array.isArray(h)?h:[]},getSCFromPreferences:function(){return r()},getSCTitle:function(e){var t={};return p.forEach((function(n){n.hasOwnProperty("value")&&n.value===e&&(t=n)})),t},updateSC:function(e){l(e)},isChanged:function(){var t=!1,n=i.getSecurityContext();return e.is(n,"string")&&-1===n.indexOf(r())&&(t=!0),t},getUserId:function(){var t=null;return e.is(f.name)&&(t=f.name),t}}}})),define("DS/DELPPWServices/CommandsService/CommandsService",["UWA/Core","DS/ApplicationFrame/CommandsManager","DS/DELPPWModelServices/ModelUtils","DS/DELPPWModelServices/BehaviorUtil","DS/DELPPWNavigationServices/SwitchDBModeManager"],(function(e,t,n,i,o){"use strict";return function(r){var a,s,l,c="CommandsService",d=r.getConfig().resource.commandsAvailabilityPath,u=!1,g=[],f=function(){var i,o,a,s,l=null;if("MFN"===n.getWidgetTrigram()&&!n.isMGALicenseAvailable())for(a in i=r.getConfig().appContext,t.getCommands(i))e.is(a)&&(o=t.getCommand(a,i),e.is(o)&&"InsertCmd"===o.name&&(l=null,s=o.getArguments(),"array"===e.typeOf(s)&&s.forEach((function(e){"PPRType"===e.ID&&(l=e.Value)})),"RESOURCE"===l&&o.disable()))},m=function(n,i){var o=null,a=null;o=t.getCommandCheckHeader(n,r.getConfig().appContext),e.is(o)?(a=o.isEnabled(),(a=!("Authoring"===n&&!a))&&(e.is(i,"boolean")?o.setState(i):o.toggleState())):r.getLogger().debug(c,"toggleCmdCheckHeaderState, unknown command: "+n)};return{onStart:function(t){if(!e.is(d))throw r.getLogger().debug("Commands availability file path have not being provided."),new Error("Commands availability file path have not being provided.");require(["text!"+d],(function(i){if(!e.is(i))throw r.getLogger().debug("Commands Availability json is not defined."),new Error("Commands Availability json is not defined.");l=e.is(i,"string")?e.Json.decode(i):i,a=e.is(l.managedCommands,"array")?l.managedCommands:[],s=e.is(l.notOnCloud,"array")?l.notOnCloud:[],n.checkCFGLicenseAvailablePromise().then((function(e){u=e,r.getLogger().debug(c,"CFG license "+(u?"available":"not available"))})).catch((function(e){r.getLogger().debug(c,"ERROR while checking for CFG license: "+e)})),t()}))},onStop:function(){},notifyApp:function(e,t){r.getMediator().notify(e,t,{sourceModuleId:c})},toggleModule:function(t,n){var i;e.is(n)&&e.is(n.state)&&(i=n.state?"startModule":"stopModule",r.getMediator().notify(i,{moduleId:t,moduleData:n}))},getCommand:function(n){var i,o=r.getConfig().appContext;return e.is(n)?(i=t.getCommand(n,o),e.is(i)||(i=t.getCommandCheckHeader(n,o)),e.is(i)||r.getLogger().debug(c,"getCommand, unknown command: "+n)):r.getLogger().debug(c,"getCommand, no command in input !!!"),i},setCommandState:function(n,i){var o,a=r.getConfig().appContext;e.is(n)?(o=t.getCommand(n,a),e.is(o)||(o=t.getCommandCheckHeader(n,a)),e.is(o)?i?o.enable():o.disable():r.getLogger().debug(c,"disableCommand, unknown command: "+n)):r.getLogger().debug(c,"disableCommand, no command in input !!!")},setEffectivityCmdState:function(t,n){var i=n;!0===i&&(e.is(window)&&e.is(window.cfgCmdWidgetData)&&e.is(window.cfgCmdWidgetData._isDecouplingActivated,"boolean")?!1===window.cfgCmdWidgetData._isDecouplingActivated&&(i=!1):i=!1),this.setCommandState(t,i)},setAllCommandsState:function(t){var n=e.is(t,"string")?this.getCommandsAvailability(t):t,o=e.is(n)&&e.is(n.enabled,"array")?n.enabled:[];a.forEach((function(e){this.setCommandState(e,!1)}),this),i.isCloud()&&(o=o.filter((function(e){return s.indexOf(e)<0}),this)),0<o.length?o.forEach((function(e){this.setCommandState(e,!0)}),this):r.getLogger().debug(c,"enabled param should be an array with some element")},initState:function(){var n;e.is(l)?(n=function(){var n,i,o,a,s=r.getConfig().appContext,l=t.getCommands(s),c=null,d=[];for(n in l)e.is(n)&&(i=t.getCommand(n,s),e.is(i)&&"InsertCmd"===i.name&&(o=i.getArguments(),d.push(n),"array"===e.typeOf(o)&&o.length>0&&(a=o[0],e.is(a)&&e.is(a.ID)&&"ReferenceType"===a.ID&&e.is(a.Value)&&(c=a.Value)),e.is(c)&&(e.is(g[c.split("/")[1]],"array")?g[c.split("/")[1]].push(n):g[c.split("/")[1]]=[n],c=null)));return d}(),a=a.concat(n),l.initial.enabled=l.initial.enabled.concat(n),l.none.enabled=l.none.enabled.concat(n),this.setAllCommandsState(l.initial),this.authoringCmdAvailability(),e.is(l.viewCommandsActivatedAtAppStart)&&this.activateViewCommands(l.viewCommandsActivatedAtAppStart),f()):r.getLogger().debug("Commands Availability json is not defined.")},getSelectedRoots:function(t){var n,i,o=r.getPlugins("RootsPlugin"),a=[];if(e.is(o)){if(e.is(t,"array"))for(n=0;n<t.length;n++)if(e.is(t[n],"array"))for(i=0;i<t[n].length;i++)o.instance.isRoot(t[n][i])&&a.push(t[n][i]);return a}r.getLogger().debug("Roots Plugin is not available.")},getCommandsAvailability:function(t){if(!t)return e.clone(l);return function(t,n,i){var o;for(void 0===i&&(i=null),n=n.split("."),o=0;o<n.length;o++){if(void 0===t[n[o]])return i;t=t[n[o]]}return e.clone(t)}(l,t)},getValidChildTypeCommands:function(t){var n,i,o,a,s=[],l=r.getPlugins("DatabasePlugin");if(e.is(l)){if(i=l.instance.getValidChildTypes(t),e.is(i))for(n in g)if(i.indexOf(n)>=0)for(o=g[n],a=0;a<o.length;a++)s.push(o[a]);return s}r.getLogger().debug("Database Plugin is not available to get valid child types.")},manageCommandsAvailability:function(t,i,a,s,l,d,g){var m,h,p,v,S,C,P,b,y,w,L,E,D,I=this,A=0,R=0,x=0,M=0,O=0,_=0,W=0,N=0,V=0,T=0,F=r.getPlugins("DatabasePlugin"),U=r.getPlugins("DicoPlugin"),k=o.isDbMode()||n.getNavigateOnDatabasePreference();if(F&&U){if(F=F.instance,U=U.instance,i=i||[],a=a||[],s=s||[],l=l||[],d=d||[],g=g||[],A=(t=t||[]).length,x=i.length,R=l.length,h=a.length,O=d.length,W=g.length,e.is(a,"array")&&a.forEach((function(t){m=F.getReferenceModel(t),e.is(m)&&("PART"===(L=m.get("PPRTYPE"))||"PRODUCT"===L?x++:"PROCESS"===L?A++:"SERVICE"===L?O++:"SYSTEM"===L?M++:"RESOURCE"===L?R++:"OPERATION"===L?_++:"WORKINSTRUCTION"===L?T++:"CONSTRUCTION"===L?W++:"ORGANIZATION"===L?N++:"REQUIREMENT"===L&&V++)})),e.is(s,"array")&&s.forEach((function(t){m=F.getReferenceModel(t),e.is(m)&&("SYSTEM"===(L=m.get("PPRTYPE"))?M++:"OPERATION"===L?_++:"WORKINSTRUCTION"===L&&T++)})),v=A+x+M+R+_+T+O+W+N+V,b=I.getSelectedRoots([t,i,s,l,a,d,g]),1>v)I.setAllCommandsState("none");else if(1===v){if(1===M||1===_){let t=["DELLmiWorkPlanSystemReference","DELLmiGeneralSystemReference","DELLmiHeaderWorkPlanReference","DELLmiQtyControlProcessReference","DELLmiServiceWorkPlanSystemReference","DELLmiServiceWorkPlanOperationalReference","DELLmiServiceWorkPlanRectifyingReference","DELLmiServiceWorkPlanSupportingTaskReference"],n=["DELLmiServiceWorkPlanSystemReference","DELLmiServiceWorkPlanOperationalReference","DELLmiServiceWorkPlanRectifyingReference","DELLmiServiceWorkPlanSupportingTaskReference"];w=I.getCommandsAvailability("one.system"),m=F.getReferenceModel(s[0]),t.some((e=>U.isAKindOf(m,e)))&&w.enabled.push("CreateCapableResourceStructureLink"),e.is(m)&&(n.includes(m.get("type"))||n.some((e=>U.isAKindOf(m,e))))&&w.enabled.push("ProcedureViewCmd")}1===T&&(w=I.getCommandsAvailability("one.workInstruction")),1===R&&(w=I.getCommandsAvailability("one.resource")),1===A&&(w=I.getCommandsAvailability("one.process")),1===x&&(w=I.getCommandsAvailability("one.product")),1===O&&(w=I.getCommandsAvailability("one.service")),1===W&&(w=I.getCommandsAvailability("one.construction")),1===N&&(w=I.getCommandsAvailability("one.organization")),1===V&&(w=I.getCommandsAvailability("one.requirement")),e.is(w)&&(C=t[0]||s[0]||l[0]||a[0]||d[0]||g[0],S=F.getReferenceModel(C),e.is(S)&&(y=I.getValidChildTypeCommands(S),w.enabled=w.enabled.concat(y),y=I.getInsertAsCommands(S),w.enabled=w.enabled.concat(y)),I.setAllCommandsState(w))}else 1<v&&(v===x?I.setAllCommandsState("multiple.product"):v===A?I.setAllCommandsState("multiple.process"):v===O?I.setAllCommandsState("multiple.service"):v===W?I.setAllCommandsState("multiple.construction"):v===M+_?I.setAllCommandsState("multiple.system"):v===T?I.setAllCommandsState("multiple.workInstruction"):v===R?I.setAllCommandsState("multiple.resource"):I.setAllCommandsState("multiple.mixed"),b.length!==v&&0!==b.length&&I.setCommandState("Delete",!1));I.setCommandState("CreateLink",!0),I.setCommandState("CreateInstance",!0),P=b.length>0,E=v>0&&b.length===v&&x<1,I.setCommandState("Hide",P),I.setCommandState("DeleteHdr",E),I.setCommandState("DetachInstance",!P&&x<1&&v>0),I.manageReplaceCommandsAvailablity({isRoot:P,auxiliaryViewLength:a.length,mfgItemsViewLength:t.length,routingsViewLength:s.length,resourceViewLength:l.length,serviceItemsViewLength:d.length,constructionItemsViewLength:g.length}),I.groupingViewCmdAvailability(A,x,h),p=function(){var n,i,o,r,a=!1;if(s.length>0){n=F.getInstance(s[0]),e.is(n)&&(n=n.get("isAggregatedBy"));for(let t=0;t<s.length;t++)if(i=F.getInstance(s[t]),e.is(i)&&(i=i.get("isAggregatedBy")),n!==i){a=!0;break}}else if(t.length>0){o=F.getInstance(t[0]),e.is(o)&&(o=o.get("isAggregatedBy"));for(let n=0;n<t.length;n++)if(r=F.getInstance(t[n]),e.is(r)&&(r=r.get("isAggregatedBy")),o!==r){a=!0;break}}return a},v>0&&(D={isLicenseCFGValid:u,isRoot:P,auxLength:a.length,processViewLength:t.length,routingsViewLength:s.length,resourceViewLength:l.length,serviceViewLength:d.length,constructionViewLength:g.length,selectedItemsCount:v,isAuthoring:k,isCrossLevel:p()},I.manageConfigurationCommands(D)),f(),t.length>0&&this.manageCommandsAvailabilityForReadOnlyTypes(t),x>0&&v>x&&e.is(I.manageLifeCycleCmdsOnMixedSel,"function")&&I.manageLifeCycleCmdsOnMixedSel(),e.is(I.manageBuildUpCmdAvailabilty,"function")&&(D={auxLength:a.length,processViewLength:t.length,routingsViewLength:s.length,resourceViewLength:l.length},I.manageBuildUpCmdAvailabilty(D)),e.is(I.manageOrderBySequenceCmdAvailabilty,"function")&&(D={auxLength:a.length},I.manageOrderBySequenceCmdAvailabilty(D))}else r.getLogger().debug(c,"Database or Dico  Plugin is not available.")},manageCommandsAvailabilityForReadOnlyTypes:function(t){const n=this,i=this.getCommandsAvailability("disableCommandsForReadOnlyProcessTypes"),o=r.getPlugins("DatabasePlugin"),a=r.getPlugins("DicoPlugin");if(e.is(o)&&e.is(a)){const e=t.map((function(e){return o.instance.getReferenceModel(e)}));if(Array.isArray(e)&&e.length>0){let t=new Set;e.forEach((function(e){t.add(e.get("type"))}));a.instance.isReferencesHasReadOnlyType(e)&&i.forEach((function(e){n.setCommandState(e,!1)}))}}},manageConfigurationCommands:function(){r.getLogger().debug(c,'"manageConfigurationCommands" is not overridden')},manageReplaceCommandsAvailablity:function(){r.getLogger().debug(c,'"manageReplaceCommandsAvailablity" is not overridden')},authoringCmdAvailability:function(){!0===n.getNavigateOnDatabasePreference()?this.setCommandState("Authoring",!1):this.setCommandState("Authoring",!0)},groupingViewCmdAvailability:function(e,t,n){1===e&&0===n&&0===t?this.setCommandState("ShowGroupingDataGridView",!0):this.setCommandState("ShowGroupingDataGridView",!1)},manageGraphViewCmdAvailablity:function(){var t,n,i=this,o=r.getPlugins("TreeViewPlugin"),a=!1;e.is(o)?(t=o.instance.getCurrentView(),Object.keys(t).forEach((function(i){n=t[i],e.is(n.currentView)&&"graphView"===n.currentView&&(a=!0)})),["ToggleOrientation","ToggleOverview","Reframe","ReframeOn"].forEach((function(e){i.setCommandState(e,a)}))):r.getLogger().debug("treeView Plugin is not available.")},toggleCmdCheckHeaderState:function(t){t=t||{},e.is(t.cmdName)?m(t.cmdName,t.cmdState):r.getLogger().debug("Failed to toggle state : check command name has not been provided")},getOneDelmiaAggregationMode:function(){return n.getOneDelmiaAggregationMode()},activateViewCommands:function(e){Array.isArray(e)&&e.forEach((function(e){m(e,!0)}))}}}})),define("DS/DELPPWServices/ConfigService/CustoParametersSet",["UWA/Core"],(function(e){"use strict";return function(t,n,i,o){var r,a,s,l=new Map,c="OOTBValue";return a=function(){e.is(widget.getValue)&&(r=widget.getValue("custoParametersSet"),-1===Array.from(l.keys()).indexOf(r)&&(r=c))},s=function(n){return new Promise((function(o,r){var s=e.is(t)?"?custoParameterRegExp="+t:"",c=[],d=n,u=function(){r("ApplicationInit.NoCustoParametersSetsInfo")};i.webServiceRequest({url:"dsmfg/private/V0/invoke/getCustoParametersSetsInfo"+s,method:"GET",onComplete:function(t,n){e.is(t)&&t.forEach((function(e){l.set(e.title,e.PID),d===e.title?c=e.xmls:d===e.PID&&(c=e.xmls,widget.setValue("custoParametersSet",e.title))})),a(),o([n,c])},onFailure:u,onTimeout:u})}))},{getCustoParametersSetsInfoPromise:function(e){return s(e)},isChanged:function(){var t=!1;return e.is(widget.getValue)&&r!==widget.getValue("custoParametersSet")&&(r=widget.getValue("custoParametersSet"),t=!0),t},getNames:function(e){var t={value:e.defaultValue,label:e.defaultValue!==c?e.defaultValue:o.getNLSValue("Preferences.CustoParametersSetDefault")},n={value:c,label:o.getNLSValue("Preferences.CustoParametersSetDefault")},i=[t];return Array.from(l.keys()).forEach((function(e){i.push({value:e,label:o.getNLSValue(e)})})),i.some((e=>e.value===c))||i.push(n),i},getSelectedPID:function(){var t,n="";return e.is(widget)&&e.is(widget.getValue,"function")&&(t=widget.getValue("custoParametersSet"),e.is(t,"string")&&-1!==Array.from(l.keys()).indexOf(t)&&(n=l.get(t))),n}}}})),define("DS/DELPPWServices/PreferenceService/Preferences",["UWA/Core","DS/DELPPWWebServices/WebserviceUtils","DS/DELPPWResourceServices/ResourceUtils"],(function(e,t,n){"use strict";return function(i,o,r,a){var s,l,c,d,u=!!e.is(a,"boolean")&&a;return s=function(){var e=o.getAllSC(),i=t.getSecurityContext();widget.addPreference({name:"Credentials",type:u?"hidden":"list",label:n.getNLSValue("Preferences.Credentials"),options:e,defaultValue:i,onchange:"onChangeSC"})},c=function(){var t=widget.getValue("Credentials");e.is(i)&&i.debug("Preferences::onChangeSC, (selCredentials): "+t)},l=function(){var t=widget.getValue("Credentials"),n=widget.getValue("tenantAware");e.is(t)&&(widget.addPreference({name:"xPref_CREDENTIAL",type:"hidden",defaultValue:t.replace(/^(ctx::)/,"")}),e.is(n)||widget.setValue("tenantAware",!0))},d=function(t){var i=widget.getValue("isCustoParametersSetLocked")?"hidden":"list",o=widget.getValue("custoParametersSet");widget.addPreference({name:"custoParametersSet",type:e.is(i)?i:e.is(t)&&e.is(t.type)?t.type:"hidden",label:n.getNLSValue("Preferences.CustoParametersSet"),options:r.getNames(t),defaultValue:e.is(o)?o:t.defaultValue})},{populate:function(t){var o,r,a,g,f,m,h,p,v,S,C=function(e){return e.map((function(e){return{value:e.value,label:n.getNLSValue(e.label)}}))};if(!t)throw new Error("App config is not defined");if(!(o=t.preferences))throw new Error("preferences is not defined in app config");for(r=0,a=o.length;r<a;r++)if(S=o[r])switch(g=e.result(S,"name"),f=e.result(S,"type"),g){case"Credentials":s();break;case"xPref_CREDENTIAL":l();break;case"custoParametersSet":d(S);break;default:h=e.result(S,"options"),m=n.getNLSValue(e.result(S,"label")),Array.isArray(h)&&(h=C(h)),p=e.result(S,"defaultValue"),v=e.result(S,"onchange"),widget.addPreference({name:g,type:u?"hidden":f,label:m,options:h,defaultValue:p,onchange:v})}widget.addEvent("onChangeSC",c),e.is(i)&&i.debug("Preferences::populate: Preferences has been built.")},updateCredentialsInfoPref:function(){var t=widget.getValue("Credentials"),n=widget.getValue("xPref_CREDENTIAL");e.is(t)&&e.is(n)&&widget.setValue("xPref_CREDENTIAL",t.replace(/^(ctx::)/,""))}}}})),define("DS/DELPPWServices/ExternalService/PadCommandProxyUtil",["UWA/Core","DS/DELPPWModelServices/ModelUtils"],(function(e,t){"use strict";return function(n){var i,o,r,a,s,l,c="PadCommandProxyUtil",d=n.getLogger();return r=function(t,i){var o=i||{},r=Array.isArray(t)?t:[t],a=!e.is(o.forceDBMode,"boolean")||o.forceDBMode,s=!!e.is(o.silent,"boolean")&&o.silent,l=!!e.is(o.forceExpand,"boolean")&&o.forceExpand,u=n.getPlugins("DatabasePlugin"),g={};e.is(u)?(u=u.instance).fetchRefList(r,{forceDBMode:a,silent:s,queriedForChildren:!1,onComplete:function(t){d.debug(c,"Successfully refreshed reference model: "+t),n.getMediator().notify("referenceChanged",[t.instancesAndReferences]),e.is(l)&&l&&t.instancesAndReferences.forEach((function(t){u.getDescendantsFromServer(t.id,null,e.merge({silent:s,forceDBMode:a},o))})),n.getMediator().notify("lifecycleChanged",g)},onFailure:function(t){d.debug(c,"Failed to refresh model PIDs: "+r),e.is(t)&&d.debug(c,JSON.stringify(t))}}):n.getLogger().debug(c,"_refreshElement- Database plugin not available")},i=function(t,i){var o=i||{},r=!!e.is(o.forceDBMode,"boolean")&&o.forceDBMode,a=!e.is(o.silent,"boolean")||o.silent,s=!!e.is(o.loadRootOnly,"boolean")&&o.loadRootOnly,l={forceDBMode:r,silent:a,onComplete:function(e){d.debug(c,"Successfully fetched reference: "+e.id),n.getMediator().notify("referenceAdded",[e,null,{withLinksResolved:!0,forceDBMode:r,loadRootOnly:s}])},onFailure:function(n){d.debug(c,"_addReference: Failed to fetch Reference for PID: "+t),e.is(n)&&d.debug(c,JSON.stringify(n))}},u=n.getPlugins("DatabasePlugin");e.is(u)?(u=u.instance,e.is(t)?u.fetchRoot(t,l):n.getLogger().debug(c,"_addReference- Input PID is not defined")):n.getLogger().debug(c,"_addReference- Database plugin not available")},o=function(i,o){var r,a,s,l=o||{},u={noTimeout:!0};a=function(){var e=s.getReferencesFromArray(i);d.debug(c,"Successfully fetched references: "+i),n.getMediator().notify("referenceAdded",[e,null,{}]),n.getMediator().notify("stopProgress",u)},r={forceDBMode:!!e.is(l.forceDBMode,"boolean")&&l.forceDBMode,silent:!e.is(l.silent,"boolean")||l.silent,onFailure:function(t){d.debug(c,"_addReferences: Failed to fetch References for PID: "+i),e.is(t)&&d.debug(c,JSON.stringify(t)),n.getMediator().notify("stopProgress",u)}},s=n.getPlugins("DatabasePlugin"),e.is(s)?(s=s.instance,r.expandLevel=Number(t.getOnLoadFetchLevelPreference()),e.is(i)?(n.getMediator().notify("startProgress",u),s.getDescendantsFromServer(i,a,r)):n.getLogger().debug(c,"_addReferences- Input PID is not defined")):n.getLogger().debug(c,"_addReferences- Database plugin not available")},a=function(t,i){var a,s,l,u=!1,g={};d.debug(c,"Refresh Created: %o",t),a=i||{},a=e.merge({forceDBMode:!0},a),s=[],l=[],e.is(t,"array")&&t.length>0&&(t.forEach((function(t){var n=t||{},i=e.is(n.physicalid,"string")&&n.physicalid.length>0?n.physicalid:null;e.is(i)&&s.push(i),"Revise"===t.operation?(e.is(t.sourceObjectId)&&l.push(t.sourceObjectId),u=!0):"Branch"!==t.operation&&"Duplicate"!==t.operation||(u=!0)})),s.length>0&&(o(s,a),g.added=s),l.length>0&&(r(l,a),g.refreshed=l),u&&n.getMediator().notify("versionCreated",g))},s=function(t,i){var o=[],r=[],a=[],s={silent:!0},l=n.getPlugins("DatabasePlugin");e.is(l)?(l=l.instance,d.debug(c,"Refresh Deleted: %o"+t),e.is(t,"array")&&(t.forEach((function(t){var i=t||{},s=[],d=null,u=e.is(i.physicalid,"string")&&i.physicalid.length>0?i.physicalid:null;e.is(u)?(d=l.getReferenceModel(u),e.is(d)&&(o.push(d),l.getAllChildrenFromCollection(u).instancesPID.forEach((function(e){var t=l.getInstance(e),n=l.getImpacted(e,!1,{onlyInstanceRelations:!0});r.push(t),a=a.concat(n)})),s=l.getImpacted(u,!1),a=a.concat(s))):n.getLogger().debug(c,"_refreshDeleted- Invalid PID")})),l.removeReference(o,s),n.getMediator().notify("referenceRemoved",[o]),r.length>0&&(l.removeInstance(r,s),n.getMediator().notify("instanceRemoved",[r])),a.length>0&&(l.removeConnection(a,s),n.getMediator().notify("connectionRemoved",[a])))):n.getLogger().debug(c,"_refreshDeleted- Database plugin not available.")},l=function(t,n){var i=n||{},o=[];i=e.merge({forceDBMode:!0,silent:!0,forceExpand:!1},i),d.debug(c,"Refresh Modified: %o",t),e.is(t,"array")&&(t.forEach((function(t){var n=t||{},i=e.is(n.physicalid,"string")&&n.physicalid.length>0?n.physicalid:e.is(n,"string")&&n.length>0?n:null;o.push(i)})),r(o,i))},{refreshElementFromEvent:function(t){e.is(t,"array")&&t.forEach((function(t){var n=t||{},i=e.is(n.id,"string")&&n.id.length>0?n.id:null,o=!!e.is(n.forceDBMode,"boolean")&&n.forceDBMode,a=!!e.is(n.forceExpand,"boolean")&&n.forceExpand;e.is(i)&&r(i,{forceDBMode:o,forceExpand:a,silent:!1})}))},addReferenceFromEvent:function(t){var o=n.getPlugins("DatabasePlugin"),r=!1;e.is(o)&&(o=o.instance,r=o.isLoadRootOnly()),e.is(t,"array")&&t.forEach((function(t){var n=t||{},o=e.is(n.id,"string")&&n.id.length>0?n.id:null,a=!!e.is(n.forceDBMode,"boolean")&&n.forceDBMode,s=e.is(n.loadRootOnly,"boolean")?n.loadRootOnly:r;e.is(o)&&i(o,{forceDBMode:a,loadRootOnly:s,silent:!1})}))},refreshCreated:function(e,t){a(e,t)},refreshDeleted:function(e,t){s(e)},refreshModified:function(e,t){l(e,t)}}}})),define("DS/DELPPWServices/LoggerService/AlertManager",["UWA/Core","DS/Notifications/NotificationsManagerUXMessages","DS/Notifications/NotificationsManagerViewOnScreen"],(function(e,t,n){"use strict";return function(i){var o;return n.setNotificationManager(t),o=function(){var t=widget.getElements(".app-messages")[0]?widget.getElements(".app-messages")[0]:widget.body,o=widget.getElements(".wux-windows-modalDialog")[0]?widget.getElements(".wux-windows-modalDialog")[0]:null,r=!(!e.is(o)||"none"===o.getStyle("display"));e.is(o)&&r?n.inject(o):e.is(t)?n.inject(t):i.getLogger().debug("Alert Manager","Alert Container is not defined.")},{displayAlert:function(n){o(),t.addNotif(e.merge({allowUnsafeHTML:!1,sticky:!1},n))}}}})),define("DS/DELPPWServices/LayoutService/DOMNaming",[],(function(){"use strict";return{construction:{appContainer:"app-container",appMessages:"app-messages",appProgressInd:"app-ProgressInd",moduleContainer:"module-container",moduleMessages:"module-messages",dropZoneContainer:"drop-zone-container",treeListContainer:"tree-list-container",toolbarContainer:"toolbar-container",graphContainer:"graph-container",grapViewContainer:"graphView-container",progessBarContainer:"progressBar-container",auxiliaryViewContainer:"auxiliaryView-container",actionViewContainer:"actionView-Container",propertiesContainer:"properties-container",groupingPanelContainer:"groupingPanel-container",requirementContainer:"requirement-container"},classes:{hideBodyView:"hideEBOM",showGraphView:"showGraphView"},selectors:{main:"main.main",mainDrop:"div.dropZone",mbomDrop:"div.mbomDrop",mbomTreeListToolBar:"div.mbomTreeListView.ToolBar",mbomTreeList:"div.mbomTreeListView",mbomGraphToolBar:"div.mbomGraphView.ToolBar",mbomGraph:"div.mbomGraphView",mbomContainer:"div.mbomContainer",bodyContainer:"div.bodyContainer",bodyDrop:"div.bodyDrop",bodyTreeListToolBar:"div.bodyTreeListView.ToolBar",bodyTreeList:"div.bodyTreeListView",bodyGraphToolBar:"div.bodyGraphView.ToolBar",bodyGraph:"div.bodyGraphView"}}})),define("DS/DELPPWServices/LandingPageService/LandingPageDnD",["UWA/Core","DS/Utilities/Dom","DS/DELPPWResourceServices/ResourceUtils"],(function(e,t,n){"use strict";return function(i){var o,r,a=i.body,s={actual:null,count:0},l=function(e){var n,i=t.firstParentWithClass(e.target,"dropZoneGlobal");return 0===s.count?(r.show(),o.show()):i&&(n=i.querySelector(".dropZone"),s.actual!==n&&(s.actual&&s.actual.classList.remove("zoneHighlighted"),n.classList.add("zoneHighlighted"),s.actual=n)),s.count++,e.stopPropagation(),!1},c=function(e){return t.firstParentWithClass(e.target,"dropZoneGlobal")&&e.preventDefault(),e.stopPropagation(),!1},d=function(e){return s.count--,0===s.count&&(o.hide(),r.hide()),e.target===s.actual&&(s.actual.classList.remove("zoneHighlighted"),s.actual=null),e.stopPropagation(),!1},u=function(e){return s.count=0,s.actual&&(s.actual.classList.remove("zoneHighlighted"),s.actual=null),o.hide(),r.hide(),e.stopPropagation(),!1},g=function(e){return s.count=0,o.hide(),r.hide(),e.stopPropagation(),e.defaultPrevented||(e.preventDefault(),s&&s.actual?(s.actual.classList.contains("dragAndDrop")&&i.onDrop(e),s.actual.classList.remove("zoneHighlighted"),s.actual=null):t.firstParentWithClass(e.target,"dropZoneGlobal").classList.contains("dragAndDrop")&&i.onDrop(e)),!1};return{init:function(){var t,i,f,m,h;for(s={actual:null,count:0},function(){a&&(a.addEventListener("dragenter",l.bind(this)),a.addEventListener("dragover",c.bind(this)),a.addEventListener("dragleave",d.bind(this)),a.addEventListener("dragend",u.bind(this)),a.addEventListener("drop",g.bind(this)))}(),o=e.createElement("div",{class:"dnd-area"}).inject(a),(r=e.createElement("div",{class:"overlay-area"}).inject(a)).hide(),o.hide(),t=[{id:"dragAndDrop",icon:"drag-drop",title:n.getNLSValue("LandingPage.DropZone.Title")}],i=0;i<t.length;i++)f=e.createElement("div",{class:"dropZoneGlobal "+t[i].id,draggable:!1}),m=e.createElement("div",{class:"dropZone "+t[i].id,draggable:!1}).inject(f),h=e.createElement("div",{class:"dropIconAndText "+t[i].id}).inject(m),e.createElement("i",{class:"iconImg wux-ui-3ds wux-ui-3ds-4x wux-ui-3ds-"+t[i].icon}).inject(h),e.createElement("h5",{class:"title "+t[i].id,text:t[i].title}).inject(h),f.inject(o)},destroy:function(){!function(){a&&(a.removeEventListener("dragenter",l.bind(this)),a.removeEventListener("dragover",c.bind(this)),a.removeEventListener("dragleave",d.bind(this)),a.removeEventListener("dragend",u.bind(this)),a.removeEventListener("drop",g.bind(this)))}(),o&&(o.destroy(),o=null),r&&(r.destroy(),r=null)}}}})),define("DS/DELPPWServices/LayoutService/BlocLayout",["UWA/Core","UWA/Controls/Abstract"],(function(e,t){"use strict";return t.extend({_logger:null,defaultOptions:{className:"blocLayout",minSize:"5px"},init:function(e){if(this._parent(e),this._rowMap={},this._columnMap={},this._rowColumnMap={},this._hiddenColumnsMap={},this._rowIds=[],this._fixedColumnIds=[],this._fixedRowIds=[],!(e=this.options).logger||!e.mediator)throw new Error("logger or mediator option not defined");this._logger=e.logger,this._mediator=e.mediator,e.rows||(e.rows=[{columns:2},{columns:1}]),e.minSize=-1!==e.minSize.indexOf("px")?parseInt(e.minSize.replace("px","")):5,this._buildSkeleton(e.rows)},_buildSkeleton:function(t){var n,i,o,r,a,s=this,l=-1,c=-1,d=function(e){s.hasOwnProperty("_resizingInfo")&&("touchend"===e.type?(s.getContent().removeEvent("touchmove"),e.preventDefault()):s.getContent().removeEvent("mousemove"),delete s._resizingInfo)};this.elements.container=e.createElement("div",{class:"bl-container"}),t.forEach((function(t,d){if(l++,i=e.createElement("div",{class:"bl-row"}).inject(s.getContent()),o=e.createElement("div",{class:"bl-row-content no-drag-row"}).inject(i),s._rowMap[l]=i,s._rowIds.push(l),d>0&&(s._createHandle(l,null,"bl-drag-row").inject(i,"top"),o.removeClassName("no-drag-row")),t.hasOwnProperty("columns"))for(n=0;n<t.columns;n++)c++,r=e.createElement("div",{class:"bl-column"}).inject(o),a=e.createElement("div",{class:"bl-column-content no-drag-column"}).inject(r),s._columnMap[c]=r,s._rowColumnMap[l]?s._rowColumnMap[l].push(c):s._rowColumnMap[l]=[c],n<t.columns-1&&(s._createHandle(l,c,"bl-drag-column").inject(r,"top"),a.removeClassName("no-drag-column"))})),this._initSize(),this.getContent().addEvent("touchend",d),this.getContent().addEvent("mouseup",d),this.onContainerResized((function(){var e=this,t=this.getContent().getSize();this.setRowsHeight(this._rowIds,t.height,{minSize:0}),this._rowIds.forEach((function(n){var i=e._getColumnIdsInRow(n);e.setColumnsWidthById(i,t.width,{minSize:0})}))}))},_createHandle:function(t,n,i){var o=this,r=e.createElement("div",{class:i}),a=function(e){o._resizingInfo={rowId:t,columnId:n},"touchstart"===e.type?(o.getContent().addEvent("touchmove",o._onMouseMove.bind(o)),e.preventDefault()):o.getContent().addEvent("mousemove",o._onMouseMove.bind(o))};return r.addEvent("touchstart",a),r.addEvent("mousedown",a),r},_onMouseMove:function(t){var n,i,o,r,a,s=this._resizingInfo;if(s)try{e.is(s.columnId)?(a=this._getRowElem(s.rowId),i=this._getColumnIdsInRow(s.rowId).filter((function(e){return e<=s.columnId})),n="touchmove"===t.type?t.touches[0].pageX-a.getOffsets().x:t.clientX-a.getOffsets().x,this.setColumnsWidthById(i,n,{minSize:this.options.minSize})):(r=this._getRowIds().filter((function(e){return e<s.rowId})),o="touchmove"===t.type?t.touches[0].pageY-this.getContent().getOffsets().y:t.clientY-this.getContent().getOffsets().y,this.setRowsHeight(r,o,{minSize:this.options.minSize}))}catch(t){delete this._resizingInfo}},_initSize:function(){var e=this,t=this._getRowIds();this._setEqualRowsHeight(),t.forEach((function(t){e._setEqualColumnsWidthInRow(t)}))},_setEqualRowsHeight:function(){var e=this,t=this._getRowIds();t.forEach((function(n){var i=100/t.length;e._getRowElem(n).setStyle("height",e._toPercent(i))}))},_setEqualColumnsWidthInRow:function(e){var t=this,n=this._getColumnIdsInRow(e);n.forEach((function(e){var i=100/n.length;t._getColumnElem(e).setStyle("width",t._toPercent(i))}))},_getRowIds:function(){return this._rowIds},_getRowIdFromColumnId:function(e){var t,n;for(n in this._rowColumnMap)if(-1!==this._rowColumnMap[n].indexOf(e)){t=parseInt(n);break}return t},_getColumnId:function(e,t){var n;return this._rowColumnMap.hasOwnProperty(e)&&(n=this._rowColumnMap[e][t]),n},_getColumnIdsInRow:function(e){return this._rowColumnMap[e]},_getFixedColumnIds:function(){return this._fixedColumnIds},_getFixedRowIds:function(){return this._fixedRowIds},_getRowElem:function(e){return this._rowMap[e]},_getColumnElem:function(e){return this._columnMap[e]},getColumnSize:function(e,t){var n=this._getColumnId(e,t);if(isNaN(n))throw"Column number: "+t.toString()+" does not exist";return this._getColumnElem(n).getSize()},getRowSize:function(e){var t=this._getRowElem(e);if(!t)throw"Row number: "+e.toString()+" does not exist";return t.getSize()},_toPx:function(e){var t;return isNaN(e)||(t=Math.floor(e).toString()+"px"),t},_toPercent:function(e){var t;return isNaN(e)||(t=Math.floor(e).toString()+"%"),t},_setElemsSize:function(t,n,i,o,r){var a,s,l,c,d,u,g,f,m,h,p,v,S,C,P,b=this,y=[],w=[],L=0,E=(S={},C=function(e,t){var n=0,i=isNaN(t)?1:t;return e.forEach((function(e){S.hasOwnProperty(e)&&(n+=S[e]*i)})),n},i.forEach((function(e){S[e]=b.getSize(e)})),{get:C,setEqualSize:function(){var e,t=i.length,n=C(i),o=Math.floor(n/t);for(e in S)S.hasOwnProperty(e)&&(S[e]=o)}}),D=(P={},{set:function(e,t){P[e]=t},get:function(e){var t=0;return e.forEach((function(e){P.hasOwnProperty(e)&&(t+=P[e])})),t},getMax:function(){var e,t,n=0;for(e in P)Math.max(n,P[e])===P[e]&&(t=e,n=P[e]);return{id:t,value:n}}});try{if(r&&(r.hasOwnProperty("fixedIds")&&(y=r.fixedIds),r.hasOwnProperty("minSize")&&(L=r.minSize)),n<0)throw"Input error: size";if(o<=0)throw"Input error: container size";if((c=t.filter((function(e){return-1!==y.indexOf(e)||(w.push(e),!1)}))).length>0?(a=n-E.get(c),s=w):(a=n,s=t),s.length<1)throw"No element available for resize";if(a<s.length*L)throw"Cannot set size inferior to minSize";if(l=i.filter((function(e){return-1===s.indexOf(e)&&-1===y.indexOf(e)})),g=E.get(y),f=E.get(l),u=E.get(s),a+g+l.length*L>o)throw"Cannot set size superior to container size";if(0===u&&(E.setEqualSize(),u=E.get(s),f=E.get(l)),m=0!==u?a/u:0,h=0!==f?(o-g-a)/f:0,(d=s.concat(l)).forEach((function(t,n){var i,o,l=n<s.length;e.is(r)&&e.is(r.equalSizeColumns)&&r.equalSizeColumns&&l?o=Math.round(a/s.length):(i=l?m:h,o=Math.round(E.get([t],i))),o=o>L?o:L,D.set(t,o)})),(p=D.get(i)+g-o+1)>0){if((v=D.getMax()).value-p<L)throw"Cannot set size inferior to minSize";D.set(v.id,v.value-p)}}catch(e){return void b._logger.debug(e)}d.forEach((function(e){b.setSize(e,D.get([e]))}))},maximizeRow:function(e){var t=this.getContent().getSize().height;this.setRowsHeight([e],t)},maximizeColumnInRow:function(e,t){var n=this._getRowElem(e).getSize().width;t=Array.isArray(t)?t:[t],this.setColumnsWidth(e,t,n)},fitRowColumnsEqually:function(e,t){var n=this._getRowElem(e).getSize().width;t=Array.isArray(t)?t:[t],this.setColumnsWidth(e,t,n,{equalSizeColumns:!0})},unmaximizeRows:function(){this._setEqualRowsHeight()},unmaximizeColumnsInRow:function(e){this._setEqualColumnsWidthInRow(e)},setColumnContent:function(e,t,n){var i;n&&(i=this._getColumnId(e,t),this._getColumnElem(i).getElement(".bl-column-content").setContent(n))},getColumnContent:function(e,t){var n;return n=this._getColumnId(e,t),this._getColumnElem(n).getElement(".bl-column-content")},setColumnsWidth:function(t,n,i,o){var r=this,a=[],s=this._getFixedColumnIds();try{n.forEach((function(e){var n=r._getColumnId(t,e);if(isNaN(n))throw"Column number: "+e.toString()+" does not exist";a.push(n)}))}catch(e){return void this._logger.debug(e)}this.setColumnsWidthById(a,i,e.extend(o,{fixedIds:s}))},hideShowColumnById:function(t,n){var i=this._getColumnId(t,n),o={},r=this._hiddenColumnsMap[t];e.is(r)&&r.hasOwnProperty(i)?(o=r[i],this.setColumnsWidth(t,[n],o.prevWidth,{}),this._hiddenColumnsMap[t].pop(n)):(o={prevWidth:this._getColumnElem(i).getSize().width},e.is(r,"array")||(this._hiddenColumnsMap[t]=[]),this._hiddenColumnsMap[t][i]=o,this.setColumnsWidth(t,[i],0,{}))},setColumnsWidthById:function(t,n,i){var o,r,a,s,l=this,c=this._getFixedColumnIds();try{if(t.length<1)throw"Input array of ids is empty";if(a=this._getRowIdFromColumnId(t[0]),isNaN(a))throw"Invalid column id"}catch(e){return void this._logger.debug(e)}o=this._getRowElem(a).getSize().width,r=this._getColumnIdsInRow(a),s={_logger:l._logger,getSize:function(e){return l._getColumnElem(e).getSize().width},setSize:function(e,t){l._getColumnElem(e).setStyle("width",l._toPx(t))}},this._setElemsSize.call(s,t,n,r,o,e.extend(i,{fixedIds:c}))},setRowsHeight:function(t,n,i){var o,r,a=this,s=this._getFixedRowIds();try{if(t.length<1)throw"Input array of ids is empty"}catch(e){return void this._logger.debug(e)}o=this.getContent().getSize().height,r={_logger:a._logger,getSize:function(e){return a._getRowElem(e).getSize().height},setSize:function(e,t){a._getRowElem(e).setStyle("height",a._toPx(t))}},this._setElemsSize.call(r,t,n,this._getRowIds(),o,e.extend(i,{fixedIds:s}))},addFixedColumns:function(e){var t,n,i,o=this;e.forEach((function(e){var r,a=o._getColumnId(e.row,e.column);isNaN(a)?o._logger.debug("{"+e.row.toString()+", "+e.column.toString()+"}: Invalid column"):(t=o._getColumnIdsInRow(e.row),n=t.filter((e=>!o._fixedColumnIds.includes(e))),Math.max.apply(null,n)===a&&n.length>1?(r=Math.max(...n.filter((e=>e<a))),i=o._getColumnElem(r).getElement(".bl-drag-column")):i=o._getColumnElem(a).getElement(".bl-drag-column"),o._fixedColumnIds.push(a),i&&i.destroy())}))},removeFixedColumns:function(t){var n,i,o,r,a=this;t.forEach((function(t){var s,l=a._getColumnId(t.row,t.column);isNaN(l)?a._logger.debug("{"+t.row.toString()+", "+t.column.toString()+"}: Invalid column"):-1!==(i=a._fixedColumnIds.indexOf(l))?(a._fixedColumnIds.splice(i,1),n=a._getColumnIdsInRow(t.row),o=n.filter((e=>!a._fixedColumnIds.includes(e))),Math.max.apply(null,o)===l&&o.length>1?(s=Math.max(...o.filter((e=>e<l))),r=e.is(a._getColumnElem(s).getElement(".bl-drag-column"))?null:s):r=e.is(a._getColumnElem(l).getElement(".bl-drag-column"))?null:l,e.is(r)&&a._createHandle(t.row,r,"bl-drag-column").inject(a._getColumnElem(r),"top")):a._logger.debug("{"+t.row.toString()+", "+t.column.toString()+"}: Column was not fixed")}))},addFixedRow:function(e){var t,n,i=this;e.forEach((function(e){var o=i._getColumnId(e,0),r=i._getRowIdFromColumnId(o);isNaN(r)?i._logger.debug("{"+e.toString()+"}: Invalid row"):(i._fixedRowIds.push(r),t=i._getRowIds(),(n=Math.max.apply(null,t)===r&&t.length>1?i._getRowElem(r-1).getElement(".bl-drag-row"):i._getRowElem(r).getElement(".bl-drag-row"))&&n.destroy())}))},removeFixedRow:function(e){var t,n,i,o=this;e.forEach((function(e){var r=o._getColumnId(e,0),a=o._getRowIdFromColumnId(r);isNaN(a)?o._logger.debug("{"+e.toString()+"}: Invalid row"):-1!==(n=o._fixedRowIds.indexOf(a))?(o._fixedRowIds.splice(n,1),t=o._getRowIds(),i=Math.max.apply(null,t)===a&&t.length>1?a-1:a,o._createHandle(e,i,"bl-drag-row").inject(o._getRowElem(i),"top")):o._logger.debug("{"+e.toString()+"}: Row was not fixed")}))},onContainerResized:function(e){var t=this;this.getContent().addEvent("resize",(function(){e.call(t)}))},getRowIds:function(){return this._rowIds},getRowColumnMap:function(){return this._rowColumnMap},getContainerElem:function(){return this.elements.container}})})),define("DS/DELPPWServices/LandingPageService/LandingPage",["DS/WelcomeScreenView/WelcomeScreen","DS/DELPPWResourceServices/ResourceUtils"],(function(e,t){"use strict";return function(n){var i,o,r,a,s=[],l={},c={},d={},u=[],g=[];if(n.contentAndKnowledge.contents.length>0){for(u=[],r=0;r<=n.contentAndKnowledge.contents.length-1;r++)c={id:"UserAssistance"+r,i18n:{title:t.getNLSValue(n.contentAndKnowledge.contents[r].title)},icon:n.contentAndKnowledge.contents[r].icon,url:n.contentAndKnowledge.contents[r].url},u.push(c);l={id:"ContentAndKnowledge",i18n:{title:t.getNLSValue(n.contentAndKnowledge.title)},links:u},s.push(l)}if(n.socialNetworks.communities.length>0){for(g=[],a=0;a<=n.socialNetworks.communities.length-1;a++)d={id:"DelmiaUserCommunity"+a,i18n:{title:t.getNLSValue(n.socialNetworks.communities[a].title)},icon:n.socialNetworks.communities[a].icon,url:n.socialNetworks.communities[a].url},g.push(d);l={id:"SocialNetworks",i18n:{title:t.getNLSValue(n.socialNetworks.title)},links:g},s.push(l)}return o={body:n.body?n.body:null,title:n.appTitle,subtitle:t.getNLSValue(n.appSubtitle),background:t.getImageURLFromKey("LandingPageBackground"),buttons:{items:n.items},linksCategories:s,dragAndDrop:{callbacks:{onDragEnter:e=>Promise.resolve("OverFullPage"),onDrop:e=>{n.onDrop(e)}}}},i=new e(o),widget.body.appendChild(i.getDOM()),i.show(),{show:function(){i.show()},hide:function(){i.hide()}}}})),define("DS/DELPPWServices/ExternalService/ExternalServiceUtil",["UWA/Core","DS/PlatformAPI/PlatformAPI"],(function(e,t){"use strict";var n,i,o,r=function(t){return{getAllSelections:function(t){var n=[],i=this.getSelectedNodeInfos(t);return e.is(i,"array")&&(n=i.reduce((function(e,t){return e.concat(t)}),[])),n},getSelectedNodeInfos:function(n){var i,o,r,a,s=[],l=n||"ExternalService",c=t.getPlugins("SelectionPlugin"),d=t.getPlugins("DatabasePlugin"),u=t.getPlugins("TreeViewPlugin"),g=t.getPlugins("AttributePlugin"),f=t.getPlugins("ResourcePlugin");if(!(e.is(d)&&e.is(c)&&e.is(u)&&e.is(g)&&e.is(f)))return t.getLogger().debug("ExternalServiceUtil","DatabasePlugin or SelectionPlugin or TreeViewPlugin or AttributePlugin or ResourcePlugin not available."),s;for(d=d.instance,c=c.instance,u=u.instance,g=g.instance,f=f.instance,a=function(t){var n,i,o,r=t.id,a=t.path,s=null,l="";return o=d.getReference(r),e.is(o)||(s=d.getInstance(r),e.is(s)&&(o=d.getReferenceModelFromInstance(s),l=s.get("type"))),n={reference:{id:o.id,type:o.get("type"),pprType:o.get("PPRTYPE"),revision:o.get("revision")},instance:{id:e.is(s)?s.id:null,absolutePath:a,label:e.is(s)?d.getDisplayName(s):null,type:l,typeNLS:f.getNLSValue(l)},label:d.getDisplayName(o),parent:null},i=e.is(s)?d.getAggregatingReferenceModelFromInstance(s):null,e.is(i)&&(n.parent={reference:{id:i.id},label:d.getDisplayName(i)}),n},o=0,r=(i=c.getSelectionsWithPaths(l)).length;o<r;o++)s[o]=i[o].map((function(e){return a(e)}));return s}}};return i=function(t){var n,i,o,r,a,s={data:[],widgetID:widget.id},l=["DELLmiTimeConstraintCnx","ProcessImplementLinkOcc","ProductImplementLinkOcc","DELAsmProcessCanUseCnx"];return t.forEach((function(t){"string"==typeof t&&(t=function(e){var t,n={type:[],PID:[],from:[],to:[]};return t=e.split("|"),n.type=t[0],n.PID=e,n.from=t[1],n.to=t[2],n}(t)),i=e.is(t.attributesValue)?t.attributesValue:t,o=e.is(i.type)?i.type:i.PID.split("|")[0],-1===l.indexOf(o)||function(e){var t,n=!1;for(t=0;t<=s.data.length-1;t++)s.data[t].pid===e&&(n=!0);return n}(i.PID)||(r=e.is(i["from.PID"])?i["from.PID"]:i.from,a=e.is(i["to.PID"])?i["to.PID"]:i.to,n={type:o,pid:i.PID,from:r,to:a}),e.is(n)&&(s.data.push(n),n=null)})),s},o=function(t){var n,i,o={data:[],widgetID:widget.id};return i=function(e){var t,n=!1;for(t=0;t<=o.data.length-1;t++)o.data[t].pid===e&&(n=!0);return n},t.forEach((function(t){t=e.is(t.attributesValue)?t.attributesValue:t,e.is(t.isInstanceOf)&&!i(t.PID)&&(n={pid:t.PID,parentRef:t.isAggregatedBy,childRef:t.isInstanceOf}),e.is(n)&&(o.data.push(n),n=null)})),o},{getInstance:function(t){return e.is(n)||(n=new r(t)),n},processCreateConnection:function(e){var n=i(e);n.data.length>>0&&t.publish("DS.MFN.Object.CreateConnection",n)},processDeleteConnection:function(e){var n=i(e);n.data.length>>0&&t.publish("DS.MFN.Object.DeleteConnection",n)},processCreateInstance:function(e){var n=o(e);t.publish("DS.MFN.Object.CreateInstance",n)},processDeleteInstance:function(e){var n=o(e);t.publish("DS.MFN.Object.DeleteInstance",n)}}})),define("DS/DELPPWServices/ModelService",["UWA/Core","DS/DELPPWModelServices/ModelUtils","DS/DELPPWModelServices/CollectionUtils","DS/DELPPWNavigationServices/NavigateUtil","DS/DELPPWDicoServices/DicoUtils","DS/DELPPWResourceServices/ResourceUtils","DS/DELPPWWebServices/WebserviceUtils"],(function(e,t,n,i,o,r,a){"use strict";return function(s){var l,c,d,u,g,f,m,h="ModelService",p=s.getLogger();return l=e.is(s.getConfig().ModelService)?s.getConfig().ModelService:{},c=e.is(l.NavigateUtil)?l.NavigateUtil:{},d=e.is(l.DicoUtils)?l.DicoUtils:{},o.init({modelAttrsPath:d.modelAttrsPath,modelTypesPath:d.modelTypesPath,readOnlyTypesPath:d.readOnlyTypesPath,modelRelationsXML:d.modelRelationsXML,modelCustomRelationsXML:d.modelCustomRelationsXML,acceptedPPRTypesForActionsFilePath:d.AcceptedPPRTypesForActions,acceptedBaseTypesForActionsFilePath:d.AcceptedBaseTypesForActions,fetchConfig:d.fetchConfig}),n.init({dicoUtils:o}),i.init({dicoUtils:o,collectionUtils:n,indexMappingXML:c.indexMappingXML,mandatoryPredicates:c.mandatoryPredicates}),u=function(){widget.getPreferences().forEach((function(t){if("hidden"!==t.type){let n=r.getDimension(t.name);if(e.is(n,"object")&&Object.prototype.hasOwnProperty.call(n,"Units")){let i=e.clone(n.Units),o=[];i.forEach((function(e){o.push({label:e.NLSName,value:e.Name})})),widget.addPreference(e.extend(t,{options:o,defaultValue:n.MKSUnit}))}}}))},g=function(e,t){return i.setup(e,t)},f=function(t,n){var i,r,s,l;i=e.is(d.modelTypesPath)?d.modelTypesPath:"DS/DELPPWDicoServices/assets/json/ModelTypes.json",r=e.is(d.readOnlyTypesPath)?d.readOnlyTypesPath:"DS/DELPPWDicoServices/assets/json/ReadOnlyTypes.json",s=e.is(d.custoXmlUtilsPath)?d.custoXmlUtilsPath:"DS/DELPPWDicoServices/CustoXmlUtils",require(["text!"+i,"text!"+r,s],(function(n,i,r){l=function(){var t,n,i,o,s,l,c=[],d={},u=a.getXMLConfiguration();if(e.is(u))for(n in u)if(Object.hasOwnProperty.call(u,n)&&(s=null,i=u[n],e.is(i.type)&&(o=a.getXMLValues(n),e.is(o)&&(s=r.retrieveAttributesInfoFromXml(i,o))),e.is(s)))for(t in s)Object.hasOwnProperty.call(s,t)&&(e.is(d[t])?d[t]=d[t].concat(s[t]):d[t]=s[t]);for(t in d)Object.hasOwnProperty.call(d,t)&&(l=d[t].filter(((e,n)=>d[t].indexOf(e)===n)),c.push({type:t,attributes:l}));return c},o.setup({configuredAttribures:l(),modelTypesConfig:e.Json.decode(n),readOnlyTypesConfig:new Set(e.Json.decode(i))}),t()}),(function(e){n(e)}))},m=function(t,n){var i,o,r=[];(i=e.clone(l.intializeOptions)||[]).length>0&&(o=function t(n){Array.isArray(n)?n.forEach(t):e.is(n.require)&&-1===r.indexOf(n.require)&&r.push(n.require)},i.forEach(o)),r.length>0?require(r,(function(){var o;o=function t(n){var i,o,r,a=[];return Array.isArray(n)?(a=n.map((e=>t(e))),i=Promise.all(a)):e.is(n.require)&&e.is(n.function)?(r=(o=require(n.require))[n.function],i=new Promise(r.bind(o)),!!e.is(n.isBackgroundSeq)&&"true"===n.isBackgroundSeq&&(s.watchBackgroundTasks(i),i=Promise.resolve())):i=Promise.reject(new Error("Configuration is not as expected")),i},function e(){var r;i.length>0?(r=i.splice(0,1)[0],o(r).then((function(){e()}),(function(e){n(e)}))):t()}()})):t()},{name:h,onStart:function(e){var n,i;n=function(){p.debug(h,"Utils initialized!"),u(),e()},i=function(t){p.debug(h,"Failed to initialize. Error desc:"+t),e()},t.setWidgetTrigram(s.getConfig().widgetTrigram),Promise.all([new Promise(f),new Promise(g)]).then((function(){new Promise(m).then(n,i)}),i)},onStop:function(){},updateAggregationRules:function(){var e=new Promise((function(e,t){o.updateAggregationRules(e,t)}));return e.then((function(){p.debug(h,"Utils initialized!")})),e}}}})),define("DS/DELPPWServices/ExternalService/LifecycleService",["UWA/Core","DS/PlatformAPI/PlatformAPI","DS/DELPPWWebServices/WebserviceUtils","DS/DELPPWServices/ExternalService/PadCommandProxyUtil","DS/DELPPWServices/ExternalService/ExternalServiceUtil"],(function(e,t,n,i,o){"use strict";return function(r){var a,s,l,c,d,u,g,f,m,h,p,v,S,C,P,b,y="LifecycleService",w=o.getInstance(r),L=[],E=r.getLogger(),D="DS/PADUtils/PADCommandProxy/",I=r.getConfig().appId;return c=function(t){var n,i;E.debug(y,"context.RefreshView: "),E.debug(y,t),n=JSON.parse(t),I===n.AppID&&(i=e.is(n.Refresh)?n.Refresh:null,e.is(i)&&(e.is(i.created,"array")&&i.created.length>0&&s.refreshCreated(i.created),e.is(i.deleted,"array")&&i.deleted.length>0&&s.refreshDeleted(i.deleted),e.is(i.modified,"array")&&i.modified.length>0&&s.refreshModified(i.modified)))},l=function(n){var i,o,s,l,c=r.getPlugins("DatabasePlugin"),d={},u=D+"select",g={data:{paths:[],pathsInst:[]},metadata:{originWidgetId:r.getConfig().appContext.widget.getId()}},f={selectedObjectsPID:[],selectedObjectsInstPID:{},modifiedObjectPID:null,modifiedObjectInstPID:null,modifiedObjectSelectionState:!1,widgetId:widget.id?widget.id:"defaultId"};if(e.is(c)){if(c=c.instance,e.is(n)){for(i in f.modifiedObjectSelectionState=n.changed.isSelected,s=c.getInstance(n.changed.nodeId),e.is(s)?(f.modifiedObjectPID=s.get("isInstanceOf"),f.modifiedObjectInstPID=s.get("PID")):(s=c.getReference(n.changed.nodeId),e.is(s)&&(f.modifiedObjectPID=s.get("PID"))),l=n.selectedNodeIds,e.is(l,"array")&&l.forEach((function(t){s=c.getReference(t),e.is(s)&&!e.is(d[t])&&(d[t]=[]),s=c.getInstance(t),e.is(s)&&(o=s.get("isInstanceOf"),e.is(d[o])?d[o].push(t):d[o]=[t])})),d)Object.prototype.hasOwnProperty.call(d,i)&&(f.selectedObjectsPID.push(i),e.is(f.selectedObjectsInstPID[i])?f.selectedObjectsInstPID[i].push(d[i]):f.selectedObjectsInstPID[i]=d[i]||[]);E.debug(y,"DS."+a+".Selection.SelectionModified event broadcast: ",f),t.publish("DS."+a+".Selection.SelectionModified",f),e.is(n)&&e.is(n.selectedNodePaths,"array")&&n.selectedNodePaths.forEach((function(t){if(e.is(t)&&e.is(t.path,"array"))if(0===t.path.length){const e=[t.id];g.data.paths.push(e),g.data.pathsInst.push(null)}else{const e=c.transformToRIROccurrencePath(t.path);g.data.paths.push(e),g.data.pathsInst.push(t.id)}})),E.debug(y,"DS/PADUtils/PADCommandProxy/select event broadcast: ",g),t.publish(u,g)}}else r.getLogger().debug(y,"Database plugin not available.")},d=function(t){var n=[],i=r.getPlugins("DatabasePlugin");E.debug("_padRefresh: "),e.is(t)&&e.is(t.data)&&e.is(t.data.authored)&&(e.is(t.data.authored.modified)?s.refreshModified(t.data.authored.modified):t.data.authored.length>0&&(t.data.authored.forEach((function(e){n.push(e.modified)})),s.refreshModified(n),i.instance.fetchInstancesAndTheirReferences(n,{silentMode:!1})))},u=function(){E.debug("_padAttach: ")},f=function(){var t,n,i=[],o={},a=r.getPlugins("DatabasePlugin"),s=r.getPlugins("ResourcePlugin");return e.is(a)&&e.is(s)?(a=a.instance,s=s.instance,n=function(t,n){const i=function(){return e.is(n,"array")&&n.length>0?n[n.length-1]:null};if(e.is(t))return{options:{grid:{"ds6wg:type":t.reference.type,"ds6wg:revision":t.reference.revision,icon:s.getIconURLFromKey(t.reference.type)}},getID:function(){return t.reference.id},getInstID:function(){return n},getLabel:function(){return t.label},getRelationID:i,getRealParent:function(){let t,n;const o=i();return e.is(o)&&(t=a.getInstance(o),n=t.get("isAggregatedBy")),{getID:function(){return n}}},getParent:function(){var t,n,o,r=null;const l=i();if(e.is(l)&&(t=a.getInstance(l),e.is(t)&&(o=t.get("isAggregatedBy"),n=a.getReference(o),e.is(n)))){let t=n.get("type"),i=n.get("revision");t=e.is(t)?t:"",i=e.is(i)?i:"",r={options:{grid:{"ds6wg:type":t,"ds6wg:revision":i,icon:s.getIconURLFromKey(t)}},getID:function(){return o}}}return r}};r.getLogger().debug(y,"No model to create node from")},t=w.getAllSelections(),e.is(t,"array")&&(t.forEach((function(t){e.is(t.instance.id)?e.is(o[t.reference.id])?o[t.reference.id].push(t.instance.id):o[t.reference.id]=[t.instance.id]:e.is(o[t.reference.id])||(o[t.reference.id]=[])})),t.forEach((function(e){i.push(n(e,o[e.reference.id]))}))),i):(r.getLogger().debug(y,"Database plugin or resource Plugin not available."),i)},g=function(){e.extend(r.getConfig().appContext,{displayNotification:function(e){"primary"===e.eventID||"success"===e.eventID?E.info(y,e.msg):E.warn(y,e.msg)},getSelectedNodes:function(){return f()},getSecurityContext:function(){return{SecurityContext:n.getSecurityContext(),tenant:n.getTenant()}},isIndexMode:function(){var t=r.getPlugins("DatabasePlugin");if(e.is(t))return!(t=t.instance).isAuthoringMode();throw r.getLogger().debug(y,"Database plugin not available."),new Error("Database plugin not available")},hasFilter:function(t){var n,i,o=r.getPlugins("RootsPlugin"),a={hasFilter:!1};if(!e.is(o))throw r.getLogger().debug(y,"Roots plugin not available."),new Error("Roots plugin not available");return i=(o=o.instance).getAllCompatibleFilters([t]),e.is(i)&&(n=i[t],e.is(n)&&""!==n&&(a.hasFilter=!0)),a},GetFilterSpec:function(t){var n,i=r.getPlugins("RootsPlugin"),o="";if(!e.is(i))throw r.getLogger().debug(y,"Roots plugin not available."),new Error("Roots plugin not available");return n=(i=i.instance).getAllCompatibleFilters([t]),e.is(n)&&(o=n),o},getActiveView:function(){var t=r.getPlugins("TreeViewPlugin");if(!e.is(t))throw r.getLogger().debug(y,"Tree View plugin not available."),new Error("Roots plugin not available");return(t=t.instance).getActiveView()}})},m=function(e){Array.isArray(e)||(e=[e]),o.processCreateInstance(e)},h=function(e){Array.isArray(e)||(e=[e]),o.processDeleteInstance(e)},p=function(e){Array.isArray(e)||(e=[e]),o.processCreateConnection(e)},v=function(e){Array.isArray(e)||(e=[e]),o.processDeleteConnection(e)},S=function(e){var n,i=[];for(n=0;n<e.data.length;n++)i[n]={Effectivity:e.data[n].Effectivity,CurrentEvolutionEffectivity:e.data[n].CurrentEvolutionEffectivity,PID:e.pids[n]};0!==i.length&&t.publish("DS.MFN.Object.UpdateEvolutionEffectivity",i)},C=function(e){var n={PID:e.movedInstPIDArray[0],parentPID:e.newParentPID,childPID:e.newInstPIDArray,previousParentPID:e.formerParentsPIDArray[0]},i={data:[],widgetId:widget.id?widget.id:"defaultId"};i.data[0]=n,t.publish("DS.MFN.Object.MoveInstances",i)},P=function(e){var t,n;n=e.instancesAndReferences,Array.isArray(n)||(n=[n]),o.processCreateInstance(n),t=e.connections,Array.isArray(t)||(t=[t]),o.processCreateConnection(t)},b=function(e){var t,n;t=e.connections,Array.isArray(t)||(t=[t]),n=e.instancesAndReferences,Array.isArray(n)||(n=[n]),o.processCreateInstance(n),o.processCreateConnection(t)},{onStart:function(n){var o,f,w,E;s=new i(r),L.push(r.addExternalListener("select",l)),L.push(r.addExternalListener("instanceCreated",m)),L.push(r.addExternalListener("instanceDeleted",h)),L.push(r.addExternalListener("createImplementLink",p)),L.push(r.addExternalListener("linkDeleted",v)),L.push(r.addExternalListener("updateEffectivity",S)),L.push(r.addExternalListener("reparent",C)),L.push(r.addExternalListener("createManufacturingItemStructure",P)),L.push(r.addExternalListener("assignProduct",b)),L.push(r.addExternalListener("createStructure",b)),g(),a=r.getConfig().widgetTrigram,e.is(a)?(o="DS."+a+".Object.AddReference",E="DS."+a+".Object.Refresh",f=D+"refresh",w=D+"attach",t.subscribe(o,s.addReferenceFromEvent),t.subscribe(E,s.refreshElementFromEvent),t.subscribe(f,d),t.subscribe(w,u),t.subscribe("Lifecycle.Modification",c),t.subscribe("XEN/PUBLIC_EVENT/ENGINEERING_ITEM/PART_NUMBER_UPDATED",(e=>{r.getMediator().notify("updateEINAttribute",e,{sourceModuleId:y})})),t.subscribe("DS/Information/CommandProxy/AddExtension",(t=>e.is(t)&&d({data:t})))):r.getLogger().debug(y,"LifecycleService: widget trigram is not defined."),n()},onStop:function(){var e,t;for(e=0,t=L.length;e<t;e++)r.removeExternalListener(L[e]);L=[],s=void 0}}}})),define("DS/DELPPWServices/PreferenceService/PreferenceService",["UWA/Core","DS/PlatformAPI/PlatformAPI","DS/DELPPWWebServices/WebserviceUtils","DS/DELPPWResourceServices/ResourceUtils","DS/DELPPWServices/PreferenceService/Preferences","DS/MePreferencesClientAPI/MePreferencesClientAPI"],(function(e,t,n,i,o,r){"use strict";return function(a){var s,l,c,d,u,g,f,m,h,p,v,S,C,P,b,y=[];return p=function(){return new Promise((function(t,n){const i=e.is(a.getConfig().PreferenceService)?a.getConfig().PreferenceService:null;i&&i.appConfigPath||(u.error("App config path is not defined"),n("ApplicationInit.NoApplicationConfiguration")),require([i.appConfigPath],(function(e){s=e,t()}),(function(){n("ApplicationInit.NoApplicationConfiguration")}))}))},P=function(t){var n=i.getNLSValue(t);throw widget.body.empty(),e.createElement("div",{type:"text",class:"widget-Loading-Error-Message",html:n}).inject(widget.body),u.error(t),new Error(t)},C=function(t,n){var i,o;e.is(n)&&e.is(n.Config)&&(i=n.Config.Preferences,e.is(i,"object")&&t.forEach((function(t){e.is(i[t.name])&&(o=i[t.name],t.type=!1===o.isVisible?"hidden":t.type,e.is(o.defaultValue,"boolean")?t.defaultValue=o.defaultValue.toString():t.defaultValue=o.defaultValue)})))},S=function(){const t=a.getLogger(),i=d.getSecurityContext(),r=d.getCustoParametersSet();if(!e.is(s)||!e.is(s.preferences))return t.error("App Preference is not defined"),Promise.reject("ApplicationInit.WrongInternalComponentInit");{const l=!!e.is(a.getConfig().isFacet,"boolean")&&a.getConfig().isFacet;if(e.is(t)&&e.is(i)&&e.is(r)){g=new o(t,i,r,l);const a=s.preferences,c=n.getXMLValues("GeneralPreferences");e.is(c)&&C(a,c),g.populate(s)}}return Promise.resolve()},m=function(e){let{value:t,datatype:n}=e;if("boolean"===n)t="TRUE"===t.toUpperCase();return t},v=function(t){var n=!1,i=!1,o=[];e.is(l)||(n=!0,l={}),e.is(t)&&Array.isArray(t.repositories)&&t.repositories.forEach((function(t){Array.isArray(t.preferences)&&t.preferences.forEach((function(t){(n||!n&&e.is(l[t.name]))&&(l[t.name]=m(t),o.push(t.name),i=!0)}))})),i&&!n&&a.getMediator().notify("MePreferencesUpdated",[{modifiedPreferences:o}])},f=async function(){if(e.is(s)&&e.is(s.mePreferences)){const e=s.mePreferences;try{const t=await r.readPreferences(e);v(t)}catch(e){a.getLogger().info("Error while fetching me preferences",e)}c=t.subscribe("com.ds.mep:onPrefUpdate",h)}},h=function(t){var n;e.is(t)&&e.is(t[1])&&e.is(t[1].preferences,"string")&&(n=JSON.parse(t[1].preferences),v(n))},b=function(){const t=d.getSecurityContext();e.is(t)&&t.isChanged()&&g.updateCredentialsInfoPref()},{onStart:function(e){d=a.getService("ConfigService"),u=a.getLogger(),y.push(a.addExternalListener("endEdit",b)),p().then((()=>Promise.all([S(),f()]))).then(e).catch(P)},onStop:function(){l=void 0,e.is(c)&&(t.unsubscribe(c),c=void 0),y.forEach((function(e){a.removeExternalListener(e)})),y=[]},getAppConfig:function(){return s},getPreferences:function(){return g},getPreferenceValue:function(t){var n,i;if(n=e.is(l)?l[t]:void 0,!e.is(n)&&(n=widget.getValue(t),i=widget.getPreference(t)))switch(i.type){case"boolean":n=widget.getBool(t);break;case"hidden":"true"===n?n=!0:"false"===n&&(n=!1)}return n}}}})),define("DS/DELPPWServices/ExternalService/FilterService",["UWA/Core","DS/DELPPWServices/ExternalService/ExternalServiceUtil"],(function(e,t){"use strict";return function(n){var i,o,r,a="FilterService",s=n.getLogger(),l=t.getInstance(n),c=[];return o=function(t){e.is(r,"function")&&r.call(null,t)},i=function(){e.extend(n.getConfig().appContext,{getSelectedNodesInfo:function(t){var i,o=l.getAllSelections(a);return!0===(t=t||!1)&&(i=n.getPlugins("DatabasePlugin"),e.is(i)?(i=i.instance,o.forEach((function(e){var t,n=e.instance.absolutePath;t=i.transformToRIROccurrencePath(n.length>0?n:e.reference.id),e.occPathRIR=t}))):s.debug(a,'DatabasePlugin is not available. Hence "occPathRIR" property could not be added')),o},subscribeSelectionChange:function(e){r=e},updateCfgColumnsBasedOnCommand:function(t,i){let o=n.getPlugins("CfgColumnsPlugin");e.is(o)&&(o=o.instance,o.getUpdatedCfgAttributesBasedOnCommand(t,i).then((e=>{n.getMediator().notify("updateCfgColumns",[e])})).catch((function(e){s.debug(a,"Error occured while updating Configuration Columns. Error: "+e)})))}})},{onStart:function(){i(),c.push(n.addExternalListener("select",o))},onStop:function(){var e,t;for(e=0,t=c.length;e<t;e++)n.removeExternalListener(c[e]);c=[]}}}})),define("DS/DELPPWServices/ConfigService/ConfigService",["UWA/Core","DS/DELPPWWebServices/WebserviceUtils","DS/DELPPWResourceServices/ResourceUtils","DS/DELPPWServices/ConfigService/SecurityContext","DS/DELPPWServices/ConfigService/CustoParametersSet","DS/DELPPWModelServices/BehaviorUtil"],(function(e,t,n,i,o,r){"use strict";return function(a){var s,l,c,d,u,g,f,m,h,p,v,S,C=[],P=null;return c=a.getLogger(),d=e.is(a.getConfig().resource)?a.getConfig().resource:null,u=!!e.is(a.getConfig().isFacet,"boolean")&&a.getConfig().isFacet,g=e.is(a.getConfig().widgetTrigram,"string")&&a.getConfig().widgetTrigram.length>0?a.getConfig().widgetTrigram:"NOTDEFINED",(S=e.is(a.getConfig().eligibleRoleIds,"array")&&a.getConfig().eligibleRoleIds.length>0?a.getConfig().eligibleRoleIds:[]).unshift(g),h=function(t){var i=n.getNLSValue(t);throw widget.body.empty(),e.createElement("div",{type:"text",class:"widget-Loading-Error-Message",html:i}).inject(widget.body),c.error(t),new Error(t)},p=function(e){c.error(e),h("ApplicationInit.WrongInternalComponentInit")},d&&d.xmlConfiguration||(c.error("XML Configuration is not defined"),h("ApplicationInit.WrongInternalComponentInit")),f=function(){s.isChanged()&&s.updateSC()},r.setIsFacet(u),m=Promise.all([new Promise((function(e,n){t.init({cloudServiceName:a.getConfig().cloudServiceName,widgetId:g,isFacet:u,eligibleRoleIds:S,resolve:e,reject:n})})),new Promise((function(e,t){n.init({iconCatalogPath:d.iconCatalogPath,nlsFilePath:d.nlsFilePath}),n.setup(e,t)}))]),v=function(a){var u=Promise.resolve(),f=!!e.is(a,"array")&&(!!e.is(a[0],"boolean")&&a[0]);return c.debug("ConfigService.onStart, isWidgetLicenseAvailable from Compass: "+f),s=new i(c,t,n),l=new o(d.custoParameterRegExp,c,t,n),new Promise((function(e,t){s.loadSecurityContexts(e,t)})).then((()=>Promise.allSettled([new Promise((function(n,i){var o=function(){i("ApplicationInit.NoXRevActivationParam")};widget.setValue("isXRevisionActivated",!1),t.webServiceRequest({url:"modeler/configuration/settingsServices/getConfigurationSettings",method:"POST",data:e.Json.encode({version:"1.0",settings:["xRevisionActivation"]}),onComplete:function(t){e.is(t)&&e.is(t.settings,"array")&&t.settings.some((function(t){var n=!1;return e.is(t)&&e.is(t.settingName,"string")&&"xRevisionActivation"===t.settingName&&e.is(t.value,"string")&&("enabled"===t.value&&widget.setValue("isXRevisionActivated",!0),n=!0),n})),n()},onFailure:o,onTimeout:o})})),new Promise((function(n,i){var o=function(){i("ApplicationInit.NoConsoleParamCPS")};t.webServiceRequest({url:"delmia/param/configuration/getParameters?domainID=DELUserExperience&familyID=DELWebAppsPreferences&paramID=DELWebAppsCustomizationListParam&argID=DELWebAppsCustomizationListArg",method:"GET",onComplete:function(t){var i=widget.getValue("custoParametersSet"),o=!1;e.is(t,"array")&&t.some((function(t){var n=!1;return g===t.applicationName&&(e.is(t.isLocked)&&t.isLocked&&(o=!0),widget.setValue("isCustoParametersSetLocked",o),"OOTB"===t.parameterSet||!o&&e.is(i)||(i=t.parameterSet),n=!0),n})),n(i)},onFailure:o,onTimeout:o})}))]))).then((e=>l.getCustoParametersSetsInfoPromise(e[1].value))).then((function(n){var i=null,o=e.is(n,"array")&&n.length>0?n[0]:null,r=e.is(o)?o.eno_csrf_token||o.ENO_CSRF_TOKEN:null;return e.is(r)?(t.setCSRFToken({eno_csrf_token:r},"3DSpace"),i=Promise.resolve()):i=Promise.reject("ApplicationInit.NoCSRFToken"),i})).then((function(){return f?Promise.resolve():new Promise((function(e,n){t.webServiceRequest({url:"dsmfg/private/V0/invoke/validateLicense?roleTrigram="+g,method:"GET",headers:t.getHeaders({isAuthoringCtx:!1,isJsonOnly:!0}),onComplete:function(){e()},onFailure:function(){n("ApplicationInit.NoWidgetLicenseAvailable")}})}))})).then((function(){var n,i,o=d.xmlConfiguration,a=[],s=l.getSelectedPID();for(n in""===s&&(s=r._getVariable("app."+g+".customParametersSetPhysicalID","string","")),t.setXMLConfiguration(o,s),o)Object.prototype.hasOwnProperty.call(o,n)&&(i=new Promise((function(e,i){t.fetchXMLValues(n,e,i)})),a.push(i));return e.is(s,"string")&&s.length>0&&(i=new Promise((function(e,n){t.fetchServerXMLsAsStrings(e,n)})),a.push(i)),Promise.allSettled(a)})).then((function(){e.is(P,"function")&&(P(),P=null)})).catch(h),u},{name:"ConfigService",onStart:function(e){C.push(a.addExternalListener("endEdit",f)),P=e,m.then(v,p)},onStop:function(){C.forEach((function(e){a.removeExternalListener(e)})),C=[]},getPreference:function(t){return e.clone(widget.getValue(t))},setPreference:function(e,t){return widget.setValue(e,t)},hasConfigurationChanged:function(){return l.isChanged()},isSecurityContextChanged:function(){return s.isChanged()},getConfigurationPID:function(){return l.getSelectedPID()},getUserId:function(){return s.getUserId()},getSecurityContext:function(){return s},getCustoParametersSet:function(){return l}}}})),define("DS/DELPPWServices/LoggerService/LoggerService",["UWA/Core","DS/Logger/Logger","DS/DELPPWLoggerModel/LoggerUtils","DS/DELPPWServices/LoggerService/LogManager","DS/DELPPWServices/LoggerService/AlertManager"],(function(e,t,n,i,o){"use strict";return function(r){var a,s,l=r.getLogger(),c=[],d=function(e){return t.getLogger(e)};return l.debug=function(e,t){var n=d(e);n.info.apply(n,Array.prototype.slice.call(arguments,1))},l.log=function(t,i,o,r){var a;if(t=e.is(t)?t:"",a=d(t),i=e.is(i)?i:"",e.is(r)||e.is(o))"completed"===arguments[arguments.length-1]&&Array.prototype.splice.call(arguments,-1),a.info.apply(a,Array.prototype.slice.call(arguments,1)),n.log(i,o,r);else if(!e.is(o))return Array.prototype.push.call(arguments,"started"),a.info.apply(a,Array.prototype.slice.call(arguments,1)),n.log(i)},l.warn=function(t,i,o){var r;(r=d(t)).error.apply(r,Array.prototype.slice.call(arguments,1)),n.logFailed(i,o),i=e.is(i)?{level:"error",subtitle:i}:t,e.is(i)&&s.displayAlert(i)},l.info=function(t,i,o){var r;(r=d(t)).info.apply(r,Array.prototype.slice.call(arguments,1)),n.logCompleted(i,o),i=e.is(i)?{level:"success",subtitle:i}:t,e.is(i)&&s.displayAlert(i)},a=new i(r),s=new o(r),{onStart:function(t){e.is(a)&&e.is(s)||l.debug("LoggerService","initialization Failed"),c.push(r.addExternalListener("addLog",a.addLog)),c.push(r.addExternalListener("ShowLogPanel",a.onShowLogPanel)),t()},onStop:function(){var e,t;for(e=0,t=c.length;e<t;e++)r.removeExternalListener(c[e]);c=[]}}}})),define("DS/DELPPWServices/LandingPageService/LandingPageService",["UWA/Core","DS/DELPPWWebServices/WebserviceUtils","DS/DELPPWResourceServices/ResourceUtils","DS/DELPPWServices/LandingPageService/LandingPage","DS/WelcomeScreenView/WelcomeScreenButtonController","DS/Controls/ModalContainer","DS/Controls/Loader"],(function(e,t,n,i,o,r,a){"use strict";return function(s){var l,c,d,u,g,f,m,h,p,v,S,C,P,b,y,w,L="LandingPageService",E=this,D=s.getLogger(),I=s.getConfig().LandingPageService,A=[],R=!0;return h=function(){var e=[];return t.getXMLValues("LandingPage",(function(t){t.Config.Action.forEach((t=>{var i={};switch(i.name=t.name,i.id=t.name,i.i18n={title:n.getNLSValue(t.name,"","HomePage","Title")},i.icon=t.icon,t.type){case"Restore":i.onClick=l.bind(E);break;case"Create":i.onClick=c.bind(E,t.Options);break;case"NewSession":i.onClick=d.bind(E,t.Options);break;default:i.onClick=w.bind(E,t.type,t.Options)}i.controller=new o({onAction:e=>(i.onClick(),Promise.resolve())}),e.push(i)}))}),(function(){e=[{name:"Restore",onClick:l.bind(this)}]})),e},l=function(){C(widget.body),s.getMediator().notify("HideLandingPage"),R=!1,s.getMediator().notify("LoadRecentContent")},c=function(t){var n;C(widget.body),s.getMediator().notify("HideLandingPage"),y(),(t=Array.isArray(t)?t:[t]).forEach((t=>{e.is(t)&&"ReferenceType"===t.name&&(n=t.value)})),s.getMediator().notify("InsertCmd",{arguments:[{ID:"ReferenceType",Value:n},{ID:"ShowDialog",Value:"false"}]})},d=function(e,t){C(widget.body),s.getMediator().notify("HideLandingPage"),R=!0,y(),s.getMediator().notify("HideAll")},w=function(e,t){C(widget.body),s.getMediator().notify("HideLandingPage"),y(),s.getMediator().notify(e,{options:t})},u=function(e){var t=e.dataTransfer.getData("Text");C(widget.body),s.getMediator().notify("HideLandingPage"),y(),s.getMediator().notify("LoadDropContent",[t,{loadObjectsInOwnView:!0}],{sourceModuleId:L})},g=e.createElement("div",{class:"landingPage-container"}),p=function(e){C(widget.body),s.getMediator().notify("HideLandingPage"),y(),s.getMediator().notify("LoadDropContent",[e,{loadObjectsInOwnView:!0}],{sourceModuleId:L})},v=function(){f.show()},S=function(){b(widget.body),f.hide()},C=function(t){e.is(P)||(P=new a),P.on(n.getNLSValue("loading")),r.createModal(t,P.elements.container)},b=function(t){e.is(P)&&(P.off(),r.removeModal(t,P.elements.container))},y=function(){R&&s.getMediator().notify("LoadNewSession"),R=!1},{onStart:function(t){var n=!1,o=widget.getValue("X3DContentId"),r=s.getService("PreferenceService"),a=h();e.is(r)&&(n=r.getPreferenceValue("Load_Recent_Session")),e.is(g)||D.debug(L,"initialization Failed"),I=e.extend(I,{items:a,body:g,onDrop:u}),f=new i(I),e.is(o,"string")&&""!==o&&p(o),A.push(s.addExternalListener("ShowLandingPage",v)),A.push(s.addExternalListener("HideLandingPage",S)),widget.getValue("isRestoreAutomaticOn")?(widget.setValue("isRestoreAutomaticOn",!1),C(widget.body),f.hide(),s.getMediator().notify("HideLandingPage"),R=!1,s.getMediator().notify("LoadRecentContent")):n&&l(),t()},onStop:function(){var t,n;for(e.is(f)&&e.is(m)&&(f.destroy(),m.destroy()),t=0,n=A.length;t<n;t++)s.removeExternalListener(A[t]);A=[]}}}})),define("DS/DELPPWServices/LayoutService/LayoutService",["UWA/Core","UWA/Promise","DS/ApplicationFrame/FrameWindow","DS/DELPPWServices/LayoutService/DOMNaming","DS/DELPPWServices/LayoutService/BlocLayout","DS/DELPPWWebServices/WebserviceUtils"],(function(e,t,n,i,o,r){"use strict";return function(a){var s,l,c,d,u,g,f,m,h;return g=function(e,t,n){var i={},o=!1;return 2===t&&(i.ROW=(e+1)%t,0!==s.getRowSize(i.ROW).height&&(n?(s.unmaximizeRows(),s.removeFixedRow([e])):(s.maximizeRow(i.ROW),s.addFixedRow([e])),o=!0)),o},f=function(e,t){var n;return 0!==(n=s.getColumnSize(e,t)).width&&0!==n.height},m=function(t,n,i,o){var r;if(e.is(o,"function"))for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.is(n[r])&&(f(t[r].row,t[r].col),o(r,n[r].display))},h=function(t){return t=t||{},e.is(t.rows)||(t.rows=[{columns:1}]),new o({rows:t.rows,logger:a.getLogger(),mediator:a.getMediator()})},{name:"LayoutService",createBlocLayout:function(e){return h(e)},onActionBarReady:function(){a.getMediator().notify("actionBarReady",this)},buildView:function(t){var o,g,f=this,m=a.getConfig().LayoutService;e.is(t.rows)&&e.is(t.actionBarReady)?((c=e.createElement("div",{class:i.construction.appContainer})).addClassName("invisible"),c.addClassName("notransition"),d=e.createElement("div",{class:i.construction.appMessages}).inject(c),u=e.createElement("div",{class:i.construction.appProgressInd}).inject(c),a.updateAppContext({elements:c}),e.is(m.afrActionBarXML)&&(g=r.getServerConfigurationRawXML(m.afrActionBarXML)),o={viewer:"none",width:"100%",height:"100%",language:widget.lang,actionBarXML:g,workbench:m.afrWorkbenchName,workbenchModule:m.afrWorkbenchModule,context:a.getConfig().appContext,uiOptions:{preserveActionBarHeight:!0}},(l=new n(o)).onActionBarReady((function(){e.is(t.actionBarReady,"function")&&t.actionBarReady(),f.onActionBarReady()})),l.inject(c),s=h(t),l.getImmersiveFrame().getDockingElement(WUXDockAreaEnum.RightDockArea).freeZoneContent=s,c.inject(widget.body)):a.getLogger().debug(this.name,'FATAL ERROR: "options.rows" and/or "options.actionBarReady" are not specified on calling buildView')},showLayout:function(){c.removeClassName("invisible"),c.removeClassName("notransition")},setDockingElement:function(t,n){var i,o=l.getImmersiveFrame();n=n||{},e.is(o)&&((i=o.getDockingElement(t)).elements.collapser.addEventListener("click",(function(){a.getMediator().notify("dockingZoneToggle",{collapseState:i.collapseDockingZoneFlag,dockingArea:i.side})})),e.extend(i,n))},setPreferredLayoutOnStartup:function(t){var n=a.getService("ConfigService"),i={},o={};if(e.is(n)){"true"===localStorage.getItem("app.MFNMGA.oldLayoutSetting_ODT")?(Object.keys(t).forEach((e=>{i[e]={display:!0,viewType:"treeListView"}})),i.AUXILIARY={display:!1,viewType:"treeListView"}):i=n.getPreference("widgetLayoutStateValues"),o=this.setPreferredLayout(i,t,!0)}return o},setPreferredLayout:function(t,n,i){var o,r,a,s=this,l=e.Promise.deferred(),c=[],d=[];return i=i||!1,m(n,t,0,(function(e,t){!0===t?c.push({row:n[e].row,col:n[e].col,commandName:n[e].command,state:t,moduleId:e}):d.push({row:n[e].row,col:n[e].col,commandName:n[e].command,state:t,moduleId:e})})),o=c.concat(d),r=o.map((function(e){return function(){return s.toggleView(e.row,e.col,e.state,e.moduleId)}})),(a=e.Promise.deferred()).resolve(),a=a.promise,r.reduce((function(e,t){var n;return n=e.then((function(){return t()})),e=n}),a).then((function(){l.resolve()})),{deferredPromise:l,columns:o}},removeDockingElement:function(t){var n=l.getImmersiveFrame();e.is(n)&&n.getDockingElement(t).remove()},buildAuxiliaryViewDom:function(){return e.createElement("div",{class:i.construction.moduleContainer,html:[{tag:"div",class:i.construction.dropZoneContainer},{tag:"div",class:i.construction.treeListContainer}]})},buildTreeListAuthoringDom:function(t){var n,o;return n=[{tag:"div",class:i.construction.moduleMessages},{tag:"div",class:i.construction.treeListContainer},{tag:"div",class:i.construction.graphContainer,html:[{tag:"div",class:i.construction.grapViewContainer}]}],e.is(t)&&t&&(o={tag:"div",class:i.construction.dropZoneContainer},n.unshift(o)),e.createElement("div",{class:i.construction.moduleContainer,html:n})},getUIContainer:function(){return c},getAlertContainer:function(){return d},getProgressIndContainer:function(){return u},getActionModuleContainer:function(){return e.createElement("div",{class:i.construction.actionViewContainer})},getPropertiesModuleContainer:function(){return e.createElement("div",{class:i.construction.propertiesContainer})},getGroupingModuleContainer:function(){return e.createElement("div",{class:i.construction.groupingPanelContainer})},getRequirementModuleContainer:function(){return e.createElement("div",{class:i.construction.requirementContainer})},toggleView:function(n,i,o,r){var l,d,u,f=s.getRowColumnMap()[n].length,m=s.getRowIds().length,h={};return u=new t((function(n){var i=s.getContainerElem();!function(t,n){var i=a.getService("ConfigService"),o=i.getPreference("widgetLayoutStateValues");e.is(o)&&e.is(o[t])&&(o[t].display=n,i.setPreference("widgetLayoutStateValues",o),n&&"graphView"===o[t].viewType&&a.getMediator().notify("viewModeChanged"))}(r,o),c.hasClassName("notransition")?n():new t((function(e){i.addEvent("transitionend",e)})).then((function(){i.removeEvent("transitionend"),setTimeout(n,200)}))})),2===f?(h.COL=(i+1)%f,h.ROW=n,0!==(l=s.getColumnSize(h.ROW,h.COL)).width&&0!==l.height?o?(s.removeFixedColumns([{row:n,column:i},{row:h.ROW,column:h.COL}]),s.unmaximizeColumnsInRow(h.ROW)):(s.maximizeColumnInRow(h.ROW,h.COL),s.addFixedColumns([{row:n,column:i}])):(d=g(n,m,o),o&&d?s.maximizeColumnInRow(n,i):s.addFixedColumns([{row:n,column:i}]))):1===f&&(d=g(n,m,o)),u},isViewShown:function(e,t){return f(e,t)},isLayoutBuilt:function(){return e.is(l)},setBlocLayoutContent:function(e,t,n){s.setColumnContent(e,t,n)},getBlocLayout:function(){return s},onStart:function(e){e()},dispose:function(){s=void 0,e.is(l)&&l.dispose(),l=void 0}}}})),define("DS/DELPPWServices/ExternalService/ExternalService",["UWA/Core","DS/DELPPWWebServices/WebserviceUtils","DS/DELPPWServices/ExternalService/ExternalServiceUtil"],(function(e,t,n){"use strict";return function(i){var o,r,a="ExternalService",s=i.getLogger(),l=[],c=n.getInstance(i);return r=function(n){var o=i.getPlugins("DatabasePlugin"),r=t.get3DSpaceUrl();e.is(o)?(o=o.instance,n instanceof Array?n.forEach((function(t){var n,i;e.is(t.documentPID)?n=r+"common/emxNavigator.jsp?objectId="+t.documentPID:e.is(t.referencePID)&&(i=o.getReferenceModel(t.referencePID),e.is(i)&&(n=r+"common/emxNavigator.jsp?objectId="+i.id)),e.is(n)&&window.open(n)})):s.debug(a,"ExploreInWebApp: Invalid Input passed(Not a Valid Array)")):i.getLogger().debug(a,"Database plugin not available.")},o=function(){e.extend(i.getConfig().appContext,{getLogger:function(){i.getLogger()},getSelections:function(){return c.getSelectedNodeInfos(a)},notify:function(e,t){e&&i.getMediator().notify(e,t)}})},{onStart:function(){o(),l.push(i.addExternalListener("ExploreInWebApp",r))},onStop:function(){var e,t;for(e=0,t=l.length;e<t;e++)i.removeExternalListener(l[e]);l=[]}}}}));