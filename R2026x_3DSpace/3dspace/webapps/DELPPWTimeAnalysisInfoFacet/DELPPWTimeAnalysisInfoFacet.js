define("DS/DELPPWTimeAnalysisInfoFacet/facets/TimeAnalysisPropertiesUI",["UWA/Core","DS/Form/Form","i18n!DS/DELPPWTimeAnalysisInfoFacet/assets/nls/TAPropNLS","css!DS/DELPPWTimeAnalysisInfoFacet/assets/css/TimeAnalysisPropertiesUI.css"],(function(e,t,i){"use strict";return function(n){const s={type:"type","PLMEntity.V_Name":"string",name:"string",majorrevision:"string","PLMEntity.V_description":"string","PLMReference.V_versionComment":"string","DELTimeAnalysisRepReference.V_Subsystem":"string","DELTimeAnalysisRepReference.V_HumanTime":"time","DELTimeAnalysisRepReference.V_MachineTime":"time","DELTimeAnalysisRepReference.V_WaitingTime":"time","DELTimeAnalysisRepReference.V_SetupTime":"time","DELTimeAnalysisRepReference.V_TotalTime":"time","DELTimeAnalysisRepReference.V_ValueAdded":"string","DELTimeAnalysisRepReference.V_TimeType":"string","DELTimeAnalysisRepReference.V_AnalysisType":"string",originated:"datetime",modified:"datetime",current:"string","ds6w:responsible":"string",organization:"string",project:"string"};var a,r=e.createElement("div",{id:"taInfoContainerID",class:"taInfoContainer"});return n.container=e.createElement("div",{id:"ta-tab-container",class:"ta-tab-container"}),r.inject(n.container),a=function(n){var a,r=new t({readOnly:!0,model:[],usePaddingFlag:!0});return n&&e.is(n,"object")&&Object.keys(s).forEach((t=>{e.is(t)&&(a="type"===s[t]?{id:t,label:i[t],typeRepresentation:"string",value:i[n[t]]}:"time"===s[t]?{id:t,label:i[t],typeRepresentation:"string",value:"NULL"!==n[t]?n[t]+" s":""}:{id:t,label:i[t],typeRepresentation:s[t],value:"NULL"!==n[t]?n[t]:""},r.addModelItem(a))})),r},{updateUI:function(t){e.is(t)&&(e.is(r)&&r.empty(),a(t).inject(r))},destroy:function(){r.empty()}}}})),define("DS/DELPPWTimeAnalysisInfoFacet/facets/TimeAnalysisPropertiesFacet",["UWA/Core","UWA/Class","UWA/Controls/Abstract","DS/EditPropWidget/facets/Common/FacetsBase","DS/DELPPWTimeAnalysisInfoFacet/facets/TimeAnalysisPropertiesUI","DS/WAFData/WAFData","DS/i3DXCompassPlatformServices/i3DXCompassPlatformServices"],(function(e,t,i,n,s,a,r){"use strict";var o;return t.extend(i,n,{init(e){this._parent(e),o=new s(this.elements),this._platformServices=null},getSelectedRefId(){return this.getModel().get("objectId")},getPlatformId:function(){return"undefined"!=typeof widget&&null!==widget&&widget.getValue("x3dPlatformId")?widget.getValue("x3dPlatformId"):"OnPremise"},getTenantInfo:function(t){let i=this;return new e.Promise((function(e,n){r.getPlatformServices({onComplete:function(n){var s={};if(n&&n.length>0)for(let e=0;e<n.length;e++)if(n[e].platformId===t){s=n[e],i._platformServices=s;break}e(s)},onFailure:function(e){n(e)}})}))},getPlatformURL:async function(e){var t=this.getPlatformId();return(this._platformServices?this._platformServices:await this.getTenantInfo(t))[e]},get3DSpaceUrl:async function(){return await this.getPlatformURL("3DSpace")},getSecurityContext(){let e,t=widget.getValue("xPref_CREDENTIAL");return t?e=`ctx::${t}`:this.logger.error("Security Context is not available"),e},updateFacet:async function(){var t;const i=this.getSelectedRefId();t=await this.get3DSpaceUrl()+"/resources/dsmfg/private/V0/invoke/MfgProcess/getOpeTimeAnalysisInfo?operationPID="+i,a.authenticatedRequest(t,{method:"GET",type:"json",headers:{"Accept-Language":window.widget.lang,Accept:"application/json, text/plain, application/octet-stream",SecurityContext:this.getSecurityContext(),"Content-Type":"application/ds-json"},onComplete:function(t){e.is(t)&&e.is(t.attributesValue)?o.updateUI(t.attributesValue):e.is(o)&&o.destroy()},onFailure:function(){e.is(o)&&o.destroy()}})}})}));