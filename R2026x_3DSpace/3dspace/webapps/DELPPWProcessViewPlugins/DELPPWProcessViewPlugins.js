define("DS/DELPPWProcessViewPlugins/Operations3DViewerPlugin",["UWA/Core"],(function(n){"use strict";return function(e){const t=Object.freeze({SHOWN:1,HIDDEN:0,PARTIAL:-1,NA:null}),i="Operations3DViewerPlugin",r=i+"_Preferences";var o,u,s,c,f,a,g,l,d,P,D,S=[],I=new Map;return function(){return n.is(o)||(o=e.getPlugins("DatabasePlugin").instance),o},u=function(e){return e=n.is(e,"string")?e:e.toString(),I.has(e)},s=function(e){return e=n.is(e,"string")?e:e.toString(),I.get(e)},c=function(e,t){e=n.is(e,"string")?e:e.toString(),I.set(e,t)},f=function(e){e=n.is(e,"string")?e:e.toString(),I.delete(e)},a=function(){return widget.getValue(r)},g=function(n){widget.setValue(r,n)},l=function(n){var e=null;return P(n)&&u(n)&&(e=s(n)),e},d=function(e,i){P(e)&&n.is(i,"number")?c(e,i):c(e,t.NA)},P=function(e){var t,i=!1,r=a();return n.is(r)&&(t=r.loadedObjInfos,(n.is(t.scopedMfgItemPID)&&e.indexOf(t.scopedMfgItemPID)>-1||n.is(t.resourceItemPID)&&e.indexOf(t.resourceItemPID)>-1)&&(i=!0)),i},D=function(e,i){i=n.is(i,"number")?i:t.NA,I.forEach((function(n,t){t.indexOf(e)>-1&&c(t,i)}))},{name:i,onStart:function(){},onStop:function(){var n,t;for(n=0,t=S.length;n<t;n++)e.removeExternalListener(S[n]);S=[]},getPreferences:function(){return a()},updatePreferences:function(n){g(n)},add3DVisibilityState:function(e){var i=t.NA;P(e)?(n.is(s(e[0]))&&(i=t.SHOWN),c(e,i)):c(e,i)},remove3DVisibilityState:function(n){u(n)&&f(n)},get3DVisibilityState:function(n){return l(n)},update3DVisibilityState:function(e,i){n.is(i)?d(e,i):c(e,t.NA)},isAggregatingRootLoadedInViewer:function(n){return P(n)},overrideAllChildrenNodesVisibilityState:function(n,e){D(n,e)}}}}));