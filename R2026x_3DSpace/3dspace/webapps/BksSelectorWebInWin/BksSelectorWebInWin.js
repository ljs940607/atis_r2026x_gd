let urlSearch=window.odtQueryUrl?window.odtQueryUrl:location.search,urlParams=urlSearch.replace("?","").split("&"),lang=null;urlParams.find((e=>{if(e.startsWith("lang=")){let t=e.split("=");t.length>1&&(lang=t[1])}})),lang&&require.config({config:{i18n:{locale:lang}}}),define("DS/BksSelectorWebInWin/BksSelectorWebInWin",[],(()=>{for(var e in require(["DS/UWPClientCode/PublicAPI"]),window.onReadyFolderSelector=function(e){require(["DS/BksSelectorWebInWin/FolderSelectorWebInWin"],(function(){console.log("Folder Selector onReady >>>> inputData = "),console.log(e.params)}))},window.launchFolderSelector=function(e){window.FolderSelector="string"==typeof e?JSON.parse(e):e,onReadyFolderSelector(window.FolderSelector)},window.exportCmd={selectObjects:function(e){window.FolderActive&&FolderActive.selectObjects(e?e.split(","):[])},executeSelectionCheck:function(e){if(window.FolderActive){let t=require("DS/IPClassifyActive/utils/IPClassifyActiveCommunication");e="string"==typeof e?e.split(","):e,FolderActive.nestedMenuInContext.checkConnectAccess(e||[]).then((({noAccessData:e,accessData:n})=>{let o,i=[],l=[];Object.keys(n).length&&Object.keys(n).forEach((e=>{i.push(e)})),Object.keys(e).length&&Object.keys(e).forEach((e=>{l.push(e)})),o={accessIds:i,noAccessIds:l},t.publish("onAccessChecked",o)})).catch((e=>{t.publish("onAccessChecked",e)}))}}},exportCmd)window[e]=exportCmd[e];var t=function(){"undefined"!=typeof dscef&&dscef.sendString('{"operation":"readyForInit"}')},n={init:()=>{require(["UWA/Widget"],(function(e){var t=window.widget=new e;t.addEvent("onLoad",n.onLoad.bind(this)),t.dispatchEvent("onLoad")}))},onLoad:function(){"undefined"!=typeof dscef||!location.search.contains("test=true")&&!0!==window.odt||require(["DS/BksStandalone/Standalone"],(e=>{var n={authoring:!0,dialogButtons:!0,favoriteButton:!0,selectionMode:["DefaultSingle","ONLYSingle","DefaultMulti"]};!0===window.odt&&(n.simpleOptions=!1),e(n).then((e=>{t(),launchFolderSelector({params:e})}))})),t()}};n.init()})),require(["DS/BksSelectorWebInWin/BksSelectorWebInWin"]),define("DS/BksSelectorWebInWin/FolderSelectorWebInWin",["DS/i3DXCompass/Data","DS/IPClassifyUtil/IPSettingsMgr","DS/IPClassifyUtil/IPServicesMgr","DS/FolderActive/FolderActive","DS/IPClassifyActive/utils/IPClassifyActiveCommunication","DS/IPClassifyActive/utils/WidgetDataProvider"],(function(e,t,n,o,i,l){var s=window.FolderSelector.params;console.log("Inside FolderSelectorWebInWin"),widget.setValue("noCompass",!0),widget.lang=s.lang,s.userId&&(window.dsUserLogin=s.userId),t.setSetting("pad_security_ctx",s.securityContext),s.tenantId&&(t.setSetting("x3dPlatformId",s.tenantId),widget.setValue("x3dPlatformId",s.tenantId));var d=!widget.body;widget.body=widget.body?widget.body:UWA.createElement("div"),widget.body.addClassName("FolderSelector"),widget.body.addClassName("IPClassifyActive"),widget.body.setStyles({height:"100%",width:"100%"}),e.initialize({myAppsBaseUrl:s.myAppsUrl,userId:s.userId,passportUrl:"",proxyTicketUrl:""});var c=document.body.getElement("#tempDiv");c&&c.remove(),window.performance.mark("createWidget_begin"),n.app_initialization((function(){let e={multiSelectionComponent:{withClassify:!1,inputObjects:s.objects},selectionMode:s.selectionMode,authoring:s.authoring,dialogButtons:s.dialogButtons,favoriteButton:s.favoriteButton,couldBeSelected:function(){return!0}};!0===s.simpleOptions&&(delete e.multiSelectionComponent,delete e.couldBeValid,delete e.couldBeSelected);var t=new o(e);window.FolderActive=t,widget.body.setContent(t.nestedMenuInContext.getMultiSelectorContainer()),d&&widget.body.inject(document.body,"top"),t.nestedMenuInContext.addEvent("onClassifyMultiple",(function(e){console.log("onClassifyMultiple published, data = "+e.chosenClasses);var t=l.getEventNameProvider();t&&t.classify&&(i.publish(t.classify,e.chosenClasses,!0),console.log(t.classify))})),t.nestedMenuInContext.addEvent("onSelectorCancel",(function(e){console.log("onSelectorCancel published");var t=l.getEventNameProvider();t&&t.cancel&&(i.publish(t.cancel,!0,!0),console.log(t.cancel))})),t.nestedMenuInContext._modelEvents.subscribe({event:"IPActive/NodeSelection/OnChange"},(function(){var e=t.nestedMenuInContext.nestedMenu?t.nestedMenuInContext.nestedMenu._treeView:null,n=e?e.getTreeDocument():null;if(n){var o=[],s=[];n.getSelectedNodes().forEach((function(e){o.indexOf(e.id)>-1||(o.push(e.id),s.push({FolderID:e.id,FolderLabel:e.getLabel()}))}));var d=l.getEventNameProvider();d&&d.selectionChange&&(i.publish(d.selectionChange,s,!0),console.log(d.selectionChange),console.log(s))}})),i.publish("selectorReady","",!0)})),widget.dispatchEvent("onRefresh"),widget.dispatchEvent("onDestroy"),widget.dispatchEvent("onResize")}));