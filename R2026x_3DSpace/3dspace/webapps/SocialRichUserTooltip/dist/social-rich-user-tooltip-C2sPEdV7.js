var On=Object.defineProperty;var In=(E,b,s)=>b in E?On(E,b,{enumerable:!0,configurable:!0,writable:!0,value:s}):E[b]=s;var D=(E,b,s)=>In(E,typeof b!="symbol"?b+"":b,s);define("DS/SocialRichUserTooltip/social-rich-user-tooltip-C2sPEdV7",["require","exports","DS/SocialRichUserTooltip/vue","DS/SocialRichUserTooltip/VUEKIT"],function(E,b,s,Te){"use strict";var ct,lt;class ke extends Error{constructor(r,n,o){const i=r.status||r.status===0?r.status:"",a=r.statusText||"",c=`${i} ${a}`.trim(),l=c?`status code ${c}`:"an unknown error";super(`Request failed with ${l}: ${n.method} ${n.url}`);D(this,"response");D(this,"request");D(this,"options");this.name="HTTPError",this.response=r,this.request=n,this.options=o}}class Ce extends Error{constructor(r){super(`Request timed out: ${r.method} ${r.url}`);D(this,"request");this.name="TimeoutError",this.request=r}}const xe=(()=>{let t=!1,e=!1;const r=typeof globalThis.ReadableStream=="function",n=typeof globalThis.Request=="function";if(r&&n)try{e=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type")}catch(o){if(o instanceof Error&&o.message==="unsupported BodyInit type")return!1;throw o}return t&&!e})(),pt=typeof globalThis.AbortController=="function",ht=typeof globalThis.ReadableStream=="function",wt=typeof globalThis.FormData=="function",De=["get","post","put","patch","head","delete"],mt={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},we=2147483647,yt=new TextEncoder().encode("------WebKitFormBoundaryaxpyiPgbbPti10Rw").length,Ne=Symbol("stop"),gt={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,onUploadProgress:!0,fetch:!0},_t={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},Rt=t=>{if(!t)return 0;if(t instanceof FormData){let e=0;for(const[r,n]of t)e+=yt,e+=new TextEncoder().encode(`Content-Disposition: form-data; name="${r}"`).length,e+=typeof n=="string"?new TextEncoder().encode(n).length:n.size;return e}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength;if(typeof t=="string")return new TextEncoder().encode(t).length;if(t instanceof URLSearchParams)return new TextEncoder().encode(t.toString()).length;if("byteLength"in t)return t.byteLength;if(typeof t=="object"&&t!==null)try{const e=JSON.stringify(t);return new TextEncoder().encode(e).length}catch{return 0}return 0},Pt=(t,e)=>{const r=Number(t.headers.get("content-length"))||0;let n=0;return t.status===204?(e&&e({percent:1,totalBytes:r,transferredBytes:n},new Uint8Array),new Response(null,{status:t.status,statusText:t.statusText,headers:t.headers})):new Response(new ReadableStream({async start(o){const i=t.body.getReader();e&&e({percent:0,transferredBytes:0,totalBytes:r},new Uint8Array);async function a(){const{done:c,value:l}=await i.read();if(c){o.close();return}if(e){n+=l.byteLength;const p=r===0?0:n/r;e({percent:p,transferredBytes:n,totalBytes:r},l)}o.enqueue(l),await a()}await a()}}),{status:t.status,statusText:t.statusText,headers:t.headers})},At=(t,e)=>{const r=Rt(t.body);let n=0;return new Request(t,{duplex:"half",body:new ReadableStream({async start(o){const i=t.body instanceof ReadableStream?t.body.getReader():new Response("").body.getReader();async function a(){const{done:c,value:l}=await i.read();if(c){e&&e({percent:1,transferredBytes:n,totalBytes:Math.max(r,n)},new Uint8Array),o.close();return}n+=l.byteLength;let p=r===0?0:n/r;(r<n||p===1)&&(p=.99),e&&e({percent:Number(p.toFixed(2)),transferredBytes:n,totalBytes:r},l),o.enqueue(l),await a()}await a()}})})},W=t=>t!==null&&typeof t=="object",Y=(...t)=>{for(const e of t)if((!W(e)||Array.isArray(e))&&e!==void 0)throw new TypeError("The `options` argument must be an object");return me({},...t)},Oe=(t={},e={})=>{const r=new globalThis.Headers(t),n=e instanceof globalThis.Headers,o=new globalThis.Headers(e);for(const[i,a]of o.entries())n&&a==="undefined"||a===void 0?r.delete(i):r.set(i,a);return r};function J(t,e,r){return Object.hasOwn(e,r)&&e[r]===void 0?[]:me(t[r]??[],e[r]??[])}const Ie=(t={},e={})=>({beforeRequest:J(t,e,"beforeRequest"),beforeRetry:J(t,e,"beforeRetry"),afterResponse:J(t,e,"afterResponse"),beforeError:J(t,e,"beforeError")}),me=(...t)=>{let e={},r={},n={};for(const o of t)if(Array.isArray(o))Array.isArray(e)||(e=[]),e=[...e,...o];else if(W(o)){for(let[i,a]of Object.entries(o))W(a)&&i in e&&(a=me(e[i],a)),e={...e,[i]:a};W(o.hooks)&&(n=Ie(n,o.hooks),e.hooks=n),W(o.headers)&&(r=Oe(r,o.headers),e.headers=r)}return e},St=t=>De.includes(t)?t.toUpperCase():t,Le={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:[413,429,503],maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:t=>.3*2**(t-1)*1e3},bt=(t={})=>{if(typeof t=="number")return{...Le,limit:t};if(t.methods&&!Array.isArray(t.methods))throw new Error("retry.methods must be an array");if(t.statusCodes&&!Array.isArray(t.statusCodes))throw new Error("retry.statusCodes must be an array");return{...Le,...t}};async function Et(t,e,r,n){return new Promise((o,i)=>{const a=setTimeout(()=>{r&&r.abort(),i(new Ce(t))},n.timeout);n.fetch(t,e).then(o).catch(i).then(()=>{clearTimeout(a)})})}async function vt(t,{signal:e}){return new Promise((r,n)=>{e&&(e.throwIfAborted(),e.addEventListener("abort",o,{once:!0}));function o(){clearTimeout(i),n(e.reason)}const i=setTimeout(()=>{e==null||e.removeEventListener("abort",o),r()},t)})}const Tt=(t,e)=>{const r={};for(const n in e)!(n in _t)&&!(n in gt)&&!(n in t)&&(r[n]=e[n]);return r};class X{constructor(e,r={}){D(this,"request");D(this,"abortController");D(this,"_retryCount",0);D(this,"_input");D(this,"_options");var n,o;if(this._input=e,this._options={...r,headers:Oe(this._input.headers,r.headers),hooks:Ie({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},r.hooks),method:St(r.method??this._input.method??"GET"),prefixUrl:String(r.prefixUrl||""),retry:bt(r.retry),throwHttpErrors:r.throwHttpErrors!==!1,timeout:r.timeout??1e4,fetch:r.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(pt){const i=this._options.signal??this._input.signal;this.abortController=new globalThis.AbortController,this._options.signal=i?AbortSignal.any([i,this.abortController.signal]):this.abortController.signal}if(xe&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=((o=(n=this._options).stringifyJson)==null?void 0:o.call(n,this._options.json))??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const a="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),c=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,a);(wt&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(c,{...this.request}),this._options)}if(this._options.onUploadProgress){if(typeof this._options.onUploadProgress!="function")throw new TypeError("The `onUploadProgress` option must be a function");if(!xe)throw new Error("Request streams are not supported in your environment. The `duplex` option for `Request` is not available.");this.request.body&&(this.request=At(this.request,this._options.onUploadProgress))}}static create(e,r){const n=new X(e,r),o=async()=>{if(typeof n._options.timeout=="number"&&n._options.timeout>we)throw new RangeError(`The \`timeout\` option cannot be greater than ${we}`);await Promise.resolve();let c=await n._fetch();for(const l of n._options.hooks.afterResponse){const p=await l(n.request,n._options,n._decorateResponse(c.clone()));p instanceof globalThis.Response&&(c=p)}if(n._decorateResponse(c),!c.ok&&n._options.throwHttpErrors){let l=new ke(c,n.request,n._options);for(const p of n._options.hooks.beforeError)l=await p(l);throw l}if(n._options.onDownloadProgress){if(typeof n._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!ht)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return Pt(c.clone(),n._options.onDownloadProgress)}return c},a=(n._options.retry.methods.includes(n.request.method.toLowerCase())?n._retry(o):o()).finally(async()=>{var c;n.request.bodyUsed||await((c=n.request.body)==null?void 0:c.cancel())});for(const[c,l]of Object.entries(mt))a[c]=async()=>{n.request.headers.set("accept",n.request.headers.get("accept")||l);const p=await a;if(c==="json"){if(p.status===204||(await p.clone().arrayBuffer()).byteLength===0)return"";if(r.parseJson)return r.parseJson(await p.text())}return p[c]()};return a}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount>this._options.retry.limit||e instanceof Ce)throw e;if(e instanceof ke){if(!this._options.retry.statusCodes.includes(e.response.status))throw e;const n=e.response.headers.get("Retry-After")??e.response.headers.get("RateLimit-Reset")??e.response.headers.get("X-RateLimit-Reset")??e.response.headers.get("X-Rate-Limit-Reset");if(n&&this._options.retry.afterStatusCodes.includes(e.response.status)){let o=Number(n)*1e3;Number.isNaN(o)?o=Date.parse(n)-Date.now():o>=Date.parse("2024-01-01")&&(o-=Date.now());const i=this._options.retry.maxRetryAfter??o;return o<i?o:i}if(e.response.status===413)throw e}const r=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,r)}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(r){const n=Math.min(this._calculateRetryDelay(r),we);if(this._retryCount<1)throw r;await vt(n,{signal:this._options.signal});for(const o of this._options.hooks.beforeRetry)if(await o({request:this.request,options:this._options,error:r,retryCount:this._retryCount})===Ne)return;return this._retry(e)}}async _fetch(){for(const n of this._options.hooks.beforeRequest){const o=await n(this.request,this._options);if(o instanceof Request){this.request=o;break}if(o instanceof Response)return o}const e=Tt(this.request,this._options),r=this.request;return this.request=r.clone(),this._options.timeout===!1?this._options.fetch(r,e):Et(r,e,this.abortController,this._options)}}/*! MIT License Â© Sindre Sorhus */const ye=t=>{const e=(r,n)=>X.create(r,Y(t,n));for(const r of De)e[r]=(n,o)=>X.create(n,Y(t,o,{method:r}));return e.create=r=>ye(Y(r)),e.extend=r=>(typeof r=="function"&&(r=r(t??{})),ye(Y(t,r))),e.stop=Ne,e},Ue=ye(),ge=s.ref("");function kt(t){ge.value=t}function K(){if(!ge.value)throw new Error("Registry URL is not defined");return ge.value}const _e=s.ref("");function Ct(t){_e.value=t}function O(){if(!_e.value)throw new Error("Platform ID is not defined");return _e.value}var xt=Object.defineProperty,Dt=(t,e,r)=>e in t?xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,v=(t,e,r)=>Dt(t,typeof e!="symbol"?e+"":e,r);const Q=["trace","debug","log","info","warn","error"];function Nt(){return typeof window>"u"?!1:window.sessionStorage.getItem("DSY_SWYM_DEBUG")||!1}function Ot(){return typeof window>"u"?!1:window.localStorage.getItem("logger-debug")||!1}function It(){return typeof window>"u"?!1:new URL(window.location.href).searchParams.has("debug")}function Re(t){return typeof t=="string"?Q.includes(t)?t:t!=="false":t}function $e(t){return typeof t=="boolean"?t?0:Q.length:Q.indexOf(t)}class Lt{constructor(){v(this,"logLevelIndex",$e(!1)),v(this,"_log",(r,...n)=>{const o=this._getScope(r),i=this.emojis[r],a=this.styles[r];this._shouldLog(r)&&console[r](`${i} %c[${o}]`,a,...n)}),v(this,"emojis",{trace:"ðŸ§µ",debug:"ðŸ› ï¸",log:"ðŸ“‹",info:"ðŸ“¢",warn:"ðŸš§",error:"ðŸ”¥"}),v(this,"styles",{trace:"",debug:"color: white; background: #3d3d3d;",log:"color: black; background: #D5E8F2;",info:"color: black; background: #EDF6EB;",warn:"background: transparent;",error:"background: transparent;"}),v(this,"_getScope",r=>`LOGGER ${r.toUpperCase().padEnd(5," ")}`),v(this,"log",this._log.bind(this,"log")),v(this,"info",this._log.bind(this,"info")),v(this,"warn",this._log.bind(this,"warn")),v(this,"debug",this._log.bind(this,"debug")),v(this,"error",this._log.bind(this,"error")),v(this,"trace",this._log.bind(this,"trace"));const e=Re(It())||Re(Ot())||Re(Nt());this.logLevelIndex=$e(e)}_shouldLog(e){return Q.indexOf(e)>=this.logLevelIndex}}const P=new Lt,Ut="AmdLoader/AmdLoader.js",$t="bust=NO_CACHE_ID";let Z;const Pe=[],Me=[];function Mt(t){Pe.push(t)}async function Bt(){const t={DS:"."};let e={paths:{...t}},r=Promise.resolve({});for(;Pe.length;)r=r.then(Pe.pop());try{e=await r}catch(n){P.error("[RequireJS] Failed to load config:",n)}return e.paths={...e.paths,...t},e.urlArgs||(e.urlArgs=$t),e}async function qt(){let t=Promise.resolve(void 0);for(;Me.length;)t=t.then(Me.pop());try{await t}catch(e){P.error('[RequireJS] Failed to run "after require setup" hooks:',e)}}function Ft(t){if(!window.require)throw new Error("window.require is not initialiazed");window.require.config(t),P.debug("[RequireJS] Set config:",t)}async function Vt(t){if(typeof window.require=="function")return;const e=document.createElement("script"),r=new Promise((n,o)=>{e.onload=n,e.onerror=o});e.src=`${t.baseUrl??""}${Ut}?${t.urlArgs}`,P.debug("[RequireJS] Download AMDLoader script: ",e.src),document.head.appendChild(e),await r}async function Wt(){if(Z)return Z;let t,e;Z=new Promise((r,n)=>{t=r,e=n}),P.debug("[RequireJS] init");try{const r=await Bt();await Vt(r),await Ft(r),await qt(),t==null||t()}catch{e==null||e()}return Z}async function Be(t,e=!1){return await Wt(),new Promise((r,n)=>{var o,i;(i=(o=e&&window.top?window.top:window).require)==null||i.call(o,t,(...a)=>r(a),n)})}async function M(t,e=!1){return(await Be([t],e))[0]}async function qe(t,e){if(!e)return qe(t,O());if(!globalThis.document)return zt(t,e);const r=K();return await(await M("DS/i3DXCompassPlatformServices/i3DXCompassRegistryClient")).getServicesByPlatform({platforms:Array.isArray(e)?[...e]:[e],services:t,config:{url:r}})}async function zt(t,e){const r=K();return await Ue.get(`${r}/api/v1/platform/service/instance`,{searchParams:{serviceId:t.join(","),platformId:Array.isArray(e)?e.join(","):e}}).json()}async function I(t,e){var r,n,o;if(!e)return I(t,O());const i=await qe([t],e);return i.length&&((o=(n=(r=i[0])==null?void 0:r.services)==null?void 0:n.find(a=>a.id.toLowerCase()===t.toLowerCase()))==null?void 0:o.url)||""}var A=(t=>(t.AIAI="AIAssistantInfra",t.ANALYTICS="3danalytics",t.COMPASS="3DCompass",t.COMMENT="3DComment",t.DASHBOARD="3DDashboard",t.DRIVE="3DDrive",t.LEAN="3dlean",t.LLMINFERENCE="LLMINFERENCE",t.MESSAGING="3DMessaging",t.ODE="OfficeDocumentEditor",t.ORGANIZATION="3DOrganization",t.PASSPORT="3DPassport",t.RTCOEDIT="RTCoedit",t.SEARCH="3DSearch",t.SOCIAL_MEDIA="SocialMedia",t.SPACE="3DSpace",t.SWYM="3DSwym",t.TAGGER="6WTAG",t.USERS_GROUP="UsersGroup",t.MEDICOLLAB="MedicalCollaboration",t))(A||{});async function Gt(t,{redirectToPassportLogin:e}={redirectToPassportLogin:!0}){const r=await I(A.PASSPORT);if(window.location.href.startsWith(r))return;const n=new URL(`${r}/logout`),o=window.location.href;if(e){const i=new URL(`${r}/login`);i.searchParams.set("service",o),n.searchParams.set("redirect",btoa(i.toString()))}else n.searchParams.set("service",o);window.location.href=n.toString()}const Ht=["ERROR_ACCESS_FORBIDDEN_LICENSE_EXPIRED","ERROR_ACCESS_FORBIDDEN_LICENSE_FULLY_CONSUMED","ERROR_LICENSING_EXTENSION_KO","ERROR_ACCESS_NO_LICENSE","ERROR_ACCESS_FORBIDDEN_NO_LICENSE"],jt="GLOBAL_ERROR_EVENT",Yt="invalid_grant",Jt=400;function Xt(t,e){return async(r,n,o)=>{if(o.status!==Jt)return;const i=await o.json();if(i.error!==Yt)return;const{access_token:a}=await e(i.x3ds_auth_url,{handlePassportExpiredError:n.handlePassportExpiredError,headers:{"X-Request-Id":""}}).json(),c=new URL(r.url).searchParams;return c.set("ticket",a),n.json&&delete n.body,t(r.url,{...n,searchParams:c})}}const Kt="invalid_client",Qt=401,Zt=async(t,e,r)=>{e.handlePassportExpiredError===!1||r.status!==Qt||(await r.json()).error!==Kt||Gt()},Fe=403,er="ERROR_ACCESS_FORBIDDEN_NOT_ACTIVE";async function Ve(t){var e,r;let n,o;try{const{response:i}=t,c=((e=i.headers.get("content-type"))==null?void 0:e.includes("application/json"))?await i.clone().json():null;n=(r=t.response)==null?void 0:r.status,o=c==null?void 0:c.errorcode}catch{}return{errorCode:o,errorStatus:n}}const tr=async t=>{const{errorCode:e,errorStatus:r}=await Ve(t);if(r!==Fe||e!==er)return t;const n=window.btoa(window.location.href).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,""),o=O(),a=`${await I(A.COMPASS,o)}/resources/AppsMngtSynchro/api/v1?service=3DSWYM&url=${n}&platform=${o}`;return window.location.href=a,t},rr=async t=>{const{errorCode:e,errorStatus:r}=await Ve(t);return r!==Fe||!e||!Ht.includes(e)||window.postMessage({event:jt,payload:{code:e,status:r}}),t},ee="X-Request-ID",nr=t=>{t.headers.has(ee)||t.headers.append(ee,crypto.randomUUID()),t.headers.get(ee)||t.headers.delete(ee)},We=Ue.extend({credentials:"include",redirect:"error",headers:{"x-requested-with":"XMLHttpRequest","content-type":"application/json;charset=UTF-8"},timeout:25e3,hooks:{beforeRequest:[nr],afterResponse:[Zt]}}),B=new Map,or=5e3;function sr(t,e){return t.then(r=>(e.keepCacheOnSuccess||(e.timeMs?setTimeout(()=>{P.debug(`[decorator cache] [${e.key}] cache timeout`),B.delete(e.key)},e.timeMs):(P.debug(`[decorator cache] [${e.key}] cache timeout`),B.delete(e.key))),P.debug(`[decorator cache] [${e.key}] promise succeeded`),r)).catch(r=>{throw e.keepCacheOnError||(P.debug(`[decorator cache] [${e.key}] promise failed, clean the cache`),B.delete(e.key)),r})}function te(t,e,r=or){if(!B.get(t)||!r){P.debug(`[decorator cache] [${t}] cache missing, create it`);const n=sr(e(),{key:t,timeMs:r});B.set(t,n)}return P.debug(`[decorator cache] [${t}] cache exists`),B.get(t)}const ze=new Map;function re(t,e){return te(`csrf-${t}`,()=>e("/api/session/info").json().then(r=>r.csrfToken),1)}async function ne(t){return t.status!==403?!1:(await t.clone().json()).errorcode==="ERROR_ACCESS_FORBIDDEN_CSRF_KO"}const Ge="x-ds-iam-csrftoken";async function ir(t,e){return(await e("/api/authenticated/user/fields")).headers.get(Ge)}async function ar(t){return t.status!==403?!1:await t.clone().text()==="The CSRF token cannot be validated"}const He="x-ds-csrftoken";async function cr(t,e){return(await e("/resources/3ddrive/v1/bos/DSROOT")).headers.get(He)}async function lr(t){return t.status===403}const oe={[A.PASSPORT]:{header:Ge,fetch:ir,checkIsCsrfError:ar},[A.DRIVE]:{header:He,fetch:cr,checkIsCsrfError:lr},[A.SPACE]:{header:"x-ds-csrftoken",fetch:void 0,checkIsCsrfError:void 0},[A.SWYM]:{header:"x-ds-swym-csrftoken",fetch:re,checkIsCsrfError:ne},[A.COMMENT]:{header:"x-ds-swym-csrftoken",fetch:re,checkIsCsrfError:ne},[A.SEARCH]:{header:"x-ds-swym-csrftoken",fetch:re,checkIsCsrfError:ne},[A.MEDICOLLAB]:{header:"x-ds-swym-csrftoken",fetch:re,checkIsCsrfError:ne}};function je(t,e){ze.set(t,e||sessionStorage.getItem(`${t}_csrf`)||""),e&&sessionStorage.setItem(`${t}_csrf`,e)}function ur(t){return async(e,r)=>{const n=ze.get(t);if(!n)return;const o=oe[t].header;e.headers.set(o,n),r.headers.set(o,n)}}function fr(t,e){if(e.status<300){const r=e.headers.get(oe[t].header);r&&je(t,r)}}async function dr(t,e){var r,n;try{const o=await((n=(r=oe[t]).fetch)==null?void 0:n.call(r,t,e));o&&je(t,o)}catch(o){P.error(`Failed to fetch CSRF for ${t}`,o)}}function pr(t,e){return async(r,n,o)=>{var i,a;if(fr(t,o),!await((a=(i=oe[t]).checkIsCsrfError)==null?void 0:a.call(i,o)))return;await dr(t,e),n.json&&delete n.body;const{Preferences:l}=await new Promise((u,f)=>E(["./index-DLmzruoP"],u,f)),{CommonRequest:p}=await new Promise((u,f)=>E(["./index-B7yi_fVa"],u,f));if(l.isNativeApp()&&p.checkHasProxyPath(r.url)){const f=new URL(r.url).searchParams.get("url");if(f)return e(f,n)}return e(r,n)}}function hr(t,e=""){return async(r,n)=>{const{CommonRequest:o}=await new Promise((u,f)=>E(["./index-B7yi_fVa"],u,f)),{Preferences:i}=await new Promise((u,f)=>E(["./index-DLmzruoP"],u,f));if(o.checkHasProxyPath(r.url))return;const a=new Request(await I(t)||e).url;if(r.url.startsWith(a))return i.isNativeApp()?await o.request(r.url,{...n,proxy:"passport"},r):void 0;const c=new URL(r.url),l=`${a}${c.pathname}${c.search}`.replace(/([^:]\/)\/+/g,"$1"),p=new Request(l,n);return i.isNativeApp()?await o.request(l,{...n,proxy:"passport"},p):p}}function wr(t,e="i18n!DS/SwymVueComponents/assets/nls/",r){const n=s.ref({}),o=new Promise(async a=>{try{const c=await M(`${e}${t}`);n.value=Object.assign(s.unref(n),c)}catch{P.error(`[TRANSLATION] Error loading nls ${e}${t}`)}a(n.value)});function i(a,c={}){if(!a)return"";let l=s.unref(n)[a];return Object.entries(c).forEach(([p,u])=>{l=l==null?void 0:l.replace(`{${p}}`,u)}),l||a}return{i18n:n,$i18n:i,promise:o}}function Ye(t){return s.getCurrentScope()?(s.onScopeDispose(t),!0):!1}function q(t){return typeof t=="function"?t():s.unref(t)}const Je=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const mr=t=>t!=null,Xe=()=>{};function yr(t,e){var r;if(typeof t=="number")return t+e;const n=((r=t.match(/^-?\d+\.?\d*/))==null?void 0:r[0])||"",o=t.slice(n.length),i=Number.parseFloat(n)+e;return Number.isNaN(i)?t:i+o}function gr(t){return s.getCurrentInstance()}function _r(...t){if(t.length!==1)return s.toRef(...t);const e=t[0];return typeof e=="function"?s.readonly(s.customRef(()=>({get:e,set:Xe}))):s.ref(e)}function Rr(t,e){gr()&&s.onBeforeUnmount(t,e)}function Ae(t,e,r){const n=s.watch(t,(o,i,a)=>{o&&(r!=null&&r.once&&s.nextTick(()=>n()),e(o,i,a))},{...r,once:!1});return n}function Ke(t,e,r){let n;s.isRef(r)?n={evaluating:r}:n={};const{lazy:o=!1,evaluating:i=void 0,shallow:a=!0,onError:c=Xe}=n,l=s.ref(!o),p=a?s.shallowRef(e):s.ref(e);let u=0;return s.watchEffect(async f=>{if(!l.value)return;u++;const h=u;let d=!1;i&&Promise.resolve().then(()=>{i.value=!0});try{const w=await t(g=>{f(()=>{i&&(i.value=!1),d||g()})});h===u&&(p.value=w)}catch(w){c(w)}finally{i&&h===u&&(i.value=!1),d=!0}}),o?s.computed(()=>(l.value=!0,p.value)):p}function Qe(t){var e;const r=q(t);return(e=r==null?void 0:r.$el)!=null?e:r}const Se=Je?window:void 0,Pr=Je?window.document:void 0;function Ar(){const t=s.ref(!1),e=s.getCurrentInstance();return e&&s.onMounted(()=>{t.value=!0},e),t}function Ze(t){const e=Ar();return s.computed(()=>(e.value,!!t()))}function Sr(t,e,r={}){const{window:n=Se,...o}=r;let i;const a=Ze(()=>n&&"MutationObserver"in n),c=()=>{i&&(i.disconnect(),i=void 0)},l=s.computed(()=>{const h=q(t),d=(Array.isArray(h)?h:[h]).map(Qe).filter(mr);return new Set(d)}),p=s.watch(()=>l.value,h=>{c(),a.value&&h.size&&(i=new MutationObserver(e),h.forEach(d=>i.observe(d,o)))},{immediate:!0,flush:"post"}),u=()=>i==null?void 0:i.takeRecords(),f=()=>{p(),c()};return Ye(f),{isSupported:a,stop:f,takeRecords:u}}function z(t,e={}){const{window:r=Se}=e,n=Ze(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let o;const i=s.ref(!1),a=p=>{i.value=p.matches},c=()=>{o&&("removeEventListener"in o?o.removeEventListener("change",a):o.removeListener(a))},l=s.watchEffect(()=>{n.value&&(c(),o=r.matchMedia(q(t)),"addEventListener"in o?o.addEventListener("change",a):o.addListener(a),i.value=o.matches)});return Ye(()=>{l(),c(),o=void 0}),i}function br(t,e={}){function r(u,f){let h=q(t[q(u)]);return f!=null&&(h=yr(h,f)),typeof h=="number"&&(h=`${h}px`),h}const{window:n=Se,strategy:o="min-width"}=e;function i(u){return n?n.matchMedia(u).matches:!1}const a=u=>z(()=>`(min-width: ${r(u)})`,e),c=u=>z(()=>`(max-width: ${r(u)})`,e),l=Object.keys(t).reduce((u,f)=>(Object.defineProperty(u,f,{get:()=>o==="min-width"?a(f):c(f),enumerable:!0,configurable:!0}),u),{});function p(){const u=Object.keys(t).map(f=>[f,a(f)]);return s.computed(()=>u.filter(([,f])=>f.value).map(([f])=>f))}return Object.assign(l,{greaterOrEqual:a,smallerOrEqual:c,greater(u){return z(()=>`(min-width: ${r(u,.1)})`,e)},smaller(u){return z(()=>`(max-width: ${r(u,-.1)})`,e)},between(u,f){return z(()=>`(min-width: ${r(u)}) and (max-width: ${r(f,-.1)})`,e)},isGreater(u){return i(`(min-width: ${r(u,.1)})`)},isGreaterOrEqual(u){return i(`(min-width: ${r(u)})`)},isSmaller(u){return i(`(max-width: ${r(u,-.1)})`)},isSmallerOrEqual(u){return i(`(max-width: ${r(u)})`)},isInBetween(u,f){return i(`(min-width: ${r(u)}) and (max-width: ${r(f,-.1)})`)},current:p,active(){const u=p();return s.computed(()=>u.value.length===0?"":u.value.at(-1))}})}function Er(t=null,e={}){var r,n,o;const{document:i=Pr,restoreOnUnmount:a=f=>f}=e,c=(r=i==null?void 0:i.title)!=null?r:"",l=_r((n=t??(i==null?void 0:i.title))!=null?n:null),p=t&&typeof t=="function";function u(f){if(!("titleTemplate"in e))return f;const h=e.titleTemplate||"%s";return typeof h=="function"?h(f):q(h).replace(/%s/g,f)}return s.watch(l,(f,h)=>{f!==h&&i&&(i.title=u(typeof f=="string"?f:""))},{immediate:!0}),e.observe&&!e.titleTemplate&&i&&!p&&Sr((o=i.head)==null?void 0:o.querySelector("title"),()=>{i&&i.title!==l.value&&(l.value=u(i.title))},{childList:!0}),Rr(()=>{if(a){const f=a(c,l.value||"");f!=null&&i&&(i.title=f)}}),l}const vr={"2xs":"300px",xs:"380px",tiny:"465px",sm:"640px",md:"768px","2md":"960px",lg:"1024px",xl:"1280px","2xl":"1536px","3xl":"1920px"},Tr=(()=>{const t={};for(const[e,r]of Object.entries(vr))t[e]=Number.parseInt(r,10);return Object.freeze(t)})();br(Tr).smaller("sm");const et=(t,e)=>{const r=t.__vccOpts||t;for(const[n,o]of e)r[n]=o;return r};function kr(){var t;try{return(t=globalThis==null?void 0:globalThis.document)==null?void 0:t.cookie.split(";").map(e=>e.split("=")).reduce((e,[r,n])=>(e[decodeURIComponent(r==null?void 0:r.trim())]=decodeURIComponent(n==null?void 0:n.trim()),e),{})}catch{return{}}}var tt;(tt=kr())!=null&&tt.swymlang,s.ref(),s.ref();class Cr{constructor(){return this.appSettings=null,this}setAppPreferences(e){this.appSettings=e}allowODECreationFeature(){return this.appSettings&&this.appSettings.allowODECreationFeature?this.appSettings.allowODECreationFeature:!1}allowODEViewerFeature(){return this.appSettings&&this.appSettings.allowODEViewerFeature?this.appSettings.allowODEViewerFeature:!1}allowODECollabFeature(){return this.appSettings&&this.appSettings.allowODECollabFeature?this.appSettings.allowODECollabFeature:!1}activateNativeWindowBar(){return this.appSettings&&this.appSettings.activateNativeWindowBar?this.appSettings.activateNativeWindowBar:!1}hasMultiWindowsSupport(){return this.appSettings&&this.appSettings.hasMultiWindowsSupport?this.appSettings.hasMultiWindowsSupport:!1}disableTopbarLogout(){return this.appSettings&&this.appSettings.disableTopbarLogout?this.appSettings.disableTopbarLogout:!1}}const rt=new Cr,se=5*1e3;class ie{constructor(){this.set=(e,r)=>new Promise((n,o)=>{const i=setTimeout(()=>{r===void 0?n(null):o(r),this.clear(i)},e);this.ids.push(i)}),this.wrap=(e,r,n)=>Promise.race([e,this.set(r,n)]),this.clear=(...e)=>{this.ids=this.ids.filter(r=>e.includes(r)?(clearTimeout(r),!1):!0)},this.ids=[]}}const ae=(t,e,r)=>new Promise((n,o)=>{(!window||!window.nsWebViewInterface)&&o("No webview interface found!"),window.nsWebViewInterface.emit(t,r),window.nsWebViewInterface.once(e,i=>{n(i)})});class ce{constructor(){return this}static emitEventToNativeApp(e,r){try{window&&window.electron&&window.electron.ipcRenderer?window.electron.ipcRenderer.send(e,r):window&&window.nsWebViewInterface&&window.nsWebViewInterface.emit(e,r)}catch(n){console.log(`Failed with reason: ${n}`)}}static async invokeEventToNativeApp(e,r){if(window&&window.electron&&window.electron.ipcRenderer)return await window.electron.ipcRenderer.invoke(e,r);throw new Error("Method not supported!")}static listenEventFromNativeApp(e,r){try{window&&window.electron&&window.electron.ipcRenderer?window.electron.ipcRenderer.on(e,(n,o)=>r(o)):window&&window.nsWebViewInterface&&window.nsWebViewInterface.on(e,n=>r(n))}catch(n){console.log(`Failed with reason: ${n}`)}}static listenOnceEventFromNativeApp(e,r){try{window&&window.electron&&window.electron.ipcRenderer?window.electron.ipcRenderer.once(e,(n,o)=>r(o)):window&&window.nsWebViewInterface&&window.nsWebViewInterface.once(e,n=>r(n))}catch(n){console.log(`Failed with reason: ${n}`)}}static async getAppPreferences(){let e=null;try{if(window&&window.electron)e=await window.electron.getAppPreferences();else if(window&&window.nsWebViewInterface){const r=new ie;try{const n=await r.wrap(ae("PreferencesReq:getAppPreferences","PreferencesRes:getAppPreferences",{}),se,"Fetch timeout!");return Promise.resolve(n)}catch(n){return console.log(`Failed with reason: ${n}`),r.clear(...r.ids),Promise.reject(n)}}}catch(r){return Promise.reject(r)}return Promise.resolve(e)}static async getSelectedPlatform(){let e=null;try{if(window&&window.electron)e=await window.electron.getPairedPlatform();else if(window&&window.nsWebViewInterface){const r=new ie;try{const n=await r.wrap(ae("PreferencesReq:getSelectedPlatform","PreferencesRes:getSelectedPlatform",{}),se,"Fetch timeout!");return Promise.resolve(n)}catch(n){return console.log(`Failed with reason: ${n}`),r.clear(...r.ids),Promise.reject(n)}}}catch(r){return Promise.reject(r)}return Promise.resolve(e)}static async getTrackerData(){let e={};try{if(window&&window.electron)e=await window.electron.getTrackerData();else if(window&&window.nsWebViewInterface){const r=new ie;try{const n=await r.wrap(ae("PreferencesReq:getTrackerData","PreferencesRes:getTrackerData",{}),se,"Fetch timeout!");return Promise.resolve(n)}catch(n){return console.log(`Failed with reason: ${n}`),r.clear(...r.ids),Promise.reject(n)}}}catch(r){return Promise.reject(r)}return Promise.resolve(e)}static async getGDPRPreferences(){let e={};try{if(window&&window.electron)e=await window.electron.getGDPRPreferences();else if(window&&window.nsWebViewInterface){const r=new ie;try{const n=await r.wrap(ae("PreferencesReq:getGDPRPreferences","PreferencesRes:getGDPRPreferences",{}),se,"Fetch timeout!");return Promise.resolve(n)}catch(n){return console.log(`Failed with reason: ${n}`),r.clear(...r.ids),Promise.reject(n)}}}catch(r){return Promise.reject(r)}return Promise.resolve(e)}}class k{constructor(){}static setAppProperties(e){e&&(e.appVersion&&typeof e.appVersion<"u"&&(this._appVersion=e.appVersion),this._appProperties=e)}static getAppProperties(){return this._appProperties}static setAppPreferences(e){rt.setAppPreferences(e)}static isNativeApp(){return window&&typeof window.electron<"u"?!0:!!(window&&window.nsWebViewInterface)}static isMobileApp(){return window&&window.nsWebViewInterface}static isDesktopApp(){return window&&window.electron}static isNativeSameDomain(e){return window&&window.location&&window.location.hostname===e.hostname}static getNativeAppRequireConfig(){if(this.isNativeApp())return window&&window.nsWAP&&window.nsWAP.appVersion&&typeof window.nsWAP.appVersion<"u"&&(this._appVersion=window.nsWAP.appVersion),{dsEnv:{env:"MOBILE"},proxies:{ajax:`${window.location.origin}/_api/proxy/ajax`,passport:`${window.location.origin}/_api/proxy/passport`},requirePaths:{WAP:`${window.location.origin}/wap/${this._appVersion}`,WAP2:`${window.location.origin}/WapInterface/${this._appVersion}`}}}static async getAppPairingPlatform(){return ce.getSelectedPlatform()}static async getTrackerData(){return ce.getTrackerData()}static async getGDPRPreferences(){return ce.getGDPRPreferences()}static async intializeNativeAppPreferences(){try{const e=await ce.getAppPreferences();e&&(this.setAppProperties(e.appProperties),this.setAppPreferences(e.appFeatureActivation)),console.log("intializeNativeAppPreferences",e)}catch(e){console.log("intializeNativeAppPreferences error",e)}return Promise.resolve()}}k._appVersion="1.0";const nt=s.ref(""),xr=s.ref("");Er(nt),s.readonly(nt),s.readonly(xr);class _{static removeDotSegments(e){const r=[];function n(o){o==="/.."?r.pop():r.push(o)}return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^/]*/g,n),r.join("").replace(/^\//,e.charAt(0)==="/"?"/":"")}static buildUrl(e,r){const n=window.location&&window.location.protocol?window.location.protocol:"http:";if(e=String(e),r=String(r),!_.isAbsoluteUrl(e))throw new Error("First argument should be a absolute url.");e.substring(0,2)==="//"&&(e=n+e);let o,i,a="";const c=String(e).split("://"),l=c[0],p=c[1],u=p.split("/"),f=u[0];if(r.substring(0,2)==="//")e=l+":"+r;else if(r.split("://").length>1)e=r;else if(r.substring(0,1)==="/")e=l+"://"+f+r;else{for(o=1,i=u.length-1;o<i;o++)a+="/"+u[o];e=l+"://"+f+_.removeDotSegments(a+"/"+r)}return e}static parseUrl(e){const r=["source","subprotocol","protocol","authority","user","password","domain","port","path","directoryPath","fileName","query","anchor"],n=new RegExp("^(?:(?:(?:([^#.:]+):)?([^#.:]+):)?//)?((?:([^:/]+)(?::([^/]*?))?@)?([^:/?#]*)(?::(\\d*))?)?((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[\\?#]|$)))*/?)?([^?#/]*))?(?:\\?([^#]*))?(?:#(.*))?");let o;const i=n.exec(e),a={};for(o=0;o<r.length;o++)a[r[o]]=i[o]||"";return a.subprotocol&&(a.source=a.source.substr(a.subprotocol.length+1)),a.port||(a.port=a.protocol==="https"?"443":"80"),a.directoryPath&&a.directoryPath.length>0&&(a.directoryPath=a.directoryPath.replace(/\/?$/,"/")),a.domain=a.domain.toLocaleLowerCase(),a.protocol=a.protocol.toLocaleLowerCase(),a}static composeUrl(e){let r="";return e.protocol&&(r=e.protocol+"://",e.subprotocol&&(r=e.subprotocol+":"+r)),e.domain?(r+=e.domain,e.port&&(e.protocol!=="http"||parseInt(e.port,10)!==80)&&(e.protocol!=="https"||parseInt(e.port,10)!==443)&&(r+=":"+e.port)):e.authority&&(r+=e.authority),e.path&&(r+=e.path),e.query&&(r+="?"+e.query),e.anchor&&(r+="#"+e.anchor),r}static matchUrl(e,r){let n,o,i=!1;const a=_.isAbsoluteUrl(e),c=_.isAbsoluteUrl(r);return!a&&!c?i=!0:(a?c||(r=_.buildUrl(e,r)):e=_.buildUrl(r,e),n=_.parseUrl(e),o=_.parseUrl(r),i=["domain","protocol","port"].every(function(l){return n[l]===o[l]||l==="protocol"&&(n[l]===""||o[l]==="")})),i}static isAbsoluteUrl(e){return/^((https?|ftp|file):)?\/\//.test(e)}static toQueryString(e,r){let n,o,i,a;if(_.is(e,"string"))a=e;else if(_.is(e.toQueryString,"function"))a=e.toQueryString();else{a=[];for(n in e)e.hasOwnProperty(n)&&(o=e[n],r&&(n=r+"["+_.capitalize(n)+"]"),_.is(o)&&(_.is(o,"object")||_.is(o,"array")?i=_.toQueryString(o,n):_.is(o,"function")||(i=_.encodeUrl(n)+"="+_.encodeUrl(o))),i&&a.push(i),i=void 0);a=a.join("&")}return a}static is(e,r){return e&&r?typeof e===r:e?typeof e<"u":!1}static encodeUrl(e){return encodeURIComponent(e).replace(/\./g,"%2e")}static capitalize(e,r="-"){const n=e.split(r);for(let o=0;o<n.length;o++)n[o]=n[o][0].toUpperCase()+n[o].substr(1);return n.join(r)}}class C{constructor(){}static get proxies(){const e=k.getNativeAppRequireConfig();if(e&&e.proxies)return e.proxies;const r=window.UWA&&window.UWA.hosts||{},o=r.exposition+"/proxy/",i=r.proxies||{};return Object.assign(Object.assign({},i),{ajax:o+"ajax",resolve:o+"resolve",xml:o+"xml",spreadsheet:o+"spreadsheet",soap:o+"soap",feed:o+"feed",icon:o+"icon",richIcon:o+"richIcon",rss:o+"feed"})}static normalizeRequestHeaders(e){const r={};return e.headers.forEach((n,o)=>{r[o]=n}),r}static checkHasProxyPath(e){if(k.isNativeApp()){const r=k.getNativeAppRequireConfig();if(r&&r.proxies){for(const n in r.proxies)if(e.startsWith(r.proxies[n]))return!0}}return!1}static async request(e,r,n){if(!e)throw new Error("Bad or missing url argument.");if(!k.isNativeApp()||_.matchUrl(e,window.location))return n;r=r||{};let o;const i=window.location,a="ajax",c=r;c.headers&&!c.normalizedHeaders&&(c.normalizedHeaders=C.normalizeRequestHeaders(n)),c.proxy?e=C.proxifyUrl(e,c):_.matchUrl(e,i)===!1&&C.allowCrossOriginRequest===!1&&(e=C.proxifyUrl(e,Object.assign(Object.assign({},c),{proxy:a})));const l=["GET","HEAD"].includes(n.method)?void 0:await n.blob();return c.body=l,o=new Request(e,c),o}static proxifyUrl(e,r){if(!e)throw new Error("Bad or missing url argument.");let n;const o=[],i=r.proxy,a=_.toQueryString,c=C.proxies;if(i&&c[i]){if(!k.isNativeApp()||_.matchUrl(e,window.location)||(n=c[i],e.indexOf(n)===0))return e;if(e.startsWith("https://")&&e.indexOf(":443")>-1&&(e=e.replace(":443","")),r.body&&r.method&&r.method.toUpperCase()==="GET"&&(e+=(e.indexOf("?")>-1?"&":"?")+a(r.body),console.log("DEBUG test proxification handle get",e)),typeof r.proxy=="object"&&o.push(a(r.proxy)),r.normalizedHeaders?o.push(a(r.normalizedHeaders,"headers")):r.headers&&o.push(a(r.headers,"headers")),r.method&&o.push(a({method:r.method})),o.push(a({url:e})),e=n+"?"+o.join("&"),e.length>4096)throw console.log("Error proxify url too long",e),new Error("Proxified url is more than 4096 characters, that is the limit for most of the browsers.")}else throw new Error("Invalid proxy");return e}static deproxifyUrl(e){try{const r=new URL(e);if(C.checkHasProxyPath(e)&&r.searchParams.has("url"))return r.searchParams.get("url")}catch(r){console.error("Deproxify URL error",r)}return e}}C.allowCrossOriginRequest=!1;function Dr(t,e){try{return C.proxifyUrl(t,{proxy:"passport",...e})}catch(r){return P.error(t,r),t}}var S=(t=>(t.TINY="tiny",t.SMALL="small",t.SMALLDIUM="smalldium",t.SMEDIUM="smedium",t.MEDIUM="medium",t.NORMAL="normal",t.BIG="big",t.BIGGER="bigger",t.BLARGE="blarge",t.LARGE="large",t))(S||{});const Nr={key:1,class:"user-picture"},Or=["src"],Ir=s.defineComponent({__name:"user-picture",props:{login:{},hashKey:{},fingerprint:{},hidePresence:{type:Boolean},size:{default:S.MEDIUM}},setup(t){const e=t,r=s.toRef(e,"login"),n=s.computed(()=>e.size),o=s.toRef(e,"hashKey"),i=Ke(()=>I(A.SWYM)),a=s.computed(()=>{if(i.value){let d="/api/user/getpicture/";return r.value?d+=`login/${r.value}`:o.value&&(d+=`hash_key/${o.value}`),e.fingerprint&&(d+=`fingerprint/${e.fingerprint}`),Dr(`${i.value}${d}`)}else return}),c=s.computed(()=>({"size-[19px] text-3xs":e.size===S.TINY,"size-[25px] text-xs":e.size===S.SMALL,"size-[32px] text-sm":e.size===S.SMALLDIUM,"size-[34px] text-sm":e.size===S.SMEDIUM,"size-[38px] text-base":e.size===S.MEDIUM,"size-[40px] text-lg":e.size===S.NORMAL,"size-[84px] text-2xl":e.size===S.BIG,"size-[104px] text-4xl":e.size===S.BIGGER,"size-[120px] text-6xl":e.size===S.BLARGE,"size-[125px] text-8xl":e.size===S.LARGE})),l=s.useTemplateRef("containerEl"),p=s.shallowRef(),u=Ae(l,async d=>{var w;if(!r.value)return u();try{const[g,y]=await Be(["DS/RTVueUserPresenceAPI/RTVueUserPresenceAPI","vuejs"]),R=y.extend(g);p.value=new R({propsData:{login:r.value,tenantId:O(),swymUrl:i.value}}),p.value.$mount(),(w=d.parentElement)==null||w.replaceChild(p.value.$el,d),p.value.$el.classList.add(n.value),h(e.hidePresence)}catch{}}),f=Ae(r,d=>{p.value&&(p.value.login=d)});s.watch(()=>n.value,async(d,w)=>{var g,y;const R=(y=(g=p.value)==null?void 0:g.$el)==null?void 0:y.classList;R&&(R.remove(w),R.add(d))});function h(d){const w=p.value.$el.querySelector(".vu-up-aureole");d&&!(w!=null&&w.classList.contains("hidden"))?w==null||w.classList.add("hidden"):!d&&(w!=null&&w.classList.contains("hidden"))&&(w==null||w.classList.remove("hidden"))}return s.watch(()=>e.hidePresence,d=>h(d)),s.onBeforeUnmount(()=>{u(),f(),p.value&&p.value.$destroy()}),(d,w)=>d.$slots["custom-picture"]?(s.openBlock(),s.createElementBlock("div",{key:0,class:s.normalizeClass(["custom-picture",c.value])},[s.renderSlot(d.$slots,"custom-picture",{class:"size-full"})],2)):(s.openBlock(),s.createElementBlock("div",Nr,[s.createElementVNode("img",{ref:"containerEl",class:"max-w-full max-h-full rounded-full",src:a.value},null,8,Or)]))}});[...Array(256).keys()].map(t=>t.toString(16).padStart(2,"0"));const F="[SRUT]",L={log:(...t)=>P.log(F,...t),info:(...t)=>P.info(F,...t),warn:(...t)=>P.warn(F,...t),debug:(...t)=>P.debug(F,...t),error:(...t)=>P.error(F,...t),trace:(...t)=>P.trace(F,...t)},Lr={key:0,class:"srut_presence flex-row flex items-center justify-start pb-2.5 gap-1 text-sm"},Ur={class:"srut_presence-string"},$r=s.defineComponent({__name:"a-user-presence",props:{userLogin:{}},setup(t){const e=t,r=s.toRef(e,"userLogin"),n=Ke(async()=>await I(A.SWYM),""),o=s.useTemplateRef("userPresence"),i=s.shallowRef();async function a(){try{const c=await M("DS/RTVueUserPresenceAPI/RTVueUserPresenceAPI");i.value=c.vue3cmp}catch(c){L.error(c)}}return s.watch(r,async c=>{c&&await a()},{immediate:!0}),(c,l)=>{const p=s.resolveComponent("vu-icon");return s.openBlock(),s.createElementBlock(s.Fragment,null,[s.withDirectives((s.openBlock(),s.createBlock(s.resolveDynamicComponent(i.value),{ref_key:"userPresence",ref:o,login:r.value,"swym-url":s.unref(n),"tenant-id":s.unref(O)()},null,8,["login","swym-url","tenant-id"])),[[s.vShow,!1]]),s.unref(o)?(s.openBlock(),s.createElementBlock("div",Lr,[s.createVNode(p,{class:s.normalizeClass(["srut_presence-icon fonticon ml-0",s.unref(o).fonticon]),icon:" userPresence.fonticon",style:s.normalizeStyle(`color:${s.unref(o).color}`)},null,8,["class","style"]),s.createElementVNode("span",Ur,s.toDisplayString(s.unref(o).presenceString),1)])):s.createCommentVNode("",!0)],64)}}}),Mr="i18n!DS/SocialRichUserTooltip/assets/nls/";function le(t){return wr(t,Mr)}const Br=1e4,qr=2**31-1;function Fr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $(t,e){var r,n;if(typeof e=="function")n=e(t),n!==void 0&&(t=n);else if(Array.isArray(e))for(r=0;r<e.length;r++)n=e[r](t),n!==void 0&&(t=n);return t}function Vr(t,e){return t[0]==="-"&&Array.isArray(e)&&/^-\d+$/.test(t)?e.length+parseInt(t,10):t}function Wr(t){return/^\d+$/.test(t)}function ue(t){return Object.prototype.toString.call(t)==="[object Object]"}function G(t){return Object(t)===t}function fe(t){return Object.keys(t).length===0}var zr=["__proto__","prototype","constructor"],Gr=function(t){return zr.indexOf(t)===-1};function de(t,e){t.indexOf("[")>=0&&(t=t.replace(/\[/g,e).replace(/]/g,""));var r=t.split(e),n=r.filter(Gr);if(n.length!==r.length)throw Error("Refusing to update blacklisted property "+t);return r}var ot=Object.prototype.hasOwnProperty;function m(t,e,r,n){if(!(this instanceof m))return new m(t,e,r,n);typeof e>"u"&&(e=!1),typeof r>"u"&&(r=!0),typeof n>"u"&&(n=!0),this.separator=t||".",this.override=e,this.useArray=r,this.useBrackets=n,this.keepArray=!1,this.cleanup=[]}var V=new m(".",!1,!0,!0);function T(t){return function(){return V[t].apply(V,arguments)}}m.prototype._fill=function(t,e,r,n){var o=t.shift();if(t.length>0){if(e[o]=e[o]||(this.useArray&&Wr(t[0])?[]:{}),!G(e[o]))if(this.override)e[o]={};else{if(!(G(r)&&fe(r)))throw new Error("Trying to redefine `"+o+"` which is a "+typeof e[o]);return}this._fill(t,e[o],r,n)}else{if(!this.override&&G(e[o])&&!fe(e[o])){if(!(G(r)&&fe(r)))throw new Error("Trying to redefine non-empty obj['"+o+"']");return}e[o]=$(r,n)}},m.prototype.object=function(t,e){var r=this;return Object.keys(t).forEach(function(n){var o=e===void 0?null:e[n],i=de(n,r.separator).join(r.separator);i.indexOf(r.separator)!==-1?(r._fill(i.split(r.separator),t,t[n],o),delete t[n]):t[n]=$(t[n],o)}),t},m.prototype.str=function(t,e,r,n){var o=de(t,this.separator).join(this.separator);return t.indexOf(this.separator)!==-1?this._fill(o.split(this.separator),r,e,n):r[t]=$(e,n),r},m.prototype.pick=function(t,e,r,n){var o,i,a,c,l;for(i=de(t,this.separator),o=0;o<i.length;o++)if(c=Vr(i[o],e),e&&typeof e=="object"&&c in e){if(o===i.length-1)return r?(a=e[c],n&&Array.isArray(e)?e.splice(c,1):delete e[c],Array.isArray(e)&&(l=i.slice(0,-1).join("."),this.cleanup.indexOf(l)===-1&&this.cleanup.push(l)),a):e[c];e=e[c]}else return;return r&&Array.isArray(e)&&(e=e.filter(function(p){return p!==void 0})),e},m.prototype.delete=function(t,e){return this.remove(t,e,!0)},m.prototype.remove=function(t,e,r){var n;if(this.cleanup=[],Array.isArray(t)){for(n=0;n<t.length;n++)this.pick(t[n],e,!0,r);return r||this._cleanup(e),e}else return this.pick(t,e,!0,r)},m.prototype._cleanup=function(t){var e,r,n,o;if(this.cleanup.length){for(r=0;r<this.cleanup.length;r++)n=this.cleanup[r].split("."),o=n.splice(0,-1).join("."),e=o?this.pick(o,t):t,e=e[n[0]].filter(function(i){return i!==void 0}),this.set(this.cleanup[r],e,t);this.cleanup=[]}},m.prototype.del=m.prototype.remove,m.prototype.move=function(t,e,r,n,o){return typeof n=="function"||Array.isArray(n)?this.set(e,$(this.pick(t,r,!0),n),r,o):(o=n,this.set(e,this.pick(t,r,!0),r,o)),r},m.prototype.transfer=function(t,e,r,n,o,i){return typeof o=="function"||Array.isArray(o)?this.set(e,$(this.pick(t,r,!0),o),n,i):(i=o,this.set(e,this.pick(t,r,!0),n,i)),n},m.prototype.copy=function(t,e,r,n,o,i){return typeof o=="function"||Array.isArray(o)?this.set(e,$(JSON.parse(JSON.stringify(this.pick(t,r,!1))),o),n,i):(i=o,this.set(e,this.pick(t,r,!1),n,i)),n},m.prototype.set=function(t,e,r,n){var o,i,a,c;if(typeof e>"u")return r;for(a=de(t,this.separator),o=0;o<a.length;o++){if(c=a[o],o===a.length-1)if(n&&ue(e)&&ue(r[c]))for(i in e)ot.call(e,i)&&(r[c][i]=e[i]);else if(n&&Array.isArray(r[c])&&Array.isArray(e))for(var l=0;l<e.length;l++)r[a[o]].push(e[l]);else r[c]=e;else(!ot.call(r,c)||!ue(r[c])&&!Array.isArray(r[c]))&&(/^\d+$/.test(a[o+1])?r[c]=[]:r[c]={});r=r[c]}return r},m.prototype.transform=function(t,e,r){return e=e||{},r=r||{},Object.keys(t).forEach((function(n){this.set(t[n],this.pick(n,e),r)}).bind(this)),r},m.prototype.dot=function(t,e,r){e=e||{},r=r||[];var n=Array.isArray(t);return Object.keys(t).forEach((function(o){var i=n&&this.useBrackets?"["+o+"]":o;if(G(t[o])&&(ue(t[o])&&!fe(t[o])||Array.isArray(t[o])&&!this.keepArray&&t[o].length!==0))if(n&&this.useBrackets){var a=r[r.length-1]||"";return this.dot(t[o],e,r.slice(0,-1).concat(a+i))}else return this.dot(t[o],e,r.concat(i));else n&&this.useBrackets?e[r.join(this.separator).concat("["+o+"]")]=t[o]:e[r.concat(i).join(this.separator)]=t[o]}).bind(this)),e},m.pick=T("pick"),m.move=T("move"),m.transfer=T("transfer"),m.transform=T("transform"),m.copy=T("copy"),m.object=T("object"),m.str=T("str"),m.set=T("set"),m.delete=T("delete"),m.del=m.remove=T("remove"),m.dot=T("dot"),["override","overwrite"].forEach(function(t){Object.defineProperty(m,t,{get:function(){return V.override},set:function(e){V.override=!!e}})}),["useArray","keepArray","useBrackets"].forEach(function(t){Object.defineProperty(m,t,{get:function(){return V[t]},set:function(e){V[t]=e}})}),m._process=$;var Hr=m;const jr=Fr(Hr),Yr=[["subject6wuri","subject_uri"],["uri","subject_uri"]];function be(t){return Yr.forEach(([e,r])=>{jr.move(e,r,t.result)}),t}function Jr(t){return t.replace(/\/+$/,"")}function pe(){var t;return((t=O())==null?void 0:t.toLowerCase())==="onpremise"}function st(t,e){function r(n){let o=Jr(n.trim());if(pe()){const i="resources/AppsMngtRegistry";o.includes(i)||(o=`${o}/${i}`)}return o}try{K();return}catch{}if(!t)throw new Error("Registry url is required");kt(r(t))}async function Xr(){try{K();return}catch{}let t;try{t=await M("DS/PlatformAPI/PlatformAPI")}catch(r){L.error("Failed to load PlatformAPI",r);return}let e=t.getApplicationConfiguration("app.urls.registry");if(!e&&pe()&&(e=t.getApplicationConfiguration("app.urls.myapps")),!e){L.warn("Fetched registry url is empty");return}st(e)}function Kr(t,e){try{O();return}catch{}if(!t)throw new Error("Platform id is required");Ct(t)}const Qr=async t=>{var o;const{response:e}=t,n=((o=e.headers.get("content-type"))==null?void 0:o.includes("application/json"))?await e.clone().json():null;if(n)if(n.errorcode){const i=t;return i.errorcode=`${n.errorcode}`,i.errorid=`${n.errorid}`,i.errormsg=`${n.errormsg}`,i}else t.data=n;return t},U=We.extend({hooks:{beforeRequest:[ur(A.SWYM),hr(A.SWYM)],afterResponse:[(...t)=>pr(A.SWYM,U)(...t),(...t)=>Xt(U,We)(...t)],beforeError:[tr,rr,Qr]}});function Zr(){try{return te("current-user",()=>U.get("/api/user/getcurrent").json(),6e4)}catch{throw new Error("Error fetching current user")}}function en(t){try{return te(`user-login-${t}`,()=>U.post("/api/user/find",{json:{params:{login:t}}}).json(),6e4)}catch{throw new Error("Error fetching user by login")}}function tn(t){try{return te(`user-invitation-status-${t}`,()=>U.post("/api/network/getinvitationstatus",{json:{params:{hash_key:t}}}).json(),2e4)}catch{throw new Error("Error getting invitation status")}}function rn(t){try{return U.post("/api/notification/send",{json:{params:{do:"invite",message:t.message,recipient_hash:t.recipient_hash,type:"Network"}}}).json()}catch{throw new Error("Error adding user to network")}}async function nn(t,e){try{return U.post("/api/directmessages",{json:{users:t,...e?{topic:e}:void 0}}).json().then(be).catch(r=>{if(r.response.status===409)return be(r.data);throw new Error(r)})}catch{throw new Error("Error creating Swym conversation")}}async function on(t){try{return U.get(`/api/directmessages/private/?login=${t}&unhide=true`).json().then(be)}catch{throw new Error("Error getting Swym conversation")}}async function it(t){const e=(await on(t.userLogin)).result;if(e)return e;{const r=[t.connectedUserLogin,t.userLogin];return pe()?(await nn(r)).result:await(await M("DS/RTConvAPI/RTConvAPI")).getConv({logins:r,platformId:t.platformId})}}async function sn(t,e){const r=await M("DS/RTAudioVideoAPI/RTAudioVideoAPI"),n=await it(e);r.startCall({topic:n==null?void 0:n.topic,type:t,logins:n==null?void 0:n.users.map(o=>o.login).filter(o=>o!==e.connectedUserLogin),dmId:n==null?void 0:n.id,subjectUri:n.subject_uri})}const at=s.ref(),he=s.readonly(at);async function an(){try{const t=(await Zr()).result;at.value=t}catch(t){L.error("Fail to retrieve current user.",t)}}function Ee(t="",e=""){return`${t} ${e}`.trim()}function cn(t){return!!t&&!!t.login&&!!t.first_name&&!!t.last_name&&!!t.hash_key}const ln=s.defineComponent({__name:"modal-add-user-to-network",props:{displayName:{},hashKey:{},showModal:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const r=t,n=e,{$i18n:o}=le("rich-user-tooltip"),i=s.computed(()=>{var c,l;return o("messageModalAddNetwork",{connected_user:Ee((c=he.value)==null?void 0:c.first_name,(l=he.value)==null?void 0:l.last_name)})});async function a(){(await rn({recipient_hash:r.hashKey,message:i.value})).result.success?Te.message.create({text:o("successAddToNetwork"),color:"success",timeout:Br}):Te.message.create({text:o("errorMessageModalNetwork"),color:"error",timeout:qr}),n("close")}return(c,l)=>{const p=s.resolveComponent("vu-textarea"),u=s.resolveComponent("vu-btn"),f=s.resolveComponent("vu-modal");return s.openBlock(),s.createBlock(f,{class:"srut_modal-add-user","no-mobile":!0,show:c.showModal,"show-cancel-icon":"",title:s.unref(o)("titleModalAddToNetwork",{user:r.displayName}),onClose:l[2]||(l[2]=h=>n("close")),onConfirm:a},{"modal-body":s.withCtx(()=>[s.createVNode(p,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=h=>i.value=h),label:s.unref(o)("labelMessageModalNetwork")},null,8,["modelValue","label"])]),"modal-footer":s.withCtx(()=>[s.createVNode(u,{color:"primary",onClick:a},{default:s.withCtx(()=>[s.createTextVNode(s.toDisplayString(s.unref(o)("primaryButtonModalNetwork")),1)]),_:1}),s.createVNode(u,{onClick:l[1]||(l[1]=h=>n("close"))},{default:s.withCtx(()=>[s.createTextVNode(s.toDisplayString(s.unref(o)("cancelButtonModalNetwork")),1)]),_:1})]),_:1},8,["show","title"])}}});var H=(t=>(t[t.NotInNetwork=0]="NotInNetwork",t[t.InvitationSentPending=1]="InvitationSentPending",t[t.InNetwork=2]="InNetwork",t))(H||{});const un={class:"srut_actions mr-4 pb-1.5"},fn={class:"srut_collaborate ml-auto gap-1"},dn=et(s.defineComponent({__name:"m-actions",props:{userLogin:{},firstName:{},hashKey:{},lastName:{},disableDefaultNavigation:{type:Boolean,default:!0}},emits:["goToConversation","isModalOpen","hideRichUserTooltipCmp"],setup(t,{emit:e}){var w;const r=t,n=e,{$i18n:o}=le("rich-user-tooltip"),i=s.ref(!1),a={connectedUserLogin:(w=he.value)==null?void 0:w.login,userLogin:r.userLogin,platformId:O()},c=s.ref(),l=s.computed(()=>c.value===H.InvitationSentPending);s.watch(()=>r.hashKey,async(g,y)=>{if(g&&g!==y)try{if(r.hashKey){const R=(await tn(r.hashKey)).result,x=R.user_in_network,N=R.connected_user_to_user;x===1?c.value=H.InNetwork:N==="new"?c.value=H.InvitationSentPending:c.value=H.NotInNetwork}}catch(R){L.error(R)}},{immediate:!0});async function p(g){if(r.disableDefaultNavigation)n("goToConversation",g);else{const R=`${await I(A.SWYM)}/dm/${g}`;window.open(R,"_blank")}}function u(g){i.value=g,n("isModalOpen",g)}async function f(){const g=await it(a);p(g.subject_uri)}const h=!pe();async function d(g,y){n("hideRichUserTooltipCmp"),await sn(g,y)}return(g,y)=>{const R=s.resolveComponent("vu-icon-btn"),x=s.resolveDirective("tooltip");return s.openBlock(),s.createElementBlock("div",un,[s.withDirectives(s.createVNode(R,{class:s.normalizeClass({"vu-icon-btn cursor-default":l.value,"srut_add-to-network-btn":!l.value}),disabled:l.value,icon:"user-add",onClick:y[0]||(y[0]=N=>u(!0))},null,8,["class","disabled"]),[[x,l.value?s.unref(o)("invitationSent"):s.unref(o)("addToMyNetwork"),void 0,{bottom:!0}]]),s.createElementVNode("div",fn,[s.withDirectives(s.createVNode(R,{class:"srut_conversation",icon:"chat-alt",onClick:f},null,512),[[x,s.unref(o)("startAConversation"),void 0,{bottom:!0}]]),h?s.withDirectives((s.openBlock(),s.createBlock(R,{key:0,class:"srut_audio-call",icon:"phone",onClick:y[1]||(y[1]=N=>d("audio",a))},null,512)),[[x,s.unref(o)("startAVoiceCall"),void 0,{bottom:!0}]]):s.createCommentVNode("",!0),h?s.withDirectives((s.openBlock(),s.createBlock(R,{key:1,class:"srut_video-call",icon:"videocamera",onClick:y[2]||(y[2]=N=>d("video",a))},null,512)),[[x,s.unref(o)("startAVideoCall"),void 0,{bottom:!0}]]):s.createCommentVNode("",!0),h?s.withDirectives((s.openBlock(),s.createBlock(R,{key:2,class:"srut_screen-share",icon:"monitor",onClick:y[3]||(y[3]=N=>d("screen",a))},null,512)),[[x,s.unref(o)("startAScreenShare"),void 0,{bottom:!0}]]):s.createCommentVNode("",!0),(s.openBlock(),s.createBlock(s.Teleport,{to:"body"},[s.createVNode(ln,{"display-name":s.unref(Ee)(g.firstName,g.lastName),"hash-key":g.hashKey,"show-modal":i.value,onClose:y[4]||(y[4]=N=>u(!1))},null,8,["display-name","hash-key","show-modal"])]))])])}}}),[["__scopeId","data-v-9dc74ff8"]]),pn={class:"srut_header"},hn={class:"srut_info-container px-2.5 py-2"},wn={class:"srut_login m-0 py-0.5"},mn={class:"srut_profile-picture p-2.5"},yn={class:"srut_presence-company-and-country px-2.5 pt-2 pb-3"},gn={key:0,class:"flex flex-row gap-1.5 items-center"},_n={key:0,class:"srut_company line-clamp-1 overflow-hidden text-ellipsis break-all font-bold text-xs text-grey-8"},Rn={key:1,class:"srut_external font-bold text-xs text-orange-1"},Pn={key:1,class:"srut_country"},An={class:"srut_country-flag w-3.5 items-center justify-center"},Sn={class:"srut_country-name line-clamp-1 overflow-hidden text-ellipsis break-all text-xs py-1 text-grey-8"},bn=et(s.defineComponent({__name:"m-rich-user-tooltip-body",props:{company:{},countryCode:{},firstName:{},hashKey:{},isExternalUser:{type:Boolean},lastName:{},login:{},onTooltip:{type:Boolean,default:!1},disableDefaultNavigation:{type:Boolean},disableActionsPanel:{type:Boolean}},emits:["update:modalOpened","update:onTooltip","goToConversation","goToProfile","hideRchUserTooltipCmp"],setup(t,{emit:e}){const r=t,n=e,{$i18n:o}=le("rich-user-tooltip"),{$i18n:i}=le("country-iso2-code"),a=s.defineAsyncComponent(()=>new Promise((f,h)=>E(["./country-flag.esm-BF-71e75"],f,h))),c=s.computed(()=>{var f;return((f=he.value)==null?void 0:f.login)===r.login}),l=s.ref(!1);function p(){l.value||n("update:onTooltip",!1)}function u(){n("update:onTooltip",!0)}return s.watch(l,()=>{l.value?n("update:modalOpened",!0):n("update:onTooltip",!1)}),(f,h)=>{const d=s.resolveDirective("tooltip");return s.openBlock(),s.createElementBlock("div",{class:"srut_body",onMouseenter:u,onMouseleave:p},[s.createElementVNode("div",pn,[s.createElementVNode("div",hn,[s.withDirectives((s.openBlock(),s.createElementBlock("a",{class:"srut_username m-0 py-0.5",onClick:h[0]||(h[0]=w=>n("goToProfile"))},[s.createTextVNode(s.toDisplayString(s.unref(Ee)(f.firstName,f.lastName)),1)])),[[d,s.unref(o)("viewProfile"),void 0,{top:!0}]]),s.createElementVNode("p",wn,s.toDisplayString(f.login.toUpperCase()),1)])]),s.createElementVNode("div",mn,[s.withDirectives((s.openBlock(),s.createElementBlock("div",{class:"srut_avatar-wrapper relative ring-2 ring-white rounded-full cursor-pointer",onClick:h[1]||(h[1]=w=>n("goToProfile"))},[s.createVNode(s.unref(Ir),{"hide-presence":"",login:f.login,size:s.unref(S).BIG},null,8,["login","size"])])),[[d,s.unref(o)("viewProfile"),void 0,{top:!0}]])]),s.createElementVNode("div",yn,[s.createVNode($r,{"user-login":f.login},null,8,["user-login"]),f.company||f.isExternalUser?(s.openBlock(),s.createElementBlock("div",gn,[f.company?(s.openBlock(),s.createElementBlock("span",_n,s.toDisplayString(f.company),1)):s.createCommentVNode("",!0),f.isExternalUser?(s.openBlock(),s.createElementBlock("span",Rn,s.toDisplayString(s.unref(o)("external")),1)):s.createCommentVNode("",!0)])):s.createCommentVNode("",!0),f.countryCode?(s.openBlock(),s.createElementBlock("div",Pn,[s.createElementVNode("div",An,[s.createVNode(s.unref(a),{country:f.countryCode,rounded:"",size:"small"},null,8,["country"])]),s.createElementVNode("span",Sn,s.toDisplayString(s.unref(i)(f.countryCode)),1)])):s.createCommentVNode("",!0)]),!c.value&&!f.disableActionsPanel?(s.openBlock(),s.createBlock(dn,{key:0,"disable-default-navigation":f.disableDefaultNavigation,"first-name":f.firstName,"hash-key":f.hashKey,"last-name":f.lastName,"user-login":f.login,onGoToConversation:h[2]||(h[2]=w=>n("goToConversation",w)),onHideRichUserTooltipCmp:h[3]||(h[3]=w=>n("hideRchUserTooltipCmp")),onIsModalOpen:h[4]||(h[4]=w=>l.value=w)},null,8,["disable-default-navigation","first-name","hash-key","last-name","user-login"])):s.createCommentVNode("",!0)],32)}}}),[["__scopeId","data-v-f6e307ef"]]);function En(t){return t.split(";").map(e=>e.split("=")).reduce((e,[r,n])=>(e[decodeURIComponent(r==null?void 0:r.trim())]=decodeURIComponent(n==null?void 0:n.trim()),e),{})}const ve=k.isNativeApp()?`${window.location.origin}/`:((ct=window.dsDefaultWebappsBaseUrl)==null?void 0:ct.replace("webapps/",""))||`${window.location.origin}/`,vn=k.isNativeApp()?`${ve}webapps/`:window.dsDefaultWebappsBaseUrl||`${ve}webapps/`,Tn=ve+"uwp/",kn=((lt=En(window.document.cookie))==null?void 0:lt.swymlang)||"en";async function Cn(){const t={DS:".",vuejs:"./vuejs/2.6.10/vue.min","vu-kit":"./vuekit/vu-kit.umd",vuex:"./vuex/3.1.1/vuex.min"},e=k.getNativeAppRequireConfig();return e&&Object.assign(t,e.requirePaths),window.require?window.require&&window.widget?{paths:t}:{}:{baseUrl:vn,waitSeconds:60,paths:{...t,ds:`${Tn}resources/0/0/wp/script`,"DS/UWPClientCode/UWA":"UWA2/js",UWA:"UWA2/js",vendors:"vendors"},config:{i18n:{locale:kn},"DS/Logger/Logger":{disableLog:!0}},skipDataMain:!0}}function xn(){Mt(async t=>({...t,...await Cn()}))}const Dn="1.5.1",Nn=s.defineComponent({__name:"t-rich-user-tooltip",props:{disabled:{type:Boolean},disableDefaultNavigation:{type:Boolean,default:!0},disableActionsPanel:{type:Boolean},parentElement:{},platformId:{},show:{type:Boolean},userLogin:{},urls:{}},emits:["update:onTooltip","goToConversation","goToProfile"],setup(t,{emit:e}){const r=t,n=e;xn();const o=s.ref(!1),i=s.ref(!1);async function a(){if(r.disableDefaultNavigation)i.value=!1,n("goToProfile");else{const w=`${await I(A.SWYM)}/home?profile=${r.userLogin}`;window.open(w,"_blank")}}function c(d){i.value=!1,n("goToConversation",d)}const l=s.ref();function p(d){l.value=Qe(d)}const u=s.ref({first_name:"",hash_key:"",last_name:"",login:r.userLogin}),f=s.computed(()=>{var d;return((d=u.value)==null?void 0:d.tenant_user_status)==="1"});function h({props:d}){function w(){Kr(d.platformId);const y=d.urls;y!=null&&y.registryUrl?st(y.registryUrl):Xr()}function g(){an()}w(),g()}return Ae(()=>r.show&&!r.disabled,async()=>{o.value=!1;try{if(!r.userLogin)return;const d=await en(r.userLogin);d.result.hash_key&&(u.value.hash_key=d.result.hash_key),d.result.first_name&&(u.value.first_name=d.result.first_name),d.result.last_name&&(u.value.last_name=d.result.last_name),d.result.company&&(u.value.company=d.result.company),d.result.tenant_user_status&&(u.value.tenant_user_status=d.result.tenant_user_status),d.result.country_code&&(u.value.country_code=d.result.country_code)}catch(d){L.error(d)}},{immediate:!0}),s.onBeforeMount(()=>{L.debug("version",Dn),L.debug("props",r),h({props:r})}),(d,w)=>{const g=s.resolveComponent("vu-popover");return d.disabled&&!d.parentElement?s.renderSlot(d.$slots,"default",{key:0,setRef:p}):d.disabled&&d.parentElement?(s.openBlock(),s.createBlock(s.resolveDynamicComponent(d.parentElement),{key:1})):(s.openBlock(),s.createBlock(g,{key:2,animate:"",arrow:"",class:"rich-user-tooltip","content-class":["srut_popover",{hidden:o.value}],show:(d.show||i.value)&&s.unref(cn)(u.value),side:"bottom",type:"popover"},{body:s.withCtx(()=>{var y,R,x,N,ut,ft,dt;return[(y=u.value)!=null&&y.login?(s.openBlock(),s.createBlock(bn,{key:0,company:(R=u.value)==null?void 0:R.company,"country-code":(x=u.value)==null?void 0:x.country_code,"disable-actions-panel":d.disableActionsPanel,"disable-default-navigation":d.disableDefaultNavigation,"first-name":(N=u.value)==null?void 0:N.first_name,"hash-key":(ut=u.value)==null?void 0:ut.hash_key,"is-external-user":f.value,"last-name":(ft=u.value)==null?void 0:ft.last_name,login:(dt=u.value)==null?void 0:dt.login,onGoToConversation:w[0]||(w[0]=j=>c(j)),onGoToProfile:a,onHideRchUserTooltipCmp:w[1]||(w[1]=j=>i.value=!1),"onUpdate:modalOpened":w[2]||(w[2]=j=>o.value=!0),"onUpdate:onTooltip":w[3]||(w[3]=j=>i.value=j)},null,8,["company","country-code","disable-actions-panel","disable-default-navigation","first-name","hash-key","is-external-user","last-name","login"])):s.createCommentVNode("",!0)]}),default:s.withCtx(()=>[d.parentElement?(s.openBlock(),s.createBlock(s.resolveDynamicComponent(d.parentElement),{key:0})):s.renderSlot(d.$slots,"default",{key:1,setRef:p})]),_:3},8,["content-class","show"]))}}});b.AppFeaturePreference=rt,b.CommonRequest=C,b.Preferences=k,b._sfc_main=Nn});
//# sourceMappingURL=social-rich-user-tooltip-C2sPEdV7.js.map
