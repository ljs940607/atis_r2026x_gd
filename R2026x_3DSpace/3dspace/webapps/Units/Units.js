define("DS/Units/typings/types",[],(()=>{})),define("DS/Units/Units",["UWA/Controls/Abstract"],(function(n){"use strict";var t=!1,i={usi:[{unit:"g",useSubUnits:!0},{unit:"m",useSubUnits:!0},{unit:"deg",useSubUnits:!1},{unit:"rad",useSubUnits:!1}],listOfUnits:{},usiConversion:{from:["rad","deg"],to:["deg","radian"],factor:[180/Math.PI,Math.PI/180]}},e={from:["miles","radian","degree","degree","degree"],to:["kilometer","degree","grade","quadrant","radian"],factor:[1.609344,180/Math.PI,1,1111,Math.PI/180]},o=["k","h","da","","d","c","m"],r={k:1e3,h:100,da:10,d:.1,c:.01,m:.001};function s(n,t){var i=n.charAt(n.indexOf("value")+1),e=parseFloat(n.substr(n.indexOf(i)+1));switch(i){case"*":return t*e;case"/":return t/e;default:window.console.log("Operateur non reconnu")}}i.usi.forEach((function(n){n.useSubUnits?o.forEach((function(t){var e=t+n.unit;i.listOfUnits[e]=n.unit})):i.listOfUnits[n.unit]=n.unit}));var u=n.extend({defaultOptions:{unit:"",_unitIndex:null,value:null},init:function(n){this._parent(n),this.options.unit=this.options.unit.toLowerCase()},to:function(n){var e=this.options.unit,o=n,s=i.listOfUnits[e],a=i.listOfUnits[o],f=parseFloat(this.options.value,10);if(s){let n=1;if(e!==o){if(e!==s){var d=e.replace(new RegExp(s+"$"),"");t,n*=r[d]}if(s!==a){for(var c,l,h=0;h<i.usiConversion.from.length&&!l;h++)i.usiConversion.from[h]===s&&i.usiConversion.to[h]===a&&(c=h,l=!0);if(!l)throw new Error("Conversion factor not found for : "+s+"--\x3e"+a);c>=0&&(n*=i.usiConversion.factor[c])}if(a!==o){var v=o.replace(new RegExp(a+"$"),"");t,n/=r[v]}}return new u({value:parseFloat((f*n).toFixed(13)),unit:o})}throw new Error("unit√© non reconnu : "+n)},toString:function(){return this.options.value+" "+this.options.unit},_getUnitIndex:function(n){var t=i[void 0].units_names.indexOf(n),e=i[void 0].units_names_short.indexOf(n);return-1!==t?t:e},convert:function(n,t){var i=this.options.knowledge;for(var e in i.UNITS_KNOWLEDGE)n===e.description&&s(e.description,t)},addUnitRule:function(n,t,i){e.from.push(n),e.to.push(t),e.factor.push(i)}});return u}));