window.dsDashboardWindow=window.dsDashboardWindow?window.dsDashboardWindow:{top:window};let prereqCEF="DS/WebInWinUtils/dscef",prereqList=["DS/i3DXCompass/Data","DS/Windows/ImmersiveFrame","DS/IPClassifyActive/utils/IPClassifyActiveCommunication","DS/IPClassifyActive/utils/WidgetDataProvider","DS/TerminologySelector/TerminologyAssociation/TerminologyAssociation"];window.dscef||prereqList.push(prereqCEF),define("DS/TerminologySelectorWebInWin/TerminologyAssociation/TerminologyAssociationWebInWin",prereqList,(function(e,i,o,n,t){console.log("----- TerminologyAssociationWebInWin ------");require(["DS/UWPClientCode/PublicAPI"]),window.exportCmd={},window.exportCmd.launchTerminologyAssociation=function(o){o=("string"==typeof o?JSON.parse(o):o).params;console.log("-> launchTerminologyAssociation");require(["DS/IPClassifyUtil/IPSettingsMgr","DS/IPClassifyUtil/IPServicesMgr"],(function(n,s){widget.setValue("noCompass",!0),o.userId&&(window.dsUserLogin=o.userId),n.setSetting("pad_security_ctx",o.securityContext),o.tenantId&&(n.setSetting("x3dPlatformId",o.tenantId),widget.setValue("x3dPlatformId",o.tenantId));let d=!widget.body;widget.body=d?UWA.createElement("div"):widget.body,widget.body.addClassName("TerminologyAssociation"),widget.body.setStyles({height:"100%",width:"100%","text-align":"initial",position:"relative"}),window.COMPASS_CONFIG=window.COMPASS_CONFIG?window.COMPASS_CONFIG:{myAppsBaseUrl:o.myAppsUrl,userId:o.userId,lang:o.lang},e.initialize({myAppsBaseUrl:o.myAppsUrl,userId:o.userId,passportUrl:"",proxyTicketUrl:""});var r=document.body.getElement("#tempDiv");r&&r.remove(),window.performance.mark("createWidget_begin"),s.app_initialization((function(){console.log("-> app_initialization");var e=o.objects,n=o.relations;let s=o.onInstance;var r=(s?n:e).map((function(e){return{id:e}}));widget.body.empty();let a=widget.immersiveFrame;!a&&(a=new i,a.inject(widget.body,"top"));var l=new t({immersiveFrame:a,items:r,webinwin:!0,isInstance:s,nodes:o.nodes,deactivateAssociate:s&&!!o.nodes,winClosable:!0});window.TerminologyAssociation=l;let c=UWA.createElement("div",{styles:{height:"100%",width:"100%",position:"relative","z-index":"40000"}});!0!==o.dialog&&c.setContent(l.nestedMenuInContext.getMultiSelectorContainer()),c.inject(a.getFreeZone()),d&&widget.body.inject(document.body,"top")})),widget.dispatchEvent("onRefresh"),widget.dispatchEvent("onDestroy"),widget.dispatchEvent("onResize")}))};for(let e in window.exportCmd)window[e]=window.exportCmd[e];var s=function(){"undefined"!=typeof dscef&&dscef.sendString("readyForInit")},d={init:()=>{require(["UWA/Widget"],(function(e){var i=window.widget=new e;i.addEvent("onLoad",d.onLoad.bind(this)),i.dispatchEvent("onLoad")}))},onLoad:function(){if(location.search.contains("test=true")||!0===window.odt){require(["DS/BksStandalone/Standalone"],(e=>{e({objects:"",relations:"",onInstance:!1,nodes:""}).then((e=>{s(),e.objects=e.objects.split(","),e.relations=e.relations.split(","),e.nodes=e.nodes?JSON.parse(e.nodes):void 0,launchTerminologyAssociation({params:e})}))}))}s()}};d.init()})),require(["DS/TerminologySelectorWebInWin/TerminologyAssociation/TerminologyAssociationWebInWin"]);