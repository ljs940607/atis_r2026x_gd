define("DS/DELWebPPRNavigator/columns/HideShow3D",[],(function(){"use strict";return{dataIndex:"hideShow3D",editableFlag:!0,groupableFlag:!1,editionPolicy:"EditionInPlace",typeRepresentation:"functionIcon",getCellSemantics:function(e){var t,n=e.nodeModel;switch(n.getAttributeValue("hideShow3D")){case n.ENUM_3DVISIBILITY.OFF:t="wux-ui-3ds wux-ui-3ds-1x wux-ui-3ds-eye-off pad_eye_off wux-ui-3ds-lg";break;case n.ENUM_3DVISIBILITY.ON:t="wux-ui-3ds wux-ui-3ds-1x wux-ui-3ds-eye pad_eye wux-ui-3ds-lg";break;case n.ENUM_3DVISIBILITY.PARTIAL:t="wux-ui-3ds wux-ui-3ds-1x wux-ui-3ds-eye-partial pad_eye_partial wux-ui-3ds-lg"}return{icon:{iconClasses:t}}}}})),define("DS/DELWebPPRNavigator/OpenWithMenuBuilder",["UWA/Promise","DS/i3DXCompassPlatformServices/OpenWith","DS/DELWebComponentManager/DELWebComponentManager","i18n!DS/DELWebPPRNavigator/assets/nls/DELPPRNavigator"],(function(e,t,n,o){"use strict";function i(){}let a;return i.prototype={openWithApps:function(i){return new e((function(e){let a=new t,r=n.getComponent("Utils"),l=r.get3DXContent(i);r.retrieveHierarchy([i.getReferenceType()],(function(t){l.data.items[0].objectTaxonomies=t[i.getReferenceType()],a.set3DXContent(l,!0),a.retrieveCompatibleApps((function(t){var n=[],i=[];t.forEach((function(e){i.push({type:"PushItem",title:e.text,fonticon:e.fonticon&&e.fonticon.length>0?{content:"wux-ui-3ds wux-ui-3ds-1x wux-ui-3ds-"+e.fonticon,family:WUXManagedFontIcons.Font3DS}:void 0,icon:e.icon?e.icon:"",action:{callback:e.handler}})})),i.length>0&&n.push({type:"PushItem",icon:{iconName:"open-menu-dot",fontIconFamily:1},title:o.get("ContextualMenu.OpenWith"),submenu:i}),e(n)}))}))}))}},a||(a=new i),a})),define("DS/DELWebPPRNavigator/DELWebPPRNode",["DS/TreeModel/TreeNodeModel"],(function(e){"use strict";let t=0;var n=function(n){n=n||{},this._referenceId=null,this._instanceId=null,this._type=null,this._instanceType=null,this.counterId=t++,this.setReferenceId(n.referenceId),this.setReferenceType(n.type),this.setInstanceType(n.instanceType),this.options=n,n.instanceId&&this.setInstanceId(n.instanceId),e.apply(this,arguments)};return(n.prototype=Object.create(e.prototype)).constructor=n,n.prototype.getId=function(){return this.counterId},n.prototype.setReferenceId=function(e){return UWA.is(e,"string")?(this._referenceId=e,this.getReferenceId()):null},n.prototype.setInstanceId=function(e){return UWA.is(e,"string")?(this._instanceId=e,this.getInstanceId()):null},n.prototype.setReferenceType=function(e){return UWA.is(e,"string")?(this._type=e,this.getReferenceType()):null},n.prototype.setInstanceType=function(e){return UWA.is(e,"string")?(this._instanceType=e,this.getInstanceType()):null},n.prototype.getReferenceId=function(){return this._referenceId},n.prototype.getInstanceId=function(){return this._instanceId},n.prototype.getReferenceType=function(){return this._type},n.prototype.getInstanceType=function(){return this._instanceType},n.prototype.get3DHiddenChildren=function(){var e={hidden:[],partialHidden:[]},t=this.getChildren();return t&&t.forEach((function(t){var n=t.getAttributeValue("hideShow3D");n===t.ENUM_3DVISIBILITY.OFF?e.hidden.push(t):n===t.ENUM_3DVISIBILITY.PARTIAL&&e.partialHidden.push(t)})),e},n.prototype.getAll3DHiddenChildren=function(){var e=[],t=[];return function e(t,n,o){var i=t.get3DHiddenChildren();i.hidden.forEach((t=>{n.push(t),e(t,n,o)})),i.partialHidden.forEach((t=>{o.push(t),e(t,n,o)}))}(this,e,t),{hidden:e,partialHidden:t}},n.prototype.get3DVisibility=function(){var e=this.getChildren()||[],t=this.get3DHiddenChildren();this.ENUM_3DVISIBILITY.ON;return t.hidden.length===e.length?this.ENUM_3DVISIBILITY.OFF:0===t.hidden.length&&0===t.partialHidden.length?this.ENUM_3DVISIBILITY.ON:this.ENUM_3DVISIBILITY.PARTIAL},n.prototype.changeParent3DVisibility=function(){var e;if(!this.isRoot())for(e=this.getParent();e;)e.getUserHiddenState()?e=null:(e.setAttribute("hideShow3D",e.get3DVisibility()),e=e.isRoot()?null:e.getParent())},n.prototype.update3DVisibility=function(e){switch(e){case this.ENUM_3DVISIBILITY.ON:this.setAttribute("hideShow3D",this.ENUM_3DVISIBILITY.ON),this.setUserHiddenState(!1);break;case this.ENUM_3DVISIBILITY.OFF:this.setAttribute("hideShow3D",this.ENUM_3DVISIBILITY.OFF),this.setUserHiddenState(!0);break;case this.ENUM_3DVISIBILITY.PARTIAL:this.setAttribute("hideShow3D",this.ENUM_3DVISIBILITY.PARTIAL),this.setUserHiddenState(!1)}},n.prototype.getRirPath=function(){for(var e=this,t=[];e;){if(e.isRoot()){t=[e.options.referenceId].concat(t);break}t=[e.options.instanceId,e.options.referenceId].concat(t),e=e.getParent()}return t},n.prototype.getRelations=function(){return{to:UWA.is(this.options.to,"array")?this.options.to:[],from:UWA.is(this.options.from,"array")?this.options.from:[]}},n.prototype.setUserHiddenState=function(e){this.options.hiddenStateSet=e},n.prototype.getUserHiddenState=function(){return!0===this.options.hiddenStateSet},n.prototype.isLeaf=function(){var e=this.getChildren();return!e||0===e.length},n.prototype.getConsumedItems=function(){var e={MfgItems:[],Resources:[]};return this.options.consumedMfgItems&&(e.MfgItems=UWA.clone(this.options.consumedMfgItems)),this.options.consumedCapableResource&&(e.Resources=UWA.clone(this.options.consumedCapableResource)),e},Object.defineProperty(n.prototype,"ENUM_3DVISIBILITY",{value:Object.freeze({ON:1,OFF:0,PARTIAL:2}),writable:!1,configurable:!1}),Object.defineProperty(n.prototype,"ENUM_BUILDUP",{value:Object.freeze({ACTIVATE:1,DEACTIVATE:0,LOADING:-1}),writable:!1,configurable:!1}),Object.defineProperty(n.prototype,"ENUM_REQUIREMENT",{value:Object.freeze({LOAD:1,REMOVE:0}),writable:!1,configurable:!1}),n})),define("DS/DELWebPPRNavigator/DataGridView",["DS/DataGridView/DataGridView","DS/DELWebPPRNavigator/columns/HideShow3D","DS/DELWebComponentManager/DELWebComponentManager","css!DS/DELWebPPRNavigator/assets/css/datagridview.css"],(function(e,t,n){"use strict";return function(o){var i,a=n.getComponent("Utils");return o=o||{},Object.assign(o,{defaultColumnDef:{editableFlag:!1},rowSelection:"multiple",columnSelection:"none",cellSelection:"none",showOutlineFlag:!0,cellDragEnabledFlag:!0,showContextualMenuColumnFlag:!0}),o.onContextualMenu&&(o.onContextualEvent=async function(e){var t=[];return e&&e.collectionView&&(t=(t=e.collectionView.buildDefaultContextualMenu(e)).concat(await o.onContextualMenu(e))),t}),UWA.is(o.columns,"array")&&o.columns.forEach((e=>{"hideShow3D"===e.dataIndex&&Object.assign(e,t)})),(i=new e(o)).layout.cellHeight=40,o.container&&i.getContent().inject(o.container),i.onDragStartCell=function(e,t){var n=t.nodeModel,o={protocol:"3DXContent",version:"1.1",source:a.getAppId(),widgetId:a.getWidgetId(),data:{items:[{envId:a?a.getPlatformId():"",serviceId:"3DSpace",contextId:a.getSetting("pad_security_ctx"),objectId:n?n.getReferenceId():"",objectType:n?n.getReferenceType():"",displayName:n?n.getLabel():""}]},biProxyCtx:{widgetId:a.getWidgetId(),appId:a.getSharedAppId()}};return e.dataTransfer.setData("Text",JSON.stringify(o)),!1},o.onSelect&&i.getNodesXSO().onChange((function(e){o.onSelect(e)})),o.onHover&&i.addEventListener("mouseover",o.onHover),o.onClick&&i.addEventListener("click",(function(e,t){o.onClick(e,t)})),{ensureNodeModelVisible:function(){i.ensureNodeModelVisible.apply(i,arguments)},setToolbar:function(e){var t,n;return e="object"==typeof e?e:JSON.parse(e),(n=UWA.createElement("div")).className="divToolbar",n.setAttribute("id","divToolbar"),(t=i.setToolbar(e)).inject(n),t.show(),i.getContent().style.top="50px",n},getToolbar:function(){return i.getToolbar()},destroy:function(){i.destroy()},updateColumn:function(e,t){i&&e&&t&&i.layout.setColumnOrGroupProperties(e,t)},isColumnDisabled:function(e){return i.layout.getColumnDisabled(e)},getColumnIndex:function(e){return i.layout.getColumnIndex(e)},registerTypeRepresentations:function(e){i.getTypeRepresentationFactory().registerTypeRepresentations(e)}}}})),define("DS/DELWebPPRNavigator/DELWebPPRNavigator",["UWA/Core","UWA/Class/Promise","DS/DELWebPPRNavigator/DataGridView","DS/CoreEvents/ModelEvents","DS/WebappsUtils/WebappsUtils","DS/ApplicationFrame/CommandsManager","DS/DELWebPPRNavigator/OpenWithMenuBuilder","DS/DELWebComponentManager/DELWebComponentManager","i18n!DS/DELWebPPRNavigator/assets/nls/DELPPRNavigator"],(function(e,t,n,o,i,a,r,l,s){"use strict";return function(u){const c="root",d="intermediate",p="leaf",g="all",f=u?"Del_Web_PPRNavigator_"+u:"Del_Web_PPRNavigator";var I,h,b,D,m,y,v,E=new o,A=[],S=function(e){m&&e.dataIndex&&e.options&&m.updateColumn(e.dataIndex,e.options)},C=(y=[{eventName:{event:"updateColumn"},callback:S}],v=[],{subscribeEvents:function(){y.forEach((function(e){v.push(E.subscribe(e.eventName,e.callback))}))},unsubscribeEvents:function(){e.is(v,"array")&&(v.forEach((e=>{E.unsubscribe(e)})),v=[])}}),T=function(e,t){var n={data:t,origin:u};E.publish({event:e,data:n})},M=function(e){T("onReframe",{node:e})},R=function(t){e.is(b)&&(b.prepareUpdate(),b.removeRoot(t),b.pushUpdate()),T("onRemoveRoot",{node:t})},L=function(t,n){var o=t.getAll3DHiddenChildren(),i=function(e){e.update3DVisibility(e.ENUM_3DVISIBILITY.ON)};n=e.is(n,"array")?n:[],e.is(b)&&(b.prepareUpdate(),t.getAttributeValue("hideShow3D")!==t.ENUM_3DVISIBILITY.ON&&(i(t),n.push(t)),o.hidden.forEach((e=>{i(e),n.push(e)})),o.partialHidden.forEach((e=>{i(e),n.push(e)})),t.changeParent3DVisibility(),b.pushUpdate())},P=function(e){var t=[];L(e,t),T("onShowAll",{node:e,nodesToShow:t})},N=function(t){var n=[],o=[];b&&(b.prepareUpdate(),function t(n,o,i){n&&e.is(n.getBrothers(),"array")&&n.getBrothers().length>0&&n.getBrothers().forEach((e=>{i.push(e),e.update3DVisibility(e.ENUM_3DVISIBILITY.OFF)})),n.isRoot()||(o.push(n.getParent()),t(n.getParent(),o,i))}(t,o,n),b.pushUpdate()),L(t,o),T("onShowOnly",{node:t,nodesToShow:o,nodesToHide:n})},w=function(e){e.expandAll()},U=function(e){e.collapseAll()},x=function(e,t){T(e,{node:t})},O=function(e){let t=a.getCommand(e);t&&t.execute()},_=async function(t){var n=[],o=[{name:"expandAll",icon:"flow-tree-expand-down",title:s.get("ContextualMenu.ExpandAll"),handler:w,state:"enabled",availableOn:[g]},{name:"collapseAll",icon:"flow-tree-expand-up",title:s.get("ContextualMenu.CollapseAll"),handler:U,state:"enabled",availableOn:[g]},{name:"reframe",icon:"zoom-fit",title:s.get("ContextualMenu.Reframe"),handler:M,state:"enabled",availableOn:[g]},{name:"showAll",icon:i.getWebappsAssetUrl("DELWebPPRNavigator","icons/32/I_DEL_ShowAll.png"),title:s.get("ContextualMenu.ShowAll"),handler:P,state:"enabled",availableOn:[c,d]},{name:"showOnly",icon:i.getWebappsAssetUrl("DELWebPPRNavigator","icons/32/I_DEL_ShowOnly.png"),title:s.get("ContextualMenu.ShowOnly"),handler:N,state:"enabled",availableOn:[d,p]},{name:"removeRoot",icon:i.getWebappsAssetUrl("DELWebPPRNavigator","icons/32/I_DEL_RemoveRoot.png"),title:s.get("ContextualMenu.RemoveRoot"),handler:R,state:"enabled",availableOn:[c]},{name:"loadFTA",icon:i.getWebappsAssetUrl("DELWebPPRNavigator","icons/22/I_DELLoadFTA.png"),title:s.get("ContextualMenu.LoadFTA"),handler:x.bind(null,"onLoadFTA"),state:"enabled",availableOn:[d,p]},{name:"removeFTA",icon:i.getWebappsAssetUrl("DELWebPPRNavigator","icons/22/I_DELRemoveFTA.png"),title:s.get("ContextualMenu.RemoveFTA"),handler:x.bind(null,"onRemoveFTA"),state:"enabled",availableOn:[d,p]},{name:"loadAllFTA",icon:i.getWebappsAssetUrl("DELWebPPRNavigator","icons/22/I_DELLoadAllFTA.png"),title:s.get("ContextualMenu.LoadAllFTA"),handler:x.bind(null,"onLoadAllFTA"),state:"enabled",availableOn:[c]},{name:"removeAllFTA",icon:i.getWebappsAssetUrl("DELWebPPRNavigator","icons/22/I_DELRemoveAllFTA.png"),title:s.get("ContextualMenu.RemoveAllFTA"),handler:x.bind(null,"onRemoveAllFTA"),state:"enabled",availableOn:[c]},{name:"information",icon:{iconName:"info-open-in-a-new-window",fontIconFamily:1},title:s.get("ContextualMenu.Information"),handler:O.bind(null,"ActionBar_Attributes"),state:"enabled",availableOn:[g]}],a=l.getComponent("Utils");if(t&&t.cellInfos&&-1!==t.cellInfos.rowID&&(n=o.filter((function(e){var n=t.cellInfos.nodeModel;return D.indexOf(e.name)>-1&&(!!e.availableOn.includes(g)||(n.isRoot()?e.availableOn.includes(c):n.isLeaf()?e.availableOn.includes(p):e.availableOn.includes(d)))})).map((function(n){return e.is(A,"array")&&A.forEach((e=>{n.name===e.name&&Object.assign(n,e)})),{name:n.name,type:"PushItem",title:n.title,icon:n.icon,action:{callback:function(){a.trackChanges({category:"ContextualMenu2DStructure",action:n.name,label:n.name,dims:{pd1:u}}),n.handler(t.cellInfos.nodeModel)}},state:n.state}})),-1!==D.indexOf("openWith"))){let e=await r.openWithApps(t.cellInfos.nodeModel);n=n.concat(e)}return h.onContextualMenu?h.onContextualMenu(t,n):n},W={initialize:function(o){return h=o,b=o.treeDocument||null,I=o.container||null,D=o.contextualMenu||null,new t((function(t){m=new n(Object.assign({},o,{onContextualMenu:_,identifier:f,onSelect:function(e){T("onSelectionChange",{node:e})},onHover:function(e,t){T("onPPRHover",{node:t})},onDelayedModelDataRequest:function(e){T("onDelayedModelDataRequest",e)},onClick:function(t,n){var o,i,a,r,l,s;if(e.is(n)&&-1!==n.rowID&&t.dsModel.layout&&!0!==t.dsModel.layout.getColumnDisabled(n.columnID))if("hideShow3D"===(o=t.dsModel.layout.getDataIndexFromColumnIndex(n.columnID)))a=function(e){T("onHideShow3DStateChange",{node:e})},l=(i=n).nodeModel,s=l.ENUM_3DVISIBILITY.ON,e.is(i)&&-1!==i.rowID&&(r=l.getAttributeValue("hideShow3D"),e.is(r)&&(s=r===l.ENUM_3DVISIBILITY.OFF?l.get3DVisibility()===l.ENUM_3DVISIBILITY.PARTIAL?l.ENUM_3DVISIBILITY.PARTIAL:l.ENUM_3DVISIBILITY.ON:l.ENUM_3DVISIBILITY.OFF),l.update3DVisibility(s),a&&a(l),l.changeParent3DVisibility());else T("onCellClick",{dataIndex:o,cell:n})}})),C.subscribeEvents(),t()}))},getRootsInfo:function(){var e=this,t=[],n=b?b.getRoots().slice():[];return n&&n.length>0&&n.forEach((n=>{t.push(e.getNodeInfo(n))})),t},getNodeInfo:function(e){var t={};return e&&(t={id:e.getReferenceId(),instanceId:e.getInstanceId(),label:e.getLabel(),description:e.getAttributeValue("description.reference"),type:e.options.type,filter:e.options.filter}),t},updateColumn:function(e,t){S({dataIndex:e,options:t})},isColumnDisabled:function(e){return m.isColumnDisabled(e)},getColumnIndex:function(e){return m&&m.getColumnIndex(e)},setToolbar:function(e){var t;return e&&(m.setToolbar(e).inject(I),t=m.getToolbar()),t},getToolbar:function(){return m.getToolbar()},reset3DVisibility:function(){var t,n=[];b&&(t=b.getRoots(),e.is(t,"array")&&(b.prepareUpdate(),t.forEach((e=>{let t=e.getAll3DHiddenChildren();n.push(e),(n=(n=n.concat(t.hidden)).concat(t.partialHidden)).forEach((e=>{e.update3DVisibility(e.ENUM_3DVISIBILITY.ON)}))})),b.pushUpdate()))},clean:function(){h=null,b=I=A=null,m&&m.destroy(),C.unsubscribeEvents()},getModelEvents:function(){return E},updateContextualMenu:function(t){A=e.is(t,"array")?t:[]},focus:function(){m&&m.ensureNodeModelVisible.apply(m,arguments)},biColorize:function(t,n){var o,i,a,r=[],l=[];t&&b&&(i=t,a={predicateKind:"",colorMap:{map:{},predicate:void 0}},e.is(i.tagColors,"array")&&i.tagColors.length>0&&(a.predicateKind=i.tagColors[0].type,i.tagColors.forEach((function(e){var t,n;void 0===a.colorMap.predicate&&(n=(t=e.predicate.split("/"))[t.length-1],a.colorMap.predicate=n),a.colorMap.map[e.object]=e.color}))),o=a,(r=b?b.getAllDescendants():[]).forEach((e=>{-1===l.indexOf(e.getReferenceId())&&l.push(e.getReferenceId())})),b.withTransactionUpdate((function(){r.forEach((t=>{var i=n[t.getReferenceId()],a=i&&i[o.colorMap.predicate]?i[o.colorMap.predicate]:null,r=function(t,n,o){var i,a,r,l,s,u="#00000000",c=[];if("date"===t&&e.is(o,"string"))for(s=new Date(o),c.push([s.getFullYear(),("0"+(s.getMonth()+1)).slice(-2),("0"+s.getDate()).slice(-2)].join("/")),c.push([s.getFullYear(),("0"+(s.getMonth()+1)).slice(-2)].join("/")),c.push(s.getFullYear().toString()),a=!0,i=0,r=c.length;i<r&&a;i++)void 0!==n.map[c[i]]&&(a=!1,u=n.map[c[i]]);else"boolean"===t&&"boolean"==typeof o?(l=o?"TRUE":"FALSE",u=n.map[l]):void 0!==n.map[o]&&(u=n.map[o]);return u}(o.predicateKind,o.colorMap,a);t.updateOptions({isBeingCut:"#00000000"===r,grid:{biColor:r}})}))})))},biUnColorize:function(){e.is(b)&&b.withTransactionUpdate((function(){b.getAllDescendants().forEach((function(e){e.updateOptions({isBeingCut:!1,grid:{biColor:"#00000000"}})}))}))},registerTypeRepresentations:function(e){m&&m.registerTypeRepresentations(e)},destroy:function(){this.clean()}};return W}}));