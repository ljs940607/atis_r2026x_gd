/*!  Copyright 2014 Dassault Systemes. All rights reserved. */
define("DS/CATWebUXPreferences/CATWebUXPreferencesCmd",[].concat(["DS/CATWebUXComponents/DMUCommand"]),(function(e){"use strict";return e.extend({init:function(e){this._parent(e,{mode:"shared",isAsynchronous:!0});var a=this;let t=!1;this.beginExecute=function(){if(!t){t=!0;require(["DS/MePreferencesClientAPI/MePreferencesClientAPI"],(e=>{if(e&&e.getMePreferencesDialog){let n=window.widget.getValue("appId");if(!n||"X3DPLAW_AP"===n||"X3DDRIV_AP"===n){n="CATA3I_AP";const e=require("DS/DMUBaseExperience/DMUContextManager").getReviewContext({viewer:a.getFrameWindow().getViewer()});if(e)e.getValidation()?n="ENOR3R_AP":e.getCurrentSessionMarkup()&&(n="ENOR3D_AP");else{const e=require("DS/DMUBaseExperience/DMUContextManager").getContextViewer({viewer:a.getFrameWindow().getViewer()});e.getApplicativeData&&e.getApplicativeData().getLoadedItfData&&e.getApplicativeData().getLoadedItfData().data.length&&(n="ENOI3D_AP")}}e.getMePreferencesDialog(`3DSApp.${n}`).then((()=>{t=!1,a.done()})).catch((()=>{t=!1,a.done()}))}}),(()=>{t=!1,a.done()}))}}}})})),define("DS/CATWebUXPreferences/CATWebUXPreferencesUtils",["require","exports","i18n!DS/CATWebUXPreferences/assets/nls/CATWebUXPreferences"],(function(e,a,t){"use strict";let n=window.widget&&window.widget.lang?window.widget.lang:void 0;const l=new Intl.NumberFormat(n).format(1.1).replaceAll("1",""),i={repositories:[{name:"",preferences:[{name:"DMUDisplayMarkupCreationDialog",defaultValue:"true",datatype:"boolean"},{name:"DMUCreateFirstSlide",defaultValue:"true",datatype:"boolean"},{name:"DMUSlideNameFromFeature",defaultValue:"true",datatype:"boolean"},{name:"DMUDisplaySlideTitle",defaultValue:"false",datatype:"boolean"},{name:"DMUCaptureSpecLayers",defaultValue:"true",datatype:"boolean"},{name:"DMUEnableSlideDragContent",defaultValue:"0",datatype:"enum"},{name:"DMUSnapHandlesToGrid",defaultValue:"true",datatype:"boolean"},{name:"DMUSnapHandlesGridValue",defaultValue:"1",datatype:"float"},{name:"DMUSnapRotationToggle",defaultValue:"true",datatype:"boolean"},{name:"DMUSnapRotationAngle",defaultValue:"90",datatype:"float"},{name:"DMUCompareFirstColor",defaultValue:"CC092F",datatype:"color"},{name:"DMUCompareSecondColor",defaultValue:"6FBC4B",datatype:"color"},{name:"DMUCompare3DCommonColor",defaultValue:"D3D3D3",datatype:"color"},{name:"DMUCompare2DCommonColor",defaultValue:"000000",datatype:"color"},{name:"DMUMeasureMainValueDisplay",defaultValue:JSON.stringify({Coordinates:{measureTypes:!1,unitDisplay:!0},Line_Length:{measureTypes:!1,unitDisplay:!0},Curve_Length:{measureTypes:!0,unitDisplay:!0},Arc_Length:{measureTypes:!0,unitDisplay:!0},Distance:{measureTypes:!1,unitDisplay:!0},Min_Distance:{measureTypes:!1,unitDisplay:!0},Max_Distance:{measureTypes:!0,unitDisplay:!0},Angle:{measureTypes:!1,unitDisplay:!0},Half_Angle:{measureTypes:!1,unitDisplay:!0},Radius:{measureTypes:!1,unitDisplay:!0},Min_Radius:{measureTypes:!1,unitDisplay:!0},Max_Radius:{measureTypes:!1,unitDisplay:!0},Diameter:{measureTypes:!1,unitDisplay:!0},Min_Diameter:{measureTypes:!1,unitDisplay:!0},Max_Diameter:{measureTypes:!1,unitDisplay:!0},Area:{measureTypes:!0,unitDisplay:!0},Volume:{measureTypes:!0,unitDisplay:!0},Thickness:{measureTypes:!1,unitDisplay:!0}}),datatype:"string"},{name:"DMUComputeSectionContour",defaultValue:"false",datatype:"boolean"},{name:"3DAnnotWhiteVectorAsBlack",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotLoadARMPartsPref",defaultValue:"false",datatype:"boolean"},{name:"3DAnnotDisplayCapturesPref",defaultValue:"false",datatype:"boolean"},{name:"3DAnnotUpdateThumbnailsPref",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotKeepSelectedFeaturesPref",defaultValue:"true",datatype:"boolean"},{name:"CATWebUXPreferences_Units",defaultValue:JSON.stringify({Angle:{unit:"deg",decimalPlaceRW:3,decimalPlaceRO:3},Area:{unit:"mm2",decimalPlaceRW:3,decimalPlaceRO:3},Length:{unit:"mm",decimalPlaceRW:3,decimalPlaceRO:3},Mass:{unit:"kg",decimalPlaceRW:3,decimalPlaceRO:3},Volume:{unit:"mm3",decimalPlaceRW:3,decimalPlaceRO:3}}),datatype:"string"},{name:"CATWebUXPreferences_TrailingZeros",defaultValue:"false",datatype:"boolean"},{name:"CATWebUXPreferences_GravitationalEffects",defaultValue:"false",datatype:"boolean"},{name:"CATWebUXPreferences_ProjectionType",defaultValue:"0",datatype:"enum"},{name:"CATWebUXPreferences_Select3DGeometry",defaultValue:"false",datatype:"boolean"},{name:"CATWebUXPreferences_SelectParentReferenceOr3DShape",defaultValue:"selectParentReference",datatype:"enum"},{name:"CATWebUXPreferences_Select2DGeometry",defaultValue:"false",datatype:"boolean"},{name:"CATWebUXPreferences_ExportPersonalData",defaultValue:"false",datatype:"boolean"},{name:"DMUDisplayReviewCreationDialog",defaultValue:"true",datatype:"boolean"},{name:"DMUAutomaticMarkupCreationDialog",defaultValue:"true",datatype:"boolean"},{name:"DMUMarkerValidatedStampLabel",defaultValue:"Validated",datatype:"string"},{name:"DMUMarkerRejectedStampLabel",defaultValue:"Rejected",datatype:"string"},{name:"PIMwebContextLoadMode",defaultValue:"0",datatype:"enum"},{name:"PIMwebPrefs",defaultValue:JSON.stringify({version:1,useStoredResults:1,geometries:{mode:1,clash:1,contact:1,clearance:1},quantifiers:{minDist:!0},partsOverload:{type:0,parts:["#0000FF","#FFFF00"],itfType:["#CC092F","#FF8A2E","#6FBC4B"],transparency:128}}),datatype:"string"},{name:"3DAnnotSemAttr_3DAnnotations",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_0",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_1",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_2",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_3",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_4",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_5",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_6",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_7",defaultValue:"true",datatype:"boolean"}]},{name:"PIMwebPref",preferences:[{name:"PIMwebLoad",defaultValue:"pimAllParts",datatype:"enum"},{name:"IDStoredResults",defaultValue:"true",datatype:"boolean"},{name:"PIMwebItfAutoLoad",defaultValue:"true",datatype:"boolean"},{name:"IDQMinDist",defaultValue:"idMinDist",datatype:"enum"},{name:"IDGeometries",defaultValue:"idType",datatype:"enum"},{name:"IDGClash",defaultValue:"idCurve",datatype:"enum"},{name:"IDGContact",defaultValue:"idTriangle",datatype:"enum"},{name:"IDGClearance",defaultValue:"idTriangle",datatype:"enum"},{name:"IDColorOverLoading",defaultValue:"colorInstance",datatype:"enum"},{name:"IDColorInstance1",defaultValue:"#0000FF",datatype:"color"},{name:"IDColorInstance2",defaultValue:"#FFFF00",datatype:"color"},{name:"IDColorItfClash",defaultValue:"#CC092F",datatype:"color"},{name:"IDColorItfContact",defaultValue:"#FF8A2E",datatype:"color"},{name:"IDColorItfClearance",defaultValue:"#6FBC4B",datatype:"color"},{name:"IDItfPartsTranspPercent",defaultValue:"50",datatype:"uint"},{name:"IDLinksAutomaticReroot",defaultValue:"true",datatype:"boolean"},{name:"IDTrackPreviousAnalysisStatus",defaultValue:"false",datatype:"boolean"},{name:"DefaultView",defaultValue:"M:Name, M:V_Itf_Type, M:V_Itf_User_Type, M:V_Itf_Analysis, M:V_Itf_Previous_Analysis, R1:V_Name, R2:V_Name, R1:owner, R2:owner, M:V_Quantifier, M:description, M:V_Itf_Real_Tolerance_Used_For_Computation, M:responsible",datatype:"string"},{name:"ObjectType1",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType2",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType3",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType4",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType5",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType6",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType7",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType8",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType9",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType10",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType11",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType12",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType13",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType14",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType15",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType16",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType17",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType18",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType19",defaultValue:"Metric",datatype:"enum"},{name:"ObjectType20",defaultValue:"Metric",datatype:"enum"},{name:"AttrName1",defaultValue:"",datatype:"string"},{name:"AttrName2",defaultValue:"",datatype:"string"},{name:"AttrName3",defaultValue:"",datatype:"string"},{name:"AttrName4",defaultValue:"",datatype:"string"},{name:"AttrName5",defaultValue:"",datatype:"string"},{name:"AttrName6",defaultValue:"",datatype:"string"},{name:"AttrName7",defaultValue:"",datatype:"string"},{name:"AttrName8",defaultValue:"",datatype:"string"},{name:"AttrName9",defaultValue:"",datatype:"string"},{name:"AttrName10",defaultValue:"",datatype:"string"},{name:"AttrName11",defaultValue:"",datatype:"string"},{name:"AttrName12",defaultValue:"",datatype:"string"},{name:"AttrName13",defaultValue:"",datatype:"string"},{name:"AttrName14",defaultValue:"",datatype:"string"},{name:"AttrName15",defaultValue:"",datatype:"string"},{name:"AttrName16",defaultValue:"",datatype:"string"},{name:"AttrName17",defaultValue:"",datatype:"string"},{name:"AttrName18",defaultValue:"",datatype:"string"},{name:"AttrName19",defaultValue:"",datatype:"string"},{name:"AttrName20",defaultValue:"",datatype:"string"}]},{name:"TICSection",preferences:[{name:"TICTemplateIssue",defaultValue:"false",datatype:"boolean"}]},{name:"DMURepository",preferences:[{name:"DisplayReviewCreationDialog",datatype:"boolean",defaultValue:"true"},{name:"AutomaticMarkupCreationDialog",datatype:"boolean",defaultValue:"true"},{name:"MarkerValidatedStampLabel",datatype:"string",defaultValue:"Validated"},{name:"MarkerRejectedStampLabel",datatype:"string",defaultValue:"Rejected"},{name:"DisplayMarkupCreationDialog",datatype:"boolean",defaultValue:"true"},{name:"CreateFirstSlide",datatype:"boolean",defaultValue:"true"},{name:"SlideNameFromFeature",datatype:"boolean",defaultValue:"true"},{name:"DisplaySlideTitle",datatype:"boolean",defaultValue:"false"},{name:"CaptureSpecLayers",datatype:"boolean",defaultValue:"true"},{name:"SlideDragAndDropOperation",datatype:"enum",defaultValue:"SlideReorder"},{name:"SnapHandlesToGrid",datatype:"boolean",defaultValue:"true"},{name:"SnapHandlesGridValue",datatype:"float",defaultValue:"0.001"},{name:"SnapRotationToggle",datatype:"boolean",defaultValue:"true"},{name:"SnapRotationAngle",datatype:"float",defaultValue:"1.5708"},{name:"CompareFirstColor",datatype:"color",defaultValue:"#CC092F"},{name:"CompareSecondColor",datatype:"color",defaultValue:"#6FBC4B"},{name:"Compare3DCommonColor",datatype:"color",defaultValue:"#D3D3D3"},{name:"Compare2DCommonColor",datatype:"color",defaultValue:"#000000"},{name:"ExportPersonalData",datatype:"boolean",defaultValue:"false"},{name:"ProductLoadingMode",datatype:"enum",defaultValue:"Open3DDefinition"}]},{name:"MeasureRepository",preferences:[{name:"Coordinates_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Coordinates_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Coordinates_Unit",datatype:"boolean",defaultValue:"true"},{name:"Coordinates_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Coordinates_Selection",datatype:"boolean",defaultValue:"false"},{name:"Coordinates_ComputationMode",datatype:"boolean",defaultValue:"true"},{name:"Line_Length_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Line_Length_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Line_Length_Unit",datatype:"boolean",defaultValue:"true"},{name:"Line_Length_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Line_Length_Point1",datatype:"boolean",defaultValue:"true"},{name:"Line_Length_Point2",datatype:"boolean",defaultValue:"true"},{name:"Line_Length_Direction",datatype:"boolean",defaultValue:"true"},{name:"Line_Length_Selection",datatype:"boolean",defaultValue:"false"},{name:"Line_Length_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Curve_Length_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Curve_Length_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"Curve_Length_Unit",datatype:"boolean",defaultValue:"true"},{name:"Curve_Length_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Curve_Length_Point1",datatype:"boolean",defaultValue:"true"},{name:"Curve_Length_Point2",datatype:"boolean",defaultValue:"true"},{name:"Curve_Length_Selection",datatype:"boolean",defaultValue:"false"},{name:"Curve_Length_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Arc_Length_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Arc_Length_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"Arc_Length_Unit",datatype:"boolean",defaultValue:"true"},{name:"Arc_Length_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Arc_Length_Point1",datatype:"boolean",defaultValue:"true"},{name:"Arc_Length_Point2",datatype:"boolean",defaultValue:"true"},{name:"Arc_Length_Radius",datatype:"boolean",defaultValue:"true"},{name:"Arc_Length_Diameter",datatype:"boolean",defaultValue:"false"},{name:"Arc_Length_Selection",datatype:"boolean",defaultValue:"false"},{name:"Arc_Length_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Cylinder_Length_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Unit",datatype:"boolean",defaultValue:"true"},{name:"Cylinder_Length_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Point1",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Point2",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Direction",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Radius",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Diameter",datatype:"boolean",defaultValue:"true"},{name:"Cylinder_Length_Area",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Selection",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Cone_Length_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_Unit",datatype:"boolean",defaultValue:"true"},{name:"Cone_Length_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_Point1",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_Point2",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_Direction",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_Angle",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_HalfAngle",datatype:"boolean",defaultValue:"true"},{name:"Cone_Length_Apex",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_MinRadius",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_MaxRadius",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_MinDiameter",datatype:"boolean",defaultValue:"true"},{name:"Cone_Length_MaxDiameter",datatype:"boolean",defaultValue:"true"},{name:"Cone_Length_Area",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_Selection",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Distance_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Distance_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Distance_Unit",datatype:"boolean",defaultValue:"true"},{name:"Distance_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Distance_Point1",datatype:"boolean",defaultValue:"true"},{name:"Distance_Point2",datatype:"boolean",defaultValue:"true"},{name:"Distance_Components",datatype:"boolean",defaultValue:"false"},{name:"Distance_Direction",datatype:"boolean",defaultValue:"true"},{name:"Distance_Selection1",datatype:"boolean",defaultValue:"false"},{name:"Distance_Selection2",datatype:"boolean",defaultValue:"false"},{name:"Distance_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Min_Distance_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Min_Distance_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Min_Distance_Unit",datatype:"boolean",defaultValue:"true"},{name:"Min_Distance_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Min_Distance_Point1",datatype:"boolean",defaultValue:"true"},{name:"Min_Distance_Point2",datatype:"boolean",defaultValue:"true"},{name:"Min_Distance_Components",datatype:"boolean",defaultValue:"false"},{name:"Min_Distance_Direction",datatype:"boolean",defaultValue:"true"},{name:"Min_Distance_Selection1",datatype:"boolean",defaultValue:"false"},{name:"Min_Distance_Selection2",datatype:"boolean",defaultValue:"false"},{name:"Min_Distance_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Max_Distance_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Max_Distance_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"Max_Distance_Unit",datatype:"boolean",defaultValue:"true"},{name:"Max_Distance_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Max_Distance_Point1",datatype:"boolean",defaultValue:"true"},{name:"Max_Distance_Point2",datatype:"boolean",defaultValue:"true"},{name:"Max_Distance_Components",datatype:"boolean",defaultValue:"false"},{name:"Max_Distance_Direction",datatype:"boolean",defaultValue:"true"},{name:"Max_Distance_Selection1",datatype:"boolean",defaultValue:"false"},{name:"Max_Distance_Selection2",datatype:"boolean",defaultValue:"false"},{name:"Max_Distance_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Local_Min_Distance_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Local_Min_Distance_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Local_Min_Distance_Unit",datatype:"boolean",defaultValue:"true"},{name:"Local_Min_Distance_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Local_Min_Distance_Point1",datatype:"boolean",defaultValue:"true"},{name:"Local_Min_Distance_Point2",datatype:"boolean",defaultValue:"true"},{name:"Local_Min_Distance_Components",datatype:"boolean",defaultValue:"false"},{name:"Local_Min_Distance_Direction",datatype:"boolean",defaultValue:"true"},{name:"Local_Min_Distance_Selection1",datatype:"boolean",defaultValue:"false"},{name:"Local_Min_Distance_Selection2",datatype:"boolean",defaultValue:"false"},{name:"Local_Min_Distance_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Local_Max_Distance_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Local_Max_Distance_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"Local_Max_Distance_Unit",datatype:"boolean",defaultValue:"true"},{name:"Local_Max_Distance_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Local_Max_Distance_Point1",datatype:"boolean",defaultValue:"true"},{name:"Local_Max_Distance_Point2",datatype:"boolean",defaultValue:"true"},{name:"Local_Max_Distance_Components",datatype:"boolean",defaultValue:"false"},{name:"Local_Max_Distance_Direction",datatype:"boolean",defaultValue:"true"},{name:"Local_Max_Distance_Selection1",datatype:"boolean",defaultValue:"false"},{name:"Local_Max_Distance_Selection2",datatype:"boolean",defaultValue:"false"},{name:"Local_Max_Distance_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Angle_Btw2Selections_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Angle_Btw2Selections_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Angle_Btw2Selections_Unit",datatype:"boolean",defaultValue:"true"},{name:"Angle_Btw2Selections_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Angle_Btw2Selections_Center",datatype:"boolean",defaultValue:"true"},{name:"Angle_Btw2Selections_Selection1",datatype:"boolean",defaultValue:"false"},{name:"Angle_Btw2Selections_Selection2",datatype:"boolean",defaultValue:"false"},{name:"Angle_Btw2Selections_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Angle_By3Pts_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Angle_By3Pts_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Angle_By3Pts_Unit",datatype:"boolean",defaultValue:"true"},{name:"Angle_By3Pts_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Angle_By3Pts_Point1",datatype:"boolean",defaultValue:"false"},{name:"Angle_By3Pts_Point2",datatype:"boolean",defaultValue:"false"},{name:"Angle_By3Pts_Center",datatype:"boolean",defaultValue:"true"},{name:"Angle_By3Pts_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Cone_Angle_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_Unit",datatype:"boolean",defaultValue:"true"},{name:"Cone_Angle_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_Point1",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_Point2",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_Length",datatype:"boolean",defaultValue:"true"},{name:"Cone_Angle_Direction",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_Apex",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_MinimumRadius",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_MaximumRadius",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_MinimumDiameter",datatype:"boolean",defaultValue:"true"},{name:"Cone_Angle_MaximumDiameter",datatype:"boolean",defaultValue:"true"},{name:"Cone_Angle_Area",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_Selection",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Half_Angle_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_Unit",datatype:"boolean",defaultValue:"true"},{name:"Half_Angle_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_Point1",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_Point2",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_Length",datatype:"boolean",defaultValue:"true"},{name:"Half_Angle_Direction",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_Apex",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_MinimumRadius",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_MaximumRadius",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_MinimumDiameter",datatype:"boolean",defaultValue:"true"},{name:"Half_Angle_MaximumDiameter",datatype:"boolean",defaultValue:"true"},{name:"Half_Angle_Area",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_Selection",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Radius_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Radius_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Radius_Unit",datatype:"boolean",defaultValue:"true"},{name:"Radius_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Radius_Center",datatype:"boolean",defaultValue:"true"},{name:"Radius_ArcLength",datatype:"boolean",defaultValue:"true"},{name:"Radius_CirclePerimeter",datatype:"boolean",defaultValue:"false"},{name:"Radius_Selection",datatype:"boolean",defaultValue:"false"},{name:"Radius_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Cylinder_Radius_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_Unit",datatype:"boolean",defaultValue:"true"},{name:"Cylinder_Radius_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_Point1",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_Point2",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_Length",datatype:"boolean",defaultValue:"true"},{name:"Cylinder_Radius_Direction",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_Area",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_Selection",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Radius_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Sphere_Radius_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Radius_Unit",datatype:"boolean",defaultValue:"true"},{name:"Sphere_Radius_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Radius_Center",datatype:"boolean",defaultValue:"true"},{name:"Sphere_Radius_Area",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Radius_Selection",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Radius_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Min_Radius_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_Unit",datatype:"boolean",defaultValue:"true"},{name:"Min_Radius_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_Point1",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_Point2",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_Length",datatype:"boolean",defaultValue:"true"},{name:"Min_Radius_Direction",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_Angle",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_HalfAngle",datatype:"boolean",defaultValue:"true"},{name:"Min_Radius_Apex",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_MaximumRadius",datatype:"boolean",defaultValue:"true"},{name:"Min_Radius_Area",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_Selection",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Max_Radius_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_Unit",datatype:"boolean",defaultValue:"true"},{name:"Max_Radius_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_Point1",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_Point2",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_Length",datatype:"boolean",defaultValue:"true"},{name:"Max_Radius_Direction",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_Angle",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_HalfAngle",datatype:"boolean",defaultValue:"true"},{name:"Max_Radius_Apex",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_MinimumRadius",datatype:"boolean",defaultValue:"true"},{name:"Max_Radius_Area",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_Selection",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Radius_By3Pts_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Radius_By3Pts_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Radius_By3Pts_Unit",datatype:"boolean",defaultValue:"true"},{name:"Radius_By3Pts_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Radius_By3Pts_Point1",datatype:"boolean",defaultValue:"false"},{name:"Radius_By3Pts_Point2",datatype:"boolean",defaultValue:"false"},{name:"Radius_By3Pts_Point3",datatype:"boolean",defaultValue:"false"},{name:"Radius_By3Pts_Center",datatype:"boolean",defaultValue:"true"},{name:"Radius_By3Pts_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Diameter_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Diameter_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Diameter_Unit",datatype:"boolean",defaultValue:"true"},{name:"Diameter_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Diameter_Center",datatype:"boolean",defaultValue:"true"},{name:"Diameter_ArcLength",datatype:"boolean",defaultValue:"true"},{name:"Diameter_CirclePerimeter",datatype:"boolean",defaultValue:"false"},{name:"Diameter_Selection",datatype:"boolean",defaultValue:"false"},{name:"Diameter_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Cylinder_Diameter_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_Unit",datatype:"boolean",defaultValue:"true"},{name:"Cylinder_Diameter_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_Point1",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_Point2",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_Length",datatype:"boolean",defaultValue:"true"},{name:"Cylinder_Diameter_Direction",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_Area",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_Selection",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Diameter_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Sphere_Diameter_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Diameter_Unit",datatype:"boolean",defaultValue:"true"},{name:"Sphere_Diameter_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Diameter_Center",datatype:"boolean",defaultValue:"true"},{name:"Sphere_Diameter_Area",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Diameter_Selection",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Diameter_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Min_Diameter_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_Unit",datatype:"boolean",defaultValue:"true"},{name:"Min_Diameter_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_Point1",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_Point2",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_Length",datatype:"boolean",defaultValue:"true"},{name:"Min_Diameter_Direction",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_Angle",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_HalfAngle",datatype:"boolean",defaultValue:"true"},{name:"Min_Diameter_Apex",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_MaximumDiameter",datatype:"boolean",defaultValue:"true"},{name:"Min_Diameter_Area",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_Selection",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Max_Diameter_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_Unit",datatype:"boolean",defaultValue:"true"},{name:"Max_Diameter_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_Point1",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_Point2",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_Length",datatype:"boolean",defaultValue:"true"},{name:"Max_Diameter_Direction",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_Angle",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_HalfAngle",datatype:"boolean",defaultValue:"true"},{name:"Max_Diameter_Apex",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_MinimumDiameter",datatype:"boolean",defaultValue:"true"},{name:"Max_Diameter_Area",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_Selection",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Diameter_By3Pts_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Diameter_By3Pts_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Diameter_By3Pts_Unit",datatype:"boolean",defaultValue:"true"},{name:"Diameter_By3Pts_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Diameter_By3Pts_Point1",datatype:"boolean",defaultValue:"false"},{name:"Diameter_By3Pts_Point2",datatype:"boolean",defaultValue:"false"},{name:"Diameter_By3Pts_Point3",datatype:"boolean",defaultValue:"false"},{name:"Diameter_By3Pts_Center",datatype:"boolean",defaultValue:"true"},{name:"Diameter_By3Pts_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Surface_Area_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Surface_Area_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"Surface_Area_Unit",datatype:"boolean",defaultValue:"true"},{name:"Surface_Area_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Surface_Area_CenterOfGravity",datatype:"boolean",defaultValue:"true"},{name:"Surface_Area_Selection",datatype:"boolean",defaultValue:"false"},{name:"Surface_Area_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"PlanarSurface_Area_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"PlanarSurface_Area_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"PlanarSurface_Area_Unit",datatype:"boolean",defaultValue:"true"},{name:"PlanarSurface_Area_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"PlanarSurface_Area_CenterOfGravity",datatype:"boolean",defaultValue:"true"},{name:"PlanarSurface_Area_Equation",datatype:"boolean",defaultValue:"false"},{name:"PlanarSurface_Area_Selection",datatype:"boolean",defaultValue:"false"},{name:"PlanarSurface_Area_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Product_Area_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Product_Area_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"Product_Area_Unit",datatype:"boolean",defaultValue:"true"},{name:"Product_Area_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Product_Area_Volume",datatype:"boolean",defaultValue:"true"},{name:"Product_Area_CenterOfGravity",datatype:"boolean",defaultValue:"true"},{name:"Product_Area_Selection",datatype:"boolean",defaultValue:"false"},{name:"Product_Area_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Volume_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Volume_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"Volume_Unit",datatype:"boolean",defaultValue:"true"},{name:"Volume_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Volume_Area",datatype:"boolean",defaultValue:"true"},{name:"Volume_CenterOfGravity",datatype:"boolean",defaultValue:"true"},{name:"Volume_Selection",datatype:"boolean",defaultValue:"false"},{name:"Volume_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Thickness_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Thickness_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Thickness_Unit",datatype:"boolean",defaultValue:"true"},{name:"Thickness_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Thickness_Point1",datatype:"boolean",defaultValue:"true"},{name:"Thickness_Point2",datatype:"boolean",defaultValue:"true"},{name:"Thickness_Direction",datatype:"boolean",defaultValue:"true"},{name:"Thickness_Selection",datatype:"boolean",defaultValue:"false"},{name:"Thickness_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Measure_GraphicProperties_Fill",datatype:"boolean",defaultValue:"true"},{name:"Measure_GraphicProperties_FillColor",datatype:"color",defaultValue:"#368ec4"},{name:"Measure_GraphicProperties_FillTransparency",datatype:"float",defaultValue:"0"},{name:"Measure_GraphicProperties_LineBorder",datatype:"boolean",defaultValue:"false"},{name:"Measure_GraphicProperties_LineColor",datatype:"color",defaultValue:"#3D3D3D"},{name:"Measure_GraphicProperties_LineThickness",datatype:"enum",defaultValue:"1"},{name:"Measure_GraphicProperties_LineType",datatype:"enum",defaultValue:"Solid"},{name:"Measure_GraphicProperties_TextColor",datatype:"color",defaultValue:"#ffffff"},{name:"Measure_GraphicProperties_TextSize",datatype:"float",defaultValue:"0.0035"},{name:"Measure_GraphicProperties_TextBold",datatype:"boolean",defaultValue:"false"},{name:"Measure_GraphicProperties_TextItalic",datatype:"boolean",defaultValue:"false"},{name:"DMUMeasureRemovePreviousNonPersistent",datatype:"boolean",defaultValue:"false"}]},{name:"SelectionRepository",preferences:[{name:"Select3DGeometry",datatype:"boolean",defaultValue:"false"},{name:"SelectParentReferenceOr3DShape",datatype:"enum",defaultValue:"selectParentReference"},{name:"Select2DGeometry",datatype:"boolean",defaultValue:"false"}]},{name:"VisualizationRepository",preferences:[{name:"Gravity",datatype:"boolean",defaultValue:"false"}]},{name:"FrameGeneral",preferences:[{name:"ProjectionType",datatype:"enum",defaultValue:"Perspective"}]},{name:"cke",preferences:[{name:"TrailingZeros",datatype:"boolean",defaultValue:"false"},{name:"Length",datatype:"enum",defaultValue:"Millimeter"},{name:"LengthDisplay",datatype:"uint",defaultValue:"3"},{name:"LengthCalcDisplay",datatype:"uint",defaultValue:"3"},{name:"Angle",datatype:"enum",defaultValue:"Degree"},{name:"AngleDisplay",datatype:"uint",defaultValue:"3"},{name:"AngleCalcDisplay",datatype:"uint",defaultValue:"3"},{name:"Volume",datatype:"enum",defaultValue:"CubMm"},{name:"VolumeDisplay",datatype:"uint",defaultValue:"3"},{name:"VolumeCalcDisplay",datatype:"uint",defaultValue:"3"},{name:"Area",datatype:"enum",defaultValue:"SqMm"},{name:"AreaDisplay",datatype:"uint",defaultValue:"3"},{name:"AreaCalcDisplay",datatype:"uint",defaultValue:"3"},{name:"Mass",datatype:"enum",defaultValue:"Kilogram"},{name:"MassDisplay",datatype:"uint",defaultValue:"3"},{name:"MassCalcDisplay",datatype:"uint",defaultValue:"3"}]},{name:"3DAnnotRepository",preferences:[{name:"WhiteVectorAsBlack",datatype:"boolean",defaultValue:"true"},{name:"LoadLevelAssemblyAnnotations",datatype:"boolean",defaultValue:"false"},{name:"LoadARMAnnotations",datatype:"boolean",defaultValue:"false"},{name:"LoadFirstAssemblyLevelAnnotations",datatype:"boolean",defaultValue:"false"},{name:"FirstAssemblyLevelAnnotationsPrefix",datatype:"string",defaultValue:""},{name:"FirstAssemblyLevelAnnotationsSuffix",datatype:"string",defaultValue:""},{name:"DisplayOnlyCaptures",datatype:"boolean",defaultValue:"false"},{name:"UpdateThumbnails",datatype:"boolean",defaultValue:"true"},{name:"KeepSelectedFeatures",datatype:"boolean",defaultValue:"true"},{name:"FavoriteContextLoadMode",datatype:"enum",defaultValue:"Check"},{name:"SemanticAttribute_3DAnnotations",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_0",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_1",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_2",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_3",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_4",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_5",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_6",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_7",datatype:"boolean",defaultValue:"true"}]},{name:"ClippingRepository",preferences:[{name:"CappingColorSource",datatype:"enum",defaultValue:"Custom"},{name:"CustomCappingColor",datatype:"color",defaultValue:"#436655"},{name:"ComputeClippingContour",datatype:"boolean",defaultValue:"false"},{name:"ContourColorSource",datatype:"enum",defaultValue:"Custom"},{name:"CustomContourColor",datatype:"color",defaultValue:"#D3D3D3"},{name:"ContourThickness",datatype:"enum",defaultValue:"1"},{name:"DisplayRepresentationPermanently",datatype:"boolean",defaultValue:"false"},{name:"RepresentationColor",datatype:"color",defaultValue:"#D3D3D3"},{name:"RepresentationTransparency",datatype:"uint",defaultValue:"50"},{name:"NormalDirection",datatype:"enum",defaultValue:"Automatic"},{name:"DisplayManipulationTool",datatype:"boolean",defaultValue:"true"},{name:"ManipulationToolMode",datatype:"enum",defaultValue:"Explore"},{name:"ManipulationIncrement",datatype:"float",defaultValue:"0.001"}]},{name:"W3MprefMove",preferences:[{name:"C3DAllowDirectManipulation",datatype:"boolean",defaultValue:"false"},{name:"defaultMoveReferent",datatype:"enum",defaultValue:"moveLeafPart"}]},{name:"GridRepository",preferences:[{name:"GridPitchValue",datatype:"uint",defaultValue:"0.1"},{name:"Direction1",defaultValue:"L",datatype:"string"},{name:"Direction2",defaultValue:"W",datatype:"string"},{name:"Direction3",defaultValue:"H",datatype:"string"}]}]};let o=t&&t.units?t.units:{},r=t&&t.unitSymbols?t.unitSymbols:{};const u=function(e){let a;if(e)switch(e.toLowerCase()){case"length":a="Length";break;case"area":a="Area";break;case"angle":a="Angle";break;case"volume":a="Volume";break;case"mass":a="Mass"}return a},s=function(e,a){"IDItfPartsTransparency"===e&&(e="IDItfPartsTranspPercent");for(let t=0;t<i.repositories.length;t++)if(a&&a===i.repositories[t].name){for(let a=0;a<i.repositories[t].preferences.length;a++)if(e===i.repositories[t].preferences[a].name)return{defaultValue:i.repositories[t].preferences[a].defaultValue,datatype:i.repositories[t].preferences[a].datatype}}else for(let a=0;a<i.repositories[t].preferences.length;a++)if(e===i.repositories[t].preferences[a].name)return{defaultValue:i.repositories[t].preferences[a].defaultValue,datatype:i.repositories[t].preferences[a].datatype}},d=function(e){"IDItfPartsTransparency"===e&&(e="IDItfPartsTranspPercent");for(let a=0;a<i.repositories.length;a++)for(let t=0;t<i.repositories[a].preferences.length;t++)if(e===i.repositories[a].preferences[t].name)return i.repositories[a].name;return""},p=["","1/64","1/32","3/64","1/16","5/64","3/32","7/64","1/8","9/64","5/32","11/64","3/16","13/64","7/32","15/64","1/4","17/64","9/32","19/64","5/16","21/64","11/32","23/64","3/8","25/64","13/32","27/64","7/16","29/64","15/32","31/64","1/2","33/64","17/32","35/64","9/16","37/64","19/32","39/64","5/8","41/64","21/32","43/64","11/16","45/64","23/32","47/64","3/4","49/64","25/32","51/64","13/16","53/64","27/32","55/64","7/8","57/64","29/32","59/64","15/16","61/64","31/32","63/64"],c=["","1/16","1/8","3/16","1/4","5/16","3/8","7/16","1/2","9/16","5/8","11/16","3/4","13/16","7/8","15/16"],m=.0254;class f{static convertValueToString(e,a,t){let n=t||{},l=u(a);if(!l)return window.console.warn("Magnitude not supported"),parseFloat(e);let i=f.getPreference(l);n.unit&&(i=n.unit);let o=this.getPreference(l+"Display","int"),r=this.getPreference(l+"CalcDisplay","int");if(f[l]&&f[l][i]){let a=n.readWrite?o:r,t=parseFloat(e)*f[l][i].ratio;return t=Math.round(t*Math.pow(10,a))/Math.pow(10,a),t=f.getPreference("TrailingZeros","boolean")&&a>0?t.toFixed(a):t.toString(),n.displayUnit||void 0===n.displayUnit?t+(n.displaySpace?" ":"")+f[l][i].symbol:t}return parseFloat(e)}static convertUnitValueToString(e,a,t,n,i,o={}){var r;if(f[a]&&f[a][t]){if(o&&o.displayFeetInchFractionOrDecimal&&f[a][t].name.includes("Feet,Inch")){let n=function(e,a){if(!a)return;let t="";const n=e<0?"-":"",l=Math.abs(e);if(t+=n,!(l/m>2147483647)){{let e=Math.floor(l/m),n=l/m-e,i=0,o=0,r=0;"FIFDec"===a?(i=Math.round(1e3*n),e+=Math.floor(i/1e3),i%=1e3):"FIF64"===a?(o=Math.round(64*n),e+=Math.floor(o/64),o%=64):"FIF16"===a&&(r=Math.round(16*n),e+=Math.floor(r/16),r%=16);let u=Math.floor(e/12);e%=12,t+=u?i?u.toString()+"' "+e.toString():e||o||r?u.toString()+"' "+e.toString()+'"':u.toString()+"'":i?e.toString():e.toString()+'"';let s="";i?(s=`.${i.toString().padStart(3,"0")}"`," "===s[1]&&(s=".0"+s.slice(2))," "===s[2]&&(s=s.slice(0,2)+"0"+s.slice(3))):o?s+=" "+p[o]:r&&(s+=" "+c[r]),(i||o||r)&&(t+=s)}return t}}(e,f[a][t].kind);if(n)return n}let u=e*f[a][t].ratio;return u=Math.round(u*Math.pow(10,n))/Math.pow(10,n),u=i&&n>0?u.toFixed(n).replace(".",l):u.toString().replace(".",l),null===(r=o.displaySymbol)||void 0===r||r?u+(o.displaySpace?" ":"")+f[a][t].symbol:u}return e.toString().replace(".",l)}static convert(e,a,t,n){let l=u(a);return l?f[l][t]?f[l][n]?e/f[l][t].ratio*f[l][n].ratio:(window.console.warn("Bad second unit parameter"),e):(window.console.warn("Bad first unit parameter"),e):(window.console.warn("Magnitude not supported"),e)}static isMagnitudeSupported(e){return void 0!==u(e)}static getCurrentUnit(e){let a=u(e);if(!a)return window.console.warn("Magnitude not supported"),{unit:"",nls:""};let t=this.getPreference(a),n=this.getPreference(a+"Display","int"),l=this.getPreference(a+"CalcDisplay","int"),i=f.Types[a];return t||(t=i.defaultValue),{unit:t,nls:f[a][t].symbol,decimalPlaceRW:n,decimalPlaceRO:l}}static getPreference(e,a){var t;window.console.warn('This method is deprecated, please use "readPreferences" API instead.');let n=null===(t=s(e))||void 0===t?void 0:t.defaultValue,l=localStorage.getItem("CATWebUXMePreferences_"+e)||localStorage.getItem(e)||n;if(l&&"string"==typeof l){if("int"===a)return parseInt(l);if("boolean"===a)return"true"===l}return null!=l?l:null}static _generatePreferencesObject(e,a){var t,n,l,o,r;let u={repositories:[]};if(e.length)if(a)for(let a=0;a<e.length;a++){const l=e[a].PreferenceNames;if(l)for(let e=0;e<l.length;e++){const a=d(l[e]);let i=u.repositories.find((e=>e.name===a));i||(i={name:a,preferences:[]},u.repositories.push(i));let o={name:"IDItfPartsTransparency"===l[e]?"IDItfPartsTranspPercent":l[e],value:"",datatype:"string"},r=localStorage.getItem("CATWebUXMePreferences_"+l[e])||localStorage.getItem(l[e]);o.value=r?"IDItfPartsTransparency"===l[e]?(parseInt(r)/2.55).toFixed(0):r:null===(t=s(o.name,i.name))||void 0===t?void 0:t.defaultValue,o.datatype=null===(n=s(o.name,i.name))||void 0===n?void 0:n.datatype,i.preferences.push(o)}}else for(let a=0;a<e.length;a++){let t={name:e[a].Repository,preferences:[]};const n=e[a].PreferenceNames||(null===(l=i.repositories.find((t=>t.name===e[a].Repository)))||void 0===l?void 0:l.preferences.map((e=>e.name)));if(n)for(let e=0;e<n.length;e++){let a={name:n[e],value:"",datatype:"string"},l=localStorage.getItem("CATWebUXMePreferences_"+n[e])||localStorage.getItem(n[e]);a.value=l||(null===(o=s(a.name,t.name))||void 0===o?void 0:o.defaultValue),a.datatype=null===(r=s(a.name,t.name))||void 0===r?void 0:r.datatype,t.preferences.push(a)}u.repositories.push(t)}return u}static readPreferences(e){return new Promise(((a,t)=>{window.require(["DS/MePreferencesClientAPI/MePreferencesClientAPI"],(n=>{n&&n.readPreferences&&n.readPreferences(e).then(a,t)}),t)}))}}return f.Types={Length:{name:"Length",defaultValue:"Millimeter",defaultDecimalPlaceRW:3,defaultDecimalPlaceRO:3},Angle:{name:"Angle",defaultValue:"Degree",defaultDecimalPlaceRW:3,defaultDecimalPlaceRO:3},Volume:{name:"Volume",defaultValue:"CubMm",defaultDecimalPlaceRW:3,defaultDecimalPlaceRO:3},Area:{name:"Area",defaultValue:"SqMm",defaultDecimalPlaceRW:3,defaultDecimalPlaceRO:3},Mass:{name:"Mass",defaultValue:"Kilogram",defaultDecimalPlaceRW:3,defaultDecimalPlaceRO:3}},f.Length={mm:{newName:"Millimeter",name:"mm",nls:o.mm,ratio:Math.pow(10,3)},cm:{newName:"Centimeter",name:"cm",nls:o.cm,ratio:Math.pow(10,2)},m:{newName:"Meter",name:"m",nls:o.m,ratio:1},km:{newName:"Kilometer",name:"km",nls:o.km,ratio:Math.pow(10,-3)},inch:{newName:"Inch",name:"inch",nls:o.inch,ratio:Math.pow(10,3)/25.4},foot:{newName:"Foot",name:"foot",nls:o.foot,ratio:Math.pow(10,3)/304.8},Millimeter:{deprecatedName:"mm",name:"Millimeter",symbol:r.Millimeter,nls:o.Millimeter,ratio:1e3},Centimeter:{deprecatedName:"cm",name:"Centimeter",symbol:r.Centimeter,nls:o.Centimeter,ratio:100},Meter:{deprecatedName:"m",name:"Meter",symbol:r.Meter,nls:o.Meter,ratio:1},Kilometer:{deprecatedName:"km",name:"Kilometer",symbol:r.Kilometer,nls:o.Kilometer,ratio:.001},Inch:{deprecatedName:"inch",name:"Inch",symbol:r.Inch,nls:o.Inch,ratio:1e3/25.4},"Feet,Inch,Fraction/64":{name:"Feet,Inch,Fraction/64",kind:"FIF64",symbol:r.Foot,nls:o.Foot,ratio:1e3/304.8},"Feet,Inch,Fraction/16":{name:"Feet,Inch,Fraction/16",kind:"FIF16",symbol:r.Foot,nls:o.Foot,ratio:1e3/304.8},"Feet,Inch,Decimal":{name:"Feet,Inch,Decimal",kind:"FIFDec",symbol:r.Foot,nls:o.Foot,ratio:1e3/304.8},Foot:{deprecatedName:"foot",name:"Foot",symbol:r.Foot,nls:o.Foot,ratio:1e3/304.8},Micrometer:{name:"Micrometer",symbol:r.Micrometer,nls:o.Micrometer,ratio:1e6},Yard:{name:"Yard",symbol:r.Yard,nls:o.Yard,ratio:1e3/914.4},Mile:{name:"Mile",symbol:r.Mile,nls:o.Mile,ratio:1e3/1609344},Nanometer:{name:"Nanometer",symbol:r.Nanometer,nls:o.Nanometer,ratio:1e9},Hectometer:{name:"Hectometer",symbol:r.Hectometer,nls:o.Hectometer,ratio:.01},NauticalMile:{name:"NauticalMile",symbol:r.NauticalMile,nls:o.NauticalMile,ratio:1e3/1852e3},Decimeter:{name:"Decimeter",symbol:r.Decimeter,nls:o.Decimeter,ratio:10},Angstrom:{name:"Angstrom",symbol:r.Angstrom,nls:o.Angstrom,ratio:1e10},Centimillimeter:{name:"Centimillimeter",symbol:r.Centimillimeter,nls:o.Centimillimeter,ratio:1e5},ThousandthOfAnInch:{name:"ThousandthOfAnInch",symbol:r.ThousandthOfAnInch,nls:o.ThousandthOfAnInch,ratio:1e3/.0254}},f.Angle={deg:{newName:"Degree",name:"deg",nls:o.deg,ratio:180/Math.PI},rad:{newName:"Radian",name:"rad",nls:o.rad,ratio:1},Degree:{deprecatedName:"deg",name:"Degree",symbol:r.Degree,nls:o.Degree,ratio:180/Math.PI},Radian:{deprecatedName:"rad",name:"Radian",symbol:r.Radian,nls:o.Radian,ratio:1},Grade:{name:"Grade",symbol:r.Grade,nls:o.Grade,ratio:200/Math.PI},"Degree,Minute,Second":{name:"Degree,Minute,Second",symbol:r.Degree,nls:o.Degree,ratio:180/Math.PI},Turn:{name:"Turn",symbol:r.Turn,nls:o.Turn,ratio:.15915494309189535},Milliradian:{name:"Milliradian",symbol:r.Milliradian,nls:o.Milliradian,ratio:1e3},InchPerFoot:{name:"InchPerFoot",symbol:r.InchPerFoot,nls:o.InchPerFoot,ratio:12},AnglePercent:{name:"AnglePercent",symbol:r.AnglePercent,nls:o.AnglePercent,ratio:1},UInV:{name:"UInV",symbol:r.UInV,nls:o.UInV,ratio:1},VInU:{name:"VInU",symbol:r.VInU,nls:o.VInU,ratio:1}},f.Volume={mm3:{newName:"CubMm",name:"mm3",nls:o.mm3,ratio:Math.pow(10,9)},cm3:{newName:"CubCm",name:"cm3",nls:o.cm3,ratio:Math.pow(10,6)},m3:{newName:"CubMet",name:"m3",nls:o.m3,ratio:1},inch3:{newName:"CubInch",name:"inch3",nls:o.inch3,ratio:Math.pow(10,9)/16387.064},foot3:{newName:"CubFoot",name:"foot3",nls:o.foot3,ratio:Math.pow(10,9)/28316846.6},CubMm:{deprecatedName:"mm3",name:"CubMm",symbol:r.CubMm,nls:o.CubMm,ratio:1e9},CubCm:{deprecatedName:"cm3",name:"CubCm",symbol:r.CubCm,nls:o.CubCm,ratio:1e6},CubMet:{deprecatedName:"m3",name:"CubMet",symbol:r.CubMet,nls:o.CubMet,ratio:1},km3:{deprecatedName:"km3",name:"km3",symbol:r.km3,nls:o.km3,ratio:Math.pow(10,-9)},CubInch:{deprecatedName:"inch3",name:"CubInch",symbol:r.CubInch,nls:o.CubInch,ratio:Math.pow(10,9)/16387.064},CubFoot:{deprecatedName:"foot3",name:"CubFoot",symbol:r.CubFoot,nls:o.CubFoot,ratio:Math.pow(10,9)/28316846.6},Liter:{name:"Liter",symbol:r.Liter,nls:o.Liter,ratio:1e3},Gallon:{name:"Gallon",symbol:r.Gallon,nls:o.Gallon,ratio:1e3/3.785411784},Barrel:{name:"Barrel",symbol:r.Barrel,nls:o.Barrel,ratio:1/.158987294928},CubYard:{name:"CubYard",symbol:r.CubYard,nls:o.CubYard,ratio:1/.764554857984},CubDm:{name:"CubDm",symbol:r.CubDm,nls:o.CubDm,ratio:1e3},"US Fluid ounce":{name:"US Fluid ounce",symbol:r["US Fluid ounce"],nls:o["US Fluid ounce"],ratio:"0"}},f.Area={mm2:{newName:"SqMm",name:"mm2",nls:o.mm2,ratio:Math.pow(10,6)},m2:{newName:"SqMet",name:"m2",nls:o.m2,ratio:1},km2:{newName:"SqKm",name:"km2",nls:o.km2,ratio:Math.pow(10,-6)},cm2:{newName:"SqCm",name:"cm2",symbol:r.cm2,nls:o.cm2,ratio:Math.pow(10,4)},inch2:{newName:"SqInch",name:"inch2",nls:o.inch2,ratio:Math.pow(10,6)/645.16},foot2:{newName:"SqFoot",name:"foot2",nls:o.foot2,ratio:Math.pow(10,6)/92903.04},SqMm:{deprecatedName:"mm2",name:"SqMm",symbol:r.SqMm,nls:o.SqMm,ratio:Math.pow(10,6)},SqCm:{deprecatedName:"cm2",name:"SqCm",symbol:r.SqCm,nls:o.SqCm,ratio:Math.pow(10,4)},SqMet:{deprecatedName:"m2",name:"SqMet",symbol:r.SqMet,nls:o.SqMet,ratio:1},SqKm:{deprecatedName:"km2",name:"SqKm",symbol:r.SqKm,nls:o.SqKm,ratio:Math.pow(10,-6)},SqInch:{deprecatedName:"inch2",name:"SqInch",symbol:r.SqInch,nls:o.SqInch,ratio:Math.pow(10,6)/645.16},SqFoot:{deprecatedName:"foot2",name:"SqFoot",symbol:r.SqFoot,nls:o.SqFoot,ratio:Math.pow(10,6)/92903.04},SqYard:{name:"SqYard",symbol:r.SqYard,nls:o.SqYard,ratio:1.1959900463010802},SqHm:{name:"SqHm",symbol:r.SqHm,nls:o.SqHm,ratio:1e-4}},f.Mass={mg:{newName:"Milligram",name:"mg",nls:o.mg,ratio:Math.pow(10,6)},g:{newName:"Gram",name:"g",nls:o.g,ratio:Math.pow(10,3)},hg:{newName:"Hectogram",name:"hg",nls:o.hg,ratio:Math.pow(10,1)},kg:{newName:"Kilogram",name:"kg",nls:o.kg,ratio:1},t:{newName:"Tonne",name:"t",nls:o.t,ratio:Math.pow(10,-3)},lb:{newName:"Pound",name:"lb",nls:o.lb,ratio:.45359237},oz:{newName:"Ounce",name:"oz",nls:o.oz,ratio:.02835},Milligram:{deprecatedName:"mg",name:"Milligram",symbol:r.Milligram,nls:o.Milligram,ratio:Math.pow(10,6)},Gram:{deprecatedName:"g",name:"Gram",symbol:r.Gram,nls:o.Gram,ratio:Math.pow(10,3)},Hectogram:{deprecatedName:"hg",name:"Hectogram",symbol:r.Hectogram,nls:o.Hectogram,ratio:Math.pow(10,1)},Kilogram:{deprecatedName:"kg",name:"Kilogram",symbol:r.Kilogram,nls:o.Kilogram,ratio:1},Tonne:{deprecatedName:"t",name:"Tonne",symbol:r.Tonne,nls:o.Tonne,ratio:Math.pow(10,-3)},Pound:{deprecatedName:"lb",name:"Pound",symbol:r.Pound,nls:o.Pound,ratio:.45359237},Ounce:{deprecatedName:"oz",name:"Ounce",symbol:r.Ounce,nls:o.Ounce,ratio:.02835},Slug:{name:"Slug",symbol:r.Slug,nls:o.Slug,ratio:.06852176585679177},GravityTonne:{name:"GravityTonne",symbol:r.GravityTonne,nls:o.GravityTonne,ratio:1/9806.65},KgForceSqSecPerMet:{name:"KgForceSqSecPerMet",symbol:r.KgForceSqSecPerMet,nls:o.KgForceSqSecPerMet,ratio:1/9.80665},KgForceSqSecPerMm:{name:"KgForceSqSecPerMm",symbol:r.KgForceSqSecPerMm,nls:o.KgForceSqSecPerMm,ratio:1/9806.65},KgForceSqSecPerCm:{name:"KgForceSqSecPerCm",symbol:r.KgForceSqSecPerCm,nls:o.KgForceSqSecPerCm,ratio:1/980.6649999999998},LbForceSqSecPerInch:{name:"LbForceSqSecPerInch",symbol:r.LbForceSqSecPerInch,nls:o.LbForceSqSecPerInch,ratio:1/175.1268352464764},LbForceSqSecPerFoot:{name:"LbForceSqSecPerFoot",symbol:r.LbForceSqSecPerFoot,nls:o.LbForceSqSecPerFoot,ratio:.06852176585679177}},localStorage.getItem("CATWebUXMePreferencesUpdated")||function(){const e={DMUDisplayMarkupCreationDialog:{newKey:"DisplayMarkupCreationDialog"},DMUCreateFirstSlide:{newKey:"CreateFirstSlide"},DMUSlideNameFromFeature:{newKey:"SlideNameFromFeature"},DMUDisplaySlideTitle:{newKey:"DisplaySlideTitle"},DMUCaptureSpecLayers:{newKey:"CaptureSpecLayers"},DMUEnableSlideDragContent:{newKey:"SlideDragAndDropOperation",values:{0:"SlideReorder",1:"TransferView"}},DMUSnapHandlesToGrid:{newKey:"SnapHandlesToGrid"},DMUSnapHandlesGridValue:{newKey:"SnapHandlesGridValue"},DMUSnapRotationToggle:{newKey:"SnapRotationToggle"},DMUSnapRotationAngle:{newKey:"SnapRotationAngle"},DMUCompareFirstColor:{newKey:"CompareFirstColor"},DMUCompareSecondColor:{newKey:"CompareSecondColor"},DMUCompare3DCommonColor:{newKey:"Compare3DCommonColor"},DMUCompare2DCommonColor:{newKey:"Compare2DCommonColor"},DMUMeasureMainValueDisplay:{newKey:""},DMUMeasureRemovePreviousNonPersistent:{newKey:"DMUMeasureRemovePreviousNonPersistent"},DMUComputeSectionContour:{newKey:"ComputeClippingContour"},C3DAllowDirectManipulation:{newKey:"C3DAllowDirectManipulation"},defaultMoveReferent:{newKey:"defaultMoveReferent"},"3DAnnotWhiteVectorAsBlack":{newKey:"WhiteVectorAsBlack"},"3DAnnotLoadARMPartsPref":{newKey:"LoadARMAnnotations"},"3DAnnotDisplayCapturesPref":{newKey:"DisplayOnlyCaptures"},"3DAnnotUpdateThumbnailsPref":{newKey:"UpdateThumbnails"},"3DAnnotKeepSelectedFeaturesPref":{newKey:"KeepSelectedFeatures"},FavoriteContextLoadMode:{newKey:"FavoriteContextLoadMode",values:{0:"AlwaysOpen",1:"Check",2:"Ignore"}},CATWebUXPreferences_Units:{newKey:""},CATWebUXPreferences_TrailingZeros:{newKey:"TrailingZeros"},CATWebUXPreferences_GravitationalEffects:{newKey:"Gravity"},CATWebUXPreferences_ProjectionType:{newKey:"ProjectionType",values:{CATWebUXPreferences_Ortho:"Parallel",CATWebUXPreferences_Perspective:"Perspective"}},CATWebUXPreferences_Select3DGeometry:{newKey:"Select3DGeometry"},CATWebUXPreferences_SelectParentReferenceOr3DShape:{newKey:"SelectParentReferenceOr3DShape"},CATWebUXPreferences_Select2DGeometry:{newKey:"Select2DGeometry"},CATWebUXPreferences_ExportPersonalData:{newKey:"ExportPersonalData"},DMUDisplayReviewCreationDialog:{newKey:"DisplayReviewCreationDialog"},DMUAutomaticMarkupCreationDialog:{newKey:"AutomaticMarkupCreationDialog"},DMUMarkerValidatedStampLabel:{newKey:"MarkerValidatedStampLabel"},DMUMarkerRejectedStampLabel:{newKey:"MarkerRejectedStampLabel"},PIMwebContextLoadMode:{newKey:"PIMwebLoad",values:{0:"pimAllParts",1:"pimItfParts"}},PIMwebPrefs:{newKey:""},"3DAnnotSemAttr_3DAnnotations":{newKey:"SemanticAttribute_3DAnnotations"},"3DAnnotSemAttr_0":{newKey:"SemanticAttribute_0"},"3DAnnotSemAttr_1":{newKey:"SemanticAttribute_1"},"3DAnnotSemAttr_2":{newKey:"SemanticAttribute_2"},"3DAnnotSemAttr_3":{newKey:"SemanticAttribute_3"},"3DAnnotSemAttr_4":{newKey:"SemanticAttribute_4"},"3DAnnotSemAttr_5":{newKey:"SemanticAttribute_5"},"3DAnnotSemAttr_6":{newKey:"SemanticAttribute_6"},"3DAnnotSemAttr_7":{newKey:"SemanticAttribute_7"}};Object.keys(e).forEach((a=>{const t=localStorage.getItem(a);if(t){const n="CATWebUXMePreferences_";if("CATWebUXPreferences_Units"===a){const e=JSON.parse(t);Object.keys(e).forEach((a=>{const t=e[a];localStorage.setItem(n+a,f[a][t.unit].newName||t.unit),localStorage.setItem(n+a+"Display",t.decimalPlaceRW),localStorage.setItem(n+a+"CalcDisplay",t.decimalPlaceRO)}))}else if("DMUMeasureMainValueDisplay"===a){const e=JSON.parse(t);Object.keys(e).forEach((a=>{const t=e[a];localStorage.setItem(n+a+".MeasureType",t.measureTypes),localStorage.setItem(n+a+".Unit",t.unitDisplay)}))}else if("PIMwebPrefs"===a){const e=JSON.parse(t);"useStoredResults"in e&&localStorage.setItem("IDStoredResults",Boolean(e.useStoredResults).toString()),e.geometries&&("mode"in e.geometries&&localStorage.setItem("IDGeometries",2===e.geometries.mode?"idAllTypes":"idType"),"clash"in e.geometries&&localStorage.setItem("IDGClash",0===e.geometries.clash?"idNone":"idCurve"),"contact"in e.geometries&&localStorage.setItem("IDGContact",0===e.geometries.contact?"idNone":"idTriangle"),"clearance"in e.geometries&&localStorage.setItem("IDGClearance",0===e.geometries.clearance?"idNone":"idTriangle")),e.quantifiers&&"minDist"in e.quantifiers&&localStorage.setItem("IDQMinDist",e.quantifiers.minDist?"idMinDist":"idNone"),e.partsOverload&&("type"in e.partsOverload&&localStorage.setItem("IDColorOverLoading",e.partsOverload.type?"colorType":"colorInstance"),"parts"in e.partsOverload&&(e.partsOverload.parts[0]&&localStorage.setItem("IDColorInstance1",e.partsOverload.parts[0]),e.partsOverload.parts[1]&&localStorage.setItem("IDColorInstance2",e.partsOverload.parts[1])),"itfType"in e.partsOverload&&(e.partsOverload.itfType[0]&&localStorage.setItem("IDColorItfClash",e.partsOverload.itfType[0]),e.partsOverload.itfType[1]&&localStorage.setItem("IDColorItfContact",e.partsOverload.itfType[1]),e.partsOverload.itfType[2]&&localStorage.setItem("IDColorItfClearance",e.partsOverload.itfType[2])),"transparency"in e.partsOverload&&localStorage.setItem("IDItfPartsTransparency",e.partsOverload.transparency))}else{const l=e[a];l.values?localStorage.setItem(n+l.newKey,l.values[t]):localStorage.setItem(n+l.newKey,t)}localStorage.removeItem(a)}})),localStorage.setItem("CATWebUXMePreferencesUpdated","true")}(),f})),define("DS/CATWebUXPreferences/DMUMeasureMainValueDisplayUtils",["i18n!DS/CATWebUXPreferences/assets/nls/CATWebUXPreferences"],(function(e){"use strict";var a=e.yes,t=e.no,n={MeasureTypes:{Coordinates:{name:"Coordinates",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:1},Line_Length:{name:"Line_Length",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:1},Curve_Length:{name:"Curve_Length",defaultMainValueDisplay:a,defaultUnitDisplay:a,isDisplayedInPref:1},Arc_Length:{name:"Arc_Length",defaultMainValueDisplay:a,defaultUnitDisplay:a,isDisplayedInPref:1},Cylinder_Length:{name:"Cylinder_Length",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:0},Cone_Length:{name:"Cone_Length",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:0},Distance:{name:"Distance",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:1},Min_Distance:{name:"Min_Distance",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:1},Max_Distance:{name:"Max_Distance",defaultMainValueDisplay:a,defaultUnitDisplay:a,isDisplayedInPref:1},Angle:{name:"Angle",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:1},Angle_Btw2Selections:{name:"Angle_Btw2Selections",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:0},Angle_By3Pts:{name:"Angle_By3Pts",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:0},Cone_Angle:{name:"Cone_Angle",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:0},Half_Angle:{name:"Half_Angle",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:1},Radius:{name:"Radius",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:1},Cylinder_Radius:{name:"Cylinder_Radius",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:0},Sphere_Radius:{name:"Sphere_Radius",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:0},Min_Radius:{name:"Min_Radius",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:1},Max_Radius:{name:"Max_Radius",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:1},Radius_By3Pts:{name:"Radius_By3Pts",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:0},Diameter:{name:"Diameter",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:1},Cylinder_Diameter:{name:"Cylinder_Diameter",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:0},Sphere_Diameter:{name:"Sphere_Diameter",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:0},Min_Diameter:{name:"Min_Diameter",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:1},Max_Diameter:{name:"Max_Diameter",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:1},Area:{name:"Area",defaultMainValueDisplay:a,defaultUnitDisplay:a,isDisplayedInPref:1},Diameter_By3Pts:{name:"Diameter_By3Pts",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:0},Surface_Area:{name:"Surface_Area",defaultMainValueDisplay:a,defaultUnitDisplay:a,isDisplayedInPref:0},PlanarSurface_Area:{name:"PlanarSurface_Area",defaultMainValueDisplay:a,defaultUnitDisplay:a,isDisplayedInPref:0},Product_Area:{name:"Product_Area",defaultMainValueDisplay:a,defaultUnitDisplay:a,isDisplayedInPref:0},Volume:{name:"Volume",defaultMainValueDisplay:a,defaultUnitDisplay:a,isDisplayedInPref:1},Thickness:{name:"Thickness",defaultMainValueDisplay:t,defaultUnitDisplay:a,isDisplayedInPref:1}},isPrefEnabled:function(e){return!0===e||e===a},getPrefVal:function(e){var n=a;return this.isPrefEnabled(e)||(n=t),n}};return Object.freeze(n)})),define("DS/CATWebUXPreferences/DMUClippingPrefService",["DS/Visualization/ThreeJS_DS","DS/WebappsUtils/WebappsUtils","DS/CATWebUXPreferences/CATWebUXPreferencesUtils","i18n!DS/CATWebUXPreferences/assets/nls/CATWebUXPreferences"],(function(e,a,t,n){"use strict";var l,i,o=n.preferences,r="CappingColorSource",u="CustomCappingColor",s="ComputeClippingContour",d="ContourColorSource",p="CustomContourColor",c="ContourThickness",m="DisplayRepresentationPermanently",f="RepresentationColor",y="RepresentationTransparency",g="NormalDirection",b="DisplayManipulationTool",V="ManipulationToolMode",_="ManipulationIncrement",D="Automatic",M="Custom",C="Detailed",S="Explore",h="Meter",P="Length",v="#436655",A="#000000",x="1",T="Various",U=.523599,I=10,R="#d3d3d3",w="#d3d3d3",L=50,k=.001,F=S,O=a.getWebappsAssetUrl("DMUBaseCtxCommands","icons/32/"),N=function(e){return i?(l=i.find((a=>a.name===e)))?l.value:void 0:localStorage.getItem(e)},W=function(e,a){if(localStorage.setItem(e,a),i){var t=i.findIndex((a=>a.name===e));-1!==t&&(i[t].value=a)}},E={getPrefNLS:function(){return o},getKey:function(e){var a;switch(e){case"CappingColorSource":a=r;break;case"CappingColor":a=u;break;case"ComputeContour":a=s;break;case"ContourColorSource":a=d;break;case"ContourColor":a=p;break;case"ContourThickness":a=c;break;case"ClippingPlaneTransparencey":a=y;break;case"ClippingPlaneColor":a=f;break;case"ClippingPlaneDisplay":a=m;break;case"ClippingNormalDir":a=g;break;case"ClippingManipulation":a=b;break;case"ClippingManipulationToolView":a=V;break;case"ClippingManipulationToolIncrementVal":a=_;break;default:a=void 0}return a},colorRadioOptions:[{id:M,nls:o.cappingSubSection.customColorBtnLbl},{id:"FromGeometry",nls:o.cappingSubSection.colorFromGeomBtnLbl}],contourThicknessComboOptions:[{id:"1",label:o.contourSubSection.thickness1,icon:O+"I_DMULineThickness_1.png"},{id:"2",label:o.contourSubSection.thickness2,icon:O+"I_DMULineThickness_2.png"},{id:"3",label:o.contourSubSection.thickness3,icon:O+"I_DMULineThickness_3.png"},{id:"4",label:o.contourSubSection.thickness4,icon:O+"I_DMULineThickness_4.png"},{id:"5",label:o.contourSubSection.thickness5,icon:O+"I_DMULineThickness_5.png"},{id:"6",label:o.contourSubSection.thickness6,icon:O+"I_DMULineThickness_6.png"},{id:"7",label:o.contourSubSection.thickness7,icon:O+"I_DMULineThickness_7.png"},{id:"8",label:o.contourSubSection.thickness8,icon:O+"I_DMULineThickness_8.png"}],contourThicknessComboOptionsWithNA:[{id:"0",label:"NA"},{id:"1",label:o.contourSubSection.thickness1,icon:O+"I_DMULineThickness_1.png"},{id:"2",label:o.contourSubSection.thickness2,icon:O+"I_DMULineThickness_2.png"},{id:"3",label:o.contourSubSection.thickness3,icon:O+"I_DMULineThickness_3.png"},{id:"4",label:o.contourSubSection.thickness4,icon:O+"I_DMULineThickness_4.png"},{id:"5",label:o.contourSubSection.thickness5,icon:O+"I_DMULineThickness_5.png"},{id:"6",label:o.contourSubSection.thickness6,icon:O+"I_DMULineThickness_6.png"},{id:"7",label:o.contourSubSection.thickness7,icon:O+"I_DMULineThickness_7.png"},{id:"8",label:o.contourSubSection.thickness8,icon:O+"I_DMULineThickness_8.png"}],normalDirOptions:[{id:"X",nls:o.normalDirectionSubSection.xRadioBtnLbl},{id:"Y",nls:o.normalDirectionSubSection.yRadioBtnLbl},{id:"Z",nls:o.normalDirectionSubSection.zRadioBtnLbl},{id:D,nls:o.normalDirectionSubSection.automaticRadioBtnLbl}],ManipulationViewRadioOptions:[{id:C,nls:o.manipulationSubSection.detailViewBtnLbl},{id:S,nls:o.manipulationSubSection.exploreViewBtnLbl}],anglesRadioOptions:[{id:"Single",nls:o.hatchingSubSection.singleAngleBtnLbl},{id:"Various",nls:o.hatchingSubSection.variousAnglesBtnLbl}],capping:{getUseGeomColorStatus:function(){var e=N(r);return e||M},isCustomColor:function(){return this.getUseGeomColorStatus()===M},getDefaultUseGeomColorValue:function(){return M},setUseGeomColorStatus:function(e){W(r,e)},getColorValue:function(){var e=N(u);return e||v},getColorToSet:function(){return new e.Color(this.getColorValue())},getDefaultColorValue:function(){return v},setColorValue:function(e){W(u,"#"+e)}},hatching:{getDisplayStatus:function(){var e=N("DisplayHatching");return void 0===e&&(e="true"),"true"===e},getColorValue:function(){var e=N("HatchingColor");return e||A},getColorToSet:function(){return new e.Color(this.getColorValue())},getThicknessValue:function(){return N("HatchingThickness")||x},getThicknessToSet:function(){return parseFloat(this.getThicknessValue())},getAnglesMode:function(){return N("HatchingAngles")||T},getSingleAngleValue:function(){return N("HatchingSingleAngleValue")||U},getSingleAngleToSet:function(){return parseFloat(this.getSingleAngleValue())},getSingleAngleValueInfos:function(){var e=this.getSingleAngleToSet();return{value:isNaN(e)?U:e,magnitude:"angle",minValue:-1.5708,maxValue:1.5708,stepValue:1}},getPitchValue:function(){return N("HatchingPitchValue")||I},getPitchValueInfos:function(){var e=this.getPitchToSet();return{value:isNaN(e)?I:e,minValue:1,maxValue:250,stepValue:1}},getPitchToSet:function(){return parseFloat(this.getPitchValue())}},contour:{getComputeStatus:function(){return"true"===N(s)},getComputeContourStatus:function(){return this.getComputeStatus()},getDefaultComputeValue:function(){return!1},setComputeStatus:function(e){W(s,e)},getUseGeomColorStatus:function(){var e=N(d);return e||M},isCustomColor:function(){return this.getUseGeomColorStatus()===M},getDefaultUseGeomColorValue:function(){return M},setUseGeomColorStatus:function(e){W(d,e)},getColorValue:function(){var e=N(p);return e||R},getColorToSet:function(){return new e.Color(this.getColorValue())},getDefaultColorValue:function(){return R},setColorValue:function(e){W(p,"#"+e)},getThicknessValue:function(){return N(c)||"1"},getThicknessToSet:function(){return parseFloat(this.getThicknessValue())},getDefaultThicknessValue:function(){return"1"},setThicknessValue:function(e){W(c,e)}},sectionPlane:{getDisplayStatus:function(){return"true"===N(m)},getDefaultDisplayValue:function(){return!1},setDisplayStatus:function(e){W(m,e)},getColorValue:function(){var e=N(f);return e||w},getColorToSet:function(){return new e.Color(this.getColorValue())},getDefaultColorValue:function(){return w},setColorValue:function(e){W(f,"#"+e)},getTransparencyValue:function(){var e=N(y),a=parseFloat(e);return{value:isNaN(a)?L:a,units:"%",minValue:0,maxValue:100,stepValue:5}},getOpacityVal:function(){var e=this.getTransparencyValue().value;return isNaN(e)?.5:e=0!==e?1-e/100:1},getDefaultTransparencyValue:function(){return{value:L,units:"%",minValue:0,maxValue:100,stepValue:5}},setTransparencyValue:function(e){W(y,JSON.stringify(e))}},planeNormalDir:{setDirValue:function(e){W(g,e)},getDirValue:function(){var e=N(g);return e||D},getDefaultDirValue:function(){return D}},manipulation:{getStatus:function(){return"false"!==N(b)},getDefaultValue:function(){return!0},setStatus:function(e){W(b,e)},getManipulationView:function(){var e=N(V);return function(e,a){return!(null==e||a&"Capping"===a&&(void 0===(l=JSON.parse(e)).color||null===l.color||void 0===l.useGeomColor||null===l.useGeomColor)||a&"Contour"===a&&(void 0===(l=JSON.parse(e)).color||null===l.color||void 0===l.transparency||null===l.transparency))}(e)?e:F},isExploreView:function(){return this.getManipulationView()!==C},getDefaultManipulationView:function(){return S},setManipulationView:function(e){W(V,e)},getIncrementValToSet:function(e){var a=parseFloat(N(_)),n=e||"Millimeter";return a=isNaN(a)?k:a,t.convert(a,P,h,n)},getIncrementVal:function(){var e=localStorage.getItem("CATWebUXMePreferences_Length")||"Millimeter",a=this.getIncrementValToSet(e),n=t.convert(.001,P,h,e);return{value:a,units:e,minValue:n,stepValue:n}},getDefaultIncrementVal:function(){return{value:1,units:"Millimeter",minValue:1,stepValue:1}},setIncrementVal:function(e,a){var n=a,l=n||(localStorage.getItem("CATWebUXMePreferences_Length")||"Millimeter"),i=t.convert(e,P,l,h);W(_,i)}},getDefaultClippingProp:function(){var e=this;return{setInEdit:!0,isClipping:!0,iDoNotChkLockUnlockStatus:!0,boxMode:localStorage.getItem("DMUClippingBoxMode")||"NormalMode",isCustomCappingColor:e.capping.isCustomColor(),isCustomContourColor:e.contour.isCustomColor(),cappingColor:e.capping.getColorToSet(),lineStyleColor:e.contour.getColorToSet(),lineStyleThicknessIndex:e.contour.getThicknessToSet(),bDisplayPermanently:e.sectionPlane.getDisplayStatus(),fillStyleColor:e.sectionPlane.getColorToSet(),opacity:e.sectionPlane.getOpacityVal(),planeDir:e.planeNormalDir.getDirValue()}},readClippingPref:async function(){if(!i)try{i=[];let n=await t.readPreferences([{Repository:"ClippingRepository"}]);for(var e=n.repositories[0].preferences.length,a=0;a<e;a++)i.push({name:n.repositories[0].preferences[a].name,value:n.repositories[0].preferences[a].value})}catch(e){window.console.log(e),i=[{name:"CappingColorSource",value:"Custom"},{name:"CustomCappingColor",value:"#436655"},{name:"DisplayHatching",value:"true"},{name:"HatchingColor",value:"#000000"},{name:"HatchingThickness",value:"1"},{name:"HatchingAngles",value:"Various"},{name:"HatchingSingleAngleValue",value:"0.523599"},{name:"HatchingPitchValue",value:"10"},{name:"ComputeClippingContour",value:"false"},{name:"ContourColorSource",value:"Custom"},{name:"CustomContourColor",value:"#D3D3D3"},{name:"ContourThickness",value:"1"},{name:"DisplayRepresentationPermanently",value:"false"},{name:"RepresentationColor",value:"#D3D3D3"},{name:"RepresentationTransparency",value:"50"},{name:"NormalDirection",value:"Automatic"},{name:"DisplayManipulationTool",value:"true"},{name:"ManipulationToolMode",value:"Explore"},{name:"ManipulationIncrement",value:"0.001"}]}},updateClippingPrefs:function(e){if(i&&i.length)for(var a=JSON.parse(e[1].preferences).repositories[0],t=0;t<a.preferences.length;t++)for(var n=0;n<i.length;n++)i[n].name===a.preferences[t].name&&(i[n].value=a.preferences[t].value)}};return Object.freeze(E)})),define("DS/CATWebUXPreferences/CATWebUXPreferencesManager",["UWA/Core","UWA/Class","DS/Controls/Toggle","DS/Controls/SpinBox","DS/Controls/Button","DS/Windows/Dialog","DS/Controls/Expander","DS/Controls/ColorPicker","DS/Controls/ComboBox","DS/Controls/LineEditor","DS/Controls/Label","DS/Controls/ButtonGroup","DS/DataGridView/DataGridView","DS/TreeModel/TreeDocument","DS/TreeModel/TreeNodeModel","DS/CoreEvents/ModelEvents","DS/PlatformAPI/PlatformAPI","DS/CATWebUXPreferences/CATWebUXPreferencesUtils","DS/CATWebUXPreferences/DMUMeasureMainValueDisplayUtils","DS/CATWebUXPreferences/DMUClippingPrefService","i18n!DS/CATWebUXPreferences/assets/nls/CATWebUXPreferences"],(function(e,a,t,n,l,i,o,r,u,s,d,p,c,m,f,y,g,b,V,_,D){"use strict";var M=D&&D.units?D.units:{},C=D&&D.unitSymbols?D.unitSymbols:{},S=D&&D.types?D.types:{};const h=[],P={CATWebUXPreferences_TrailingZeros:"TrailingZeros",CATWebUXPreferences_GravitationalEffects:"Gravity",CATWebUXPreferences_ProjectionType:"ProjectionType",CATWebUXPreferences_Select3DGeometry:"Select3DGeometry",CATWebUXPreferences_SelectParentReferenceOr3DShape:"SelectParentReferenceOr3DShape",CATWebUXPreferences_Select2DGeometry:"Select2DGeometry"};let v={measureSectionTitle:"Measure",RemovePreviousNonPersistentLbl:"Remove previous non-persistent measures",mainValueDisplayPref:{measureTypes:{Coordinates:"Coordinates",Line_Length:"Length (Line)",Curve_Length:"Length (Curve)",Arc_Length:"Length (Arc)",Distance:"Distance",Min_Distance:"Minimum distance",Max_Distance:"Maximum distance",Angle:"Angle",Half_Angle:"Half Angle",Radius:"Radius",Min_Radius:"Minimum radius",Max_Radius:"Maximum radius",Diameter:"Diameter",Min_Diameter:"Minimum diameter",Max_Diameter:"Maximum diameter",Area:"Area",Volume:"Volume",Thickness:"Thickness"},unitCol:"Unit",measureCol:"Measure",measureTypesCol:"Measure type",mainValuelbl:"Main value display",yesOption:"Yes",noOption:"No"}};var A,x,T,U,I,R,w,L,k,F={},O={},N=!1,W=v.mainValueDisplayPref,E=W.measureTypes,B=V.MeasureTypes,G=Object.keys(B),X="MainValueEnum",j="CATWebUXMePreferences_",K=["Coordinates_MeasureType","Coordinates_Unit","Line_Length_MeasureType","Line_Length_Unit","Curve_Length_MeasureType","Curve_Length_Unit","Arc_Length_MeasureType","Arc_Length_Unit","Distance_MeasureType","Distance_Unit","Min_Distance_MeasureType","Min_Distance_Unit","Max_Distance_MeasureType","Max_Distance_Unit","Angle_Btw2Selections_MeasureType","Angle_Btw2Selections_Unit","Half_Angle_MeasureType","Half_Angle_Unit","Radius_MeasureType","Radius_Unit","Min_Radius_MeasureType","Min_Radius_Unit","Max_Radius_MeasureType","Max_Radius_Unit","Diameter_MeasureType","Diameter_Unit","Min_Diameter_MeasureType","Min_Diameter_Unit","Max_Diameter_MeasureType","Max_Diameter_Unit","Surface_Area_MeasureType","Surface_Area_Unit","Volume_MeasureType","Volume_Unit","Thickness_MeasureType","Thickness_Unit"];R=function(e,a){if(-1!==e.rowID||E||B)for(var t=0;t<G.length;t++)E[G[t]]===e.nodeModel.options.label&&(O[G[t]]=a,N=!0,e.nodeModel.options.grid&&e.nodeModel.options.grid.unitDisplay&&(e.nodeModel.options.grid.unitDisplay=a))},I=function(e,a){if(-1!==e.rowID||E||B)for(var t=0;t<G.length;t++)E[G[t]]===e.nodeModel.options.label&&(F[G[t]]=a,N=!0,e.nodeModel.options.grid&&e.nodeModel.options.grid.measureTypes&&(e.nodeModel.options.grid.measureTypes=a))};var H=async function(){var e="";try{var a;if((a=await b.readPreferences([{Repository:"MeasureRepository",PreferenceNames:K}])).repositories[0]&&a.repositories[0].preferences.length>0){for(e+="{",A=0;A<a.repositories[0].preferences.length-1;A+=2){var t,n,l;if(a.repositories[0].preferences[A].name.search("_MeasureType")>0?n="true"===a.repositories[0].preferences[A].value:a.repositories[0].preferences[A].name.search("_Unit")>0&&(l="true"===a.repositories[0].preferences[A].value),a.repositories[0].preferences[A+1].name.search("_MeasureType")>0?(t=a.repositories[0].preferences[A+1].name.replace("_MeasureType",""),n="true"===a.repositories[0].preferences[A+1].value):a.repositories[0].preferences[A+1].name.search("_Unit")>0&&(t=a.repositories[0].preferences[A+1].name.replace("_Unit",""),l="true"===a.repositories[0].preferences[A+1].value),"Angle_Btw2Selections"===t?t="Angle":"Surface_Area"===t&&(t="Area"),t.length>0){var i=',"';0===A&&(i='"'),e=(e+=i)+t+'":{"measureTypes":'+n+',"unitDisplay":'+l+"}"}}e+="}"}}catch(e){window.console.log(e)}return e};w=async function(e){var a=await H();for(a&&a.length&&(a=JSON.parse(a)),A=0;A<G.length;A++)if(B[G[A]].isDisplayedInPref){if(U=G[A],!(T=a&&a[U]?a[U]:null)||"boolean"!=typeof T.measureTypes&&"boolean"!=typeof T.unitDisplay)T||(T={measureTypes:B[G[A]].defaultMainValueDisplay,unitDisplay:B[G[A]].defaultUnitDisplay});else{var t=T.measureTypes,n=T.unitDisplay;T=[],T={measureTypes:V.getPrefVal(t),unitDisplay:V.getPrefVal(n)}}x=new f({label:E[G[A]],grid:{measureTypes:T.measureTypes,unitDisplay:T.unitDisplay}}),e.addRoot(x)}},L=function(e){for(A=0;A<G.length;A++){U=G[A],O[U]!==B[G[A]].defaultUnitDisplay&&(O[U]=B[G[A]].defaultUnitDisplay,N=!0),F[U]!==B[G[A]].defaultMainValueDisplay&&(F[U]=B[G[A]].defaultMainValueDisplay,N=!0);for(var a=0;a<e.length;a++)if(E[U]===e[a].options.label){e[a].updateOptions({grid:{measureTypes:B[G[A]].defaultMainValueDisplay,unitDisplay:B[G[A]].defaultUnitDisplay}});break}}},k=async function(){if(N){var e=await H();e&&e.length&&(e=JSON.parse(e));var a,t,n={};for(A=0;A<G.length;A++){if(U=G[A],(T=e&&e[U]?e[U]:null)&&("boolean"!=typeof T.measureTypes||"boolean"!=typeof T.unitDisplay)){var l=T.measureTypes,i=T.unitDisplay;T={measureTypes:V.isPrefEnabled(l),unitDisplay:V.isPrefEnabled(i)}}T||(T={measureTypes:V.isPrefEnabled(B[G[A]].defaultMainValueDisplay),unitDisplay:V.isPrefEnabled(B[G[A]].defaultUnitDisplay)}),n[G[A]]={measureTypes:F[U]?V.isPrefEnabled(F[U]):T.measureTypes,unitDisplay:O[U]?V.isPrefEnabled(O[U]):T.unitDisplay},localStorage.setItem(j+G[A]+"_MeasureType",n[G[A]].measureTypes),localStorage.setItem(j+G[A]+"_Unit",n[G[A]].unitDisplay)}n.Angle&&(a=n.Angle.measureTypes,t=n.Angle.unitDisplay,n.Angle_Btw2Selections.measureTypes=a,n.Angle_By3Pts.measureTypes=a,n.Cone_Angle.measureTypes=a,n.Angle_Btw2Selections.unitDisplay=t,n.Angle_By3Pts.unitDisplay=t,n.Cone_Angle.unitDisplay=t,localStorage.setItem(j+"Angle_Btw2Selections_MeasureType",a),localStorage.setItem(j+"Angle_By3Pts_MeasureType",a),localStorage.setItem(j+"Cone_Angle_MeasureType",a),localStorage.setItem(j+"Angle_Btw2Selections_Unit",t),localStorage.setItem(j+"Angle_By3Pts_Unit",t),localStorage.setItem(j+"Cone_Angle_Unit",t)),n.Area&&(a=n.Area.measureTypes,t=n.Area.unitDisplay,n.Surface_Area.measureTypes=a,n.Product_Area.measureTypes=a,n.PlanarSurface_Area.measureTypes=a,n.Surface_Area.unitDisplay=t,n.Product_Area.unitDisplay=t,n.PlanarSurface_Area.unitDisplay=t,localStorage.setItem(j+"Surface_Area_MeasureType",a),localStorage.setItem(j+"PlanarSurface_Area_MeasureType",a),localStorage.setItem(j+"Product_Area_MeasureType",a),localStorage.setItem(j+"Surface_Area_Unit",t),localStorage.setItem(j+"PlanarSurface_Area_Unit",t),localStorage.setItem(j+"Product_Area_Unit",t)),n.Min_Distance&&(a=n.Min_Distance.measureTypes,t=n.Min_Distance.unitDisplay,localStorage.setItem(j+"Local_Min_Distance_MeasureType",a),localStorage.setItem(j+"Local_Min_Distance_Unit",t)),n.Max_Distance&&(a=n.Max_Distance.measureTypes,t=n.Max_Distance.unitDisplay,localStorage.setItem(j+"Local_Max_Distance_MeasureType",a),localStorage.setItem(j+"Local_Max_Distance_Unit",t));var o=JSON.stringify(n);return o!==JSON.stringify(e)?(localStorage.setItem("DMUMeasureMainValueDisplay",o),n):void 0}};var q=a.extend({init:function(a){var V=a||{};this._parent(V);var A,x=[],T=[],U=[],F=[],O={display:!1,units:!1,sel3D:!1,sel2D:!1,measure:!1,clipping:!1},N=new y,E=this;function G(e,a){N&&N.publish({event:e,data:a})}var j=g.subscribe("onWidgetPreferenceModified",(function(e){var a=e?JSON.parse(e):null;a&&G(a.name,a.value)})),K=g.subscribe("com.ds.mep:onPrefUpdate",(function(e){e&&(G("com.ds.mep:onPrefUpdate",e),_.updateClippingPrefs(e))}));function H(e){var a=localStorage.getItem("CATWebUXPreferences_ExpandedFlags");return a&&a.length&&(a=JSON.parse(a)),!a||"true"!==a[e]&&"false"!==a[e]||"true"===a[e]}function q(e,a){var t=localStorage.getItem("CATWebUXPreferences_ExpandedFlags");(t=t&&t.length?JSON.parse(t):{})[e]=a?"true":"false",localStorage.setItem("CATWebUXPreferences_ExpandedFlags",JSON.stringify(t))}function J(e,a){for(var t=0;t<T.length;t++)"checkbox+spinbox"!==T[t].spec.type&&"spinbox"!==T[t].spec.type||("Angle"===e?T[t].ui.spinbox.units===C.Degree&&"Radian"===a?(T[t].ui.spinbox.minValue=Math.PI/180,T[t].ui.spinbox.stepValue=.01,T[t].ui.spinbox.pageStepValue=.01,T[t].ui.spinbox.value=b.convert(T[t].ui.spinbox.value,e,"Degree",a),T[t].ui.spinbox.maxValue=2*Math.PI,T[t].ui.spinbox.units=C.Radian):T[t].ui.spinbox.units===C.Radian&&"Degree"===a&&(T[t].ui.spinbox.maxValue=360,T[t].ui.spinbox.value=b.convert(T[t].ui.spinbox.value,e,"Radian",a),T[t].ui.spinbox.stepValue=1,T[t].ui.spinbox.pageStepValue=1,T[t].ui.spinbox.minValue=1,T[t].ui.spinbox.units=C.Degree):"Length"===e&&(T[t].ui.spinbox.units===C.Millimeter?"Inch"!==a&&"Foot"!==a||(T[t].ui.spinbox.minValue=.01,T[t].ui.spinbox.stepValue=.01,T[t].ui.spinbox.pageStepValue=.01,T[t].ui.spinbox.value=b.convert(T[t].ui.spinbox.value,e,"Millimeter","Inch"),T[t].ui.spinbox.units=C.Inch):T[t].ui.spinbox.units===C.Inch&&("Millimeter"!==a&&"Centimeter"!==a&&"Meter"!==a&&"Kilometer"!==a||(T[t].ui.spinbox.value=b.convert(T[t].ui.spinbox.value,e,"Inch","Millimeter"),T[t].ui.spinbox.minValue=1,T[t].ui.spinbox.stepValue=1,T[t].ui.spinbox.pageStepValue=1,T[t].ui.spinbox.units=C.Millimeter))))}var Z={},Y={},z={},Q=!1;function $(e,a){if(-1!==e.rowID){for(var t=b.Types,n=Object.keys(t),l=0;l<n.length;l++)S[t[n[l]].name]===e.nodeModel.options.label&&(J(t[n[l]].name,a),Z[t[n[l]].name]=a,Q=!0);e.nodeModel.options.grid.unit&&(e.nodeModel.options.grid.unit=a)}}function ee(e,a){if(-1!==e.rowID){for(var t=b.Types,n=Object.keys(t),l=0;l<n.length;l++)S[t[n[l]].name]===e.nodeModel.options.label&&(Y[t[n[l]].name]=parseInt(a),Q=!0);e.nodeModel.options.grid.decimalPlaceRW&&(e.nodeModel.options.grid.decimalPlaceRW=a)}}function ae(e,a){if(-1!==e.rowID){for(var t=b.Types,n=Object.keys(t),l=0;l<n.length;l++)S[t[n[l]].name]===e.nodeModel.options.label&&(z[t[n[l]].name]=parseInt(a),Q=!0);e.nodeModel.options.grid.decimalPlaceRO&&(e.nodeModel.options.grid.decimalPlaceRO=a)}}function te(){for(var e=0;e<T.length;e++)if(T[e].spec.visibilityCondition)for(var a=0;a<T.length;a++)if(T[a].spec.id===T[e].spec.visibilityCondition.id){var t;if("checkbox"===T[a].spec.type)t=T[a].ui.checkFlag;else if("radio"===T[a].spec.type||"radiobutton"===T[a].spec.type){for(var n=0;n<T[a].ui.length;n++)if(T[a].ui[n].checkFlag){t=T[a].ui[n].value;break}}else if("combo"===T[a].spec.type)t=T[a].ui.value;else if("editor"===T[a].spec.type)t=T[a].ui.value;else if("color"===T[a].spec.type)t=T[a].ui.value;else if("checkbox+spinbox"===T[a].spec.type)t=T[a].ui.checkbox.checkFlag;else if("spinbox"===T[a].spec.type)t=T[a].ui.spinbox.value;else if("radio+color"===T[a].spec.type)for(let e=0;e<T[a].ui.radio.length;e++)if(T[a].ui.radio[e].checkFlag){t=T[a].ui.radio[e].value;break}T[e].prefDiv.setStyle("display",t===T[e].spec.visibilityCondition.value?"":"none");break}}function ne(a,t){if(t&&t.columnInfo&&t.id&&t.type){var n=e.createElement("div");if(t.withExpander&&t.expanderHeader&&t.expanderID){var l=new o({header:t.expanderHeader,body:n,style:"divided"});l.expandedFlag=H(t.expanderID),l.getContent().addEventListener("expand",(function(){q(t.expanderID,!0)})),l.getContent().addEventListener("collapse",(function(){q(t.expanderID,!1)})),l.inject(a)}else n.inject(a);if(t.gridTitle){var i=new d({value:t.gridTitle});i.getContent().setStyles({"font-weight":"bold","text-align":"left"}),i.getContent().style.background="none",i.inject(n)}var r=new m({useAsyncPreExpand:!1,shouldAcceptDrag:function(){return!1},shouldAcceptDrop:function(){return!1}}),u={identifier:t.id,treeDocument:r,defaultColumnDef:{width:"auto"},columns:t.columnInfo,rowSelection:"single",showRowIndexFlag:!1,showSelectionCheckBoxesFlag:!1,cellSelection:{defaultValue:"none"},rowDragEnabledFlag:!1,cellDragEnabledFlag:!1,activateAllCellsRenderedEventFlag:!0,showRowBorderFlag:!0,placeholder:"",recId:t.id},s=new c(u);s.layout.rowsHeader=!1,t.enumID&&t.enumVal&&s.getTypeRepresentationFactory().registerEnum(t.enumID,t.enumVal),t.typeRepresentation&&s.getTypeRepresentationFactory().registerTypeRepresentations(t.typeRepresentation);var p=e.createElement("div",{styles:{position:"relative",height:25*((t.displayHeight?t.displayHeight:5)+1)+2+"px",margin:"10px 0px"}}).inject(n);return s.inject(p),t.initGridDataCB(r),T.push({prefDiv:s,ui:n,spec:{id:t.id,type:t.type,refreshDefaultValues:function(){var e=r.getRoots();t.refreshDefaultValuesCB(e)},updateGridValues:function(){t.updateGridValuesCB()}}}),n}}function le(a,i){var o;if("checkbox"===a.type)o=new t({label:a.nls,value:a.id,type:a.type,checkFlag:a.getValue()}).inject(i),-1!==F.indexOf(a.id)&&o.addEventListener("change",te),T.push({prefDiv:o,ui:o,spec:a});else if("radio"===a.type){let n=e.createElement("label",{text:a.nls,class:"CATWebUXRadioSectionTitle",styles:{"margin-bottom":"0px",padding:"10px 0px"}}).inject(i);a.nls||n.setStyle("display","none");let l=e.createElement("div",{styles:{"padding-bottom":"10px","margin-left":"10px"}}).inject(i);a.customStyle&&l.setStyles(a.customStyle);let r=a.getValue(),u=[];for(let n=0;n<a.options.length;n++){if(o=new t({label:a.options[n].nls,value:a.options[n].id,type:"radio",checkFlag:a.options[n].id===r}).inject(l),a.options[n].content){let t=e.createElement("div",{styles:{"margin-left":"25px"}}).inject(l);for(let e=0;e<a.options[n].content.length;e++){le(a.options[n].content[e],t)}}u.push(o),-1!==F.indexOf(a.id)&&o.addEventListener("change",te),a.onChange&&o.addEventListener("change",(e=>{e.dsModel.checkFlag&&a.onChange(e.dsModel.value)}))}T.push({prefDiv:l,ui:u,spec:a})}else if("radiobutton"===a.type){let t=e.createElement("div",{styles:{display:"grid","grid-template-columns":"30% 60%",margin:"2px 0"}}).inject(i),n=e.createElement("span",{text:a.nls,class:"CATWebUXRadioSectionTitle",styles:{margin:"auto 0px"}}).inject(t);a.nls||n.setStyle("display","none");let r=a.getValue(),u=[],s=new p({}).inject(t);for(let e=0;e<a.options.length;e++)o=new l({label:a.options[e].nls,value:a.options[e].id,type:"radio",disabled:a.isDisabled&&a.isDisabled(),icon:a.options[e].icon?{iconName:a.options[e].icon,fontIconFamily:WUXManagedFontIcons.Font3DS}:void 0,checkFlag:a.options[e].id===r}),s.addChild(o),u.push(o),-1!==F.indexOf(a.id)&&o.addEventListener("change",te),a.onChange&&o.addEventListener("change",(e=>{e.dsModel.checkFlag&&a.onChange(e.dsModel.value)}));T.push({prefDiv:t,ui:u,spec:a})}else if("editor"===a.type){let t=e.createElement("div",{class:"CATWebUXEditorSectionTitle",styles:{width:"100%"}}).inject(i),n=e.createElement("label",{text:a.nls,class:"CATWebUXEditorSectionTitle",styles:{"margin-bottom":"0px",padding:"10px 0px",display:"inline-block","font-weight":"normal"}}).inject(t);a.nls||n.setStyle("display","none");let l=new s({value:a.getValue(),selectAllOnFocus:!0,autoCommitFlag:!0}).inject(t);l.elements.container.setStyles({display:"inline-block","padding-left":"10px"}),T.push({prefDiv:l,ui:l,spec:a})}else if("combo"===a.type){let t=e.createElement("div",{styles:{display:"grid","grid-template-columns":"30% 60%",margin:"2px 0"}}).inject(i);a.customStyle&&t.setStyles(a.customStyle);let n=e.createElement("span",{text:a.nls,class:"CATWebUXComboSectionTitle",styles:{margin:"auto 0px"}}).inject(t);a.nls||n.setStyle("display","none");let l=[];a.withIcons?l=a.options:a.options.forEach((function(e){l.push({labelItem:e.nls,valueItem:e.id})}));let o=new u({elementsList:l,value:a.getValue(),disabled:a.isDisabled&&a.isDisabled(),enableSearchFlag:"undefined"===a.enableSearchFlag||a.enableSearchFlag}).inject(t);-1!==F.indexOf(a.id)&&o.addEventListener("change",te),a.onChange&&o.addEventListener("change",(e=>{a.onChange(e.dsModel.value)})),T.push({prefDiv:t,ui:o,spec:a})}else if("color"===a.type){var d=e.createElement("div",{class:"CATWebUXColorPickerDiv"}).inject(i);if(o=new r({value:a.getValue(),alignment:"left"}).inject(d),a.nls)e.createElement("p",{class:"CATWebUXColorPickerLabel",styles:{display:"inline-block","vertical-align":"super","margin-left":"5px"}}).inject(d).innerText=a.nls;-1!==F.indexOf(a.id)&&o.addEventListener("change",te),T.push({prefDiv:d,ui:o,spec:a})}else if("checkbox+spinbox"===a.type){let l=e.createElement("div",{class:"CATWebUXCheckSpinboxCombo",styles:{display:"flex","align-items":"center","margin-bottom":"5px"}}).inject(i);o=new t({label:a.prefixnls+": ",value:a.id,type:"checkbox",checkFlag:a.getValue()}).inject(l);let r=e.createElement("div",{styles:{display:"flex","margin-left":"5px",width:"150px"}}).inject(l),u=a.getSpinBoxValues(),s=new n({value:u.value,units:C[u.units],minValue:u.minValue,maxValue:u.maxValue,stepValue:u.stepValue,disabled:a.disableSpinboxAtUncheck&&!a.getValue(),pageStepValue:1}).inject(r);e.createElement("label",{text:a.suffixnls,class:"wux-label",styles:{"margin-bottom":"0px",padding:"5px","font-weight":"inherit"}}).inject(l),a.disableSpinboxAtUncheck&&o.addEventListener("change",(function(e){s.disabled=!e.dsModel.checkFlag})),-1!==F.indexOf(a.id)&&(o.addEventListener("change",te),s.addEventListener("change",te)),T.push({prefDiv:o,ui:{checkbox:o,spinbox:s},spec:a})}else if("spinbox"===a.type){let t=e.createElement("div",{class:"CATWebUXSpinboxCombo",styles:{display:"grid","grid-template-columns":"30% 70%",margin:"2px 0"}}).inject(i),l=e.createElement("span",{text:a.nls,class:"CATWebUXSpinboxTitle",styles:{margin:"auto 0px"}}).inject(t);a.nls||l.setStyle("display","none");let r=e.createElement("div").inject(t);a.customStyle&&(a.customStyle.forMainDiv&&t.setStyles(a.customStyle.forMainDiv),a.customStyle.forSpinboxDiv&&r.setStyles(a.customStyle.forSpinboxDiv));let u=a.getSpinBoxValues(),s=new n({value:u.value,units:C[u.units],minValue:u.minValue,maxValue:u.maxValue,stepValue:u.stepValue,disabled:a.isDisabled&&a.isDisabled()||a.disableSpinboxAtUncheck&&!a.getValue(),pageStepValue:1}).inject(r);T.push({prefDiv:o,ui:{spinbox:s},spec:a})}else if("dataGrid"===a.type)ne(i,a);else if("color+spinbox"===a.type){let t=e.createElement("div",{class:"CATWebUXColorSpinboxComboDiv",styles:{display:"flex","align-items":"center"}}).inject(i);if(a.nlsColor){e.createElement("label",{text:a.nlsColor,class:"wux-label",styles:{"padding-right":"10px","font-weight":"inherit"}}).inject(t)}if(o=new r({value:a.getColorValue(),alignment:"left"}).inject(t),-1!==F.indexOf(a.id)&&o.addEventListener("change",te),a.nlsSpin){e.createElement("label",{text:a.nlsSpin,class:"wux-label",styles:{"margin-bottom":"0px","padding-left":"15px","font-weight":"inherit"}}).inject(t)}let l=e.createElement("div",{styles:{display:"flex","margin-left":"5px",width:"100px"}}).inject(t),u=a.getSpinBoxValues(),s=new n({value:u.value,units:u.units,minValue:u.minValue,maxValue:u.maxValue,stepValue:u.stepValue,disabled:a.disableSpinboxAtUncheck&&!a.getValue(),pageStepValue:1}).inject(l);T.push({prefDiv:o,ui:{color:o,spinbox:s},spec:a,units:u.units})}else if("radio+color"===a.type){let n=e.createElement("div",{class:"CATWebUXRadioColorboxComboDiv",styles:{display:"flex","align-items":"center"}}).inject(i),l=e.createElement("div",{styles:{"padding-top":"5px","margin-left":"0px"}}).inject(n),u=a.getValue(),s=[];for(let e=0;e<a.options.length;e++)o=new t({label:a.options[e].nls,value:a.options[e].id,type:"radio",checkFlag:a.options[e].id===u}).inject(l),s.push(o),-1!==F.indexOf(a.id)&&o.addEventListener("change",te),a.onChange&&o.addEventListener("change",(e=>{e.dsModel.checkFlag&&a.onChange(e.dsModel.value)}));let d=e.createElement("div",{styles:{"padding-bottom":"20px","margin-left":"10px"}}).inject(n);var c=new r({value:a.getColorValue(),alignment:"left",disabled:a.disableColorBox&&a.disableColorBox(u)}).inject(d);-1!==F.indexOf(a.id)&&o.addEventListener("change",te),T.push({prefDiv:d,ui:{color:c,radio:s},spec:a})}}let ie;function oe(a,t){var n=e.createElement("div"),l=new o({header:a.nls,body:n,style:"divided"});l.expandedFlag=H(a.id),l.getContent().addEventListener("expand",(function(){q(a.id,!0)})),l.getContent().addEventListener("collapse",(function(){q(a.id,!1)})),l.inject(t);for(var i=a.preferences,r=0;r<i.length;r++)"section"===i[r].type?oe(i[r],n):"sectionNoExpander"===i[r].type?ie(i[r],n):le(i[r],n)}ie=function(a,t){var n=e.createElement("div",{styles:{"padding-bottom":"10px"}});n.inject(t);var l=new d({value:a.nls});l.getContent().setStyles({"font-weight":"bold","text-align":"left"}),l.getContent().style.background="none",l.inject(n),n=e.createElement("div",{styles:{"margin-left":"10px"}}).inject(n);for(var i=a.preferences,o=0;o<i.length;o++)"section"===i[o].type?oe(i[o],n):"sectionNoExpander"===i[o].type?ie(i[o],n):le(i[o],n)},this.displayPreferencePanel=function(a){if(!A&&a&&(x&&x.length||O.units||O.display||O.sel3D||O.sel2D||O.measure||O.clipping)){var t,n;O.measure&&((t=[]).push({text:W.measureCol,dataIndex:"tree",editableFlag:!1}),t.push({text:W.measureTypesCol,dataIndex:"measureTypes",editableFlag:!0,editionPolicy:"EditionOnOver",typeRepresentation:X,setCellValue:I}),t.push({text:W.unitCol,dataIndex:"unitDisplay",editableFlag:!0,editionPolicy:"EditionOnOver",typeRepresentation:X,setCellValue:R}),E.removePreferences(["MeasurePreferences"]),E.addPreferences([{nls:v.measureSectionTitle,id:"MeasurePreferences",type:"section",preferences:[{type:"dataGrid",withTitle:!0,gridTitle:W.mainValuelbl,columnInfo:t,id:"DMUMeasureMainValueDisplayList",enumID:X,enumVal:[W.yesOption,W.noOption],displayHeight:5,dataModel:B,initGridDataCB:w,refreshDefaultValuesCB:L,updateGridValuesCB:k},{nls:v.RemovePreviousNonPersistentLbl,id:"DMUMeasureRemovePreviousNonPersistent",type:"checkbox",getValue:function(){return"true"===localStorage.getItem("DMUMeasureRemovePreviousNonPersistent")},getDefaultValue:function(){return!1},setValue:function(e){e!==("true"===localStorage.getItem("DMUMeasureRemovePreviousNonPersistent"))&&localStorage.setItem("DMUMeasureRemovePreviousNonPersistent",e?"true":"false")}}]}])),O.clipping&&(n=_.getPrefNLS(),E.addPreferences([{nls:n.title,id:"ClippingPreferences",type:"section",preferences:[{nls:n.cappingSubSection.title,id:"DMUCappingProp",type:"sectionNoExpander",preferences:[{type:"radio+color",id:_.getKey("CappingColor"),id2:_.getKey("CappingColorSource"),options:_.colorRadioOptions,setValue:function(e){_.capping.setUseGeomColorStatus(e)},getValue:function(){return _.capping.getUseGeomColorStatus()},getDefaultValue:function(){return _.capping.getDefaultUseGeomColorValue()},getColorValue:function(){return _.capping.getColorValue()},setColorValue:function(e){_.capping.setColorValue(e)},getDefaultColorValue:function(){return _.capping.getDefaultColorValue()}}]},{nls:n.contourSubSection.title,id:"DMUContourProp",type:"sectionNoExpander",preferences:[{nls:n.contourSubSection.computeCheckboxLbl,id:_.getKey("ComputeContour"),type:"checkbox",getValue:function(){return _.contour.getComputeStatus()},getDefaultValue:function(){return _.contour.getDefaultComputeValue()},setValue:function(e){_.contour.setComputeStatus(e)}},{type:"radio+color",id:_.getKey("ContourColor"),id2:_.getKey("ContourColorSource"),options:_.colorRadioOptions,setValue:function(e){_.contour.setUseGeomColorStatus(e)},getValue:function(){return _.contour.getUseGeomColorStatus()},getDefaultValue:function(){return _.contour.getDefaultUseGeomColorValue()},getColorValue:function(){return _.contour.getColorValue()},setColorValue:function(e){_.contour.setColorValue(e)},getDefaultColorValue:function(){return _.contour.getDefaultColorValue()}},{nls:n.contourSubSection.thicknessComboboxLbl,id:_.getKey("ContourThickness"),type:"combo",withIcons:!0,customStyle:{"grid-template-columns":"50% 50%",width:"150px"},options:_.contourThicknessComboOptions,getValue:function(){return _.contour.getThicknessValue()},getDefaultValue:function(){return _.contour.getDefaultThicknessValue()},setValue:function(e){_.contour.setThicknessValue(e)}}]},{nls:n.representationSubSection.title,id:"DMUClippingRepresentation",type:"sectionNoExpander",preferences:[{nls:n.representationSubSection.displayCheckboxLbl,id:_.getKey("ClippingPlaneDisplay"),type:"checkbox",getValue:function(){return _.sectionPlane.getDisplayStatus()},getDefaultValue:function(){return _.sectionPlane.getDefaultDisplayValue()},setValue:function(e){_.sectionPlane.setDisplayStatus(e)}},{nlsSpin:n.representationSubSection.transparencySpinnerboxLbl,nlsColor:n.representationSubSection.colorBtn,id:_.getKey("ClippingPlaneColor"),id2:_.getKey("ClippingPlaneTransparencey"),type:"color+spinbox",getColorValue:function(){return _.sectionPlane.getColorValue()},setColorValue:function(e){_.sectionPlane.setColorValue(e)},getDefaultColorValue:function(){return _.sectionPlane.getDefaultColorValue()},getSpinBoxValues:function(){return _.sectionPlane.getTransparencyValue()},setSpinBoxValue:function(e){_.sectionPlane.setTransparencyValue(e)},getSpinBoxDefaultValues:function(){return _.sectionPlane.getDefaultTransparencyValue()}}]},{nls:n.normalDirectionSubSection.title,id:"DMUClippingNormalDirection",type:"sectionNoExpander",preferences:[{type:"radio",customStyle:{"margin-left":"0px"},id:_.getKey("ClippingNormalDir"),options:_.normalDirOptions,setValue:function(e){_.planeNormalDir.setDirValue(e)},getValue:function(){return _.planeNormalDir.getDirValue()},getDefaultValue:function(){return _.planeNormalDir.getDefaultDirValue()}}]},{nls:n.manipulationSubSection.title,id:"DMUClippingManipulation",type:"sectionNoExpander",preferences:[{nls:n.manipulationSubSection.manipulationStatus,id:_.getKey("ClippingManipulation"),type:"checkbox",getValue:function(){return _.manipulation.getStatus()},getDefaultValue:function(){return _.manipulation.getDefaultValue()},setValue:function(e){_.manipulation.setStatus(e)}},{type:"radio",id:_.getKey("ClippingNormalDir"),customStyle:{"margin-left":"0px"},options:_.ManipulationViewRadioOptions,setValue:function(e){_.manipulation.setManipulationView(e)},getValue:function(){return _.manipulation.getManipulationView()},getDefaultValue:function(){return _.manipulation.getDefaultManipulationView()}},{type:"spinbox",customStyle:{forMainDiv:{display:"flex","grid-template-columns":"",margin:""},forSpinboxDiv:{display:"flex","margin-left":"5px",width:"150px"}},nls:n.manipulationSubSection.increment,id:_.getKey("ClippingManipulationToolIncrementVal"),options:_.ManipulationViewRadioOptions,isDisabled:function(){return!1},iDoNotConvert:!0,setSpinBoxValue:function(e,a){_.manipulation.setIncrementVal(e,a)},getSpinBoxValues:function(){return _.manipulation.getIncrementVal()},getSpinBoxDefaultValues:function(){return _.manipulation.getDefaultIncrementVal()}}]}]}])),F.length=0;var r,u,s,d,p=e.createElement("div"),c=function(e){if(e.visibilityCondition&&F.push(e.visibilityCondition.id),"section"===e.type||"sectionNoExpander"===e.type)for(var a=0;a<e.preferences.length;a++)c(e.preferences[a])};for(r=0;r<x.length;r++)c(x[r]);if(U&&U.length)for(var m=0;m<U.length;m++)for(r=0;r<x.length;r++)if(x[r].id===U[m]){"section"===x[r].type?oe(x[r],p):"sectionNoExpander"===x[r].type?ie(x[r],p):le(x[r],p);break}for(r=0;r<x.length;r++)-1===U.indexOf(x[r].id)&&("section"===x[r].type?oe(x[r],p):"sectionNoExpander"===x[r].type?ie(x[r],p):le(x[r],p));O.units&&function(e){var a,t,n,l,i=b.Types,o=Object.keys(i),r={};for(a=0;a<o.length;a++){t={},n=b[o[a]],l=Object.keys(n);for(var u=0;u<l.length;u++)n[l[u]].deprecatedName&&(t[n[l[u]].symbol]=n[l[u]].name);r[o[a]]={stdTemplate:"enumCombo",semantics:{possibleValues:t,valueType:"enumCustom"}}}var s="DecimalPlaceEnum",d=[];d.push({text:D.magnitudeCol,dataIndex:"tree",editableFlag:!1}),d.push({text:D.unitCol,dataIndex:"unit",editableFlag:!0,getCellTypeRepresentation:function(e){if(-1!==e.rowID){for(var a=0;a<o.length;a++)if(S[i[o[a]].name]===e.nodeModel.options.label)return i[o[a]].name;return""}},editionPolicy:"EditionOnOver",setCellValue:$}),d.push({icon:"wux-ui-3ds wux-ui-3ds-1x wux-ui-3ds-lock-open",description:D.decimalPlaceRW,dataIndex:"decimalPlaceRW",editionPolicy:"EditionOnOver",editableFlag:!0,typeRepresentation:s,setCellValue:ee}),d.push({icon:"wux-ui-3ds wux-ui-3ds-1x wux-ui-3ds-lock",description:D.decimalPlaceRO,dataIndex:"decimalPlaceRO",editionPolicy:"EditionOnOver",editableFlag:!0,typeRepresentation:s,setCellValue:ae});let p={};var c,m,y;o.forEach((e=>{p[e]={unit:b.getPreference(e),decimalPlaceRW:b.getPreference(e+"Display","int"),decimalPlaceRO:b.getPreference(e+"CalcDisplay","int")}}));var V=ne(e,{withExpander:!0,expanderID:"Units",expanderHeader:D.unitsLabel,columnInfo:d,id:"CATWebUXPreferences_UnitsAndDecimalPlace",type:"dataGrid",displayHeight:o.length,typeRepresentation:r,enumID:s,enumVal:[0,1,2,3,4,5,6,7,8,9],initGridDataCB:function(e){for(a=0;a<o.length;a++)y=i[o[a]].name,(m=p&&p[y]?p[y]:null)||(m={unit:i[o[a]].defaultValue,decimalPlaceRW:i[o[a]].defaultDecimalPlaceRW,decimalPlaceRO:i[o[a]].defaultDecimalPlaceRO}),c=new f({label:S[y],grid:{unit:m.unit,decimalPlaceRW:m.decimalPlaceRW,decimalPlaceRO:m.decimalPlaceRO}}),e.addRoot(c)},refreshDefaultValuesCB:function(e){for(a=0;a<o.length;a++){y=i[o[a]].name,Z[y]!==i[o[a]].defaultValue&&(Z[y]=i[o[a]].defaultValue,Q=!0),Y[y]!==i[o[a]].defaultDecimalPlaceRW&&(Y[y]=i[o[a]].defaultDecimalPlaceRW,Q=!0),z[y]!==i[o[a]].defaultDecimalPlaceRO&&(z[y]=i[o[a]].defaultDecimalPlaceRO,Q=!0);for(var t=0;t<e.length;t++)if(S[y]===e[t].options.label){e[t].updateOptions({grid:{unit:i[o[a]].defaultValue,decimalPlaceRW:i[o[a]].defaultDecimalPlaceRW,decimalPlaceRO:i[o[a]].defaultDecimalPlaceRO}});break}}},updateGridValuesCB:function(){if(Q){var e={},t={};for(h.length=0,a=0;a<o.length;a++){y=i[o[a]].name,(m=p&&p[y]?p[y]:null)||(m={unit:i[o[a]].defaultValue,decimalPlaceRW:i[o[a]].defaultDecimalPlaceRW,decimalPlaceRO:i[o[a]].defaultDecimalPlaceRO});var n=m.unit;if(Z[y])for(var l=Object.keys(M),r=0;r<l.length;r++)if(l[r]===Z[y]){n=l[r];break}const u="number"==typeof Y[y]&&Y[y]>=0?Y[y]:m.decimalPlaceRW,s="number"==typeof z[y]&&z[y]>=0?z[y]:m.decimalPlaceRO;localStorage.setItem("CATWebUXMePreferences_"+o[a],n),localStorage.setItem("CATWebUXMePreferences_"+o[a]+"Display",u),localStorage.setItem("CATWebUXMePreferences_"+o[a]+"CalcDisplay",s),n!==m.unit&&h.push(o[a]),u!==m.decimalPlaceRW&&h.push(o[a]+"Display"),s!==m.decimalPlaceRO&&h.push(o[a]+"CalcDisplay"),e[o[a]]={unit:n,decimalPlaceRW:u,decimalPlaceRO:s},t[o[a]]={unit:C[n],decimalPlaceRW:u,decimalPlaceRO:s}}return JSON.stringify(e)!==JSON.stringify(p)?(localStorage.setItem("CATWebUXPreferences_Units",JSON.stringify(t)),g.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_UnitsAndDecimalPlace",value:t})),t):void 0}}});le({id:"TrailingZeros",nls:D.trailingZeros,type:"checkbox",getValue:function(){return"true"===localStorage.getItem("CATWebUXMePreferences_TrailingZeros")},getDefaultValue:function(){return!1},setValue:function(e){"true"===localStorage.getItem("CATWebUXMePreferences_TrailingZeros")!==e&&(localStorage.setItem("CATWebUXPreferences_TrailingZeros",e?"true":"false"),localStorage.setItem("CATWebUXMePreferences_TrailingZeros",e?"true":"false"),g.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_TrailingZeros",value:e})))}},V)}(p),O.display&&(u=p,s=e.createElement("div"),(d=new o({header:D.displayLabel,body:s,style:"divided"})).expandedFlag=H("Display"),d.getContent().addEventListener("expand",(function(){q("Display",!0)})),d.getContent().addEventListener("collapse",(function(){q("Display",!1)})),d.inject(u),le({id:"Gravity",nls:D.gravitationalEffects,type:"checkbox",getValue:function(){return"true"===localStorage.getItem("CATWebUXMePreferences_Gravity")},getDefaultValue:function(){return!1},setValue:function(e){localStorage.setItem("CATWebUXPreferences_GravitationalEffects",e?"true":"false"),localStorage.setItem("CATWebUXMePreferences_Gravity",e?"true":"false"),g.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_GravitationalEffects",value:e}))}},s),le({id:"ProjectionType",nls:D.projectionType,type:"radio",getValue:function(){return localStorage.getItem("CATWebUXMePreferences_ProjectionType")||"Perspective"},getDefaultValue:function(){return"Perspective"},setValue:function(e){localStorage.setItem("CATWebUXPreferences_ProjectionType","Parallel"===e?"1":"0"),localStorage.setItem("CATWebUXMePreferences_ProjectionType","Parallel"===e?"Parallel":"Perspective"),g.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_ProjectionType",value:"Parallel"===e?1:0}))},options:[{id:"Parallel",nls:D.orthographic},{id:"Perspective",nls:D.perspective}]},s)),(O.sel3D||O.sel2D)&&function(a){var t=e.createElement("div"),n=new o({header:D.selectionLabel,body:t,style:"divided"});n.expandedFlag=H("Selection"),n.getContent().addEventListener("expand",(function(){q("Selection",!0)})),n.getContent().addEventListener("collapse",(function(){q("Selection",!1)})),n.inject(a),O.sel3D&&(le({id:"Select3DGeometry",nls:D.select3DGeometry,type:"checkbox",getValue:function(){return"true"===localStorage.getItem("CATWebUXMePreferences_Select3DGeometry")},getDefaultValue:function(){return!1},setValue:function(e){localStorage.setItem("CATWebUXPreferences_Select3DGeometry",e?"true":"false"),localStorage.setItem("CATWebUXMePreferences_Select3DGeometry",e?"true":"false"),g.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_Select3DGeometry",value:e}))}},t),le({id:"SelectParentReferenceOr3DShape",nls:D.selectParentReferenceOr3DShape,type:"radio",options:[{id:"selectParentReference",nls:D.selectParentReference},{id:"select3DShape",nls:D.select3DShape}],getValue:function(){return localStorage.getItem("CATWebUXMePreferences_SelectParentReferenceOr3DShape")||"selectParentReference"},getDefaultValue:function(){return"selectParentReference"},setValue:function(e){localStorage.setItem("CATWebUXPreferences_SelectParentReferenceOr3DShape",e),localStorage.setItem("CATWebUXMePreferences_SelectParentReferenceOr3DShape",e),g.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_SelectParentReferenceOr3DShape",value:e}))}},t)),O.sel2D&&le({id:"Select2DGeometry",nls:D.select2DGeometry,type:"checkbox",getValue:function(){return"true"===localStorage.getItem("CATWebUXMePreferences_Select2DGeometry")},getDefaultValue:function(){return!1},setValue:function(e){localStorage.setItem("CATWebUXPreferences_Select2DGeometry",e?"true":"false"),localStorage.setItem("CATWebUXMePreferences_Select2DGeometry",e?"true":"false"),g.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_Select2DGeometry",value:e}))}},t)}(p),O.exportSection&&function(a){var t=e.createElement("div"),n=new o({header:D.exportLabel,body:t,style:"divided"});n.expandedFlag=H("Export"),n.getContent().addEventListener("expand",(function(){q("Export",!0)})),n.getContent().addEventListener("collapse",(function(){q("Export",!1)})),n.inject(a),le({id:"ExportPersonalData",nls:D.exportPersonalData,type:"checkbox",getValue:function(){return"true"===localStorage.getItem("CATWebUXMePreferences_ExportPersonalData")},getDefaultValue:function(){return!1},setValue:function(e){localStorage.setItem("CATWebUXPreferences_ExportPersonalData",e?"true":"false"),localStorage.setItem("CATWebUXMePreferences_ExportPersonalData",e?"true":"false"),g.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_ExportPersonalData",value:e}))}},t)}(p),F.length&&te();var y=new l({emphasize:"primary",label:D.saveButton,onClick:function(){G("onBeforeChangingPreferences");var e=[];if(T.forEach((function(a){if("checkbox"===a.spec.type)a.spec.getValue()!==a.ui.checkFlag&&(a.spec.setValue(a.ui.checkFlag),e.push({id:a.spec.id,value:a.ui.checkFlag}));else if("radio"===a.spec.type||"radiobutton"===a.spec.type){for(let t=0;t<a.ui.length;t++)if(a.ui[t].checkFlag&&a.spec.getValue()!==a.ui[t].value){a.spec.setValue(a.ui[t].value),e.push({id:a.spec.id,value:a.ui[t].value});break}}else if("editor"===a.spec.type)a.spec.getValue()!==a.ui.value&&(a.spec.setValue(a.ui.value),e.push({id:a.spec.id,value:a.ui.value}));else if("combo"===a.spec.type)a.spec.getValue()!==a.ui.value&&(a.spec.setValue(a.ui.value),e.push({id:a.spec.id,value:a.ui.value}));else if("color"===a.spec.type){if(a.spec.getValue()!==a.ui.value&&a.spec.getValue()!=="#"+a.ui.value){let t=a.ui.value.includes("#")?a.ui.value:"#"+a.ui.value;a.spec.setValue(t),e.push({id:a.spec.id,value:t})}}else if("dataGrid"===a.spec.type){var t=a.spec.updateGridValues();t&&e.push({id:a.spec.id,value:t})}else if("checkbox+spinbox"===a.spec.type){let t=a.spec.getSpinBoxValues();a.spec.getValue()===a.ui.checkbox.checkFlag&&a.ui.spinbox.value===t.value||(a.spec.setValue(a.ui.checkbox.checkFlag),a.ui.spinbox.units===C.Radian?a.spec.setSpinBoxValue(b.convert(a.ui.spinbox.value,"Angle","Radian","Degree")):a.ui.spinbox.units===C.Degree?a.spec.setSpinBoxValue(b.convert(a.ui.spinbox.value,"Angle","Degree","Radian")):a.ui.spinbox.units===C.Inch?a.spec.setSpinBoxValue(b.convert(a.ui.spinbox.value,"Length","Inch","Meter")):a.ui.spinbox.units===C.Millimeter?a.spec.setSpinBoxValue(b.convert(a.ui.spinbox.value,"Length","Millimeter","Meter")):a.spec.setSpinBoxValue(a.ui.spinbox.value),e.push({id:a.spec.id,value:a.ui.checkbox.checkFlag,spinBoxValue:a.ui.spinbox.value,units:a.ui.spinbox.units}))}else if("spinbox"===a.spec.type){let t=a.spec.getSpinBoxValues();a.ui.spinbox.value!==t.value&&(a.spec.iDoNotConvert?a.spec.setSpinBoxValue(a.ui.spinbox.value,a.ui.spinbox.units):a.ui.spinbox.units===C.Radian?a.spec.setSpinBoxValue(b.convert(a.ui.spinbox.value,"Angle","Radian","Degree")):a.ui.spinbox.units===C.Degree?a.spec.setSpinBoxValue(b.convert(a.ui.spinbox.value,"Angle","Degree","Radian")):a.ui.spinbox.units===C.Inch?a.spec.setSpinBoxValue(b.convert(a.ui.spinbox.value,"Length","Inch","Meter")):a.ui.spinbox.units===C.Millimeter?a.spec.setSpinBoxValue(b.convert(a.ui.spinbox.value,"Length","Millimeter","Meter")):a.spec.setSpinBoxValue(a.ui.spinbox.value),e.push({id:a.spec.id,spinBoxValue:a.ui.spinbox.value,units:a.ui.spinbox.units}))}else if("color+spinbox"===a.spec.type){let t=a.spec.getSpinBoxValues();a.ui.spinbox.value===t.value&&a.spec.getColorValue()==="#"+a.ui.color.value||(a.spec.setColorValue(a.ui.color.value),a.spec.setSpinBoxValue(a.ui.spinbox.value),e.push({id:a.spec.id,colorValue:a.ui.color.value}),a.spec.id2&&e.push({id:a.spec.id2,spinBoxValue:a.ui.spinbox.value,units:a.ui.spinbox.units}))}else if("radio+color"===a.spec.type)for(let t=0;t<a.ui.radio.length;t++)if(a.ui.radio[t].checkFlag&&(a.spec.getValue()!==a.ui.radio[t].value||a.spec.getColorValue()!=="#"+a.ui.color.value)){a.spec.setValue(a.ui.radio[t].value),a.spec.setColorValue(a.ui.color.value),e.push({id:a.spec.id,colorValue:a.ui.color.value}),a.spec.id2&&e.push({id:a.spec.id2,value:a.ui.radio[t].value});break}})),E.clearPreferencePanel(),e.length||h.length){let a={Repository:"",PreferenceNames:[]};for(let t=0;t<e.length;t++){if(a.PreferenceNames.push(e[t].id),"SnapHandlesToGrid"===e[t].id){a.PreferenceNames.push("SnapHandlesGridValue");const e=P.SnapHandlesGridValue;e&&a.PreferenceNames.push(e)}else if("SnapRotationToggle"===e[t].id){a.PreferenceNames.push("SnapRotationAngle");const e=P.SnapRotationToggleAngle;e&&a.PreferenceNames.push(e)}const n=P[e[t].id];n&&a.PreferenceNames.push(n)}h.length&&(a.PreferenceNames=a.PreferenceNames.concat(h),h.length=0);let t=b._generatePreferencesObject([a],!0),n=[{version:"1.0"},{preferences:JSON.stringify(t)},{tenantId:""}];G("onPreferencesChanged",e),G("com.ds.mep:onPrefUpdate",n),_.updateClippingPrefs(n)}G("onAfterChangingPreferences")}}),V=new l({label:D.resetButton,onClick:function(){T.forEach((function(e){if("dataGrid"===e.spec.type)e.spec.refreshDefaultValues();else{var a=e.spec.getDefaultValue&&e.spec.getDefaultValue();if("checkbox"===e.spec.type)e.ui.checkFlag=a;else if("radio"===e.spec.type||"radiobutton"===e.spec.type)for(var t=0;t<e.ui.length;t++)e.ui[t].value===a&&(e.ui[t].checkFlag=!0);else if("combo"===e.spec.type)e.ui.value=a;else if("editor"===e.spec.type)e.ui.value=a;else if("color"===e.spec.type)e.ui.value=a;else if("checkbox+spinbox"===e.spec.type){e.ui.checkbox.checkFlag=a;let t=e.spec.getSpinBoxDefaultValues();e.ui.spinbox.value=t.value,e.ui.spinbox.units=C[t.units],e.ui.spinbox.minValue=t.minValue,e.ui.spinbox.maxValue=t.maxValue,e.ui.spinbox.stepValue=t.stepValue}else if("spinbox"===e.spec.type){let a=e.spec.getSpinBoxDefaultValues();e.ui.spinbox.value=a.value,e.ui.spinbox.units=C[a.units],e.ui.spinbox.minValue=a.minValue,e.ui.spinbox.maxValue=a.maxValue,e.ui.spinbox.stepValue=a.stepValue}if("color+spinbox"===e.spec.type){e.ui.color.value=e.spec.getDefaultColorValue();let a=e.spec.getSpinBoxDefaultValues();e.ui.spinbox.value=a.value,e.ui.spinbox.units=a.units,e.ui.spinbox.minValue=a.minValue,e.ui.spinbox.maxValue=a.maxValue,e.ui.spinbox.stepValue=a.stepValue}else if("radio+color"===e.spec.type){for(var n=0;n<e.ui.radio.length;n++)if(e.ui.radio[n].value===a){e.ui.radio[n].checkFlag=!0;break}e.ui.color.value=e.spec.getDefaultColorValue()}}}))}}),N=new l({label:D.cancelButton,onClick:E.clearPreferencePanel}),j=a.getImmersiveFrame?a.getImmersiveFrame().getFreeZone().getSize().height:a&&a.getOffsetHeight?a.getOffsetHeight():650;j-=150,j=Math.max(j,300),A=new i({modalFlag:!!a.getImmersiveFrame||void 0,ensureHeightDefinitionOnHierarchy:!0,title:D.panelTitle,content:p,resizableFlag:!0,immersiveFrame:a.getImmersiveFrame?a.getImmersiveFrame():void 0,height:j,buttons:{Abort:N,Ok:y,Apply:V}}),a.getImmersiveFrame||a.appendChild(A.elements.container),A.addEventListener("close",E.clearPreferencePanel)}},this.setPreferencesEnableFlag=function(e,a){T.filter((a=>e.includes(a.spec.id))).forEach((e=>{if("disabled"in e.ui)e.ui.disabled=!a;else{Object.keys(e.ui).forEach((t=>{e.ui[t].disabled=!a}))}}))},this.setPreferenceValue=function(e,a){let t=T.find((a=>a.spec.id===e));if("value"in t.ui)t.ui.value=a;else{Object.keys(t.ui).forEach((e=>{"value"in t.ui[e]&&(t.ui[e].value=a)}))}},this.getPreferenceValue=function(e){let a=T.find((a=>a.spec.id===e));if("value"in a.ui)return a.ui.value;if("radiobutton"===a.spec.type)return a.ui.find((e=>e.checkFlag)).value;let t=Object.keys(a.ui);for(let e=0;e<t.length;e++){const n=t[e];if("value"in a.ui[n])return a.ui[n].value}},this.clearPreferencePanel=function(){T.length=0,A&&(A.destroy(),A=null),G("onPreferencesPanelDestroyed")},this.addPreferences=function(e){if(Array.isArray(e))for(var a=0;a<e.length;a++)if(e[a].id){for(var t=!1,n=0;n<x.length;n++)x[n].id===e[a].id&&(t=!0);t||x.push(e[a])}},this.removeAllPreferences=function(){O={display:!1,units:!1,sel3D:!1,sel2D:!1,measure:!1,clipping:!1},E.removePreferences()},this.removePreferences=function(e){if(!e)return x.length=0,void(U.length=0);for(var a=0;a<e.length;a++)for(var t=x.length-1;t>=0;t--)if(x[t].id===e[a]){x.splice(t,1);break}},this.setUnitsPreferencesDisplayFlag=function(e){O.units!==e&&(O.units=e)},this.setDisplayPreferencesDisplayFlag=function(e){O.display!==e&&(O.display=e)},this.set3DSelectionPreferencesDisplayFlag=function(e){O.sel3D!==e&&(O.sel3D=e)},this.set2DSelectionPreferencesDisplayFlag=function(e){O.sel2D!==e&&(O.sel2D=e)},this.setExportPreferencesDisplayFlag=function(e){O.exportSection!==e&&(O.exportSection=e)},this.setMeasurePreferencesDisplayFlag=function(e){O.measure!==e&&(O.measure=e)},this.setClippingPreferencesDisplayFlag=function(e){O.clipping!==e&&(O.clipping=e)},this.getGenericPreferencesDisplayFlag=function(){return{units:O.units,display:O.display}},this.setPreferredPreferenceContainersOrder=function(e){U.length=0,e&&e.length&&(U=U.concat(e))},this.clearPreferenceManager=function(){E.clearPreferencePanel(),j&&(g.unsubscribe(j),j=0),K&&(g.unsubscribe(K),K=0),x.length=0,U.length=0},this.subscribe=function(e,a){if(e&&a&&N)return N.subscribe({event:e},a)},this.unsubscribe=function(e){N&&e&&N.unsubscribe(e)}}}),J=[];return a.singleton({init:function(){},givePreferenceManager:function(e){var a;return e&&e.context&&J.some((function(t){if(t.context===e.context)return a=t.preferenceMng,!0})),a},getPreferenceManager:function(e){var a,t;return e&&e.context&&J.some((function(t){if(t.context===e.context)return a=t,!0})),!a&&e&&e.context?(t=new q({context:e.context}),J.push({context:e.context,preferenceMng:t,counter:1})):a&&(a.counter++,t=a.preferenceMng),t},unreferencePreferenceManager:function(e){e&&e.context&&J.some((function(a,t){if(a.context===e.context)return J[t].counter--,J[t].counter<=0&&(J[t].preferenceMng.clearPreferenceManager(),J.splice(t,1)),!0}))}})}));