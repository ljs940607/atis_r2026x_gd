define("DS/ENOXVersionExplorerThumbnailGraphView/ThumbnailGraphOverview",["DS/egraph/iact","DS/egraph/overview"],(function(e,t,i){"use strict";var n={EGraphOverviewUI:function(i,n,o){n.document.addView2("ovr",new t.GraphView(i,n.document.gr.views.main,{width:i.clientWidth,height:i.clientHeight,hole:{className:"versionexplorer-overview-hole"},background:"#ffffff",nodeFill:"#77797c",maxScale:.1}),{newNodeView:function(e){return!0},newGroupView:function(e){return!0}}),new e.StateMachine(n.document.gr,null,new t.RootState,n.document.gr.views.ovr)}};return n})),define("DS/ENOXVersionExplorerThumbnailGraphView/TreeDocSyncETree",["DS/TreeModel/TreeDocument","DS/LifecycleDAGModel/DAGNodeModelBase","DS/LifecycleDAGModel/DAGMergeHiddenNode","DS/etree/tree","DS/ENOXVersionExplorerUtils/ArrayFunctions"],(function(e,t,i,n,o){"use strict";var a={};function s(e){var t;return"collapseState"===(t=e._expandState)||"partiallyExpandedState"===t}function r(e){var t;return(t=new n.Node(e)).setExpanded(!0),t}function d(e){var t,i,n,o,a;if(n=(i=e.data).__treeGraphRoot__,i.__treeGraphRoot__=null,t=i._modelEvents,Array.isArray(n))for(o=0,a=n.length;o<a;++o)t.unsubscribe(n[o])}function l(e){return function(t){var i;(i=t.target.__treeGraphNode__)&&(i.notifyUpdate(e,void 0),a.traceUpdates)}}a.Sync=function(e){this.document=e,this.model=null};var c=l("_isHighlighted"),p=l("_isSelected"),h=l("_isMatchingSearch");function u(e){var t,i,n;if(t=e.target,a.traceUpdates,(i=t.__treeGraphNode__)&&i.document){(n=i.document).updateLock();try{i.notifyUpdate(e.data.changedAttribute,null)}finally{n.updateUnlock()}}}function g(e){var t,i,n;if(t=e.target,a.traceUpdates,(i=t.__treeGraphNode__)&&i.document){(n=i.document).updateLock();try{i.setExpanded(s(t)),i.notifyUpdate("nodeModel",e.data.nodeModel)}finally{n.updateUnlock()}}}function m(e){var t,i,o;if(t=e.target,a.traceUpdates,(i=t.__treeGraphNode__)&&i.document){(o=i.document).updateLock();try{if(o.drawing!==n.Drawing.TWO_BRANCHES&&o.drawing!==n.Drawing.TWO_BRANCHES_LEAVES_ON_EXTREMITY||!e.data.rowOrCol)i.setExpanded(s(t));else{var r="col"===e.data.rowOrCol?i.first:i.first.next;r.setExpanded(!r.expanded)}i.notifyUpdate("_expandState",null)}finally{o.updateUnlock()}}}function f(e){var t,i;(i=(t=e.target).__treeGraphNode__)&&"expandingState"===t._expandState&&(a.traceUpdates,i.notifyUpdate("_expandState",null))}function v(e,i){Array.isArray(i._nodeList)?i._nodeList:i.getAllDescendants();var n=i._mergeConnections,a=n.length;for(var s=o.intersectionDifference(e.mergeList,n,(function(e,t){return e.parent&&e.child&&t.parent.__treeGraphNode__&&t.child.__treeGraphNode__&&e.parent===t.parent.__treeGraphNode__})),r=s[0].difference,d=0,l=r.length;d<l;d++)S(r[d],e);(function e(i){var n;for(i=i.first;i;)n=i.next,i.data instanceof t&&i.data.hasBeenRemoved()?w.bind(this)(i):e.bind(this)(i),i=n}).bind(this)(e),E.bind(this)(e,i._trueRoot);for(d=0;d<a;d++){var c=n[d];c.parent instanceof t&&c.child instanceof t&&c.parent.__treeGraphNode__&&c.child.__treeGraphNode__&&!e.mergeList.find((function(e){return e.parent===c.parent.__treeGraphNode__&&e.child===c.child.__treeGraphNode__}))&&_(c.parent.__treeGraphNode__,c.child.__treeGraphNode__,e)}}function E(e,n){var o,a,s,d,l;if(s=n.options.children)for(o=0,a=s.length;o<a;++o)(d=s[o])instanceof t&&d.isEmpty()||d instanceof i||((l=d.__treeGraphNode__)||(d.__treeGraphNode__=l=r(d),y.bind(this)(e,l,o)),E.bind(this)(l,d))}function y(e,t,i){if(e===this.document||this.document.drawing!==n.Drawing.TWO_BRANCHES&&this.document.drawing!==n.Drawing.TWO_BRANCHES_LEAVES_ON_EXTREMITY){for(s=e.first,d=0;d<i&&null!=s;d++)s=s.next;e.insertBefore(t,s)}else{var o=e.first?e.first:e.appendChild(r(null)),a=e.first.next?e.first.next:e.appendChild(r(null));if(0===i){if(o.first)throw Error("etree TWO_BRANCHES: column intermediate node already has a child");o.appendChild(t)}else{for(var s=a.first,d=1;d<i&&null!=s;d++)s=s.next;a.insertBefore(t,s)}}e.notifyUpdate("*children*"),e.notifyUpdate("_expandState",null)}function w(e){var t=e.parent;t.removeChild(e),(this.document.drawing===n.Drawing.TWO_BRANCHES||this.document.drawing===n.Drawing.TWO_BRANCHES_LEAVES_ON_EXTREMITY&&t!==this.document)&&(t=t.parent),t.notifyUpdate("*children*"),t.notifyUpdate("_expandState",null)}function _(e,t,i){e&&t&&e.mergeWith(t),i.mergeList.push({parent:e,child:t})}function S(e,t){e.parent&&e.child&&e.child.mergeParent===e.parent&&e.parent.removeMergeWith(e.child),t.mergeList.splice(t.mergeList.indexOf(e),1)}function T(e){if(e[0]instanceof t&&e[1]instanceof t)for(var i=this.document.gr.edges.first,n=i;i;i=n){var o=i.cl1.c.node.data.data;null==o&&(o=i.cl1.c.node.data.parent.data);var a=i.cl2.c.node.data.data;if(null==a&&(a=i.cl2.c.node.data.parent.data),o===e[0]&&a===e[1]||a===e[0]&&o===e[1]){i;break}n=i.next}return i}function b(e){var t=this.document.gr,i=T.bind(this)(e.data);i&&t.addToSelection(i)}function D(e){var t=this.document.gr,i=T.bind(this)(e.data);i&&t.removeFromSelection(i)}function N(){var e,t,i;t=this.document.data,Array.isArray(t.__treeGraphRoot__)&&d(this.document),i=t.__treeGraphRoot__=[],e=t._modelEvents,i.push(e.addEventListener("expand",m)),i.push(e.addEventListener("collapse",m)),i.push(e.addEventListener("highlight",c)),i.push(e.addEventListener("unhighlight",c)),i.push(e.addEventListener("select",p)),i.push(e.addEventListener("unselect",p)),i.push(e.addEventListener("matchSearch",h)),i.push(e.addEventListener("unmatchSearch",h)),i.push(e.addEventListener("postCollapse",f)),i.push(e.addEventListener("postExpand",f)),i.push(e.addEventListener("preCollapse",f)),i.push(e.addEventListener("preExpand",f)),i.push(e.addEventListener("nodeModelUpdate",g)),i.push(e.addEventListener("attributeChanged",u)),i.push(e.addEventListener("prepareAddDelete",x.bind(this))),i.push(e.addEventListener("pushAddDelete",L.bind(this))),i.push(e.addEventListener("cancelAddDelete",M.bind(this))),i.push(e.addEventListener("highlightLink",b.bind(this))),i.push(e.addEventListener("unhighlightLink",D.bind(this))),i.push(e.addEventListener("empty",this.empty.bind(this)))}function x(){this.document.updateLock()}function L(){this.updateNodes(),this.document.updateUnlock()}function M(){this.document.updateUnlock()}return a.Sync.prototype.setModel=function(t){if(t!==this.model){if(null!==t&&!(t instanceof e))throw new Error("model must be a TreeDocument instance");if(!this.document.isUpdated())throw new Error("can't change model while update is locked!");this.model&&(this.cleanUp(),this.model.__treeDocument__=null,this.model._trueRoot.__treeGraphNode__=null,this.document.data=null),this.model=t,this._ID=t._ID}},a.Sync.prototype.deactivate=function(){d(this.document);var e=this.document.gr;e.withLockedUpdate((function(){for(var t,i=e.edges.first;i;i=t)t=i.next,i.isSelected()&&e.removeFromSelection(i)}))},a.Sync.prototype.activate=function(){if(this.model){this.model.__treeDocument__=this.document,this.model._trueRoot.__treeGraphNode__=this.document,this.document.data=this.model._trueRoot,N.bind(this)();var e=this.model.getHighlightedLinksData();if(e.length){var t,i=this.document.gr;e.forEach((function(e){(t=T.bind(this)(e))&&i.addToSelection(t)}),this)}}},a.Sync.prototype.updateNodes=function(){if(this.model){this.document.updateLock();try{this.document.vetoUpdateAnimation(),this.document.setFixNode(null),v.bind(this)(this.document,this.model)}finally{this.document.updateUnlock()}}},a.Sync.prototype.empty=function(){var e=this;this.document.withLockedUpdate((function(){e.document.clear(),e.document.mergeList=[]})),this.model&&this.model.processDescendants({async:!0,onlyVisibleNodes:!0,processNode:function(e){var t=e.nodeModel;t._isTrueRoot()||null==t.__treeGraphNode__||(t.__treeGraphNode__=null)}})},a.Sync.prototype.cleanup=function(){this.deactivate(),this.empty()},a.traceUpdates=!1,a})),define("DS/ENOXVersionExplorerThumbnailGraphView/NodeEdgeViewCreatorFactory",["UWA/Core","DS/etree/tree","DS/egraph/utils","DS/egraph/views","DS/egraph/core","DS/TreeModel/TreeNodeModel","css!DS/ENOXVersionExplorerThumbnailGraphView/styles/NodeEdgeViewCreatorFactory"],(function(e,t,i,n,o,a,s){"use strict";var r=e.extendElement(document.body.querySelector("div.enox-thumbnailgraphview-templates"))||e.createElement("div",{class:"enox-thumbnailgraphview-templates",html:['<div class="enox-thumbnailgraphview-node-collapser-wrapper" tabindex="0"> </div>','<button class="btn-default btn btn-root enox-thumbnailgraphview-node-collapser">+</button>'].join("\n")}).inject(document.body);return r.getElement("enox-thumbnailgraphview-node-collapser-wrapper")&&r.setHTML(r.getHTML()+['<div class="enox-thumbnailgraphview-node-collapser-wrapper" tabindex="0"> </div>','<button class="btn-default btn btn-root enox-thumbnailgraphview-node-collapser">+</button>'].join("\n")),function(a){a.HTMLViewsClasses.nodeSelected=a.HTMLViewsClasses.nodeSelected||"selected",a.HTMLViewsClasses.nodeHighlighted=a.HTMLViewsClasses.nodeHighlighted||"highlighted",a.HTMLViewsClasses.nodeConnected=a.HTMLViewsClasses.nodeConnected||"connected","boolean"==typeof a.displayThumbnailCollapser||(a.displayThumbnailCollapser=!0);var s=r.getElement("div."+a.HTMLViewsClasses.nodeClass);s||(r.innerHTML+=a.viewsHTMLString,s=r.getElement("div."+a.HTMLViewsClasses.nodeClass));var d=r.getElement(".enox-thumbnailgraphview-node-collapser"),l=p(s),c=p(d);function p(e){r.show();var t={width:e.offsetWidth,height:e.offsetHeight};return r.hide(),t}var h=function(){n.HTMLNodeView.call(this)};i.inherit(h,n.HTMLNodeView),h.prototype.buildNodeElement=function(e){var t,i;return(t=r.getElement(".enox-thumbnailgraphview-node-collapser-wrapper").cloneNode(!0)).appendChild(s.cloneNode(!0)),a.displayThumbnailCollapser&&(t.appendChild(i=d.cloneNode(!0),i.className+=" row-collapse-expand",i.setAttribute("data-egraph-subelt","row-collapse-expand"),i),t.appendChild(i=d.cloneNode(!0),i.className+=" col-collapse-expand",i.setAttribute("data-egraph-subelt","col-collapse-expand"),i)),t},h.prototype.oncreateDisplay=function(e){n.HTMLNodeView.prototype.oncreateDisplay.apply(this,arguments);var i=e.data.data;i&&(this.display.elt.nodeData=i,a.NodeView&&"function"==typeof a.NodeView.onCreateDisplay&&a.NodeView.onCreateDisplay(this,e.data)),e.data.displayFlags,t.DisplayFlags.DRAG_NODE},h.prototype.onmodifyDisplay=function(i,s){n.HTMLNodeView.prototype.onmodifyDisplay.apply(this,arguments);var r,d,p=e.extendElement(this.display.elt);if(a.displayThumbnailCollapser&&(r=p.getElement(".enox-thumbnailgraphview-node-collapser.col-collapse-expand"),d=p.getElement(".enox-thumbnailgraphview-node-collapser.row-collapse-expand")),i.data.data){if((o.inPathSet(s,"data","data","*children*")||o.inPathSet(s,"data","data","_updateAll"))&&(i.data.document.drawing!==t.Drawing.TWO_BRANCHES&&i.data.document.drawing!==t.Drawing.TWO_BRANCHES_LEAVES_ON_EXTREMITY||a.displayThumbnailCollapser&&(r&&(i.data.first&&i.data.first.first&&r.show()||r.hide()),d&&(i.data.first&&i.data.first.next&&i.data.first.next.first&&d.show()||d.hide()))),(o.inPathSet(s,"data","data","_expandState")||o.inPathSet(s,"data","data","_updateAll"))&&(i.data.document.drawing!==t.Drawing.TWO_BRANCHES&&i.data.document.drawing!==t.Drawing.TWO_BRANCHES_LEAVES_ON_EXTREMITY||a.displayThumbnailCollapser&&(r&&i.data.first&&r.setHTML(i.data.first.expanded?"-":"+"),d&&i.data.first&&i.data.first.next&&d.setHTML(i.data.first.next.expanded?"-":"+"))),(o.inPathSet(s,"data","data","_isSelected")||o.inPathSet(s,"data","data","_updateAll"))&&(i.data.data._isSelected?p.getElement("div."+a.HTMLViewsClasses.nodeClass).addClassName(a.HTMLViewsClasses.nodeSelected):p.getElement("div."+a.HTMLViewsClasses.nodeClass).removeClassName(a.HTMLViewsClasses.nodeSelected)),(o.inPathSet(s,"data","data","_isHighlighted")||o.inPathSet(s,"data","data","_updateAll"))&&(i.data.data._isHighlighted?p.getElement("div."+a.HTMLViewsClasses.nodeClass).addClassName(a.HTMLViewsClasses.nodeHighlighted):p.getElement("div."+a.HTMLViewsClasses.nodeClass).removeClassName(a.HTMLViewsClasses.nodeHighlighted)),o.inPathSet(s,"data","data","__isActive__")||o.inPathSet(s,"data","data","_updateAll")){var h=i.data.data.options.grid.__isActive__;"boolean"==typeof h&&!0===h&&p.getElement("div."+a.HTMLViewsClasses.nodeClass).addClassName(a.HTMLViewsClasses.nodeActive),"boolean"==typeof h&&!1===h&&p.getElement("div."+a.HTMLViewsClasses.nodeClass).removeClassName(a.HTMLViewsClasses.nodeActive)}if(o.inPathSet(s,"data","*drawingModifiers*")&&i.data.document&&a.displayThumbnailCollapser){var u=l.width,g=l.height,m=c.width,f=c.height;i.data.document.drawingModifiers&t.DrawingModifiers.HORIZONTAL?(i.data.document.drawingModifiers&t.DrawingModifiers.MIRROR_DEPTH?r&&r.setStyles({top:((g-f)/2).toString()+"px",left:(-m).toString()+"px"}):r&&r.setStyles({top:((g-f)/2).toString()+"px",left:u.toString()+"px"}),i.data.document.drawingModifiers&t.DrawingModifiers.MIRROR_SIBLINGS?d&&d.setStyles({top:(-f).toString()+"px",left:((u-m)/2).toString()+"px"}):d&&d.setStyles({top:g.toString()+"px",left:((u-m)/2).toString()+"px"})):(i.data.document.drawingModifiers&t.DrawingModifiers.MIRROR_DEPTH?r&&r.setStyles({top:(-f).toString()+"px",left:((u-m)/2).toString()+"px"}):r&&r.setStyles({top:g.toString()+"px",left:((u-m)/2).toString()+"px"}),i.data.document.drawingModifiers&t.DrawingModifiers.MIRROR_SIBLINGS?d&&d.setStyles({top:((g-f)/2).toString()+"px",left:"0"}):d&&d.setStyles({top:((g-f)/2).toString()+"px",left:u.toString()+"px"}))}a.NodeView&&"function"==typeof a.NodeView.onModifyDisplay&&a.NodeView.onModifyDisplay(this,i,s)}},this.nodeDimensions=function(e){return p(s)};var u=function(){n.SVGEdgeView.call(this,a.HTMLViewsClasses.edgeClass)};i.inherit(u,n.SVGEdgeView),u.prototype.oncreateDisplay=function(e,t){n.SVGEdgeView.prototype.oncreateDisplay.apply(this,arguments),a.EdgeView&&"function"==typeof a.EdgeView.onCreateDisplay&&a.EdgeView.onCreateDisplay(this,e,t)},u.prototype.onmodifyDisplay=function(e,t,i){n.SVGEdgeView.prototype.onmodifyDisplay.apply(this,arguments),a.EdgeView&&"function"==typeof a.EdgeView.onModifyDisplay&&a.EdgeView.onModifyDisplay(this,e,t,i)};var g=function(){n.HTMLNodeView.call(this)};i.inherit(g,n.HTMLNodeView),g.prototype.buildNodeElement=function(){return null};i.inherit((function(){return new n.SVGEdgeView("etree-sync-temp-edge")}),n.SVGEdgeView);var m=function(){n.HTMLNodeView.call(this)};i.inherit(m,n.HTMLNodeView),m.prototype.buildNodeElement=function(){return null},this.newNodeView=function(e){return e.data?new h:null},this.newEdgeView=function(){return new u},this.newGroupView=function(){return new m},this.newTempNodeView=function(){return null},this.newTempEdgeView=function(){return null},this.newTempGroupView=function(){return new g},this.nodeDropdownMenuButtonClass=a.HTMLViewsClasses.nodeDropdownMenuButtonClass}})),define("DS/ENOXVersionExplorerThumbnailGraphView/NodeEdgeViewsTemplates/DefaultNodeEdgeViewsTemplate",["UWA/Core","UWA/Class","DS/UIKIT/Input/Toggle","DS/WebappsUtils/WebappsUtils","DS/ENOXVersionExplorerModel/VersionTreeNodeModel","DS/egraph/core","DS/UIKIT/Mask","DS/UIKIT/Tooltip","DS/WidgetServices/WidgetServices","DS/ENOXVersionExplorerUtils/VersionExplorerSettings","DS/ENOXVersionExplorerUtils/ENOXVersionExplorerUtils","DS/ENOXVersionExplorerUtils/VersionExplorerEnums","i18n!DS/ENOXVersionExplorerThumbnailGraphView/assets/nls/ThumbnailText","css!DS/UIKIT/UIKIT.css","css!DS/ENOXVersionExplorerThumbnailGraphView/styles/ThumbnailTooltip","css!DS/ENOXVersionExplorerThumbnailGraphView/styles/DefaultNodeEdgeViewsTemplate","css!DS/ENOXVersionExplorerThumbnailGraphView/styles/NodeEdgeViewsTemplate_NO_SUBTITLE"],(function(e,t,i,n,o,a,s,r,d,l,c,p,h,u,g,m,f){"use strict";const v={day:"numeric",year:"numeric",month:"long",hour:"numeric",minute:"numeric"};return e.Class.extend({displaySemantic:!0,displayThumbnailCollapser:!0,init:function(){var i=this;this.viewsHTMLString=[' <div class="enox-versiongraph-node" draggable="true">','\t\t<div class="image-div">','           <div class="version-semantic"></div>','           <div class="version-filter"></div>','           <div class="toggle toggle-primary toggle-sm version-checkbox">','               <input type="checkbox" id="VEcheckboxThumb">','               <label class="control-label" for="VEcheckboxThumb"></label>',"\t\t\t</div>","\t\t</div>",'\t\t<div class="mask-div">',"\t\t</div>",'\t\t<div class="bottom-title-div">','\t\t\t<div class="title"></div>','\t\t\t<div class="sub-title"></div>','\t\t\t<div class="node-button" data-egraph-subelt="dropdown-menu">','\t\t\t\t<span class="fonticon fonticon-2x fonticon-open-down"></span>',"\t\t\t</div>","\t\t</div>"," </div>"].join("\n"),this.HTMLViewsClasses={nodeClass:"enox-versiongraph-node",tempNodeClass:"enox-versiongraph-tempnode",edgeClass:"enox-versiongraph-edge",tempEdgeClass:"enox-versiongraph-tempedge",groupClass:"enox-versiongraph-group",tempGroupClass:"enox-versiongraph-tempgroup",nodeSelected:"enox-versiongraph-node-selected",nodeConnected:"enox-versiongraph-node-connected",nodeHighlighted:"enox-versiongraph-node-highlighted",nodeActive:"enox-versiongraph-node-active",nodeDropdownMenuButtonClass:"node-button"},this.NodeView={onCreateDisplay:function(t,a){var s=a.data,c=e.extendElement(t.display.elt);if(s instanceof o&&!s.isEmpty()){if(s.options.grid){var h=a.document._titleNames,u=a.document._titleLabels,g="";if(t.display.tooltipRoot=e.createElement("div",{id:"thumbnail-tooltip-root",class:"versionexplorer-thumbnail-tooltip"}),Array.isArray(h))for(var m=0;m<h.length;m++){var f="tree"==h[m]?s.options.grid.title:s.options.grid[h[m]];if(null==f&&(f=" "),f instanceof Date){var E=d.getLanguage();f=f.toLocaleString(E,v)}f=e.String.escapeHTML(f);let i=e.createElement("span",{class:"versionexplorer-thumbnail-tooltip-label"});i.innerText=u[m],t.display.tooltipRoot.appendChild(i);let n=e.createElement("span",{class:"versionexplorer-thumbnail-tooltip-value"});n.innerText=f,t.display.tooltipRoot.appendChild(n),g+=g.trim().length>0?"*"+f:f}else g=s.options.grid.title;var y=c.getElement(".bottom-title-div > .title"),w=c.getElement(".enox-versiongraph-node");y.setHTML(g),t.display.tooltip=new r({delay:{show:500},position:"top left",target:w,body:t.display.tooltipRoot})}if("string"==typeof s.options.grid.thumbnail&&s.options.grid.thumbnail.length?c.getElement("div.image-div").setStyle("background-image","url("+s.options.grid.thumbnail+")"):"string"==typeof s.options.grid.icon&&s.options.grid.icon.length?c.getElement("div.image-div").setStyle("background-image","url("+s.options.grid.icon+")"):c.getElement("div.image-div").setStyle("background-image","url("+n.getWebappsBaseUrl()+"ENOXVersionExplorerViews/assets/icons/ENOVersionExplorerNoImage.png)"),c.getElement(".image-div").removeClassName("leaf").addClassName("node"),s.options.grid&&s.options.grid[l.UserSettings.subtitleKey]){var _=s.options.grid[l.UserSettings.subtitleKey];_=e.String.escapeHTML(_),c.getElement(".bottom-title-div > .sub-title").setHTML(_),c.removeClassName("enox-versiongraph-node-no-subtitle")}else c.addClassName("enox-versiongraph-node-no-subtitle");if(c.getElement(".mask-div").hide(),c.getElement("input[type='checkbox']").id=c.getElement(".version-checkbox .control-label").htmlFor+=c.nodeData._id.toString(),c.addEvents({mouseover:function(e){s.getTreeDocument()._SELECTION_MODE&p.SELECTION_MODES.MULTI_SELECT_ONLY&&c.getElement(".version-checkbox").show(),e.stopPropagation()},mouseout:function(e){!(s.getTreeDocument()._SELECTION_MODE&p.SELECTION_MODES.MULTI_SELECT_ACTIVE)&&c.getElement(".version-checkbox").hide(),e.stopPropagation()},mousedown:function(e){s.getTreeDocument()._SELECTION_MODE&p.SELECTION_MODES.MULTI_SELECT_ONLY&&e.ctrlKey&&!(s.getTreeDocument()._SELECTION_MODE&p.SELECTION_MODES.MULTI_SELECT_ACTIVE)&&(c.nodeData.options.grid.__checked__=!0,c.nodeData._modelEvents.publish({event:"_ENOXVersionExplorerManageMultiSelect",data:!1}))}}),c.getElement(".version-checkbox .control-label").addEvents({click:function(e){e.preventDefault(),e.stopPropagation()},mouseup:function(e){c.nodeData.options.grid.__checked__=c.nodeData._isSelected,c.nodeData._modelEvents.publish({event:"_ENOXVersionExplorerManageMultiSelect",data:!1}),e.preventDefault()}}),s.options&&s.options.ancestors&&!0===i.displaySemantic){if(s.options.ancestors.find((function(e){return e.filterid&&e.hasExpand}))){var S=c.getElement("div.version-filter");S.setHTML('<span class="fonticon fonticon-2x wux-ui-3ds-filter"></span>'),S.tooltip||(S.tooltip=new r({target:S,body:void 0,offset:{x:10,y:7},position:"bottom"})),S.addEventListener("mousedown",(function(e){e.stopPropagation(),e.preventDefault(),!c.isProcessingClick&&s.options&&s.options.ancestors&&s.options.ancestors.find((function(e){return e.filterid&&e.hasExpand}))&&(c.isProcessingClick=!0,c.nodeData._modelEvents.publish({event:"_ENOXVersionExplorerLaunchFilterSpecification",data:s}),setTimeout((function(){c.isProcessingClick=!1}),200))})),S.addEventListener("mouseover",(function(e){e.stopPropagation(),e.preventDefault()})),S.show()}}}else c.hide()},onModifyDisplay:function(t,n,r){var l=e.extendElement(t.display.elt);if(a.inPathSet(r,"data","data")&&n.data.data instanceof o&&!n.data.data.isEmpty()){var c=n.data.data,u=t.display.tooltip;if(u&&u.hide(),c.options.ancestors){var g=c.options.ancestors.find((function(e){return e.hasExpand})),m=void 0;g&&g.filterQuery&&g.filterQuery.filter&&(m=g.filterQuery.filterTitle?g.filterQuery.filterTitle:h.colFilter);var f=l.getElement("div.version-filter");f.tooltip&&f.tooltip.getBody().getHTML()!==m&&f.tooltip.getBody().setHTML(m),f.tooltip&&(m?f.tooltip.getBody().show():f.tooltip.getBody().hide())}if(a.inPathSet(r,"data","data","thumbnail")||a.inPathSet(r,"data","data","_updateAll")){var E=n.data.data.options.grid.thumbnail;"string"==typeof E&&E.length&&l.getElement("div.image-div").setStyle("background-image","url("+E+")")}if(a.inPathSet(r,"data","data","title")||a.inPathSet(r,"data","data","_updateAll")||a.inPathSet(r,"data","data","nodeModel")){var y=n.data.document._titleNames,w=n.data.document._titleLabels,_="";if(t.display.tooltipRoot)for(;t.display.tooltipRoot.firstChild;)t.display.tooltipRoot.removeChild(t.display.tooltipRoot.firstChild);else t.display.tooltipRoot=e.createElement("div",{id:"thumbnail-tooltip-root",class:"versionexplorer-thumbnail-tooltip"});if(Array.isArray(y))for(var S=0;S<y.length;S++){var T="tree"==y[S]?c.options.grid.title:c.options.grid[y[S]];if(null==T&&(T=" "),T instanceof Date){var b=d.getLanguage();T=T.toLocaleString(b,v)}T=e.String.escapeHTML(T);let i=e.createElement("span",{class:"versionexplorer-thumbnail-tooltip-label"});i.innerText=w[S],t.display.tooltipRoot.appendChild(i);let n=e.createElement("span",{class:"versionexplorer-thumbnail-tooltip-value"});n.innerText=T,t.display.tooltipRoot.appendChild(n),_+=_.trim().length>0?"*"+T:T}else _=n.data.data.options.grid.title;l.getElement(".bottom-title-div > .title").setHTML(_)}var D=l.getElement(".image-div");if(n.data.data.isLeaf()?D&&l.getElement(".image-div").removeClassName("node").addClassName("leaf"):D&&l.getElement(".image-div").removeClassName("leaf").addClassName("node"),a.inPathSet(r,"data","data","_mask")||a.inPathSet(r,"data","data","_updateAll")){var N=n.data.data.options.grid._mask;"boolean"==typeof N&&!0===N?(l.getElement(".mask-div").show(),s.mask(l.getElement("div.mask-div"),h.imageUpdating),l.getElement(".spinner").hide(),l.isMasked=!0):"boolean"==typeof N&&!1===N&&!0===l.isMasked&&(s.unmask(l.getElement("div.mask-div")),l.getElement(".mask-div").hide(),l.isMasked=!1)}if(a.inPathSet(r,"data","data","_isSelected")||a.inPathSet(r,"data","data","_updateAll"))(x=l.getElement(".version-checkbox "))&&(x.getElement("input[type='checkbox']").checked=!0===l.nodeData._isSelected);if(a.inPathSet(r,"data","data","_selectionMode")||a.inPathSet(r,"data","data","_updateAll")){var x;(x=l.getElement(".version-checkbox"))&&x[c.getTreeDocument()._SELECTION_MODE&p.SELECTION_MODES.MULTI_SELECT_ACTIVE?"show":"hide"]();var L=l.getElement(".node-button");L&&L[c.getTreeDocument()._SELECTION_MODE&p.SELECTION_MODES.WITH_COMMANDS?"show":"hide"]()}if(a.inPathSet(r,"data","data","__filter__")&&(c.getTreeDocument()._FILTER_ENABLED?n.data.data.options.grid.__filter__?s.unmask(l.getElement(".enox-versiongraph-node")):(s.mask(l.getElement(".enox-versiongraph-node"),""),l.getElement(".spinner").hide()):s.unmask(l.getElement(".enox-versiongraph-node"))),(a.inPathSet(r,"data","data","_isHighlighted")||a.inPathSet(r,"data","data","_updateAll"))&&(n.data.data._isHighlighted?l.getElement("div."+i.HTMLViewsClasses.nodeClass).setStyle("border-left-color",n.data.data.__BRANCH__.data.color):l.getElement("div."+i.HTMLViewsClasses.nodeClass).setStyle("border-left-color","")),!0===i.displayThumbnailCollapser){var M=l.getElement(".enox-thumbnailgraphview-node-collapser.col-collapse-expand");M&&M[n.data.first&&n.data.first.first&&n.data.first.first.data instanceof o&&!n.data.first.first.data.isEmpty()?"show":"hide"]()}l.getElement("div.image-div").setStyle("background-color",c.options.grid.custom_node_color||"");var C=null,O=null;if(c.options.ancestors&&c.options.ancestors.length&&!0===i.displaySemantic){for(var V=0;V<c.options.ancestors.length;V++)c.options.ancestors[V].icon?C&&"I"!==c.options.ancestors[V].semantic||(C=c.options.ancestors[V].icon):O="I"!==c.options.ancestors[V].semantic&&c.options.ancestors[V].semantic;if(C){var A=l.getElement("div.version-semantic > img");(!A||A&&A.src!==C)&&l.getElement("div.version-semantic").setHTML('<img src="'+C+'"></img>')}else if(O){-1===l.getElement("div.version-semantic").getHTML().indexOf(O)&&l.getElement("div.version-semantic").setHTML(O)}l.getElement(".version-semantic").show()}else l.getElement(".version-semantic").hide()}}},this.EdgeView={onCreateDisplay:function(e,t,i){},onModifyDisplay:function(t,i,n,a){var s,r,d,l,c=e.extendElement(t.display.elt),p=i.cl1.c.node.data,h=i.cl2.c.node.data;Array.isArray(h.mergeParent)&&h.mergeParent.indexOf(p)>=0&&Array.isArray(p.mergeChild)&&p.mergeChild.indexOf(h)>=0?1===(d=h.data instanceof o?h.data.options.ancestors:null).length&&"I"===d[0].semantic&&d[0].mergeBetweenRoots?r=d[0].custom_line_color:s=p:d=(s=h).data instanceof o?s.data.options.ancestors:null,Array.isArray(d)&&d.length&&(l=d.find((function(e){return"I"!==e.semantic}))),!r&&l&&l.custom_line_color&&(r=l.custom_line_color),!r&&s.data&&(r=s.data.__BRANCH__.data.color),r&&c.style.stroke!==r&&(c.style.stroke=r),i.selected?c.className.baseVal+=" selected":c.className.baseVal=c.className.baseVal.replace(/\selected\b/g,""),h&&h.data&&h.data.options.grid.minororder>0&&h.data.options.grid.secondaries||p&&p.data&&p.data.options.grid.minororder>0&&p.data.options.grid.secondaries&&h&&h.data&&Array.isArray(h.data.options.ancestors)&&h.data.options.ancestors.find((function(e){return"I"===e.semantic.toUpperCase()}))?c.style.strokeDasharray="5,3":h&&h.data&&h.data.options.ancestors&&h.data.options.ancestors.find((function(e){return"SO"===e.semantic.toUpperCase()}))&&(c.style.strokeDasharray="15,2,2,2,2,2")}},this.updateViewOptions=function(e){t.implement.call(this,e)}}})})),define("DS/ENOXVersionExplorerThumbnailGraphView/TreeDocGraphViewSync",["UWA/Core","DS/egraph/utils","DS/etree/widget","DS/etree/tree","DS/ENOXVersionExplorerThumbnailGraphView/TreeDocSyncETree","DS/ENOXVersionExplorerThumbnailGraphView/NodeEdgeViewCreatorFactory","DS/etree/iact","DS/egraph/iact","DS/egraph/views","DS/ENOXVersionExplorerThumbnailGraphView/ThumbnailGraphOverview","DS/ENOXVersionExplorerUtils/VersionExplorerEnums","DS/ENOXVersionExplorerUtils/VersionExplorerSettings","DS/LifecycleServices/LifecycleServicesSettings","i18n!DS/etree/assets/nls/overviewui.json","css!DS/UIKIT/UIKIT.css","css!DS/etree/syncviews","css!DS/egraph/views","css!DS/etree/overviewui","css!DS/ENOXVersionExplorerThumbnailGraphView/styles/overviewui"],(function(t,i,n,o,a,s,r,d,l,c,p,h,u,g){"use strict";var m={LayoutMode:{LAYERED:0,LAYERED_TIDY_1:1},ReframeMode:{START:1,ALL:2,LIST:4,MAXSCALE:8}};m.OrientationMode=p.THUMBNAIL_GRAPH_LAYOUT,m.ThumbnailState={COLLAPSED:1,EXPANDED:2};var f=1,v=2,E=3,y=4,w=5,_=6,S=!1;function T(e){this.sw=e}function b(e){if(e)return Array.isArray(e)?e.map(b):e.data}function D(e,t,i){o.timeit(this,(function(){i.toggleExpanded&&i.toggleExpanded(e,"row")}))}function N(e,t,i){o.timeit(this,(function(){i.toggleExpanded&&i.toggleExpanded(e,"col")}))}function x(e,t,i){var n=this;o.timeit(this,(function(){n.onNodeDropdownMenu({node:e,detail:t,actions:i})}))}function L(e,t){this.withLockedUpdate((function(){this.setFixNode(e.data);var i=e.data;if(this.widget.document.drawing!==o.Drawing.TWO_BRANCHES_LEAVES_ON_EXTREMITY&&this.widget.document.drawing!==o.Drawing.TWO_BRANCHES)switch(i._expandState){case"collapseState":case"expandingState":i.collapse();break;case"expandState":case"partiallyExpandedState":i.expand()}else i.expand({rowOrCol:t})}),this)}function M(e,t){var i=e.data.getTreeDocument()._SELECTION_MODE&p.SELECTION_MODES.MULTI_SELECT_ACTIVE;this.sync.model&&this.withLockedUpdate((function(){switch(t){case r.SelectMode.REPLACE:if(i)(!this.sync.model._FILTER_ENABLED||this.sync.model._FILTER_ENABLED&&e.data.options.grid.__filter__)&&this.sync.model.getXSO()[this.sync.model.getXSO().isIn(e.data)?"remove":"add"](e.data);else{var n=this.sync.model.getXSO().isIn(e.data);(!this.sync.model._FILTER_ENABLED||this.sync.model._FILTER_ENABLED&&e.data.options.grid.__filter__)&&(this.sync.model.getXSO().empty(),!n&&this.sync.model.getXSO().add(e.data))}break;case r.SelectMode.ADD:case r.SelectMode.TOUCH:(!this.sync.model._FILTER_ENABLED||this.sync.model._FILTER_ENABLED&&e.data.options.grid.__filter__)&&(!i&&this.sync.model.getXSO().empty(),this.sync.model.getXSO()[this.sync.model.getXSO().isIn(e.data)?"remove":"add"](e.data));break;case r.SelectMode.EMPTY:!i&&this.sync.model.getXSO().empty()}}),this)}function C(e){var t=!1,i=b(e);return Array.isArray(i)||(i=[i]),"function"==typeof this.sync.model.options.shouldAcceptMove?t=this.sync.model.options.shouldAcceptMove.call(this.sync.model,i):this.widget.sm.rootState.dragMultipleNodes||1!=i.length||(t=this.sync.model.options.shouldAcceptDrag.call(this.sync.model,i[0])),t}function O(e,t,i,n){return!1}function V(t,i,n){var o=n.data._options.data.displayName,a=n.data._options.data.serviceId,s=n.data._options.data.type,r=n.data._options.data.revision,d=n.data._options.data.contextId,l=n.data._options.grid,c=l&&l.contents&&l.contents.length>0?l.contents[0].id:n.data._options.data.id,p={protocol:"3DXContent",version:"1.0",source:"ENOSTDE_AP",data:{items:[{envId:u.getTenant(),serviceId:a,contextId:d,objectId:c,objectType:s,displayName:o+" "+r,session_object:!1}]}};try{t.effectAllowed="uninitialized",t.setData("text/searchitems",JSON.stringify(p)),e.dataTransfer.setData("Text",JSON.stringify(p))}catch(e){t.setData("Text",JSON.stringify(p))}return!0}function A(e,t){var i=!(t.modifiers&d.Modifiers.CTRL||t.modifiers&d.Modifiers.ALT);return"function"==typeof this.sync.model.options.isDnDMove&&(i=this.sync.model.options.isDnDMove.call(this.sync.model,e,DndOpts2T(t,void 0))),i}function R(e,t,i,n){b(n.nodes);return"function"!=typeof this.sync.model.options.shouldAcceptDnDDrop||this.sync.model.options.shouldAcceptDnDDrop.call(this.sync.model,e,b(t),b(i),DndOpts2T(n,t instanceof o.Document))}function H(e,t,i,n){var a=!1;b(n.nodes);return"function"==typeof this.sync.model.options.doDnDDrop&&(a=this.sync.model.options.doDnDDrop.call(this.sync.model,e,b(t),b(i),DndOpts2T(n,t instanceof o.Document))),a}function I(e){e.data&&"function"==typeof this.onNodeDoubleClick&&this.onNodeDoubleClick(e.data)}function k(e,t,n,o){var a,s=this.widget.document.nodeWidth,r=this.widget.document.nodeHeight,d=(this.widget.document.siblingPadding,this.fittingArea.paddingLeft,this.fittingArea.paddingRight,this.fittingArea.paddingTop,this.fittingArea.paddingBottom,new i.BoundingRect);if(e&m.ReframeMode.LIST)for(var l=0;l<n.length;l++)a=n[l],d.update(a,a.left,a.left+s,a.top,a.top+r);else if(e&m.ReframeMode.START)for(a=this.widget.document.first;a;a=a.next)d.update(a,a.left,a.left+s,a.top,a.top+r);else for(a=this.widget.document.first;a;a=a.dftNext(this.widget.document,!a.expanded))d.update(a,a.left,a.left+s,a.top,a.top+r);var c=this.widget.document;c.gr.views.main.setViewpoint(i.reframeViewpoint(c.gr.views.main.getSize(),d,{padding:30,maxScale:1,minScale:.25,aliasing:0,vertical:1==o?0:-1,defaultVpt:c.gr.views.main.vpt,horizontal:-1}),!0),this._currentViewpoint=c.gr.views.main.vpt.slice()}function G(){var e,t,i,n,o,a,s,r,d,l,c,p,h,u,g,m;if(this.sync.model)for(a=1/0,u=(e=this.widget.document.gr.views.main).vpt[0],g=e.vpt[1],m=e.vpt[2],i=this.widget.document.nodeWidth,n=this.widget.document.nodeHeight,r=e.container.clientWidth/2,d=e.container.clientHeight/2,t=this.widget.document.first;t;t=t.dftNext(this.widget.document,!t.expanded))c=(l=t.left*m+u)+i*m,h=(p=t.top*m+g)+n*m,(s=Math.pow(r-(c+l)/2,2)+Math.pow(d-(h+p)/2,2))<a&&(a=s,o=t);return o}function U(e){this.onContextualEvent&&e.node&&e.node.data&&this.onContextualEvent({node:e.node})}function P(e){var t,n,o,a,s,r;switch(n=(t=this.widget.document.gr.views.main).container.clientWidth,o=t.container.clientHeight,r=this.overviewPanel.querySelector(".zoomslider input"),e){case v:S=!0,t.zoominc(-1),r.value=Math.log(t.vpt[2])/Math.log(2);break;case f:S=!0,t.zoominc(1),r.value=Math.log(t.vpt[2])/Math.log(2);break;case E:S=!0,t.zoomone(),r.value=0;break;case w:S=!0,this.reframeAll(),r.value=Math.log(t.vpt[2])/Math.log(2);break;case y:S=!0,s=Math.pow(2,r.value),a=i.changeViewpointScale(t.vpt,s,[n/2,o/2],!1),t.setViewpoint(a,!0);break;case _:S||(r.value=Math.log(t.vpt[2])/Math.log(2)),S=!1}}function B(e){var t=void 0;switch(e){case m.OrientationMode.ROOT_ON_TOP:t=0;break;case m.OrientationMode.ROOT_ON_LEFT:t=o.DrawingModifiers.HORIZONTAL;break;case m.OrientationMode.ROOT_ON_BOTTOM:t=o.DrawingModifiers.MIRROR_DEPTH;break;case m.OrientationMode.ROOT_ON_RIGHT:t=o.DrawingModifiers.HORIZONTAL|o.DrawingModifiers.MIRROR_DEPTH;break;default:throw new Error("Orientation must be a valid OrientationMode value.")}return t}return T.prototype.isSelected=function(e){return e&&this.sw&&this.sw.sync.model&&this.sw.sync.model.getXSO().isIn(e.data)},T.prototype.getSelection=function(){var e=[];this.sw&&this.sw.sync.model&&this.sw.sync.model.getXSO().get().forEach((function(t){e.push(t.__treeGraphNode__)}));return e},T.prototype.updateSelection=function(e,t){throw i.newNotImplError()},m.SyncEGraphTree=function(e,i){var r;this.orientation=i&&"number"==typeof i.orientation?this.orientation=i.orientation:this.orientation=m.OrientationMode.ROOT_ON_TOP,r=B(this.orientation),this.setFittingArea(i?i.fittingArea:void 0),this.container=document.createElement("div"),this.container.className="etree-sync-container",i&&"function"==typeof i.onNodeDropdownMenu&&(this.onNodeDropdownMenu=i.onNodeDropdownMenu),i&&"function"==typeof i.onNodeDoubleClick&&(this.onNodeDoubleClick=i.onNodeDoubleClick),i&&"function"==typeof i.onContextualEvent&&(this.onContextualEvent=i.onContextualEvent),this.container.innerHTML=['<div class="etree-sync-tree-container"></div>','<div class="etree-sync-overview-panel versionexplorer-overview-panel">','  <div class="etree-sync-overview-container versionexplorer-overview-panel-container"></div>','  <div class="etree-sync-overview-toolbar versionexplorer-overview-panel-toolbar">','    <button class="btn-default btn btn-root etree-sync-overview-icon zoomout">-</button>','    <button class="btn-default btn btn-root etree-sync-overview-icon zoomin">+</button>','    <div class="etree-sync-overview-slider zoomslider">','      <input type="range" min="-3" max="3" step="0.1" value="0">',"    </div>","  </div>",'  <div class="etree-sync-overview-expander"></div>',"</div>"].join("\n"),t.extendElement(e).setContent(this.container),this.treeContainer=this.container.querySelector(".etree-sync-tree-container"),this.overviewPanel=this.container.querySelector(".etree-sync-overview-panel"),this.overviewContainer=this.container.querySelector(".etree-sync-overview-container");var d=new s(i.NodeEdgeViewsTemplate),l=d.nodeDimensions(),c={nodeWidth:l.width,nodeHeight:l.height,rowPadding:60,siblingPadding:30,newNodeView:d.newNodeView,newEdgeView:d.newEdgeView,newTempNodeView:d.newTempNodeView,newTempEdgeView:d.newTempEdgeView,overrideAllActions:!0,dragMultipleNodes:!1,selectionModel:new T(this),buttons:{"col-collapse-expand":N.bind(this),"row-collapse-expand":D.bind(this),"dropdown-menu":x.bind(this)},actions:{toggleExpanded:L.bind(this),select:M.bind(this)},movePredicate:C.bind(this),insertPredicate:O.bind(this),dnd_dragStart:V.bind(this),dnd_isMove:A.bind(this),dnd_dropPredicate:R.bind(this),dnd_drop:H.bind(this),doubleClickOnNode:I.bind(this),extendLastRow:!0,drawingModifiers:r,oncontext:this.onContextualEvent?U.bind(this):void 0,edges:{type:"rounded-square",offset:-8},ignoreGroups:!0,pickGroupChildren:!0,drawing:o.Drawing.TWO_BRANCHES_LEAVES_ON_EXTREMITY,dnd_enabled:!0,mergeConnectorPadding:18,preventAntiEdgeOverlayAlgos:!0};this.widget=new n.EGraphTree(this.treeContainer,c),this.sync=new a.Sync(this.widget.document),this.overviewPanel.querySelector(".zoomout").addEventListener("click",P.bind(this,v)),this.overviewPanel.querySelector(".zoomout").setAttribute("title",g.zoom_out),this.overviewPanel.querySelector(".zoomin").addEventListener("click",P.bind(this,f)),this.overviewPanel.querySelector(".zoomin").setAttribute("title",g.zoom_in),this.overviewPanel.querySelector(".zoomslider input").addEventListener("input",P.bind(this,y)),this.overviewPanel.querySelector(".zoomslider input").addEventListener("change",P.bind(this,y)),this.widget.document.gr.views.main.addListener("viewpoint",P.bind(this,_)),this.widget.document.mergeList=[],i&&"number"==typeof i.layout&&this.setLayout(i.layout)},m.SyncEGraphTree.prototype.setModel=function(e){this.sync.setModel(e),this._ID=e._ID},m.SyncEGraphTree.prototype.getModel=function(){return this.sync.model},m.SyncEGraphTree.prototype.reframeAll=function(){k.call(this,m.ReframeMode.ALL|m.ReframeMode.MAXSCALE,!0)},m.SyncEGraphTree.prototype.reframeOn=function(e){if(this.sync.model){var t=Array.isArray(e)&&e.length?e:this.sync.model.getXSO().get();k.call(this,m.ReframeMode.LIST|m.ReframeMode.MAXSCALE,!0,t.map((function(e){return e.__treeGraphNode__})))}},m.SyncEGraphTree.prototype.swapLayoutOrientation=function(){var e=G.call(this);e&&this.setFixNode(e.data);var t=this.widget.document.drawingModifiers;t&o.DrawingModifiers.HORIZONTAL?t&=~o.DrawingModifiers.HORIZONTAL:t|=o.DrawingModifiers.HORIZONTAL,this.widget.document.setDrawing(void 0,t)},m.SyncEGraphTree.prototype.setRootPosition=function(e){var t=G.call(this);t&&this.setFixNode(t.data),this.widget.document.setDrawing(void 0,B(e)),this.orientation=e,this.reframeAll()},m.SyncEGraphTree.prototype.createOverview=function(e){this.overviewPanel.style.display="",this.overview=new c.EGraphOverviewUI(this.overviewContainer,this.widget,{})},m.SyncEGraphTree.prototype.showOverview=function(){this.overviewPanel.style.display=""},m.SyncEGraphTree.prototype.hideOverview=function(){this.overviewPanel.style.display="none"},m.SyncEGraphTree.prototype.setFixNode=function(e,t){if(e){if(!e.__treeGraphNode__)throw new Error("node must be a Node");this.widget.document.setFixNode(e.__treeGraphNode__,t)}else this.widget.document.setFixNode(null,t)},m.SyncEGraphTree.prototype.setSize=function(e,t){this.widget.document.gr.views.main.setSize(e,t)},m.SyncEGraphTree.prototype.setFittingArea=function(e){this.fittingArea&&e||(this.fittingArea={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0}),e&&("number"==typeof e.paddingLeft&&(this.fittingArea.paddingLeft=e.paddingLeft),"number"==typeof e.paddingRight&&(this.fittingArea.paddingRight=e.paddingRight),"number"==typeof e.paddingTop&&(this.fittingArea.paddingTop=e.paddingTop),"number"==typeof e.paddingBottom&&(this.fittingArea.paddingBottom=e.paddingBottom))},m.SyncEGraphTree.prototype.expandAll=function(e){var t;if(e)this.withLockedUpdate((function(){this.setFixNode(e),e.prepareUpdate(),e.expandAll(),e.pushUpdate()}),this);else for(t=this.widget.document.first;t;t=t.next)this.expandAll(t.data)},m.SyncEGraphTree.prototype.setMultiSelectionInTouch=function(e){this.allowMultiSelectionInTouch=Boolean(e)},m.SyncEGraphTree.prototype.setMultiSelectionDrag=function(e){this.widget&&(this.widget.sm.rootState.dragMultipleNodes=Boolean(e))},m.SyncEGraphTree.prototype.setHTML5DnD=function(e){this.widget&&(this.widget.sm.rootState.dnd_enabled=Boolean(e))},m.SyncEGraphTree.prototype.updateLock=function(){if(!this.sync.model)throw new Error("can't lock when no model is set");this.sync.model.prepareUpdate()},m.SyncEGraphTree.prototype.updateUnlock=function(){if(!this.sync.model)throw new Error("can't unlock when no model is set");this.sync.model.pushUpdate()},m.SyncEGraphTree.prototype.withLockedUpdate=function(e,t){this.updateLock();try{return e.call(t)}finally{this.updateUnlock()}},m.SyncEGraphTree.prototype.notifyUpdateNodes=function(e,t){var i=this;i.widget.document.withLockedUpdate((function(){for(var n=i.widget.document.first;n;n=n.dftNext(i.widget.document))n.notifyUpdate(e,t)}))},m.SyncEGraphTree.prototype.updateAllNodeViews=function(e){this.notifyUpdateNodes("_updateAll")},m.insertPredicate=function(e,t){},m.SyncEGraphTree.prototype.updateNodes=function(e){this.sync.updateNodes(),this.updateAllNodeViews()},m.SyncEGraphTree.prototype.activate=function(){this.updateNodes(),this.sync.activate()},m.SyncEGraphTree.prototype.deactivate=function(){this.sync.deactivate()},m.SyncEGraphTree.prototype.cleanup=function(e){this.sync.cleanup(),e||(this.widget=null,this.sync=null)},m}));