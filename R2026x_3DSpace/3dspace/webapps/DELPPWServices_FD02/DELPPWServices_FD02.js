define("DS/DELPPWServices_FD02/AuthoringService",["UWA/Core","DS/CoreEvents/Events","DS/DELPPWModelServices_FD02/ModelUtils","DS/DELPPWResourceServices_FD02/ResourceUtils","DS/DELPPWNavigationServices_FD02/SwitchDBModeManager","DS/DELPPWModelServices_FD02/BehaviorUtil"],(function(e,t,n,i,o,r){"use strict";return function(a){var s=[],c=[],l="Authoring",d=!1,u="AuthoringService",g=!1,f=function(){!1===n.getNavigateOnDatabase()&&(d=!0),o.setDbMode(!0)};return{onStart:function(n){s.push(a.addExternalListener("createReference",f)),s.push(a.addExternalListener("createInstance",f)),s.push(a.addExternalListener("reparentInstances",f)),s.push(a.addExternalListener("reorder",f)),s.push(a.addExternalListener("replace",f)),s.push(a.addExternalListener("DuplicateAdv",f)),s.push(a.addExternalListener("createLink",f)),s.push(a.addExternalListener("deleteLink",f)),s.push(a.addExternalListener("attachDocument",f)),s.push(a.addExternalListener("editAttribute",f)),s.push(a.addExternalListener("setSequencingMode",f)),s.push(a.addExternalListener("editLinkAttributes",f)),s.push(a.addExternalListener("lifecycleCmd",f)),s.push(a.addExternalListener("assignProduct",f)),s.push(a.addExternalListener("createMfgItemAndScope",f)),s.push(a.addExternalListener("createMfgItemAndResultingProduct",f)),s.push(a.addExternalListener("reconnectScope",f)),s.push(a.addExternalListener("createMfgItemStructure",f)),s.push(a.addExternalListener("updateMfgItemStructure",f)),s.push(a.addExternalListener("RerouteMfgItem",f)),s.push(a.addExternalListener("deleteInstance",f)),s.push(a.addExternalListener("changeConnection",f)),s.push(a.addExternalListener("consumeProductOnDragAndDrop",f)),s.push(a.addExternalListener("actionBarReady",(function(){o.isDbMode()&&a.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:l,cmdState:!0})}))),c.push(t.subscribe({event:"DELPPWCommands/Authoring"},(function(e){o.setDbMode(e.state),!1===r.isCloud()&&(!0===o.isDbMode()?!1===g&&(!1===d?a.getLogger().info(u,i.getNLSValue("Authoring.disablingIndex")):(d=!1,a.getLogger().info(u,i.getNLSValue("Authoring.disablingIndexOnAuthoring"))),g=!0):!1===o.isDbMode()&&!0===g&&(a.getLogger().info(u,i.getNLSValue("Authoring.enablingIndex")),g=!1),a.getMediator().notify("authoringMode"))}))),c.push(t.subscribe({event:"SwitchDBManager/ChangeMode"},(function(t){e.is(t)&&e.is(t.mode,"string")&&("indexMode"===t.mode?a.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:l,cmdState:!1}):"dbMode"===t.mode&&a.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:l,cmdState:!0}))}))),n()},onStop:function(){var e,n;for(e=0,n=s.length;e<n;e++)a.removeExternalListener(s[e]);for(s=[],e=0,n=c.length;e<n;e++)t.unsubscribe(c[e]);c=[]}}}})),define("DS/DELPPWServices_FD02/ConfigService/CustoParametersSet",["UWA/Core"],(function(e){"use strict";return function(t,n,i,o){var r,a,s,c="OOTBValue";return a=function(t){s=e.is(t)?t:{},e.is(widget.getValue)&&(r=widget.getValue("custoParametersSet"),-1===Object.keys(s).indexOf(r)&&(r=c,widget.setValue("custoParametersSet",r)))},{retrieveCustoParametersSetsInfo:function(n,o){var r=e.is(t)?"?custoParameterRegExp="+t:"";i.webServiceRequest({url:"dsmfg/private/V0/invoke/getCustoParametersSetsInfo"+r,method:"GET",onComplete:function(t,i){e.is(t,"array")?(a(t[0]),n([i,t[1]])):(a(t),n([i,t]))},onFailure:o,onTimeout:o})},isChanged:function(){var t=!1;return e.is(widget.getValue)&&r!==widget.getValue("custoParametersSet")&&(r=widget.getValue("custoParametersSet"),t=!0),t},getNames:function(){var e=[{value:c,label:o.getNLSValue("Preferences.CustoParametersSetDefault")}];return Object.keys(s).forEach((function(t){e.push({value:t,label:o.getNLSValue(t)})})),e},getSelectedPID:function(){var t,n="";return e.is(widget)&&e.is(widget.getValue,"function")&&(t=widget.getValue("custoParametersSet"),e.is(t,"string")&&Object.prototype.hasOwnProperty.call(s,t)&&(n=s[t])),n}}}})),define("DS/DELPPWServices_FD02/ExternalService/PadCommandProxyUtil",["UWA/Core"],(function(e){"use strict";return function(t){var n,i,o,r,a,s,c="PadCommandProxyUtil",l=t.getLogger();return o=function(n,i){var o=i||{},r=Array.isArray(n)?n:[n],a=!e.is(o.forceDBMode,"boolean")||o.forceDBMode,s=!!e.is(o.silent,"boolean")&&o.silent,d=!!e.is(o.forceExpand,"boolean")&&o.forceExpand,u=t.getPlugins("DatabasePlugin"),g={};e.is(u)?(u=u.instance).fetchRefList(r,{forceDBMode:a,silent:s,queriedForChildren:!1,onComplete:function(n){l.debug(c,"Successfully refreshed reference model: "+n),t.getMediator().notify("changeReference",[n.instancesAndReferences]),e.is(d)&&d&&n.instancesAndReferences.forEach((function(t){u.getDescendantsFromServer(t.id,null,e.merge({silent:s,forceDBMode:a},o))})),t.getMediator().notify("lifecycleCmd",g)},onFailure:function(t){l.debug(c,"Failed to refresh model PIDs: "+r),e.is(t)&&l.debug(c,JSON.stringify(t))}}):t.getLogger().debug(c,"_refreshElement- Database plugin not available")},n=function(n,i){var o=i||{},r=!!e.is(o.forceDBMode,"boolean")&&o.forceDBMode,a=!e.is(o.silent,"boolean")||o.silent,s=!!e.is(o.loadRootOnly,"boolean")&&o.loadRootOnly,d={forceDBMode:r,silent:a,onComplete:function(e){l.debug(c,"Successfully fetched reference: "+e.id),t.getMediator().notify("addReference",[e,null,{withLinksResolved:!0,forceDBMode:r,loadRootOnly:s}])},onFailure:function(t){l.debug(c,"_addReference: Failed to fetch Reference for PID: "+n),e.is(t)&&l.debug(c,JSON.stringify(t))}},u=t.getPlugins("DatabasePlugin");e.is(u)?(u=u.instance,e.is(n)?u.fetchRoot(n,d):t.getLogger().debug(c,"_addReference- Input PID is not defined")):t.getLogger().debug(c,"_addReference- Database plugin not available")},i=function(n,i){var o,r,a,s=i||{},d={noTimeout:!0};r=function(){var e=a.getReferencesFromArray(n);l.debug(c,"Successfully fetched references: "+n),t.getMediator().notify("addReference",[e,null,{}]),t.getMediator().notify("stopProgress",d)},o={forceDBMode:!!e.is(s.forceDBMode,"boolean")&&s.forceDBMode,silent:!e.is(s.silent,"boolean")||s.silent,onFailure:function(i){l.debug(c,"_addReferences: Failed to fetch References for PID: "+n),e.is(i)&&l.debug(c,JSON.stringify(i)),t.getMediator().notify("stopProgress",d)}},(e.is(s.loadRootOnly,"boolean")?s.loadRootOnly:widget.getBool("loadRootOnly"))&&(o.expandLevel=0),a=t.getPlugins("DatabasePlugin"),e.is(a)?(a=a.instance,e.is(n)?(t.getMediator().notify("startProgress",d),a.getDescendantsFromServer(n,r,o)):t.getLogger().debug(c,"_addReferences- Input PID is not defined")):t.getLogger().debug(c,"_addReferences- Database plugin not available")},r=function(t,n){var o,r;l.debug(c,"Refresh Created: %o",t),o=n||{},o=e.merge({forceDBMode:!0},o),r=[],e.is(t,"array")&&(t.forEach((function(t){var n=t||{},i=e.is(n.physicalid,"string")&&n.physicalid.length>0?n.physicalid:null;e.is(i)&&r.push(i)})),r.length>0&&i(r,o))},a=function(n,i){var o=[],r=[],a=[],s={silent:!0},d=t.getPlugins("DatabasePlugin");e.is(d)?(d=d.instance,l.debug(c,"Refresh Deleted: %o"+n),e.is(n,"array")&&(n.forEach((function(n){var i=n||{},s=[],l=null,u=e.is(i.physicalid,"string")&&i.physicalid.length>0?i.physicalid:null;e.is(u)?(l=d.getReferenceModel(u),e.is(l)&&(o.push(l),d.getAllChildrenFromCollection(u).instancesPID.forEach((function(e){var t=d.getInstance(e),n=d.getImpacted(e,!1,{onlyInstanceRelations:!0});r.push(t),a=a.concat(n)})),s=d.getImpacted(u,!1),a=a.concat(s))):t.getLogger().debug(c,"_refreshDeleted- Invalid PID")})),d.removeReference(o,s),t.getMediator().notify("removeReference",[o]),r.length>0&&(d.removeInstance(r,s),t.getMediator().notify("removeInstance",[r])),a.length>0&&(d.removeConnection(a,s),t.getMediator().notify("removeConnection",[a])))):t.getLogger().debug(c,"_refreshDeleted- Database plugin not available.")},s=function(t,n){var i=n||{},r=[];i=e.merge({forceDBMode:!0,silent:!0,forceExpand:!1},i),l.debug(c,"Refresh Modified: %o",t),e.is(t,"array")&&(t.forEach((function(t){var n=t||{},i=e.is(n.physicalid,"string")&&n.physicalid.length>0?n.physicalid:e.is(n,"string")&&n.length>0?n:null;r.push(i)})),o(r,i))},{refreshElementFromEvent:function(t){e.is(t,"array")&&t.forEach((function(t){var n=t||{},i=e.is(n.id,"string")&&n.id.length>0?n.id:null,r=!!e.is(n.forceDBMode,"boolean")&&n.forceDBMode,a=!!e.is(n.forceExpand,"boolean")&&n.forceExpand;e.is(i)&&o(i,{forceDBMode:r,forceExpand:a,silent:!1})}))},addReferenceFromEvent:function(t){e.is(t,"array")&&t.forEach((function(t){var i=t||{},o=e.is(i.id,"string")&&i.id.length>0?i.id:null,r=!!e.is(i.forceDBMode,"boolean")&&i.forceDBMode,a=!!e.is(i.loadRootOnly,"boolean")&&i.loadRootOnly;e.is(o)&&n(o,{forceDBMode:r,loadRootOnly:a,silent:!1})}))},refreshCreated:function(e,t){r(e,t)},refreshDeleted:function(e,t){a(e)},refreshModified:function(e,t){s(e,t)}}}})),define("DS/DELPPWServices_FD02/EventsService",["UWA/Core","UWA/Json"],(function(e,t){"use strict";return function(n){var i,o="EventsService",r=["addReference","addInstance","addConnection","addOccurrece","addLinkedObject","addProductOrPart","addRootNode","hideRootNode","removeRoot","addLog","LoadRecentContent","onRecentContentLoaded","AddMfgItemToMBOMAltSub","ReplaceByAlternate","doReplaceByMfgAlternate","removeReference","removeInstance","removeConnection","changeReference","changeInstance","changeConnection","reorder","createMfgItemStructure","updateMfgItemStructure","editAttribute","reconnectScope","deleteLink","createLink","editLinkAttributes","assignProduct","createMfgItemAndScope","createMfgItemAndResultingProduct","attachDocument","createReference","deleteInstance","replace","lifecycleCmd","objectCreation","objectCreationUIClosed","changeSortIndex","select","reComputeCrossHighlight","updateCrossHighlight","change3DVisibility","activeViewChange","startProgress","stopProgress","widgetLayoutChanged","onNodeExpanded","onNodeCollapsed","LoadIn3DViewer","ReframeIn3DViewer","startModule","stopModule","reset","refreshAll","onRefreshedAll","RefreshCmd","refreshImpacted","endEdit","addToAuxiliaryView","toggleAuxPanel","dockingZoneToggle","SearchAndAddCommand","toggleCmdCheckHeaderState","ActionRemove","blocLayoutResizeEnd","AlternateBL","CapableResourceBL","refreshView","EditAttribute","SetSequencingMode","reparentInstances","reparentBegin","reparentEnd","replaceWhereUsedModule","Hide","HideAll","Relations","DisplayProperties","CreateCapableResourceStructureLink","CreateLink","CreateMultipleLinks","CreateLinkOrInstance","CreateScope","CreatePartialScopeLinkOnHeaderOperation","CreateInstance","InsertCmd","ManageInconsistentLinks","BIEssentialsCmd","DuplicateAdvCmd","Delete","DetachInstance","ToggleGraphView","ManageGraphViewCmdAvailablity","ShowGraphView","ProductFlowCmd","EGraphNodeSelect","Reframe","ReframeOn","ToggleOrientation","ToggleOverview","updateBIStatus","addBIModel","changeBIModel","resetBIModel","BIAltSub","CreateScopeLink","DeleteScopeLink","ReconnectScope","CreatePartialScopeLink","DeletePartialScopeLink","StretchPartialScopeLink","SwitchToFullScopeLink","ReviseAndReconnectScope","ExploreInWebApp","HideIn3D","ShowIn3D","AssignProduct","UnassignProduct","expandAll","collapseAll","LoadRelationsinViews","UserDefExplore","ShowLogPanel","CreateMfgItemStructure","UpdateMfgItemStructure","ShowGroupingDataGridView","Show3DViewerCmd","selectNodes","unSelectNodes","updateNodes","unsetNodeAttr","refreshManageCapableResourceView","createResourceUsage","updateResourceUsage","updatePreferredLink","openManagStepOperationPanel","populateMangeStepOpertionsUI","reBuildManageCapableRscUI","AttachDocumentCmd","SearchDocumentCmd","ManageDocumentsCmd","addDocumentConnections","changeDocument","manageDocCmdAvailability","ExportCSVCmd","EditViewPreferencesCmd","searchAndAddInstance","InsertAsCopy","TreeViewPrefModified","LoadRelations","CreateMfgItemAndScope","CreateMfgItemAndLinkAltSubst","ReplaceByLatestRevision","ReplaceByExisting","ReplaceByNewRevision","ReplaceByNewReference","ReplaceWhereUsed","updateRelationsColumn","visibleNodesChanged","Filter3DApplied","RelationsPanelLoaded","nodesUpdatedInAsync","authoringMode","CreateMfgItemAndResultingProduct","updateCfgColumns","updateRelationsUI","DeleteReferenceFromXen","manageCommandsOnGrouping","activateProcurementGrouping","activateFlattenView","BuildUp","createDataCollectRow","editWorkInstruction","editDataCollectRow","deleteDataCollectRow","moveDataCollectRow","LoadDropContent","ResetRootsStore","ShowLandingPage","HideLandingPage","Quantity","DELCreateEngineeringMadeFromItem","refreshOperationTime"],a=n.getMediator(),s=null,c=n.getConfig().resource.eventsMappingPath;return i=function(t,i){var o,r,a,c=e.is(i)?i.sourceModuleId:null,l=[];return e.is(s)?(r=s[t],e.is(r)&&e.is(c)?(a=r[c],e.is(a)&&a.forEach((function(t){o=n.getInstance(t),e.is(o)&&l.push(o)}))):l=n.getInstance(),l):l},a.notifyModuleAndBehaviors=function(e,t,s){var c,l,d=t instanceof Array?t:[t],u=i(e,s);try{if(-1===r.indexOf(e))return n.getLogger().debug(o,"Event: "+e+", is not in the authorized event list"),!1;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(l=u[c]).isStarted&&(l.behaviors instanceof Array&&l.behaviors.forEach((function(t){a.callHandlers(t.instance,e,d)})),a.callHandlers(l.instance,e,d))}catch(e){n.getLogger().debug(o,e.message)}},{onStart:function(i){require(["text!"+c],(function(o){e.is(o)?s=e.is(o,"string")?t.decode(o):o:n.getLogger().debug("Events mapping is not defined."),i()}))},onStop:function(){s=null}}}})),define("DS/DELPPWServices_FD02/ExternalService/ExternalServiceUtil",["UWA/Core","DS/PlatformAPI/PlatformAPI"],(function(e,t){"use strict";var n,i,o,r=function(t){return{getAllSelections:function(t){var n=[],i=this.getSelectedNodeInfos(t);return e.is(i,"array")&&(n=i.reduce((function(e,t){return e.concat(t)}),[])),n},getSelectedNodeInfos:function(n){var i,o,r,a,s,c,l,d=[],u=n||"ExternalService",g=t.getPlugins("SelectionPlugin"),f=t.getPlugins("DatabasePlugin"),m=t.getPlugins("TreeViewPlugin"),h=t.getPlugins("AttributePlugin");if(!(e.is(f)&&e.is(g)&&e.is(m)&&e.is(h)))return t.getLogger().debug("ExternalServiceUtil","DatabasePlugin or SelectionPlugin or TreeViewPlugin or AttributePlugin not available."),d;for(f=f.instance,g=g.instance,m=m.instance,h=h.instance,c=function(t,n,i){var o,r="V_Name";return e.is(i)&&(e.is(i.attributeName,"string")&&(r=i.attributeName),o=e.is(n)&&!i.labelIsOnRef?n.get(r):t.get(r)),o},l=function(t,n){var i,o,r,a=t.id,s=t.path,l=null;return r=f.getReference(a),e.is(r)||(l=f.getInstance(a),e.is(l)&&(r=f.getReferenceModelFromInstance(l))),i={reference:{id:r.id,type:r.get("type"),pprType:r.get("PPRTYPE"),revision:r.get("revision")},instance:{id:e.is(l)?l.id:null,absolutePath:s,label:e.is(l)?l.get("PLM_ExternalID"):null},label:c(r,l,n),parent:null},o=e.is(l)?f.getAggregatingReferenceModelFromInstance(l):null,e.is(o)&&(i.parent={reference:{id:o.id},label:c(o,null,n)}),i},i=g.getSelectionsWithPaths(u),r=g.getSelectionMapping(u),a=0,s=i.length;a<s;a++)o=m.getLabelInfo(r[a]),d[a]=i[a].map((function(e){return l(e,o)}));return d}}};return i=function(t){var n,i,o,r,a,s={data:[],widgetID:widget.id},c=["DELLmiTimeConstraintCnx","ProcessImplementLinkOcc","ProductImplementLinkOcc","DELAsmProcessCanUseCnx"];return t.forEach((function(t){"string"==typeof t&&(t=function(e){var t,n={type:[],PID:[],from:[],to:[]};return t=e.split("|"),n.type=t[0],n.PID=e,n.from=t[1],n.to=t[2],n}(t)),i=e.is(t.attributesValue)?t.attributesValue:t,o=e.is(i.type)?i.type:i.PID.split("|")[0],-1===c.indexOf(o)||function(e){var t,n=!1;for(t=0;t<=s.data.length-1;t++)s.data[t].pid===e&&(n=!0);return n}(i.PID)||(r=e.is(i["from.PID"])?i["from.PID"]:i.from,a=e.is(i["to.PID"])?i["to.PID"]:i.to,n={type:o,pid:i.PID,from:r,to:a}),e.is(n)&&(s.data.push(n),n=null)})),s},o=function(t){var n,i,o={data:[],widgetID:widget.id};return i=function(e){var t,n=!1;for(t=0;t<=o.data.length-1;t++)o.data[t].pid===e&&(n=!0);return n},t.forEach((function(t){t=e.is(t.attributesValue)?t.attributesValue:t,e.is(t.isInstanceOf)&&!i(t.PID)&&(n={pid:t.PID,parentRef:t.isAggregatedBy,childRef:t.isInstanceOf}),e.is(n)&&(o.data.push(n),n=null)})),o},{getInstance:function(t){return e.is(n)||(n=new r(t)),n},processCreateConnection:function(e){var n=i(e);n.data.length>>0&&t.publish("DS.MFN.Object.CreateConnection",n)},processDeleteConnection:function(e){var n=i(e);n.data.length>>0&&t.publish("DS.MFN.Object.DeleteConnection",n)},processCreateInstance:function(e){var n=o(e);t.publish("DS.MFN.Object.CreateInstance",n)},processDeleteInstance:function(e){var n=o(e);t.publish("DS.MFN.Object.DeleteInstance",n)}}})),define("DS/DELPPWServices_FD02/LoggerService/LogManager",["UWA/Core","DS/Logger/Logger","DS/DELPPWLoggerModel_FD02/LoggerUtils"],(function(e,t,n){"use strict";return function(t){var i,o,r,a,s,c,l,d="LogPanel-Main-Container",u="ShowLogPanel",g={},f=null,m=-1;return r=function(){var n=o.getComponent("WUXFrameWindowsManager").getFrameWindow(t.getConfig().appContext),r=o.getComponent("Panel"),s=o.getComponent("WUXDockAreaEnum");(f=new r({title:i.getNLSValue("LogPanel.Header"),domId:"ShowLogPanel",position:{my:"top-right",at:"top-right"},immersiveFrame:n.getImmersiveFrame(),resizableFlag:!0})).allowedDockAreas=s.LeftDockArea|s.RightDockArea,f.close=function(){e.is(u)&&t.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:u,cmdState:!1}),a()}},a=function(){e.is(f)&&f.visibleFlag&&s(),e.is(f)&&(f.destroy(),f=void 0),m=-1},s=function(){e.is(f)&&(!0===f.visibleFlag?f.hide():f.show())},l=function(){var t,r,a,s,c,l,u=null;if(e.is(o)&&e.is(f)&&f.visibleFlag&&(g={started:i.getNLSValue("LogPanel.Started"),completed:i.getNLSValue("LogPanel.Completed"),failed:i.getNLSValue("LogPanel.Failed"),timedout:i.getNLSValue("LogPanel.TimedOut")},u=o.getComponent("Element"),(r=n.getSize())!==m))for(m=r,a=Math.min(r,1e3),f.content=new u("div",{class:d}),t=r-1;t>=r-a;t--)l=(c=n.getModel(t)).get("action"),s=i.getNLSValue("LogPanel.LineFormat",{index:c.get("index"),name:c.get("name"),action:g[l],time:c.get("time")}),(c.get("isRunning")?new e.Element("div",{text:s,styles:{fontWeight:"bold"}}):new e.Element("div",{class:"wux-textElement",text:s})).inject(f.content)},c=function(){o=t.getPlugins("UXComponentsPlugin").instance,i=t.getPlugins("ResourcePlugin").instance,e.is(f)?a():(r(),l())},n.setAddCallback((function(e,n,i){t.getMediator().notify("addLog",[e,n,i])})),{addLog:function(){l()},onShowLogPanel:function(){c()}}}})),define("DS/DELPPWServices_FD02/CommandsService/CommandsService",["UWA/Core","DS/ApplicationFrame/CommandsManager","DS/DELPPWModelServices_FD02/ModelUtils","DS/DELPPWModelServices_FD02/BehaviorUtil","DS/DELPPWNavigationServices_FD02/SwitchDBModeManager"],(function(e,t,n,i,o){"use strict";return function(r){var a,s,c,l="CommandsService",d=r.getConfig().resource.commandsAvailabilityPath,u=!1,g=[],f=function(){var i,o,a,s,c=null;if("MFN"===n.getWidgetTrigram()&&!n.isMGALicenseAvailable())for(a in i=r.getConfig().appContext,t.getCommands(i))e.is(a)&&(o=t.getCommand(a,i),e.is(o)&&"InsertCmd"===o.name&&(c=null,s=o.getArguments(),"array"===e.typeOf(s)&&s.forEach((function(e){"PPRType"===e.ID&&(c=e.Value)})),"RESOURCE"===c&&o.disable()))};return{onStart:function(t){if(!e.is(d))throw r.getLogger().debug("Commands availability file path have not being provided."),new Error("Commands availability file path have not being provided.");require(["text!"+d],(function(i){if(!e.is(i))throw r.getLogger().debug("Commands Availability json is not defined."),new Error("Commands Availability json is not defined.");c=e.is(i,"string")?e.Json.decode(i):i,a=e.is(c.managedCommands,"array")?c.managedCommands:[],s=e.is(c.notOnCloud,"array")?c.notOnCloud:[],n.checkCFGLicenseAvailablePromise().then((function(e){u=e,r.getLogger().debug(l,"CFG license "+(u?"available":"not available"))})).catch((function(e){r.getLogger().debug(l,"ERROR while checking for CFG license: "+e)})),t()}))},onStop:function(){},notifyApp:function(e,t){r.getMediator().notify(e,t,{sourceModuleId:l})},toggleModule:function(t,n){var i;e.is(n)&&e.is(n.state)&&(i=n.state?"startModule":"stopModule",r.getMediator().notify(i,{moduleId:t,moduleData:n}))},setCommandState:function(n,i){var o,a=r.getConfig().appContext;e.is(n)?(o=t.getCommand(n,a),e.is(o)||(o=t.getCommandCheckHeader(n,a)),e.is(o)?i?o.enable():o.disable():r.getLogger().debug(l,"disableCommand, unknown command: "+n)):r.getLogger().debug(l,"disableCommand, no command in input !!!")},setEffectivityCmdState:function(t,n){var i=n;!0===i&&(e.is(window)&&e.is(window.cfgCmdWidgetData)&&e.is(window.cfgCmdWidgetData._isDecouplingActivated,"boolean")?!1===window.cfgCmdWidgetData._isDecouplingActivated&&(i=!1):i=!1),this.setCommandState(t,i)},setAllCommandsState:function(t){var n=e.is(t,"string")?this.getCommandsAvailability(t):t,o=e.is(n)&&e.is(n.enabled,"array")?n.enabled:[];a.forEach((function(e){this.setCommandState(e,!1)}),this),i.isCloud()&&(o=o.filter((function(e){return s.indexOf(e)<0}),this)),0<o.length?o.forEach((function(e){this.setCommandState(e,!0)}),this):r.getLogger().debug(l,"enabled param should be an array with some element")},initState:function(){var n;e.is(c)?(n=function(){var n,i,o,a,s=r.getConfig().appContext,c=t.getCommands(s),l=null,d=[];for(n in c)e.is(n)&&(i=t.getCommand(n,s),e.is(i)&&"InsertCmd"===i.name&&(o=i.getArguments(),d.push(n),"array"===e.typeOf(o)&&o.length>0&&(a=o[0],e.is(a)&&e.is(a.ID)&&"ReferenceType"===a.ID&&e.is(a.Value)&&(l=a.Value)),e.is(l)&&(e.is(g[l.split("/")[1]],"array")?g[l.split("/")[1]].push(n):g[l.split("/")[1]]=[n],l=null)));return d}(),a=a.concat(n),c.initial.enabled=c.initial.enabled.concat(n),c.none.enabled=c.none.enabled.concat(n),this.setAllCommandsState(c.initial),this.authoringCmdAvailability(),f()):r.getLogger().debug("Commands Availability json is not defined.")},getSelectedRoots:function(t){var n,i,o=r.getPlugins("RootsPlugin"),a=[];if(e.is(o)){if(e.is(t,"array"))for(n=0;n<t.length;n++)if(e.is(t[n],"array"))for(i=0;i<t[n].length;i++)o.instance.isRoot(t[n][i])&&a.push(t[n][i]);return a}r.getLogger().debug("Roots Plugin is not available.")},getCommandsAvailability:function(t){if(!t)return e.clone(c);return function(t,n,i){var o;for(void 0===i&&(i=null),n=n.split("."),o=0;o<n.length;o++){if(void 0===t[n[o]])return i;t=t[n[o]]}return e.clone(t)}(c,t)},getValidChildTypeCommands:function(t){var n,i,o,a,s=[],c=r.getPlugins("DatabasePlugin");if(e.is(c)){if(i=c.instance.getValidChildTypes(t),e.is(i))for(n in g)if(i.indexOf(n)>=0)for(o=g[n],a=0;a<o.length;a++)s.push(o[a]);return s}r.getLogger().debug("Database Plugin is not available to get valid child types.")},manageCommandsAvailability:function(t,i,a,s,c,d){var g,m,h,p,v,S,C,P,D,w,b,L,y,E,I=this,R=0,A=0,M=0,x=0,_=0,O=0,N=r.getPlugins("DatabasePlugin"),V=r.getPlugins("DicoPlugin"),F=o.isDbMode()||n.getNavigateOnDatabasePreference();N&&V?(N=N.instance,V=V.instance,i=i||[],a=a||[],s=s||[],c=c||[],d=d||[],R=(t=t||[]).length,M=i.length,A=c.length,h=a.length,m=d.length,e.is(a,"array")&&a.forEach((function(t){g=N.getReferenceModel(t),e.is(g)&&("PART"===(L=g.get("PPRTYPE"))||"PRODUCT"===L?M++:"PROCESS"===L?R++:"SYSTEM"===L?x++:"RESOURCE"===L?A++:"OPERATION"===L?_++:"WORKINSTRUCTION"===L&&O++)})),e.is(s,"array")&&s.forEach((function(t){g=N.getReferenceModel(t),e.is(g)&&("SYSTEM"===(L=g.get("PPRTYPE"))?x++:"OPERATION"===L?_++:"WORKINSTRUCTION"===L&&O++)})),v=R+M+x+A+_+O+m,D=I.getSelectedRoots([t,i,s,c,a,d]),1>v?I.setAllCommandsState("none"):1===v?(1!==x&&1!==_||(b=I.getCommandsAvailability("one.system"),g=N.getReferenceModel(s[0]),!0!==V.isAKindOf(g,"DELLmiWorkPlanSystemReference")&&!0!==V.isAKindOf(g,"DELLmiQtyControlProcessReference")||b.enabled.push("CreateCapableResourceStructureLink")),1===O&&(b=I.getCommandsAvailability("one.workInstruction")),1===A&&(b=I.getCommandsAvailability("one.resource")),1===R&&(b=I.getCommandsAvailability("one.process")),1===M&&(b=I.getCommandsAvailability("one.product")),1===m&&(b=I.getCommandsAvailability("one.service")),e.is(b)&&(C=t[0]||s[0]||c[0]||a[0]||d[0],S=N.getReferenceModel(C),e.is(S)&&(w=I.getValidChildTypeCommands(S),b.enabled=b.enabled.concat(w),w=I.getInsertAsCommands(S),b.enabled=b.enabled.concat(w)),I.setAllCommandsState(b))):1<v&&(v===M?I.setAllCommandsState("multiple.product"):v===R?I.setAllCommandsState("multiple.process"):v===x+_?I.setAllCommandsState("multiple.system"):v===O?I.setAllCommandsState("multiple.workInstruction"):v===A?I.setAllCommandsState("multiple.resource"):I.setAllCommandsState("multiple.mixed"),D.length!==v&&0!==D.length&&I.setCommandState("Delete",!1)),I.setCommandState("CreateLink",!0),I.setCommandState("CreateInstance",!0),P=D.length>0,y=v>0&&D.length===v&&M<1,I.setCommandState("Hide",P),I.setCommandState("DeleteHdr",y),I.setCommandState("DetachInstance",!P&&M<1&&v>0),I.manageReplaceCommandsAvailablity({isRoot:P,auxiliaryViewLength:a.length,mfgItemsViewLength:t.length,routingsViewLength:s.length,serviceItemsViewLength:d.length}),I.manageDocCmdAvailability(),I.groupingViewCmdAvailability(R,M,h),p=function(){var n,i,o,r,a=!1;if(s.length>0){n=N.getInstance(s[0]),e.is(n)&&(n=n.get("isAggregatedBy"));for(let t=0;t<s.length;t++)if(i=N.getInstance(s[t]),e.is(i)&&(i=i.get("isAggregatedBy")),n!==i){a=!0;break}}else if(t.length>0){o=N.getInstance(t[0]),e.is(o)&&(o=o.get("isAggregatedBy"));for(let n=0;n<t.length;n++)if(r=N.getInstance(t[n]),e.is(r)&&(r=r.get("isAggregatedBy")),o!==r){a=!0;break}}return a},v>0&&(E={isLicenseCFGValid:u,isRoot:P,auxLength:a.length,processViewLength:t.length,routingsViewLength:s.length,resourceViewLength:c.length,serviceViewLength:d.length,selectedItemsCount:v,isAuthoring:F,isCrossLevel:p()},I.manageConfigurationCommands(E)),f(),t.length>0&&(this.manageCommandsAvailabilityForReadOnlyTypes(t),e.is(I.manageAdvDuplicateCmd,"function")&&(E={auxLength:a.length,processViewLength:t.length,routingsViewLength:s.length,resourceViewLength:c.length},I.manageAdvDuplicateCmd(E)))):r.getLogger().debug(l,"Database or Dico  Plugin is not available.")},manageCommandsAvailabilityForReadOnlyTypes:function(t){const n=this,i=this.getCommandsAvailability("disableCommandsForReadOnlyProcessTypes"),o=r.getPlugins("DatabasePlugin"),a=r.getPlugins("DicoPlugin");if(e.is(o)&&e.is(a)){const e=t.map((function(e){return o.instance.getReferenceModel(e)}));if(Array.isArray(e)&&e.length>0){let t=new Set;e.forEach((function(e){t.add(e.get("type"))}));a.instance.isReferencesHasReadOnlyType(e)&&i.forEach((function(e){n.setCommandState(e,!1)}))}}},manageConfigurationCommands:function(){r.getLogger().debug(l,'"manageConfigurationCommands" is not overridden')},manageReplaceCommandsAvailablity:function(){r.getLogger().debug(l,'"manageReplaceCommandsAvailablity" is not overridden')},manageDocCmdAvailability:function(){var e=[],t=r.getPlugins("SelectionPlugin"),n=r.getPlugins("DocumentPlugin");n&&t?(t.instance.getSelections("CMDS").forEach((function(t){e=e.concat(t)})),1===e.length&&n.instance.hasDocuments(e[0])?this.setCommandState("ManageDocuments",!0):this.setCommandState("ManageDocuments",!1)):r.getLogger().debug("Selection or Document Plugin is not available.")},authoringCmdAvailability:function(){!0===n.getNavigateOnDatabasePreference()?this.setCommandState("Authoring",!1):this.setCommandState("Authoring",!0)},groupingViewCmdAvailability:function(e,t,n){1===e&&0===n&&0===t?this.setCommandState("ShowGroupingDataGridView",!0):this.setCommandState("ShowGroupingDataGridView",!1)},manageGraphViewCmdAvailablity:function(){var t,n,i=this,o=r.getPlugins("TreeViewPlugin"),a=!1;e.is(o)?(t=o.instance.getCurrentView(),Object.keys(t).forEach((function(i){n=t[i],e.is(n.currentView)&&"graphView"===n.currentView&&(a=!0)})),["ToggleOrientation","ToggleOverview","Reframe","ReframeOn"].forEach((function(e){i.setCommandState(e,a)}))):r.getLogger().debug("treeView Plugin is not available.")},toggleCmdCheckHeaderState:function(n){var i,o,a,s;(n=n||{},e.is(n.cmdName))?(i=n.cmdName,o=n.cmdState,a=null,s=null,a=t.getCommandCheckHeader(i,r.getConfig().appContext),e.is(a)?(s=a.isEnabled(),(s=!("Authoring"===i&&!s))&&(e.is(o,"boolean")?a.setState(o):a.toggleState())):r.getLogger().debug(l,"toggleCmdCheckHeaderState, unknown command: "+i)):r.getLogger().debug("Failed to toggle state : check command name has not been provided")},manageCommandsAvailabilityOnGrouping:function(){var e=this,t=r.getPlugins("TreeViewPlugin");t||r.getLogger().debug("treeView Plugin is not available."),(t=t.instance).isGroupingExist()&&["Refresh","HideAll","Hide"].forEach((function(t){e.setCommandState(t,!1)}))},getOneDelmiaAggregationMode:function(){return n.getOneDelmiaAggregationMode()}}}})),define("DS/DELPPWServices_FD02/BuildUpService/BuildUpService",["UWA/Core","DS/UIKIT/Mask","DS/ApplicationFrame/CommandsManager","DS/DELPPWModelServices_FD02/CollectionUtils","DS/DELPPWWebServices_FD02/WebserviceUtils","DS/DELPPWResourceServices_FD02/ResourceUtils"],(function(e,t,n,i,o,r){"use strict";return function(a){var s,c,l,d,u,g,f,m,h,p,v,S,C,P,D,w=["DELLmiGeneralOperationReference","DELLmiHeaderOperationReference","DELLmiLoadingOperationReference","DELLmiWorkPlanSystemReference"],b=["DELLmiGeneralOperationInstance","DELLmiHeaderOperationInstance","DELLmiLoadingOperationInstance"],L="type",y="pid",E="V_Name",I="name",R="isAggregatedBy",A="isInstanceOf",M="isinstanceof",x="PLM_ExternalID",_="from",O="to",N="duration",V="isaggregatingby",F="transformationmatrix",W="materialneed",B="productFlowType",U="V_usage",k="V_MaterialNeed",T="DELAsmProcessCanUseCnx",z="DELLmiTimeConstraintCnx",j="ProcessImplementLink",H="ProcessImplementLinkOcc",G="ProductImplementLink",q="SecondaryCandidateResourceLink",X="ProductImplementLinkOcc",K="DELLmiTimeConstraintScrapped",Z="DELLmiTimeConstraintFailed",J="Scrapped",Y="Failed",Q="Good",$="dsmfg/private/V0/invoke/BuildUp/",ee="terminate",te="initBuildUpPath",ne="computeBuildUpSelection",ie="build up service",oe={},re={},ae=!0,se=!1,ce=null,le=null,de=null,ue=null,ge=null,fe=null;return s=function e(t,n,o){var r={};r[y]=t.id,r[L]=t.get(L),r[I]=E,r[N]=200,n.push(r),i.instances.where({isInstanceOf:t.id}).forEach((function(e){var t={};t[y]=e.id,t[V]=e.get(R),t[M]=e.get(A),t[I]=e.get(x),t[F]=[1,0,0,0,1,0,0,0,1,0,0,0],o.push(t)})),i.instances.where({isAggregatedBy:t.id}).forEach((function(t){i.references.where({PID:t.get(A)}).forEach((function(t){e(t,n,o)}))}))},c=function e(t,n,o,r,a){i.instances.where({isAggregatedBy:t.id}).forEach((function(t){i.references.where({PID:t.get(A)}).forEach((function(t){var s,c={};n.push(t.id),s=t.get(L),s=w.indexOf(s)>=0?s.replace("DELLmi","").replace("Reference",""):"AssembleOperation",c[y]=t.id,c[L]=s,c[I]=t.get(E),c[N]=200,o.push(c),i.instances.where({isInstanceOf:t.id}).forEach((function(e){var t={};r.push(e.id),t[y]=e.id,t[V]=e.get(R),t[M]=e.get(A),t[I]=e.get(x),a.push(t)})),e(t,n,o,r,a)}))}))},function(e){var t,n,o,r=[],a=[];return i.connections.where({type:T}).forEach((function(s){var c={};t=s.get(_),e.indexOf(t)>-1&&(n=s.get(O),o=i.references.where({PID:n},1),-1===a.indexOf(o.id)&&(c[y]=o.id,c[L]=o.get(L),c[I]=o.get(E),r.push(c),a.push(o.id)))})),i.connections.where({type:q}).forEach((function(s){var c={};t=s.get(_),e.indexOf(t)>-1&&(n=s.get(O),o=i.references.where({PID:n},1),-1===a.indexOf(o.id)&&(c[y]=o.id,c[L]=o.get(L),c[I]=o.get(E),r.push(c),a.push(o.id)))})),r},function(e){var t=[];return e.forEach((function(e){i.instances.where({isInstanceOf:e.pid}).forEach((function(e){var n={};n[y]=e.id,n[V]=e.get(R),n[M]=e.get(A),n[I]=e.get(x),n[F]=[1,0,0,0,1,0,0,0,1,0,0,0],t.push(n)}))})),t},l=function(t){var n=[];return i.connections.where({type:z}).forEach((function(o){var r,a,s,c,l,d={},u=!1;if((t.indexOf(o.getAttribute("to"))>-1||t.indexOf(o.getAttribute("from"))>-1)&&(u=!0),!0===u&&(1===i.instances.where({PID:o.getAttribute(_)}).length&&((a=i.instances.where({PID:o.getAttribute(_)},1)).get(R)!==ue?1===i.instances.where({isInstanceOf:a.get(R)}).length&&(c=[i.instances.where({isInstanceOf:a.get(R)},1).id,a.id]):c=[a.id]),1===i.instances.where({PID:o.getAttribute(O)}).length&&((r=i.instances.where({PID:o.getAttribute(O)},1)).get(R)!==ue?null!==(l=i.instances.where({isInstanceOf:r.get(R)},1))&&(s=[l.id,r.id]):s=[r.id]),b.indexOf(r.get(L))>=0&&b.indexOf(a.get(L))>=0&&t.indexOf(c[c.length-1])>-1&&t.indexOf(s[s.length-1])>-1)){if(d[y]=o.id,d[L]=o.get(L).replace("Product","").replace("Occ","").replace("DELLmi","").replace("Cnx",""),d[_]=c,d[O]=s,d[W]=o.get(k),e.is(o.get(U)))switch(o.get(U)){case K:d[B]=J;break;case Z:d[B]=Y;break;default:d[B]=Q}n.push(d)}})),i.connections.where({type:j}).forEach((function(t){var i={};ue===t.get(_)&&(i[y]=t.id,i[L]="Scope",i[_]=e.is(t.get(_),"array")?t.get(_):[t.get(_)],i[O]=e.is(t.get(O),"array")?t.get(O):[t.get(O)],n.push(i))})),i.connections.where({type:H}).forEach((function(i){var o,r={};o=i.get(_)[i.get(_).length-1],t.indexOf(o)>-1&&(r[y]=i.id,r[L]="ImplementLink",r[_]=e.is(i.get(_),"array")?i.get(_):[i.get(_)],r[O]=e.is(i.get(O),"array")?i.get(O):[i.get(O)],n.push(r))})),n},d=function e(t,n){var o;i.instances.where({isAggregatedBy:t}).forEach((function(t){return(o=i.connections.where({type:X,from:t.id})).length>0?u(o,n):o.forEach((function(t){var o=t.get(O)[t.get(O).length-1],r=i.references.where({PID:o});1===r.length&&e(r.get(A),n)})),n}))},u=function(t,n){var o=[];t.forEach((function(t){var r,a,s,c=t.get("to"),l=[],d=function t(n){var r,a=i.instances.where({isAggregatedBy:n},1);o.push(n),e.is(a)&&(r=a.id,o.push(r),t(a.get(A)))};for(r=0;r<c.length;r++)1===(a=i.instances.where({PID:c[r]})).length&&(s=a[0],l.push(s.get(R)),l.push(s.get("PID")),r===c.length-1&&(l.push(s.get(A)),d(s.get(A))));n.push(l)}))},f=function(t,n,i){var o={};o.pathsToShow=e.is(t)?t:[],o.pathsToHide=e.is(n)?n:[],o.differenceOperator=!!e.is(i,"boolean")&&i,o.firstSelection=ae,D.exclusiveShow(o),!0===ae&&(ae=!1)},g=function(){D.resetViewer()},m=function(){var t=e.Json.encode({instanceId:ge});o.webServiceRequest({url:$+ee,method:"POST",data:t,onComplete:function(){a.getLogger().info(ie,r.getNLSValue("BuildUp.SessionEnded"))},onFailure:function(){a.getLogger().warn(ie,r.getNLSValue("BuildUp.Error.SessionEnd"))},onTimeout:function(){a.getLogger().warn(ie,r.getNLSValue("BuildUp.Error.TimeOut"))}})},p=function(){t.mask(S,r.getNLSValue("BuildUp.Init.Info"))},v=function(){t.unmask(S)},C=function e(t){var n=fe.getNodeModel(t,!0);return null!==n._parentNode&&n._parentNode.object?e(n._parentNode._referencePID):n._referencePID},P=function(t,n){var s,c,l,d;if(se){if(fe.getSelectedNodes().length>1)return a.getLogger().warn(ie,r.getNLSValue("BuildUp.Error.MultiSelection")),null;if(0===t.length&&1===fe.getSelectedNodes().length&&(t.push(fe.getSelectedNodes()[0].getID()),1===t.length&&t[0]===re.workplan.pid))return D.unHideAll3D(),null;s=t[t.length-1],l=i.getReferenceModel(s),e.is(l)?(d=!1,i.references.where({type:"VPMReference"}).length>1&&(d=!0),d?w.indexOf(l.get(L))>-1?((oe={version:"1.0",workplan:{pid:re.workplan.pid,name:re.workplan.name,scopedItem:re.workplan.scopedItem,activeOperations:[t],SelectionMode:"Selection"}}).instanceId=ge,c=e.Json.encode(oe),o.webServiceRequest({url:$+ne,method:"POST",data:c,onComplete:function(t){var o,r,a=[],s=[];o=e.is(t.objectsToAddOrUpdate)?t.objectsToAddOrUpdate:[],r=e.is(t.objectsToHide)?t.objectsToHide:[],o.forEach((function(e){e.objectinstancepath.forEach((function(e){var t=i.connections.where({type:X,from:e});t.length>0&&u(t,a)}))})),r.forEach((function(e){e.objectinstancepath.forEach((function(e){var t=i.connections.where({type:X,from:e});t.length>0&&u(t,s)}))})),f(a,s,false),e.is(n)&&n()},onFailure:function(){a.getLogger().warn(ie,r.getNLSValue("BuildUp.Error.Selection"))},onTimeout:function(){a.getLogger().warn(ie,r.getNLSValue("BuildUp.Error.Selection"))}})):a.getLogger().warn(ie,r.getNLSValue("BuildUp.Error.Unknown")):a.getLogger().warn(ie,r.getNLSValue("BuildUp.Error.NoEBOM"))):a.getLogger().warn(ie,r.getNLSValue("BuildUp.Error.Selection"))}return le},h=function(t){var n,u,f,h,p,S,w,b,L=[],y=[],I=[],R=[],A=[],M=[],x=null,_=[],N=t[t.length-1];try{e.is(D)||(D=a.getPlugins("Viewer3DPlugin").instance),ce=C(N),n=i.getReferenceFromCollection(ce),ue=n.id,0===(u=i.findConnections({from:ce,type:j})).length?x=r.getNLSValue("BuildUp.Error.NoConnections"):f=u[0].id.split("|")[2],1===i.connections.where({type:j,from:n.id}).length&&(p=i.connections.where({type:j,from:n.id},1),h=i.references.where({PID:p.get(O)},1)),s(h,L,y),L.length<=1&&(x=r.getNLSValue("BuildUp.Error.NoMBOM")),y.length<=1&&(x=r.getNLSValue("BuildUp.Error.NoMBOM")),c(n,I,A,R,M),A.length<=1&&(x=r.getNLSValue("BuildUp.Error.NoOperations")),M.length<=1&&(x=r.getNLSValue("BuildUp.Error.NoOperations")),S=l(R),(re={version:"1.0",workplan:{pid:n.id,name:n.get(E),scopedItem:f,manufactureditems:{references:L,instances:y},resources:{references:[],instances:[]},operations:{references:A,instances:M},links:S}}).differenceOperator=false,1===i.connections.where({type:G,from:re.workplan.scopedItem}).length?(le=i.connections.where({type:G,from:re.workplan.scopedItem},1).get(O),1===(b=D.getRoots()).length&&-1!==b.indexOf(le)||D.drop3D([le])):(d(re.workplan.scopedItem,_),D.cleanAll(),D.drop3D(_,{usePaths:!0}),le=_),null!==x?(de.toggleState(),a.getLogger().warn(ie,x),v()):(w=e.Json.encode(re),o.webServiceRequest({url:$+te,method:"POST",data:w,onComplete:function(e){var n=function(){v(),a.getLogger().info(ie,r.getNLSValue("BuildUp.Success.Init"))};!0===e.isInit&&(se=!0),ge=e.instanceId,N===ce?n():P(t,n)},onFailure:function(){v(),a.getLogger().warn(ie,r.getNLSValue("BuildUp.Error.Init")),de.toggleState()},onTimeout:function(){v(),a.getLogger().warn(ie,r.getNLSValue("BuildUp.Error.TimeOut")),de.toggleState()}}))}catch(e){a.getLogger().warn(ie,r.getNLSValue("BuildUp.Error.Init")),se=!1,ae=!0,de.toggleState(),g(),m(),v(),console.error(e.stack),console.error(e.message)}},{onStart:function(e){var t,i;a.addExternalListener("BuildUp",(function(e){try{if(S=a.getService("LayoutService").getContainer("routings"),fe=a.getBehavior("ROUTINGS","WUXNodeModelBehavior"),null===de&&(de=n.getCommandCheckHeader("BuildUp",a.getConfig().appContext)),e.state){i=fe.getSelectedNodes()[0],t=!0===i.isRoot()?[i.getID()]:i.getAbsolutePath();try{p(),setTimeout((function(){h(t)}),100)}catch(e){v()}}else se=!1,ae=!0,de.disable(),g(),m()}catch(e){a.getLogger().warn(ie,r.getNLSValue("BuildUp.Error.Selection"))}})),e()},onStop:function(){},getCurrentRootId:function(){return ce},buildUpSelection:function(e){return P(e)},isBuildUpActivated:function(){return se}}}})),define("DS/DELPPWServices_FD02/ConfigService/SecurityContext",["UWA/Core","DS/CoreEvents/Events"],(function(e,t){"use strict";return function(n,i,o){var r,a,s,c,l,d,u,g=[],f={},m=" ",h=[],p=[];return r=function(){return widget.getValue("Credentials")},u=function(){var t,n,i=[];return e.is(f)&&f.collabspaces.length>0&&f.collabspaces.forEach((function(e){for(t=0;t<e.couples.length;t++)n=e.couples[t].organization.name,-1===i.indexOf(n)&&i.push(n)})),1===i.length},a=function(){var e,t,n,i,o,r,a,s,c,m,v,S,C=[];S=u(),f.collabspaces.forEach((function(u){for(o=0;o<u.couples.length;o++)s=u.name,a=u.title,c=u.couples[o].organization.name,r=u.couples[o].organization.title,m=u.couples[o].role.name,v=u.couples[o].role.nls,i=l(s,c,m),n=d(a,r,v,S),e={csname:s,label:n,value:i},t={collabSpace:a,organization:r,role:v,value:i},C.push({sc:i,translated:e,title:t})})),C.sort((function(e,t){return e.translated.label.localeCompare(t.translated.label,widget.lang,{numeric:!0})})).forEach((function(e){g.push(e.sc),h.push(e.translated),p.push(e.title)}))},s=function(){var t,i,a,s,d;t=r(),e.is(f.preferredcredentials)&&Object.keys(f.preferredcredentials).length>0&&(d=f.preferredcredentials.role.name,s=f.preferredcredentials.organization.name,a=f.preferredcredentials.collabspace.name,i=l(a,s,d)),e.is(t,"string")&&-1!==g.indexOf(t)?c(t):e.is(i)&&-1!==g.indexOf(i)?c(i):(c(g[0]),n.info("ConfigService",o.getNLSValue("SecurityContext.NoPreferredCredentials")+" "+g[0]))},c=function(t){var n=r();e.is(t,"string")&&t!==n&&(widget.setValue("Credentials",t),n=t),e.is(n,"string")&&i.setSecurityContext(n)},l=function(e,t,n){return"ctx::"+n+"."+t+"."+e},d=function(e,t,n,i){return i?e+m+"●"+m+n:e+m+"●"+m+t+" ●"+m+n},t.subscribe({event:"DELPPXEN/CustomizeSecurityContext"},(function(e){c(e)})),{loadSecurityContexts:function(t,n){var o,r,c;r=i.get3DSpaceServiceName(),c=i.getPlatformID({serviceId:r}),o="modeler/pno/person?current=true&select=preferredcredentials&select=collabspaces",e.is(c,"string")&&c.length>0&&"NOT_DEFINED"!==c&&(o=o+"&tenant="+c),i.webServiceRequest({url:o,method:"GET",headers:{Accept:"application/json,text/javascript,*/*","Content-Type":"application/ds-json"},onComplete:function(i){e.is(i)&&i.collabspaces.length>0?(f=i,a(),s(),t()):n()},onFailure:n,onTimeout:n})},getAllSC:function(){return Array.isArray(h)?h:[]},getSCFromPreferences:function(){return r()},getSCTitle:function(e){var t={};return p.forEach((function(n){n.hasOwnProperty("value")&&n.value===e&&(t=n)})),t},updateSC:function(e){c(e)},isChanged:function(){var t=!1,n=i.getSecurityContext();return e.is(n,"string")&&-1===n.indexOf(r())&&(t=!0),t},getUserId:function(){var t=null;return e.is(f.name)&&(t=f.name),t}}}})),define("DS/DELPPWServices_FD02/ModelService",["UWA/Core","DS/DELPPWModelServices_FD02/ModelUtils","DS/DELPPWModelServices_FD02/CollectionUtils","DS/DELPPWNavigationServices_FD02/NavigateUtil","DS/DELPPWDicoServices_FD02/DicoUtils"],(function(e,t,n,i,o){"use strict";return function(e){var r="ModelService",a=e.getLogger();return i.init({collectionUtils:n,indexMappingXML:e.getConfig().resource.indexMappingXML,mandatoryPredicates:e.getConfig().resource.mandatoryPredicates}),o.init({modelAttrsPath:e.getConfig().resource.modelAttrsPath,modelTypesPath:e.getConfig().resource.modelTypesPath,modelRelationsXML:e.getConfig().resource.modelRelationsXML,modelCustomRelationsXML:e.getConfig().resource.modelCustomRelationsXML,acceptedPPRTypesForActionsFilePath:e.getConfig().resource.AcceptedPPRTypesForActions,acceptedBaseTypesForActionsFilePath:e.getConfig().resource.AcceptedBaseTypesForActions}),{name:r,onStart:function(n){t.setWidgetTrigram(e.getConfig().widgetTrigram),Promise.all([new Promise((function(e,t){i.setup(e,t)})),new Promise((function(e,t){o.setup(e,t)}))]).then((function(){a.debug(r,"Utils initialized!"),n()}),(function(e){a.debug(r,"Failed to initialize. Error desc:"+e),n()}))},onStop:function(){},updateAggregationRules:function(){var e=new Promise((function(e,t){o.updateAggregationRules(e,t)}));return e.then((function(){a.debug(r,"Utils initialized!")})),e}}}})),define("DS/DELPPWServices_FD02/Services",["UWA/Class"],(function(e){"use strict";var t="DS/DELPPWServices_FD02/",n={EventsService:t+"EventsService",ModelService:t+"ModelService",ConfigService:t+"ConfigService/ConfigService",LandingPageService:t+"LandingPageService/LandingPageService",ExternalService:t+"ExternalService/ExternalService",FilterService:t+"ExternalService/FilterService",LifecycleService:t+"ExternalService/LifecycleService",LoggerService:t+"LoggerService/LoggerService",LayoutService:t+"LayoutService/LayoutService",AuthoringService:t+"AuthoringService",BuildUpService:t+"BuildUpService/BuildUpService"};return e.singleton({getMap:function(){return n}})})),define("DS/DELPPWServices_FD02/LayoutService/BlocLayout",["UWA/Core","UWA/Controls/Abstract"],(function(e,t){"use strict";return t.extend({_logger:null,defaultOptions:{className:"blocLayout",minSize:"5px"},init:function(e){if(this._parent(e),this._rowMap={},this._columnMap={},this._rowColumnMap={},this._hiddenColumnsMap={},this._rowIds=[],this._fixedColumnIds=[],this._fixedRowIds=[],!(e=this.options).logger||!e.mediator)throw new Error("logger or mediator option not defined");this._logger=e.logger,this._mediator=e.mediator,e.rows||(e.rows=[{columns:2},{columns:1}]),e.minSize=-1!==e.minSize.indexOf("px")?parseInt(e.minSize.replace("px","")):5,this._buildSkeleton(e.rows)},_buildSkeleton:function(t){var n,i,o,r,a,s=this,c=-1,l=-1,d=function(t){s.hasOwnProperty("_resizingInfo")&&("touchend"===t.type?(s.getContent().removeEvent("touchmove"),t.preventDefault()):s.getContent().removeEvent("mousemove"),delete s._resizingInfo,e.Event.dispatchEvent(s.getContent(),"onBlocLayoutResizeEnd"),s._resizeBottomBloc())};this.elements.container=e.createElement("div",{class:"bl-container"}),t.forEach((function(t,d){if(c++,i=e.createElement("div",{class:"bl-row"}).inject(s.getContent()),o=e.createElement("div",{class:"bl-row-content no-drag-row"}).inject(i),s._rowMap[c]=i,s._rowIds.push(c),d>0&&(s._createHandle(c,null,"bl-drag-row").inject(i,"top"),o.removeClassName("no-drag-row")),t.hasOwnProperty("columns"))for(n=0;n<t.columns;n++)l++,r=e.createElement("div",{class:"bl-column"}).inject(o),a=e.createElement("div",{class:"bl-column-content no-drag-column"}).inject(r),s._columnMap[l]=r,s._rowColumnMap[c]?s._rowColumnMap[c].push(l):s._rowColumnMap[c]=[l],n<t.columns-1&&(s._createHandle(c,l,"bl-drag-column").inject(r,"top"),a.removeClassName("no-drag-column"))})),this._initSize(),this.getContent().addEvent("touchend",d),this.getContent().addEvent("mouseup",d),this.onContainerResized((function(){var e=this,t=this.getContent().getSize();this.setRowsHeight(this._rowIds,t.height,{minSize:0}),this._rowIds.forEach((function(n){var i=e._getColumnIdsInRow(n);e.setColumnsWidthById(i,t.width,{minSize:0})})),e._resizeBottomBloc(),e._mediator.notify("blocLayoutResizeEnd",{data:e.getContent()})}))},_resizeBottomBloc:function(){e.is(this._columnMap[2])&&this._columnMap[2].clientHeight&&this._mediator.notify("resizeBottomDock",{data:{height:this._columnMap[2].clientHeight}})},_createHandle:function(t,n,i){var o=this,r=e.createElement("div",{class:i}),a=function(e){o._resizingInfo={rowId:t,columnId:n},"touchstart"===e.type?(o.getContent().addEvent("touchmove",o._onMouseMove.bind(o)),e.preventDefault()):o.getContent().addEvent("mousemove",o._onMouseMove.bind(o))};return r.addEvent("touchstart",a),r.addEvent("mousedown",a),r},_onMouseMove:function(t){var n,i,o,r,a,s=this._resizingInfo;if(s)try{e.is(s.columnId)?(a=this._getRowElem(s.rowId),i=this._getColumnIdsInRow(s.rowId).filter((function(e){return e<=s.columnId})),n="touchmove"===t.type?t.touches[0].pageX-a.getOffsets().x:t.clientX-a.getOffsets().x,this.setColumnsWidthById(i,n,{minSize:this.options.minSize})):(r=this._getRowIds().filter((function(e){return e<s.rowId})),o="touchmove"===t.type?t.touches[0].pageY-this.getContent().getOffsets().y:t.clientY-this.getContent().getOffsets().y,this.setRowsHeight(r,o,{minSize:this.options.minSize}))}catch(t){delete this._resizingInfo}},_initSize:function(){var e=this,t=this._getRowIds();this._setEqualRowsHeight(),t.forEach((function(t){e._setEqualColumnsWidthInRow(t)}))},_setEqualRowsHeight:function(){var e=this,t=this._getRowIds();t.forEach((function(n){var i=100/t.length;e._getRowElem(n).setStyle("height",e._toPercent(i))}))},_setEqualColumnsWidthInRow:function(e){var t=this,n=this._getColumnIdsInRow(e);n.forEach((function(e){var i=100/n.length;t._getColumnElem(e).setStyle("width",t._toPercent(i))}))},_getRowIds:function(){return this._rowIds},_getRowIdFromColumnId:function(e){var t,n;for(n in this._rowColumnMap)if(-1!==this._rowColumnMap[n].indexOf(e)){t=parseInt(n);break}return t},_getColumnId:function(e,t){var n;return this._rowColumnMap.hasOwnProperty(e)&&(n=this._rowColumnMap[e][t]),n},_getColumnIdsInRow:function(e){return this._rowColumnMap[e]},_getFixedColumnIds:function(){return this._fixedColumnIds},_getFixedRowIds:function(){return this._fixedRowIds},_getRowElem:function(e){return this._rowMap[e]},_getColumnElem:function(e){return this._columnMap[e]},getColumnSize:function(e,t){var n=this._getColumnId(e,t);if(isNaN(n))throw"Column number: "+t.toString()+" does not exist";return this._getColumnElem(n).getSize()},getRowSize:function(e){var t=this._getRowElem(e);if(!t)throw"Row number: "+e.toString()+" does not exist";return t.getSize()},_toPx:function(e){var t;return isNaN(e)||(t=Math.floor(e).toString()+"px"),t},_toPercent:function(e){var t;return isNaN(e)||(t=Math.floor(e).toString()+"%"),t},_setElemsSize:function(t,n,i,o,r){var a,s,c,l,d,u,g,f,m,h,p,v,S,C,P,D=this,w=[],b=[],L=0,y=(S={},C=function(e,t){var n=0,i=isNaN(t)?1:t;return e.forEach((function(e){S.hasOwnProperty(e)&&(n+=S[e]*i)})),n},i.forEach((function(e){S[e]=D.getSize(e)})),{get:C,setEqualSize:function(){var e,t=i.length,n=C(i),o=Math.floor(n/t);for(e in S)S.hasOwnProperty(e)&&(S[e]=o)}}),E=(P={},{set:function(e,t){P[e]=t},get:function(e){var t=0;return e.forEach((function(e){P.hasOwnProperty(e)&&(t+=P[e])})),t},getMax:function(){var e,t,n=0;for(e in P)Math.max(n,P[e])===P[e]&&(t=e,n=P[e]);return{id:t,value:n}}});try{if(r&&(r.hasOwnProperty("fixedIds")&&(w=r.fixedIds),r.hasOwnProperty("minSize")&&(L=r.minSize)),n<0)throw"Input error: size";if(o<=0)throw"Input error: container size";if((l=t.filter((function(e){return-1!==w.indexOf(e)||(b.push(e),!1)}))).length>0?(a=n-y.get(l),s=b):(a=n,s=t),s.length<1)throw"No element available for resize";if(a<s.length*L)throw"Cannot set size inferior to minSize";if(c=i.filter((function(e){return-1===s.indexOf(e)&&-1===w.indexOf(e)})),g=y.get(w),f=y.get(c),u=y.get(s),a+g+c.length*L>o)throw"Cannot set size superior to container size";if(0===u&&(y.setEqualSize(),u=y.get(s),f=y.get(c)),m=0!==u?a/u:0,h=0!==f?(o-g-a)/f:0,(d=s.concat(c)).forEach((function(t,n){var i,o,c=n<s.length;e.is(r)&&e.is(r.equalSizeColumns)&&r.equalSizeColumns&&c?o=Math.round(a/s.length):(i=c?m:h,o=Math.round(y.get([t],i))),o=o>L?o:L,E.set(t,o)})),(p=E.get(i)+g-o+1)>0){if((v=E.getMax()).value-p<L)throw"Cannot set size inferior to minSize";E.set(v.id,v.value-p)}}catch(e){return void D._logger.debug(e)}d.forEach((function(e){D.setSize(e,E.get([e]))}))},maximizeRow:function(e){var t=this.getContent().getSize().height;this.setRowsHeight([e],t)},maximizeColumnInRow:function(e,t){var n=this._getRowElem(e).getSize().width;t=Array.isArray(t)?t:[t],this.setColumnsWidth(e,t,n)},fitRowColumnsEqually:function(e,t){var n=this._getRowElem(e).getSize().width;t=Array.isArray(t)?t:[t],this.setColumnsWidth(e,t,n,{equalSizeColumns:!0})},unmaximizeRows:function(){this._setEqualRowsHeight()},unmaximizeColumnsInRow:function(e){this._setEqualColumnsWidthInRow(e)},setColumnContent:function(e,t,n){var i;n&&(i=this._getColumnId(e,t),this._getColumnElem(i).getElement(".bl-column-content").setContent(n))},getColumnContent:function(e,t){var n;return n=this._getColumnId(e,t),this._getColumnElem(n).getElement(".bl-column-content")},setColumnsWidth:function(t,n,i,o){var r=this,a=[],s=this._getFixedColumnIds();try{n.forEach((function(e){var n=r._getColumnId(t,e);if(isNaN(n))throw"Column number: "+e.toString()+" does not exist";a.push(n)}))}catch(e){return void this._logger.debug(e)}this.setColumnsWidthById(a,i,e.extend(o,{fixedIds:s}))},hideShowColumnById:function(t,n){var i=this._getColumnId(t,n),o={},r=this._hiddenColumnsMap[t];e.is(r)&&r.hasOwnProperty(i)?(o=r[i],this.setColumnsWidth(t,[n],o.prevWidth,{}),this._hiddenColumnsMap[t].pop(n)):(o={prevWidth:this._getColumnElem(i).getSize().width},e.is(r,"array")||(this._hiddenColumnsMap[t]=[]),this._hiddenColumnsMap[t][i]=o,this.setColumnsWidth(t,[i],0,{}))},setColumnsWidthById:function(t,n,i){var o,r,a,s,c=this,l=this._getFixedColumnIds();try{if(t.length<1)throw"Input array of ids is empty";if(a=this._getRowIdFromColumnId(t[0]),isNaN(a))throw"Invalid column id"}catch(e){return void this._logger.debug(e)}o=this._getRowElem(a).getSize().width,r=this._getColumnIdsInRow(a),s={_logger:c._logger,getSize:function(e){return c._getColumnElem(e).getSize().width},setSize:function(e,t){c._getColumnElem(e).setStyle("width",c._toPx(t))}},this._setElemsSize.call(s,t,n,r,o,e.extend(i,{fixedIds:l}))},setRowsHeight:function(t,n,i){var o,r,a=this,s=this._getFixedRowIds();try{if(t.length<1)throw"Input array of ids is empty"}catch(e){return void this._logger.debug(e)}o=this.getContent().getSize().height,r={_logger:a._logger,getSize:function(e){return a._getRowElem(e).getSize().height},setSize:function(e,t){a._getRowElem(e).setStyle("height",a._toPx(t))}},this._setElemsSize.call(r,t,n,this._getRowIds(),o,e.extend(i,{fixedIds:s}))},addFixedColumns:function(e){var t,n,i=this;e.forEach((function(e){var o=i._getColumnId(e.row,e.column);isNaN(o)?i._logger.debug("{"+e.row.toString()+", "+e.column.toString()+"}: Invalid column"):(i._fixedColumnIds.push(o),t=i._getColumnIdsInRow(e.row),(n=Math.max.apply(null,t)===o&&t.length>1?i._getColumnElem(o-1).getElement(".bl-drag-column"):i._getColumnElem(o).getElement(".bl-drag-column"))&&n.destroy())}))},removeFixedColumns:function(e){var t,n,i,o=this;e.forEach((function(e){var r=o._getColumnId(e.row,e.column);isNaN(r)?o._logger.debug("{"+e.row.toString()+", "+e.column.toString()+"}: Invalid column"):-1!==(n=o._fixedColumnIds.indexOf(r))?(o._fixedColumnIds.splice(n,1),t=o._getColumnIdsInRow(e.row),i=Math.max.apply(null,t)===r&&t.length>1?r-1:r,o._createHandle(e.row,i,"bl-drag-column").inject(o._getColumnElem(i),"top")):o._logger.debug("{"+e.row.toString()+", "+e.column.toString()+"}: Column was not fixed")}))},onContainerResized:function(e){var t=this;this.getContent().addEvent("resize",(function(){e.call(t)}))},getRowIds:function(){return this._rowIds},getRowColumnMap:function(){return this._rowColumnMap},getContainerElem:function(){return this.elements.container}})})),define("DS/DELPPWServices_FD02/LayoutService/DOMNaming",[],(function(){"use strict";return{construction:{appContainer:"app-container",appMessages:"app-messages",appProgressInd:"app-ProgressInd",moduleContainer:"module-container",moduleMessages:"module-messages",dropZoneContainer:"drop-zone-container",treeListContainer:"tree-list-container",toolbarContainer:"toolbar-container",graphContainer:"graph-container",grapViewContainer:"graphView-container",progessBarContainer:"progressBar-container",auxiliaryViewContainer:"auxiliaryView-container",actionViewContainer:"actionView-Container",propertiesContainer:"properties-container",groupingPanelContainer:"groupingPanel-container"},classes:{hideBodyView:"hideEBOM",showGraphView:"showGraphView"},selectors:{main:"main.main",mainDrop:"div.dropZone",mbomDrop:"div.mbomDrop",mbomTreeListToolBar:"div.mbomTreeListView.ToolBar",mbomTreeList:"div.mbomTreeListView",mbomGraphToolBar:"div.mbomGraphView.ToolBar",mbomGraph:"div.mbomGraphView",mbomContainer:"div.mbomContainer",bodyContainer:"div.bodyContainer",bodyDrop:"div.bodyDrop",bodyTreeListToolBar:"div.bodyTreeListView.ToolBar",bodyTreeList:"div.bodyTreeListView",bodyGraphToolBar:"div.bodyGraphView.ToolBar",bodyGraph:"div.bodyGraphView"}}})),define("DS/DELPPWServices_FD02/LoggerService/AlertManager",["UWA/Core","DS/Notifications/NotificationsManagerUXMessages","DS/Notifications/NotificationsManagerViewOnScreen"],(function(e,t,n){"use strict";return function(i){var o;return n.setNotificationManager(t),o=function(){var t=widget.getElements(".app-messages")[0]?widget.getElements(".app-messages")[0]:widget.body,o=widget.getElements(".wux-windows-modalDialog")[0]?widget.getElements(".wux-windows-modalDialog")[0]:null,r=!(!e.is(o)||"none"===o.getStyle("display"));e.is(o)&&r?n.inject(o):e.is(t)?n.inject(t):i.getLogger().debug("Alert Manager","Alert Container is not defined.")},{displayAlert:function(n){o(),t.addNotif(e.merge({allowUnsafeHTML:!1,sticky:!1},n))}}}})),define("DS/DELPPWServices_FD02/ConfigService/Preferences",["UWA/Core"],(function(e){"use strict";return function(t,n,i,o,r,a){var s,c,l,d,u=!!e.is(a,"boolean")&&a;return s=function(){var e=i.getAllSC(),t=n.getSecurityContext();widget.addPreference({name:"Credentials",type:u?"hidden":"list",label:r.getNLSValue("Preferences.Credentials"),options:e,defaultValue:t,onchange:"onChangeSC"})},l=function(){var n=widget.getValue("Credentials");e.is(t)&&t.debug("Preferences::onChangeSC, (selCredentials): "+n)},c=function(){var t=widget.getValue("Credentials");e.is(t)&&widget.addPreference({name:"xPref_CREDENTIAL",type:"hidden",defaultValue:t.replace(/^(ctx::)/,"")})},d=function(t){widget.addPreference({name:"custoParametersSet",type:e.is(t)&&e.is(t.type)?t.type:"hidden",label:r.getNLSValue("Preferences.CustoParametersSet"),options:o.getNames(),defaultValue:widget.getValue("custoParametersSet")})},{populate:function(n){var i,o,a,g,f,m,h,p,v,S,C=function(e){return e.map((function(e){return{value:e.value,label:r.getNLSValue(e.label)}}))};if(!n)throw new Error("App config is not defined");if(!(i=n.preferences))throw new Error("preferences is not defined in app config");for(o=0,a=i.length;o<a;o++)if(S=i[o])switch(g=e.result(S,"name"),f=e.result(S,"type"),g){case"Credentials":s();break;case"xPref_CREDENTIAL":c();break;case"custoParametersSet":d(S);break;default:h=e.result(S,"options"),m=r.getNLSValue(e.result(S,"label")),Array.isArray(h)&&(h=C(h)),p=e.result(S,"defaultValue"),v=e.result(S,"onchange"),widget.addPreference({name:g,type:u?"hidden":f,label:m,options:h,defaultValue:p,onchange:v})}widget.addEvent("onChangeSC",l),e.is(t)&&t.debug("Preferences::populate: Preferences has been built.")},updateCredentialsInfoPref:function(){var t=widget.getValue("Credentials"),n=widget.getValue("xPref_CREDENTIAL");e.is(t)&&e.is(n)&&widget.setValue("xPref_CREDENTIAL",t.replace(/^(ctx::)/,""))}}}})),define("DS/DELPPWServices_FD02/LandingPageService/LandingPageDnD",["UWA/Core","DS/Utilities/Dom","DS/DELPPWResourceServices_FD02/ResourceUtils"],(function(e,t,n){"use strict";return function(i){var o,r,a=i.body,s={actual:null,count:0},c=function(e){var n,i=t.firstParentWithClass(e.target,"dropZoneGlobal");return 0===s.count?(r.show(),o.show()):i&&(n=i.querySelector(".dropZone"),s.actual!==n&&(s.actual&&s.actual.classList.remove("zoneHighlighted"),n.classList.add("zoneHighlighted"),s.actual=n)),s.count++,e.stopPropagation(),!1},l=function(e){return t.firstParentWithClass(e.target,"dropZoneGlobal")&&e.preventDefault(),e.stopPropagation(),!1},d=function(e){return s.count--,0===s.count&&(o.hide(),r.hide()),e.target===s.actual&&(s.actual.classList.remove("zoneHighlighted"),s.actual=null),e.stopPropagation(),!1},u=function(e){return s.count=0,s.actual&&(s.actual.classList.remove("zoneHighlighted"),s.actual=null),o.hide(),r.hide(),e.stopPropagation(),!1},g=function(e){return s.count=0,o.hide(),r.hide(),e.stopPropagation(),e.defaultPrevented||(e.preventDefault(),s&&s.actual?(s.actual.classList.contains("dragAndDrop")&&i.onDrop(e),s.actual.classList.remove("zoneHighlighted"),s.actual=null):t.firstParentWithClass(e.target,"dropZoneGlobal").classList.contains("dragAndDrop")&&i.onDrop(e)),!1};return{init:function(){var t,i,f,m,h;for(s={actual:null,count:0},function(){a&&(a.addEventListener("dragenter",c.bind(this)),a.addEventListener("dragover",l.bind(this)),a.addEventListener("dragleave",d.bind(this)),a.addEventListener("dragend",u.bind(this)),a.addEventListener("drop",g.bind(this)))}(),o=e.createElement("div",{class:"dnd-area"}).inject(a),(r=e.createElement("div",{class:"overlay-area"}).inject(a)).hide(),o.hide(),t=[{id:"dragAndDrop",icon:"drag-drop",title:n.getNLSValue("LandingPage.DropZone.Title")}],i=0;i<t.length;i++)f=e.createElement("div",{class:"dropZoneGlobal "+t[i].id,draggable:!1}),m=e.createElement("div",{class:"dropZone "+t[i].id,draggable:!1}).inject(f),h=e.createElement("div",{class:"dropIconAndText "+t[i].id}).inject(m),e.createElement("i",{class:"iconImg wux-ui-3ds wux-ui-3ds-4x wux-ui-3ds-"+t[i].icon}).inject(h),e.createElement("h5",{class:"title "+t[i].id,text:t[i].title}).inject(h),f.inject(o)},destroy:function(){!function(){a&&(a.removeEventListener("dragenter",c.bind(this)),a.removeEventListener("dragover",l.bind(this)),a.removeEventListener("dragleave",d.bind(this)),a.removeEventListener("dragend",u.bind(this)),a.removeEventListener("drop",g.bind(this)))}(),o&&(o.destroy(),o=null),r&&(r.destroy(),r=null)}}}})),define("DS/DELPPWServices_FD02/LandingPageService/LandingPage",["UWA/Core","DS/WelcomeScreenView/WelcomeScreen","DS/DELPPWResourceServices_FD02/ResourceUtils"],(function(e,t,n){"use strict";return function(e){var i,o,r,a,s=[],c={},l={},d={},u=[],g=[];if(e.contentAndKnowledge.contents.length>0){for(u=[],r=0;r<=e.contentAndKnowledge.contents.length-1;r++)l={id:"UserAssistance"+r,i18n:{title:n.getNLSValue(e.contentAndKnowledge.contents[r].title)},icon:e.contentAndKnowledge.contents[r].icon,url:e.contentAndKnowledge.contents[r].url},u.push(l);c={id:"ContentAndKnowledge",i18n:{title:n.getNLSValue(e.contentAndKnowledge.title)},links:u},s.push(c)}if(e.socialNetworks.communities.length>0){for(g=[],a=0;a<=e.socialNetworks.communities.length-1;a++)d={id:"DelmiaUserCommunity"+a,i18n:{title:n.getNLSValue(e.socialNetworks.communities[a].title)},icon:e.socialNetworks.communities[a].icon,url:e.socialNetworks.communities[a].url},g.push(d);c={id:"SocialNetworks",i18n:{title:n.getNLSValue(e.socialNetworks.title)},links:g},s.push(c)}return o={body:e.body?e.body:null,title:n.getNLSValue(e.appTitle),subtitle:n.getNLSValue(e.appSubtitle),background:n.getImageURLFromKey("LandingPageBackground"),buttons:{items:e.items},linksCategories:s,dragAndDrop:{callbacks:{onDragEnter:e=>Promise.resolve("OverFullPage"),onDrop:t=>{e.onDrop(t)}}}},i=new t(o),widget.body.appendChild(i.getDOM()),i.show(),{show:function(){i.show()},hide:function(){i.hide()}}}})),define("DS/DELPPWServices_FD02/LayoutService/LayoutService",["UWA/Core","UWA/Promise","DS/ApplicationFrame/FrameWindow","DS/DELPPWServices_FD02/LayoutService/DOMNaming","DS/DELPPWServices_FD02/LayoutService/BlocLayout"],(function(e,t,n,i,o){"use strict";return function(r){var a,s,c,l,d,u,g,f,m;return u=function(e,t,n){var i={},o=!1;return 2===t&&(i.ROW=(e+1)%t,0!==a.getRowSize(i.ROW).height&&(n?a.unmaximizeRows():a.maximizeRow(i.ROW),o=!0)),o&&a._resizeBottomBloc(),o},g=function(e,t){var n;return 0!==(n=a.getColumnSize(e,t)).width&&0!==n.height},f=function(t,n,i,o){var r,a;if(e.is(o,"function"))for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e.is(n[r])){if((!!i||g(t[r].row,t[r].col))===(a=""!==n[r]))continue;o(r,a)}},m=function(t){return t=t||{},e.is(t.rows)||(t.rows=[{columns:1}]),new o({rows:t.rows,logger:r.getLogger(),mediator:r.getMediator()})},{name:"LayoutService",createBlocLayout:function(e){return m(e)},onActionBarReady:function(){r.getMediator().notify("actionBarReady",this)},buildView:function(t){var o,u=this,g=r.getConfig().resource;e.is(t.rows)&&e.is(t.actionBarReady)?((c=e.createElement("div",{class:i.construction.appContainer})).addClassName("invisible"),c.addClassName("notransition"),l=e.createElement("div",{class:i.construction.appMessages}).inject(c),d=e.createElement("div",{class:i.construction.appProgressInd}).inject(c),r.updateAppContext({elements:c}),o={viewer:"none",width:"100%",height:"100%",language:widget.lang,workbench:g.afrWorkbenchName,workbenchModule:g.afrWorkbenchModule,context:r.getConfig().appContext,uiOptions:{preserveActionBarHeight:!0}},(s=new n(o)).onActionBarReady((function(){e.is(t.actionBarReady,"function")&&t.actionBarReady(),u.onActionBarReady()})),s.inject(c),a=m(t),s.getImmersiveFrame().getDockingElement(WUXDockAreaEnum.RightDockArea).freeZoneContent=a,c.inject(widget.body)):r.getLogger().debug(this.name,'FATAL ERROR: "options.rows" and/or "options.actionBarReady" are not specified on calling buildView')},showLayout:function(){c.removeClassName("invisible"),c.removeClassName("notransition")},setDockingElement:function(t,n){var i,o=s.getImmersiveFrame();n=n||{},e.is(o)&&((i=o.getDockingElement(t)).elements.collapser.addEventListener("click",(function(){r.getMediator().notify("dockingZoneToggle",{collapseState:i.collapseDockingZoneFlag,dockingArea:i.side})})),e.extend(i,n))},setPreferredLayoutOnStartup:function(t){var n,i,o=this,a=r.getService("ConfigService"),s=[],c=null;return e.is(a)&&(i=a.getPreference("widgetLayoutValues"),e.is(i)&&(n=e.Json.decode(i),c=[],!0,f(t,n,true,(function(e,n){!1===n&&(s.push({row:t[e].row,col:t[e].col,state:n}),c.push({commandName:t[e].command,state:n}))})),s.forEach((function(e){o.toggleView(e.row,e.col,e.state)})))),c},setPreferredLayout:function(n,i){var o,r=this,a=e.Promise.deferred(),s=[],c=[];return!1,f(i,n,false,(function(e,t){!0===t?s.push({row:i[e].row,col:i[e].col,commandName:i[e].command,state:t}):c.push({row:i[e].row,col:i[e].col,commandName:i[e].command,state:t})})),function(e){var n=[];e.filter((e=>!1===e.state)).forEach((e=>{n.push((function(){return r.toggleView(e.row,e.col,e.state)}))})),e.filter((e=>!0===e.state)).forEach((e=>{n.push((function(){return r.toggleView(e.row,e.col,e.state)}))}));n.reduce(((e,t)=>e.then(t)),t.resolve())}(o=s.concat(c)),{deferredPromise:a,columns:o}},removeDockingElement:function(t){var n=s.getImmersiveFrame();e.is(n)&&n.getDockingElement(t).remove()},buildAuxiliaryViewDom:function(){return e.createElement("div",{class:i.construction.moduleContainer,html:[{tag:"div",class:i.construction.dropZoneContainer},{tag:"div",class:i.construction.treeListContainer}]})},buildTreeListAuthoringDom:function(t){var n,o;return n=[{tag:"div",class:i.construction.moduleMessages},{tag:"div",class:i.construction.treeListContainer},{tag:"div",class:i.construction.graphContainer,html:[{tag:"div",class:i.construction.grapViewContainer}]}],e.is(t)&&t&&(o={tag:"div",class:i.construction.dropZoneContainer},n.unshift(o)),e.createElement("div",{class:i.construction.moduleContainer,html:n})},getUIContainer:function(){return c},getAlertContainer:function(){return l},getProgressIndContainer:function(){return d},getActionModuleContainer:function(){return e.createElement("div",{class:i.construction.actionViewContainer})},getPropertiesModuleContainer:function(){return e.createElement("div",{class:i.construction.propertiesContainer})},getGroupingModuleContainer:function(){return e.createElement("div",{class:i.construction.groupingPanelContainer})},toggleView:function(e,n,i){var o,r,s,l=a.getRowColumnMap()[e].length,d=a.getRowIds().length,g={};return s=new t((function(e){var n=a.getContainerElem();c.hasClassName("notransition")?e():new t((function(e){n.addEvent("transitionend",e),e()})).then((function(){n.removeEvent("transitionend"),e()}))})),2===l?(g.COL=(n+1)%l,g.ROW=e,0!==(o=a.getColumnSize(g.ROW,g.COL)).width&&0!==o.height?i?a.unmaximizeColumnsInRow(g.ROW):a.maximizeColumnInRow(g.ROW,g.COL):(r=u(e,d,i),i&&r&&a.maximizeColumnInRow(e,n))):1===l&&(r=u(e,d,i)),s},isViewShown:function(e,t){return g(e,t)},isLayoutBuilt:function(){return e.is(s)},setBlocLayoutContent:function(e,t,n){a.setColumnContent(e,t,n)},getBlocLayout:function(){return a},onStart:function(e){e()},dispose:function(){a=void 0,e.is(s)&&s.dispose(),s=void 0}}}})),define("DS/DELPPWServices_FD02/ConfigService/ConfigService",["UWA/Core","DS/DELPPWWebServices_FD02/WebserviceUtils","DS/DELPPWResourceServices_FD02/ResourceUtils","DS/DELPPWServices_FD02/ConfigService/SecurityContext","DS/DELPPWServices_FD02/ConfigService/Preferences","DS/DELPPWServices_FD02/ConfigService/CustoParametersSet","DS/DELPPWModelServices_FD02/BehaviorUtil"],(function(e,t,n,i,o,r,a){"use strict";return function(s){var c,l,d,u,g,f,m,h,p,v,S,C=[],P=s.getLogger();if(!(f=s.getConfig().resource)||!f.appConfigPath)throw new Error("App config path is not defined");return h=function(){var t,i,o,r,a,s=[],c="",d=widget.getBool("showCollaborativeSpace"),u=widget.getBool("showRole"),g=widget.getBool("showOrg");r=widget.getValue("Credentials"),e.is(r,"string")&&(a=l.getSCTitle(r),e.is(a,"object")&&(o=a.organization,t=a.collabSpace,i=a.role)),!0===d&&s.push(t),!0===g&&s.push(o),!0===u&&s.push(i),e.is(s,"array")&&s.length>0&&(c=n.getNLSValue("Preferences.Credentials")+":",c+=s.join(", ")),widget.setTitle(c)},m=function(){a.isCloud()||h(),l.isChanged()&&(l.updateSC(),d.updateCredentialsInfoPref())},c=function(n,i,o){var r,a,s=[];for(r in t.setXMLConfiguration(n,u.getSelectedPID()),n)Object.prototype.hasOwnProperty.call(n,r)&&(a=new Promise((function(e,n){t.fetchXMLValues(r,e,n)})),s.push(a));e.Promise.allSettled(s).then((function(){i()}),(function(){o("XML PreFetching FAILED !!!")}))},S=!!e.is(s.getConfig().isFacet,"boolean")&&s.getConfig().isFacet,a.setIsFacet(S),p=e.Promise.all([new Promise((function(e,n){t.init({cloudServiceName:s.getConfig().cloudServiceName,resolve:e,reject:n})})),new Promise((function(e,t){n.init({iconCatalogPath:f.iconCatalogPath,nlsFilePath:f.nlsFilePath}),n.setup(e,t)}))]),v=function(t,n){var i,o;e.is(n)&&(i=n.Config.Preferences,Object.keys(n.Config.Preferences).forEach((function(n){t.forEach((function(t){t.name===n&&(o=i[n],t.type=!1===o.isVisible?"hidden":t.type,e.is(o.defaultValue,"boolean")?t.defaultValue=o.defaultValue.toString():t.defaultValue=o.defaultValue)}))})))},{name:"ConfigService",onStart:function(S){var D=!!e.is(s.getConfig().isFacet,"boolean")&&s.getConfig().isFacet;C.push(s.addExternalListener("endEdit",m)),p.then((function(){l=new i(P,t,n),u=new r(f.custoParameterRegExp,P,t,n),d=new o(P,t,l,u,n,D),require([f.appConfigPath],(function(i){if(g=i,!e.is(g.xmlConfiguration))throw new Error("xmlConfiguration is not defined in app config");new Promise((function(e,t){l.loadSecurityContexts(e,t)})).then((function(){new Promise(u.retrieveCustoParametersSetsInfo).then((function(n){var i=n[0],o=e.is(i)?i.eno_csrf_token||i.ENO_CSRF_TOKEN:null;e.is(o)?t.setCSRFToken({eno_csrf_token:o},"3DSpace"):P.error("NO CSRF Token set !!!"),new Promise((function(e,t){c(g.xmlConfiguration,e,t)})).then((function(){t.getXMLValues("GeneralPreferences",(function(e){v(g.preferences,e),d.populate(g),"XEN"!==s.getConfig().widgetTrigram&&(a.isCloud()||h()),S()}),(function(){d.populate(g),"XEN"!==s.getConfig().widgetTrigram&&(a.isCloud()||h()),S()}))}),(function(e){P.debug(e),S()}))}),(function(e){P.debug(e),S()}))}),(function(){throw widget.body.empty(),e.createElement("div",{type:"text",class:"widget-Loading-Error-Message",html:n.getNLSValue("SecurityContext.NoSecurityContext")}).inject(widget.body),new Error("No Security Context available for the user!")}))}))}),(function(e){P.debug("ConfigService.getWebServiceUtilsPromise","WebServiceUtils init FAILED. \nMessage: %s",e),S()}))},onStop:function(){var e,t;for(e=0,t=C.length;e<t;e++)s.removeExternalListener(C[e]);C=[]},getPreference:function(t){return e.clone(widget.getValue(t))},setPreference:function(e,t){return widget.setValue(e,t)},hasConfigurationChanged:function(){return u.isChanged()},isSecurityContextChanged:function(){return l.isChanged()},getConfigurationPID:function(){return u.getSelectedPID()},getPreferences:function(){return d},getAppConfig:function(){return g},getUserId:function(){return l.getUserId()},getSecurityContext:function(){return l}}}})),define("DS/DELPPWServices_FD02/ExternalService/FilterService",["UWA/Core","DS/DELPPWServices_FD02/ExternalService/ExternalServiceUtil"],(function(e,t){"use strict";return function(n){var i,o,r,a="FilterService",s=n.getLogger(),c=t.getInstance(n),l=[];return o=function(t){e.is(r,"function")&&r.call(null,t)},i=function(){e.extend(n.getConfig().appContext,{getSelectedNodesInfo:function(t){var i,o=c.getAllSelections(a);return!0===(t=t||!1)&&(i=n.getPlugins("DatabasePlugin"),e.is(i)?(i=i.instance,o.forEach((function(e){var t,n=e.instance.absolutePath;t=i.transformToRIROccurrencePath(n.length>0?n:e.reference.id),e.occPathRIR=t}))):s.debug(a,'DatabasePlugin is not available. Hence "occPathRIR" property could not be added')),o},subscribeSelectionChange:function(e){r=e},updateCfgColumnsBasedOnCommand:function(t,i){let o=n.getPlugins("CfgColumnsPlugin");e.is(o)&&(o=o.instance,o.getUpdatedCfgAttributesBasedOnCommand(t,i).then((e=>{n.getMediator().notify("updateCfgColumns",[e])})).catch((function(e){s.debug(a,"Error occured while updating Configuration Columns. Error: "+e)})))}})},{onStart:function(){i(),l.push(n.addExternalListener("select",o))},onStop:function(){var e,t;for(e=0,t=l.length;e<t;e++)n.removeExternalListener(l[e]);l=[]}}}})),define("DS/DELPPWServices_FD02/ExternalService/LifecycleService",["UWA/Core","DS/PlatformAPI/PlatformAPI","DS/DELPPWWebServices_FD02/WebserviceUtils","DS/DELPPWServices_FD02/ExternalService/PadCommandProxyUtil","DS/DELPPWServices_FD02/ExternalService/ExternalServiceUtil"],(function(e,t,n,i,o){"use strict";return function(r){var a,s,c,l,d,u,g,f,m,h,p,v,S,C,P,D,w="LifecycleService",b=o.getInstance(r),L=[],y=r.getLogger(),E="DS/PADUtils/PADCommandProxy/";return l=function(t){var n,i;y.debug(w,"context.RefreshView: "),y.debug(w,t),n=JSON.parse(t),i=e.is(n.Refresh)?n.Refresh:null,e.is(i)&&(e.is(i.created,"array")&&i.created.length>0&&s.refreshCreated(i.created),e.is(i.deleted,"array")&&i.deleted.length>0&&s.refreshDeleted(i.deleted),e.is(i.modified,"array")&&i.modified.length>0&&s.refreshModified(i.modified))},c=function(n){var i,o,s,c,l,d={},u=E+"select",g={data:{paths:[],pathsInst:[]}},f=r.getPlugins("DatabasePlugin"),m={selectedObjectsPID:[],selectedObjectsInstPID:{},modifiedObjectPID:null,modifiedObjectInstPID:null,modifiedObjectSelectionState:!1,widgetId:widget.id?widget.id:"defaultId"};if(e.is(f)){if(f=f.instance,e.is(n)){for(i in m.modifiedObjectSelectionState=n.changed.isSelected,s=f.getInstance(n.changed.nodeId),e.is(s)?(m.modifiedObjectPID=s.get("isInstanceOf"),m.modifiedObjectInstPID=s.get("PID")):(s=f.getReference(n.changed.nodeId),e.is(s)&&(m.modifiedObjectPID=s.get("PID"))),c=n.selectedNodeIds,e.is(c,"array")&&c.forEach((function(t){s=f.getReference(t),e.is(s)&&!e.is(d[t])&&(d[t]=[]),s=f.getInstance(t),e.is(s)&&(o=s.get("isInstanceOf"),e.is(d[o])?d[o].push(t):d[o]=[t])})),d)Object.prototype.hasOwnProperty.call(d,i)&&(m.selectedObjectsPID.push(i),e.is(m.selectedObjectsInstPID[i])?m.selectedObjectsInstPID[i].push(d[i]):m.selectedObjectsInstPID[i]=d[i]||[]);y.debug(w,"DS."+a+".Selection.SelectionModified event broadcast: ",m),t.publish("DS."+a+".Selection.SelectionModified",m),m.modifiedObjectSelectionState&&m.selectedObjectsPID.length>=1&&(g.data.paths.push([m.modifiedObjectPID]),1===(l=m.selectedObjectsInstPID[m.modifiedObjectPID]).length&&g.data.pathsInst.push(l),g.metadata={originWidgetId:r.getConfig().appContext.widget.getId()},t.publish(u,g))}}else r.getLogger().debug(w,"Database plugin not available.")},d=function(t){var n=[],i=r.getPlugins("DatabasePlugin");y.debug("_padRefresh: "),e.is(t)&&e.is(t.data)&&e.is(t.data.authored)&&(e.is(t.data.authored.modified)?s.refreshModified(t.data.authored.modified):t.data.authored.length>0&&(t.data.authored.forEach((function(e){n.push(e.modified)})),s.refreshModified(n),i.instance.fetchInstancesAndTheirReferences(n,{silentMode:!1})))},u=function(){y.debug("_padAttach: ")},f=function(){var t,n,i=[],o={},a=r.getPlugins("DatabasePlugin"),s=r.getPlugins("ResourcePlugin");return e.is(a)&&e.is(s)?(a=a.instance,s=s.instance,n=function(t,n){const i=function(){return e.is(n,"array")&&n.length>0?n[n.length-1]:null};if(e.is(t))return{options:{grid:{"ds6wg:type":t.reference.type,"ds6wg:revision":t.reference.revision,icon:s.getIconURLFromKey(t.reference.type)}},getID:function(){return t.reference.id},getInstID:function(){return n},getLabel:function(){return t.label},getRelationID:i,getRealParent:function(){let t,n;const o=i();return e.is(o)&&(t=a.getInstance(o),n=t.get("isAggregatedBy")),{getID:function(){return n}}}};r.getLogger().debug(w,"No model to create node from")},t=b.getAllSelections(),e.is(t,"array")&&(t.forEach((function(t){e.is(t.instance.id)?e.is(o[t.reference.id])?o[t.reference.id].push(t.instance.id):o[t.reference.id]=[t.instance.id]:e.is(o[t.reference.id])||(o[t.reference.id]=[])})),t.forEach((function(e){i.push(n(e,o[e.reference.id]))}))),i):(r.getLogger().debug(w,"Database plugin or resource Plugin not available."),i)},g=function(){e.extend(r.getConfig().appContext,{displayNotification:function(e){"primary"===e.eventID||"success"===e.eventID?y.info(w,e.msg):y.warn(w,e.msg)},getSelectedNodes:function(){return f()},getSecurityContext:function(){return{SecurityContext:n.getSecurityContext(),tenant:n.getTenant()}},isIndexMode:function(){var t=r.getPlugins("DatabasePlugin");if(e.is(t))return(t=t.instance).isAuthoringMode();throw r.getLogger().debug(w,"Database plugin not available."),new Error("Database plugin not available")},hasFilter:function(t){var n,i,o=r.getPlugins("RootsPlugin"),a={hasFilter:!1};if(!e.is(o))throw r.getLogger().debug(w,"Roots plugin not available."),new Error("Roots plugin not available");return i=(o=o.instance).getCompatibleConfigurationFilters([t]),e.is(i)&&(n=i[t],e.is(n)&&""!==n&&(a.hasFilter=!0)),a},GetFilterSpec:function(t){var n,i,o=r.getPlugins("RootsPlugin");if(!e.is(o))throw r.getLogger().debug(w,"Roots plugin not available."),new Error("Roots plugin not available");return n=(o=o.instance).getCompatibleConfigurationFilters([t]),e.is(n)&&(i=n[t],e.is(i)&&""!==i&&(i={config_filter:i})),i}})},m=function(e){Array.isArray(e)||(e=[e]),o.processCreateInstance(e)},h=function(e){Array.isArray(e)||(e=[e]),o.processDeleteInstance(e)},p=function(e){Array.isArray(e)||(e=[e]),o.processCreateConnection(e)},v=function(e){Array.isArray(e)||(e=[e]),o.processDeleteConnection(e)},S=function(e){var n,i=[];for(n=0;n<e.data.length;n++)i[n]={Effectivity:e.data[n].Effectivity,CurrentEvolutionEffectivity:e.data[n].CurrentEvolutionEffectivity,PID:e.pids[n]};0!==i.length&&t.publish("DS.MFN.Object.UpdateEvolutionEffectivity",i)},C=function(e){var n={PID:e.movedInstPIDArray[0],parentPID:e.newParentPID,childPID:e.newInstPIDArray,previousParentPID:e.formerParentsPIDArray[0]},i={data:[],widgetId:widget.id?widget.id:"defaultId"};i.data[0]=n,t.publish("DS.MFN.Object.MoveInstances",i)},P=function(e){var t,n;n=e.instancesAndReferences,Array.isArray(n)||(n=[n]),o.processCreateInstance(n),t=e.connections,Array.isArray(t)||(t=[t]),o.processCreateConnection(t)},D=function(e){var t,n;t=e.connections,Array.isArray(t)||(t=[t]),n=e.instancesAndReferences,Array.isArray(n)||(n=[n]),o.processCreateInstance(n),o.processCreateConnection(t)},{onStart:function(n){var o,f,b,y;s=new i(r),L.push(r.addExternalListener("select",c)),L.push(r.addExternalListener("createInstance",m)),L.push(r.addExternalListener("deleteInstance",h)),L.push(r.addExternalListener("createImplementLink",p)),L.push(r.addExternalListener("deleteLink",v)),L.push(r.addExternalListener("updateEffectivity",S)),L.push(r.addExternalListener("reparentInstances",C)),L.push(r.addExternalListener("createManufacturingItemStructure",P)),L.push(r.addExternalListener("assignProduct",D)),L.push(r.addExternalListener("createStructure",D)),g(),a=r.getConfig().widgetTrigram,e.is(a)?(o="DS."+a+".Object.AddReference",y="DS."+a+".Object.Refresh",f=E+"refresh",b=E+"attach",t.subscribe(o,s.addReferenceFromEvent),t.subscribe(y,s.refreshElementFromEvent),t.subscribe(f,d),t.subscribe(b,u),t.subscribe("Lifecycle.Modification",l)):r.getLogger().debug(w,"LifecycleService: widget trigram is not defined."),n()},onStop:function(){var e,t;for(e=0,t=L.length;e<t;e++)r.removeExternalListener(L[e]);L=[],s=void 0}}}})),define("DS/DELPPWServices_FD02/ExternalService/ExternalService",["UWA/Core","DS/DELPPWWebServices_FD02/WebserviceUtils","DS/DELPPWServices_FD02/ExternalService/ExternalServiceUtil"],(function(e,t,n){"use strict";return function(i){var o,r,a="ExternalService",s=i.getLogger(),c=[],l=n.getInstance(i);return r=function(n){var o=i.getPlugins("DatabasePlugin"),r=t.get3DSpaceUrl();e.is(o)?(o=o.instance,n instanceof Array?n.forEach((function(t){var n,i;e.is(t.documentPID)?n=r+"common/emxNavigator.jsp?objectId="+t.documentPID:e.is(t.referencePID)&&(i=o.getReferenceModel(t.referencePID),e.is(i)&&(n=r+"common/emxNavigator.jsp?objectId="+i.id)),e.is(n)&&window.open(n)})):s.debug(a,"ExploreInWebApp: Invalid Input passed(Not a Valid Array)")):i.getLogger().debug(a,"Database plugin not available.")},o=function(){e.extend(i.getConfig().appContext,{getLogger:function(){i.getLogger()},getSelections:function(){return l.getSelectedNodeInfos(a)},notify:function(e,t){e&&i.getMediator().notify(e,t)}})},{onStart:function(){o(),c.push(i.addExternalListener("ExploreInWebApp",r))},onStop:function(){var e,t;for(e=0,t=c.length;e<t;e++)i.removeExternalListener(c[e]);c=[]}}}})),define("DS/DELPPWServices_FD02/LoggerService/LoggerService",["UWA/Core","DS/Logger/Logger","DS/DELPPWLoggerModel_FD02/LoggerUtils","DS/DELPPWServices_FD02/LoggerService/LogManager","DS/DELPPWServices_FD02/LoggerService/AlertManager"],(function(e,t,n,i,o){"use strict";return function(r){var a,s,c=r.getLogger(),l=[],d=function(e){return t.getLogger(e)};return c.debug=function(e,t){var n=d(e);n.info.apply(n,Array.prototype.slice.call(arguments,1))},c.log=function(t,i,o,r){var a;if(t=e.is(t)?t:"",a=d(t),i=e.is(i)?i:"",e.is(r)||e.is(o))"completed"===arguments[arguments.length-1]&&Array.prototype.splice.call(arguments,-1),a.info.apply(a,Array.prototype.slice.call(arguments,1)),n.log(i,o,r);else if(!e.is(o))return Array.prototype.push.call(arguments,"started"),a.info.apply(a,Array.prototype.slice.call(arguments,1)),n.log(i)},c.warn=function(t,i,o){var r;(r=d(t)).error.apply(r,Array.prototype.slice.call(arguments,1)),n.logFailed(i,o),i=e.is(i)?{level:"error",subtitle:i}:t,e.is(i)&&s.displayAlert(i)},c.info=function(t,i,o){var r;(r=d(t)).info.apply(r,Array.prototype.slice.call(arguments,1)),n.logCompleted(i,o),i=e.is(i)?{level:"success",subtitle:i}:t,e.is(i)&&s.displayAlert(i)},a=new i(r),s=new o(r),{onStart:function(t){e.is(a)&&e.is(s)||c.debug("LoggerService","initialization Failed"),l.push(r.addExternalListener("addLog",a.addLog)),l.push(r.addExternalListener("ShowLogPanel",a.onShowLogPanel)),t()},onStop:function(){var e,t;for(e=0,t=l.length;e<t;e++)r.removeExternalListener(l[e]);l=[]}}}})),define("DS/DELPPWServices_FD02/LandingPageService/LandingPageService",["UWA/Core","DS/UIKIT/Mask","DS/DELPPWWebServices_FD02/WebserviceUtils","DS/DELPPWResourceServices_FD02/ResourceUtils","DS/DELPPWServices_FD02/LandingPageService/LandingPage","DS/WelcomeScreenView/WelcomeScreenButtonController"],(function(e,t,n,i,o,r){"use strict";return function(a){var s,c,l,d,u,g,f,m,h,p,v="LandingPageService",S=this,C=a.getLogger(),P=a.getConfig().landingPageOpts,D=[],w=!0;return g=function(){var e=[];return n.getXMLValues("LandingPage",(function(t){t.Config.Actions.forEach((t=>{var n={};if(t.display){switch(n.name=t.name,t.Type){case"Restore":n.onClick=s.bind(S),n.icon="reset";break;case"Create":n.onClick=c.bind(S,t.ReferenceType),n.icon="plus"}n.id=t.name,n.i18n={title:i.getNLSValue(t.name,"","Cmd","Title")},n.controller=new r({onAction:e=>(n.onClick(),Promise.resolve())}),e.push(n)}}))}),(function(){e=[{name:"Restore",onClick:s.bind(this)}]})),e},s=function(){t.mask(widget.body),a.getMediator().notify("HideLandingPage"),w=!1,a.getMediator().notify("LoadRecentContent")},c=function(e){t.mask(widget.body),a.getMediator().notify("HideLandingPage"),p(),a.getMediator().notify("InsertCmd",{arguments:[{ID:"ReferenceType",Value:e},{ID:"ShowDialog",Value:"false"}]})},l=function(e){var n=e.dataTransfer.getData("Text");t.mask(widget.body),a.getMediator().notify("HideLandingPage"),p(),a.getMediator().notify("LoadDropContent",[n,{loadObjectsInOwnView:!0}],{sourceModuleId:v})},d=e.createElement("div",{class:"landingPage-container"}),f=function(e){t.mask(widget.body),a.getMediator().notify("HideLandingPage"),p(),a.getMediator().notify("LoadDropContent",[e,{loadObjectsInOwnView:!0}],{sourceModuleId:v})},m=function(){u.show()},h=function(){t.unmask(widget.body),u.hide()},p=function(){w&&a.getMediator().notify("ResetRootsStore"),w=!1},{onStart:function(t){var n=widget.getValue("X3DContentId"),i=g();e.is(d)||C.debug(v,"initialization Failed"),P=e.extend(P,{items:i,body:d,onDrop:l}),u=new o(P),e.is(n,"string")&&""!==n&&f(n),D.push(a.addExternalListener("ShowLandingPage",m)),D.push(a.addExternalListener("HideLandingPage",h)),t()},onStop:function(){var e,t;for(u.destroy(),undefined.destroy(),e=0,t=D.length;e<t;e++)a.removeExternalListener(D[e]);D=[]}}}}));