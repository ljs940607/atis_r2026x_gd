define("DS/DELWebViewerFacets/SpecificationDocsFacet",["css!DS/PADServices/PADServices","UWA/Core","DS/PADServices/views/private/docsMgt/SpecificationDocsUI","UWA/Controls/Abstract","UWA/Class"],(function(e,t,n,i,s){"use strict";var a=require("DS/EditPropWidget/facets/Common/FacetsBase");require("DS/EditPropWidget/constants/EditPropConstants");return s.extend(i,a,{_docList:null,init:function(e){this._parent(e),this._initUI()},_initUI:function(){null===this._docList&&(this.elements.container=t.createElement("div",{class:"relatedDocumentsv2"}),this._docList=new n(this.options),this._docList.initPane({renderTo:this.elements.container,showLoader:this.showLoader.bind(this),hideLoader:this.hideLoader.bind(this)}))},updateFacet:function(){var e=this,t=function(t){t?"Document"!==model.get("type")&&e._docList.selectionModified({parentId:t,parentType:model.get("type")}):e._docList.selectionModified()},n=this.getModel();n?"relationship"===n.get("metatype")?(console.count("firstModel-relatio"),this.getOccurrence().addEventOnce("onChange:properties",(function(){var n=e.getModel();t(n.get("objectId"))}))):t(n.get("objectId")):t()},destroyComponent:function(){},onRefresh:function(){this.updateFacet()}})})),define("DS/DELWebViewerFacets/DataCollectRowColumnManager",["UWA/Core","UWA/Class","i18n!DS/DELWebViewerFacets/assets/nls/DataCollect"],(function(e,t,n){"use strict";var i,s=function(){return{getCellTypeRepresentation:function(t,n){var i,s;switch(n.isHeader&&(i="string"),e.is(n.nodeModel)&&(s=n.nodeModel.options.grid),t){case"minValue.value":case"controlMinValue.value":case"controlMaxValue.value":case'maxValue.value"':i="number";break;case"possibleValues":i=e.is(s)&&e.is(s["minValue.unit"])?"number":"string";break;case"minIncluded":case"controlMinIncluded":case"controlMaxIncluded":case"maxIncluded":i="boolean";break;case"created":case"modified":i="date";break;default:i="string"}return i},getCellValue:function(t,i){var s,a,o,r,c,l=i.nodeModel.options.grid;switch(c=function(e){switch(e){case 1:return n.get("DataCollect.DCTypeReal.Title");case 2:return n.get("DataCollect.DCTypeInteger.Title");case 3:return n.get("DataCollect.DCTypeText.Title");case 4:return n.get("DataCollect.DCTypeBoolean.Title");case 5:return n.get("DataCollect.DCTypeTimestamp.Title");default:return""}},a=function(t){var n,i,s,a,o,r=e.is(t)?t:"";if(0===r.indexOf("<?xml")&&0<r.indexOf("<html")&&(a=r.indexOf("<body>"),o=r.indexOf("</body>"),a>-1&&o>-1)){for(r=(r=r.slice(a+6,o)).replaceAll("<br/>"," ");-1!==r.indexOf("<");)n=r.indexOf("<"),-1!==(i=r.indexOf(">",n)+1)&&(s=r.substring(n,i),r=r.replace(s,""));r=(r=(r=(r=r.replaceAll("&lt;","<")).replaceAll("&gt;",">")).replaceAll("&amp;","&")).replaceAll("&nbsp;"," ")}return r},s=function(t){var n=t.split("."),i={...l};return n.forEach((e=>{i=i[e]?i[e]:{}})),e.is(i,"object")?"":i},r=function(n){var i="";return e.is(n,"array")?n.forEach(((e,t)=>{i+=e+(t===n.length-1?"":"|")})):e.is(l[t],"string")&&(i=n),i},t){case"text":o=a(l[t]);break;case"minValue.unit":case"minValue.value":case"controlMinValue.value":case"controlMaxValue.value":case"maxValue.value":o=s(t);break;case"dcType":o=c(l[t]);break;case"possibleValues":o=r(l[t]);break;default:o=l[t]}return o}}};return e.is(i)||(i=new s),i})),define("DS/DELWebViewerFacets/AttachmentDocsFacet",["css!DS/PADServices/PADServices","UWA/Core","DS/PADServices/views/private/docsMgt/AttachmentDocsUI","UWA/Controls/Abstract","UWA/Class"],(function(e,t,n,i,s){"use strict";var a=require("DS/EditPropWidget/facets/Common/FacetsBase");require("DS/EditPropWidget/constants/EditPropConstants");return s.extend(i,a,{_docList:null,init:function(e){this._parent(e),this._initUI()},_initUI:function(){null===this._docList&&(this.elements.container=t.createElement("div",{class:"relatedDocumentsv2"}),this._docList=new n(this.options),this._docList.initPane({renderTo:this.elements.container,showLoader:this.showLoader.bind(this),hideLoader:this.hideLoader.bind(this)}))},updateFacet:function(){var e=this,t=function(t){t?"Document"!==model.get("type")&&e._docList.selectionModified({parentId:t,parentType:model.get("type")}):e._docList.selectionModified()},n=this.getModel();n?"relationship"===n.get("metatype")?(console.count("firstModel-relatio"),this.getOccurrence().addEventOnce("onChange:properties",(function(){var n=e.getModel();t(n.get("objectId"))}))):t(n.get("objectId")):t()},destroyComponent:function(){},onRefresh:function(){this.updateFacet()}})})),define("DS/DELWebViewerFacets/WkiInstructionsFacetController",["UWA/Core","DS/DELWebUiComponent/facets/DataCollectMgmtUI","DS/DELWebUiComponent/facets/WkiInstructionsFacetUI","DS/DELWebViewerModel/facets/DELWkiInstructionsFacetModel","DS/DELWebViewerFacets/DataCollectRowColumnManager","text!DS/DELWebViewerFacets/assets/json/DataCollectConfig.json","i18n!DS/DELWebViewerFacets/assets/nls/DataCollect"],(function(e,t,n,i,s,a,o){"use strict";return function(r){const c="DELWkiDataCollectPlanReference",l="DELWkiDataCollectChecklistReference";var d={sortableFlag:!1,groupableFlag:!0,displayType:"NonEditable",visibleFlag:!0,width:"auto",minWidth:100,editionPolicy:"EditionOnClick",editableFlag:!1},u=new t(r.elements),p=new n(r.elements),f=new i,h=JSON.parse(a);return{createUI:function(t){f.getData(t).then((function(t){var n,i;!t||t.type!==c&&t.type!==l?t&&t.response&&e.is(t.response.member,"array")&&t.response.member.length>0&&t.response.member[0].text&&p.buildView(t.response.member[0].text):t&&t.type&&(n=function(t){var n,i=[];return h[t]&&(n=h[t].Columns,e.is(n,"array")&&n.forEach((e=>{var t={...d};t.dataIndex=e.dataIndex,t.text=o.get("DataCollect."+e.name+".Title"),t.getCellTypeRepresentation=s.getCellTypeRepresentation.bind(null,e.dataIndex),t.getCellValue=s.getCellValue.bind(null,e.dataIndex),i.push(t)}))),i}(t.type),i=function(t){var n=[];return t&&e.is(t.member,"array")&&t.member.forEach((e=>{var t={referenceId:e.id?e.id:"",type:e.type?e.type:"",label:e.label?e.label:"",grid:{...e}};n.push(t)})),n}(t.response),u.buildView({columns:n,rows:i}))}))},clean:function(){u.clean(),p.clean()},destroy:function(){u.destroy(),p.destroy()}}}})),define("DS/DELWebViewerFacets/DELWkiInstructionsFacet",["UWA/Core","UWA/Controls/Abstract","UWA/Class","DS/EditPropWidget/facets/Common/FacetsBase","DS/DELWebViewerFacets/WkiInstructionsFacetController"],(function(e,t,n,i,s){"use strict";return n.extend(t,i,{init:function(e){this._parent(e),this._instructionFacetController=new s({elements:this.elements})},updateFacet:function(){this._instructionFacetController.clean(),this._instructionFacetController.createUI(this.getModel())},destroyComponent:function(){this._instructionFacetController.destroy()},onRefresh:function(){this.updateFacet()},show:function(){this.getUI().show()},hide:function(){this.getUI().hide()}})}));