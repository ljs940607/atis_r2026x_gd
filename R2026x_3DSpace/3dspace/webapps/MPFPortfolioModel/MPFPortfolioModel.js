define("DS/MPFPortfolioModel/PlaygroundPublicDataProxy",["DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError","DS/MPFUrl/UrlUtils"],(function(t,e,r){"use strict";return t.extend({init:function(t){this._parent(t,"/software-products/public/portfolios/playground")},buildPath:function(t){return this.resourcePath},urlGet:function(t,e){var o;return o=this._parent(t,e),e||(e={}),e.periodicity&&(o=new r(o).addParameter("rev_type",e.periodicity).getUrl()),o},urlPatch:e.emit,urlPost:e.emit,urlPut:e.emit,urlDelete:e.emit})})),define("DS/MPFPortfolioModel/PlaygroundDataProxy",["DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError","DS/MPFUrl/UrlUtils"],(function(t,e,r){"use strict";return t.extend({init:function(t){this._parent(t,"/software-products/portfolios/playground")},buildPath:function(t){return this.resourcePath},urlGet:function(t,e){var o;return o=this._parent(t,e),e||(e={}),e.periodicity&&(o=new r(o).addParameter("rev_type",e.periodicity).getUrl()),e.token&&(o=new r(o).addParameter("token",e.token).getUrl()),o},urlPatch:e.emit,urlPost:e.emit,urlPut:e.emit,urlDelete:e.emit})})),define("DS/MPFPortfolioModel/LicensingHelper",[],(()=>{"use strict";const t=Object.freeze({TOK:"TOK",CB:"CB"});return{LicensingSchemes:t,isCredit:function(e){return e===t.TOK||e===t.CB}}})),define("DS/MPFPortfolioModel/ProductDependenciesDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError","DS/MPFUrl/UrlUtils"],((t,e,r,o)=>{"use strict";return e.extend({init(t){this._parent(t,"/software-products/product-dependencies")},buildPath(e){let r=this.resourcePath;return t.is(e)&&t.is(e.productTrigram)&&(r+="/"+e.productTrigram),r},urlGet(t,e){let r=this._parent(t,e);return e.country&&(r=new o(r).addParameter("country",e.country).getUrl()),r},urlPost:r.emit,urlPatch:r.emit,urlPut:r.emit,urlDelete:r.emit})})),define("DS/MPFPortfolioModel/compass/CompassPortfolioDataProxy",["DS/MPFDataProxy/DataProxy","DS/MPFUtils/StorageUtils"],(function(t,e){"use strict";return t.extend({init(t,e){this._parent(t,"",e)},buildPath:function(){return`/data/rootroles_${e.getLanguageCookie()||"en"}.json`}})})),define("DS/MPFPortfolioModel/ByNameDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError","DS/MPFUrl/UrlUtils"],((t,e,r,o)=>{"use strict";return e.extend({init(t){this._parent(t,"/software-products/offers/by-name")},buildPath(e){let r=this.resourcePath;return t.is(e)&&t.is(e.searchName)&&(r+="/"+e.searchName),r},urlGet(t,e={}){let r=this._parent(t,e);return e.country&&(r=new o(r).addParameter("country",e.country).getUrl()),r},urlPatch:r.emit,urlPost:r.emit,urlPut:r.emit,urlDelete:r.emit})})),define("DS/MPFPortfolioModel/ByTrigramDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError","DS/MPFUrl/UrlUtils"],(function(t,e,r,o){"use strict";return e.extend({init:function(t){this._parent(t,"/software-products/offers/by-trigram/v1")},buildPath:function(e){var r=this.resourcePath;return t.is(e)&&t.is(e.productTrigram)&&(r+="/"+e.productTrigram),r},urlGet:function(t,e){var r;return r=this._parent(t,e),e||(e={}),e.onlineInstanceId&&(r=new o(r).addParameter("online-instance",e.onlineInstanceId).getUrl()),e.token&&(r=new o(r).addParameter("token",e.token).getUrl()),r},urlPatch:r.emit,urlPost:r.emit,urlPut:r.emit,urlDelete:r.emit})})),define("DS/MPFPortfolioModel/PromotionsDataProxy",["DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError","DS/MPFUrl/UrlUtils"],(function(t,e,r){"use strict";return t.extend({init:function(t){this._parent(t,"/software-products/promotions")},buildPath:function(t){return this.resourcePath},urlGet:function(t,e){var o;return o=this._parent(t,e),e||(e={}),e.promotion&&"enterprise"!==e.promotion&&(o=new r(o).addParameter("promotion",e.promotion).getUrl()),e.legalEntityId&&(o=new r(o).addParameter("legal_entity_id",e.legalEntityId).getUrl()),e.periodicity&&(o=new r(o).addParameter("rev_type",e.periodicity).getUrl()),e.portfolioId&&"all"!==e.portfolioId&&(o=new r(o).addParameter("portfolio_id",e.portfolioId).getUrl()),o},urlPatch:e.emit,urlPost:e.emit,urlPut:e.emit,urlDelete:e.emit})})),define("DS/MPFPortfolioModel/compass/CompassPortfolioModel",["DS/MPFModel/MPFModel"],(function(t){"use strict";const e=Object.freeze({ACRONYM:"acronym",BRAND:"brand",CONTACT:"contact",DESCRIPTION:"description",DESCRIPTION_MEDIAS:"descriptionMedias",TAG_LINE:"tagLine",TITLE:"title"}),r=t.extend({setup(t,e){this._type=r,this._parent(t,e)},parse(t){if(t.brand&&"3DExp Platform"!==t.brand||(t.brand="PLATFORM"),t[e.DESCRIPTION_MEDIAS]){const r=this.dataProxy.connector.rootUrl+`/assets/${t.id}/`,o=t[e.DESCRIPTION_MEDIAS];t[e.DESCRIPTION_MEDIAS]=o.map((t=>r+t))}return t},getAcronym(){return this.get(e.ACRONYM)},getBrand(){return this.get(e.BRAND)},getContact(){return this.get(e.CONTACT)},getDescription(){return this.get(e.DESCRIPTION)},getDescriptionMedias(){return this.get(e.DESCRIPTION_MEDIAS)},getTagLine(){return this.get(e.TAG_LINE)},getTitle(){return this.get(e.TITLE)}});return r.Fields=e,r})),define("DS/MPFPortfolioModel/BySkuIdDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError","DS/MPFUrl/UrlUtils"],((t,e,r,o)=>{"use strict";return e.extend({init(t){this._parent(t,"/software-products/by-skuid")},buildPath(e){let r=this.resourcePath;return t.is(e)&&t.is(e.skuId)&&(r+="/"+e.skuId),r},urlGet(t,e={}){let r=this._parent(t,e);return e.country&&(r=new o(r).addParameter("country",e.country).getUrl()),r},urlPatch:r.emit,urlPost:r.emit,urlPut:r.emit,urlDelete:r.emit})})),define("DS/MPFPortfolioModel/SoftwareOfferDataProxy",["DS/MPFDataProxy/DataProxy","DS/MPFUrl/UrlUtils"],(function(t,e){"use strict";return t.extend({init(t){this._parent(t,"/software-products/public/offers")},urlGet(t,r={}){let o=this._parent(t,r);return r.country&&(o=new e(o).addParameter("country",r.country).getUrl()),o}})})),define("DS/MPFPortfolioModel/ProductDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError"],(function(t,e,r){"use strict";return e.extend({init:function(t){this._parent(t,"/software-products/product")},buildPath:function(e){var r=this.resourcePath;return t.is(e)&&t.is(e.productTrigram)&&(r+="/"+e.productTrigram),r},urlPatch:r.emit,urlPut:r.emit})})),define("DS/MPFPortfolioModel/ByTrigramV2DataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError","DS/MPFUrl/UrlUtils"],((t,e,r,o)=>{"use strict";return e.extend({init(t){this._parent(t,"/software-products/offers/by-trigram/v2")},buildPath(e){let r=this.resourcePath;return t.is(e)&&t.is(e.productTrigram)&&(r+="/"+e.productTrigram),r},urlGet(t,e={}){let r=this._parent(t,e);return e.country&&(r=new o(r).addParameter("country",e.country).getUrl()),r},urlPatch:r.emit,urlPost:r.emit,urlPut:r.emit,urlDelete:r.emit})})),define("DS/MPFPortfolioModel/MidmarketDataProxy",["DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError","DS/MPFUrl/UrlUtils"],(function(t,e,r){"use strict";return t.extend({init:function(t){this._parent(t,"/software-products/promotions/midmarket")},buildPath:function(t){return this.resourcePath},urlGet:function(t,e){var o;return o=this._parent(t,e),e||(e={}),e.legalEntityId&&(o=new r(o).addParameter("legal_entity_id",e.legalEntityId).getUrl()),e.promotion&&(o=new r(o).addParameter("promotion",e.promotion).getUrl()),e.periodicity&&(o=new r(o).addParameter("rev_type",e.periodicity).getUrl()),o},urlPatch:e.emit,urlPost:e.emit,urlPut:e.emit,urlDelete:e.emit})})),define("DS/MPFPortfolioModel/PortfolioDataProxy",["DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError","DS/MPFUrl/UrlUtils"],(function(t,e,r){"use strict";return t.extend({init:function(t){this._parent(t,"/software-products/portfolios")},urlGet:function(t,e){var o;return o=this._parent(t,e),e||(e={}),e.legalEntityId&&(o=new r(o).addParameter("legal_entity_id",e.legalEntityId).getUrl()),e.portfolioId&&"all"!==e.portfolioId&&(o=new r(o).addParameter("portfolio_id",e.portfolioId).getUrl()),e.periodicity&&(o=new r(o).addParameter("rev_type",e.periodicity).getUrl()),o},urlPost:e.emit,urlPut:e.emit,urlPatch:e.emit,urlDelete:e.emit})})),define("DS/MPFPortfolioModel/compass/CompassPortfolioCollection",["DS/MPFModel/MPFCollection","DS/MPFPortfolioModel/compass/CompassPortfolioModel","DS/MPFUtils/StorageUtils"],((t,e,r)=>{"use strict";const o=t.extend({model:e,setup(t,e){this._type=o,this._parent(t,e),this.language=null},fetchPromise(t={}){t.authenticated=!1;const e=r.getLanguageCookie();return this.language!==e||0===this.size()?(this.language=e,this._parent(t)):Promise.resolve(this)},getWithTrigram(t){return this.find((e=>e.getAcronym()===t&&!e.getContact()))},getRoleInfo(t){return this.getWithTrigram(t)}});return o})),define("DS/MPFPortfolioModel/PortfolioModel",["DS/MPFModel/MPFModel","DS/MPFPortfolioModel/LicensingHelper"],((t,e)=>{"use strict";const r=Object.freeze({AVAILIBILITY:"availability",BRAND:"brand",COUNTRY:"country",CURRENCY:"currency",GROUP_ID:"groupId",PRICE_LIST:"pricelist",PRODUCT_NAME:"product_name",PRODUCT_DISPLAY_NAME:"productDisplayName",SOLUTION_NAME:"solution_name",PORTFOLIO_NAME:"portfolio_name",LIST_PRICE:"list_price",REV_TYPE:"rev_type",SKU_ID:"sku_id",LICENSOR_ID:"licensor_id",PRODUCT_TRIGRAM:"product_trigram",PRODUCT_NUMBER:"product_number",LICENSING_SCHEME:"licensingScheme",LICENSING:"licensing",MARKETING_IMAGE:"marketingImage",DISCOUNT_PRICE:"discountPrice",PERCENTAGE_DISCOUNT:"percentageDiscount",COMPANY_ID:"companyID",DISCOUNT_TO_DISPLAY:"discountToDisplay",BUYABLE:"buyable",PRODUCTS:"products",DESCRIPTION:"description",DISPLAY_PRICE:"displayPrice",IS_MIDMARKET_PROMOTION:"isMidMarketPromotion",MIDMARKET_PROMOTION_NAME:"name",MIDMARKET_PROMOTION_PRICE:"price",MIDMARKET_PROMOTION_PRODUCTS:"products",MIDMARKET_PROMOTION_ID:"promotion_id",BUNDLE_OFFER:"bundleOffer",SOFTWARE_OFFER_DETAILS:"SODetailed",IS_RENEWABLE:"renewable",OFFER_DETAILS:"offerDetails",WHO_IS_ELIGIBLE:"who",GETTING_STARTED:"gettingStarted",RENEWAL:"renewal",RENEW_WITH:"renewWith",MORE_INFO:"moreInfo",END_DATE:"endDate",EXTERNAL_OFFER_ID:"externalOfferId",BE_DEV_OFFER:"BEDevOffer",FULL_PRICE:"fullPrice",DISCOUNT_OFFER:"discountOffer"}),o=Object.freeze({YSC:"YSC",QSC:"QSC",QRC:"QRC",MSC:"MSC"}),i=Object.freeze({[o.YSC]:12,[o.QSC]:3,[o.QRC]:3,[o.MSC]:1}),n=t.extend({setup(t,e){this._parent(t,e),this._type="PortfolioModel"},parse:t=>t,getCurrency(){const t=this.getCurrencies();return t&&t.currency},getPricelistCurrency(){const t=this.getPriceList(),e=t&&t[0];return e&&e.currency},getPricelistPrice(){const t=this.getPriceList(),e=t&&t[0];return e?e.price:this.get("listPrice")},getPrice(){return parseFloat(this.getListedPrice())/i[this.getRevType()]},getMonthlyDiscountPrice(){return parseFloat(this.getDiscountPrice())/i[this.getRevType()]},getMonthlyMidMarketPrice(){return parseFloat(this.getMidMarketPromotionPrice())/i[this.getRevType()]},getId(){return this.id},getCurrencies(){return this.get(r.CURRENCY)},getCompanyId(){return this.get(r.COMPANY_ID)},getLicensingScheme(){return this.get("licensing_scheme")||this.get(r.LICENSING_SCHEME)},getPriceList(){return this.get(r.PRICE_LIST)},getRevType(){return this.get(r.REV_TYPE)||this.get("revType")},getPortfolioName(){return this.get(r.PORTFOLIO_NAME)},getListedPrice(){return this.get(r.LIST_PRICE)||this.get("listPrice")},getDiscountPrice(){return this.get(r.DISCOUNT_PRICE)},getProductName(){return this.get(r.PRODUCT_NAME)||this.get("productName")},getProductDisplayName(){return this.get(r.PRODUCT_DISPLAY_NAME)},getSkuId(){return this.get(r.SKU_ID)||this.get("skuId")||this.get("skuid")},getLicensorId(){return this.get(r.LICENSOR_ID)||this.get("licensorId")},getGroupId(){return this.get(r.GROUP_ID)},getProductTrigram(){return this.get("productTrigram")||this.get(r.PRODUCT_TRIGRAM)},getProductNumber(){return this.get(r.PRODUCT_NUMBER)||this.get("productNumber")},getDiscountToDisplay(){return this.get(r.DISCOUNT_TO_DISPLAY)},getMarketingImage(){return this.get(r.MARKETING_IMAGE)},getPercentageDiscount(){return this.get(r.PERCENTAGE_DISCOUNT)},isMidMarketPromotion(){return!0===this.get(r.IS_MIDMARKET_PROMOTION)},getMidMarketPromotionName(){return this.get(r.MIDMARKET_PROMOTION_NAME)},getMidMarketPromotionPrice(){return this.get(r.MIDMARKET_PROMOTION_PRICE)},getMidMarketPromotionProducts(){return this.get(r.MIDMARKET_PROMOTION_PRODUCTS)},getMidMarketPromotionId(){return this.get(r.MIDMARKET_PROMOTION_ID)},getProducts(){return this.get(r.PRODUCTS)},getDescription(){return this.get(r.DESCRIPTION)},isDisplayingPrice(){return this.get(r.DISPLAY_PRICE)},isBuyable(){return this.get(r.BUYABLE)},getLicensing(){return this.get(r.LICENSING)},getExternalOfferId(){return this.get(r.EXTERNAL_OFFER_ID)},getOfferDetails(){return this.get(r.OFFER_DETAILS)},isBundleOffer(){return!0===this.get(r.BUNDLE_OFFER)},isCreditOffer(){const t=this.getLicensing();return e.isCredit(t)},getProductsAsString(){let t=this.getProductTrigram();if(!t){const e=this.getProducts()||{};t=Object.keys(e).join(",")}return t},getSoftwareOfferDetails(){return this.get(r.SOFTWARE_OFFER_DETAILS)},containsProductWithTrigram(t){return!!this.getSoftwareOfferDetails().find((e=>e.productTrigram===t))},getRenewal(){return this.get(r.RENEWAL)},getRenewWith(){return this.get(r.RENEW_WITH)},isRenewable(){return this.get(r.IS_RENEWABLE)},isBeDevOffer(){return this.get(r.BE_DEV_OFFER)},getFullPrice(){return this.get(r.FULL_PRICE)},isDiscountOffer(){return this.get(r.DISCOUNT_OFFER)}});return n.Fields=r,n.RevTypes=o,n.NumberMonths=i,n.Licensings=e.LicensingSchemes,n})),define("DS/MPFPortfolioModel/PortfolioHelper",["UWA/Core","DS/MPFUtils/MPFUtils","DS/MPFConnector/MarketplaceConnector","DS/MPFServices/MarketplaceServices","DS/MPFPortfolioModel/ProductDataProxy","DS/MPFPortfolioModel/PortfolioModel","DS/MPFCompassPlatformServices/CompassPlatformServices","DS/MPFConnector/NoConnector","DS/MPFPortfolioModel/compass/CompassPortfolioModel","DS/MPFPortfolioModel/compass/CompassPortfolioDataProxy","DS/MPFTracker/Dimension","DS/MPFTracker/CloudType"],((t,e,r,o,i,n,s,a,P,l,d,u)=>{"use strict";const c=["IYW","IXW","IYI","IXI","IYR","IWR"],D={isAuthorizedToBuy:t=>r.fetchPromise({service:o.CLICK_AND_BUY}).then((e=>{const r=new i(e),o=new n({},{dataProxy:r}),s=Array.isArray(t)?D.findTrigramInArray(t):t;return o.productTrigram=D.isEdu(s)?D.addProductSuffix(s):s,o.fetchPromise()})).then((t=>t.isBuyable())),isRenewableOffer(t){return!(this.isEduOffer(t)||!1===t.isRenewable())},isOfferExpired(t){const e=t.get(n.Fields.END_DATE);return!!e&&new Date(e)<new Date},hasMakerOrEduOffer:t=>t.find((t=>D.isMakerOffer(t)||D.isEduOffer(t))),isMakerOffer(t){if(t.isBundleOffer()){const e=t.getMidMarketPromotionProducts();return e&&Object.keys(e).some((t=>D.isMaker(t)))}{const e=t.getProductTrigram();return D.isMaker(e)}},isMaker:t=>(t||(t=""),t.endsWith("-MC")),isEduOffer(t){if(t.isBundleOffer()){const e=t.getMidMarketPromotionProducts();return e&&Object.keys(e).some((t=>D.isEdu(t)))}{const e=t.getProductTrigram();return D.isEdu(e)}},isEdu:t=>(t||(t=""),c.some((e=>0===t.indexOf(e)))),isBeDevOffer:t=>t.isBeDevOffer(),getOfferCloudType(t){let e;return e=this.isMakerOffer(t)?u.MAKERS:this.isEduOffer(t)?u.EDU:u.OTHER,e},addProductSuffix(t){let e=t;return e=D.isEdu(t)?t.endsWith("-AC")?t:t+"-AC":t.endsWith("-OC")?t:t+"-OC",e},findTrigramInArray(r){const o=e.findInArray(r,(t=>t.toUpperCase().endsWith("-OC"))),i=e.findInArray(r,(t=>!D.isEdu(t)));let n;return n=o||(t.is(i)?i:r[0]),n},async getPortfolioRoleFromCompass(t){const e=await new Promise((e=>{s.getPortfolioRole(t,(t=>e(t)))}));return new P(e,{dataProxy:new l(a.getInstance()),parse:!1})},addTrackerInformation(t,e){t.addDimension(d.ROLES,e.getProductsAsString()).addDimension(d.CLOUD_TYPE,this.getOfferCloudType(e)).addDimension(d.LICENSING_SCHEME,e.getLicensingScheme()).addDimension(d.OFFER_IDS,e.id)}};return D})),define("DS/MPFPortfolioModel/PortfolioCollection",["UWA/Core","DS/MPFModel/MPFCollection","DS/MPFPortfolioModel/PortfolioModel"],((t,e,r)=>{"use strict";return e.extend({model:r,parse(e){let o;if("object"===t.typeOf(e)){if(this.totalRecords=e.totalRecords,o=t.is(e.listPortfolio)?e.listPortfolio:[],t.is(e.promotions)&&Array.isArray(e.promotions)){const t=e.promotions.map((function(t){return t[r.Fields.IS_MIDMARKET_PROMOTION]=!0,t}));o=o.concat(t)}}else o=e;return o},containsOnlyBundles(){return this.every((t=>t.isBundleOffer()))},getPortfolioWithLicensingScheme(t){return"QSC"===t||"QRC"===t?this.find((t=>"QSC"===t.getLicensingScheme()||"QRC"===t.getLicensingScheme())):this.find((e=>e.getLicensingScheme()===t))},getBySkuId(t){return this.find((e=>e.getSkuId()===t))},getByOfferId(t){return this.find((e=>e.getId()===t))},getByLicensingSchemeAndTrigramOrOfferId({licensingScheme:t,trigram:e,offerId:r}){let o=!1;const i=r&&this.getByOfferId(r).getMidMarketPromotionName();return"QSC"===t||"QRC"===t?this.find((t=>(o=e&&t.getProductTrigram()===e||i&&t.getMidMarketPromotionName()===i,o&&("QSC"===t.getLicensingScheme()||"QRC"===t.getLicensingScheme())))):this.find((r=>(o=e&&r.getProductTrigram()===e||i&&r.getMidMarketPromotionName()===i,o&&r.getLicensingScheme()===t)))},isLongestLicensingScheme(t){return this._compareSchemeLengths(t,{isLongest:!0})},isShortestLiscensingScheme(t){return this._compareSchemeLengths(t,{isLongest:!1})},_compareSchemeLengths(t,{isLongest:e=!0}){if(1===this.size())return!0;let o=!1;const i=r.NumberMonths[t];return i&&(o=this.every((t=>{const o=t.getLicensingScheme(),n=r.NumberMonths[o];return e?i>=n:i<=n}))),o},getPortofolioByIndex(t){return this.at(t)}})})),define("DS/MPFPortfolioModel/PortfolioPackModel",["UWA/Core","DS/MPFModel/MPFModel","DS/MPFPortfolioModel/PortfolioCollection","DS/MPFPortfolioModel/PortfolioModel","DS/MPFDataProxy/NoDataProxy"],((t,e,r,o,i)=>{"use strict";const n=Object.freeze({OFFERS:"offers",DISPLAY_NAME:"displayName",GROUP_ID:"groupId",ORIGIN:"origin",LICENSOR_ID:"licensorId",COMPASS_ROLE_INFO:"compassRoleInfo"}),s=Object.freeze({OE:"OE",MP:"MP"}),a=e.extend({setup(t,e){this._parent(t,e),this._type="PortfolioPackModel"},parse(e){const s=e,a=e.offers||e.productOffers;if(t.is(a)&&Array.isArray(a)){const t=e[n.LICENSOR_ID];t&&a.forEach((e=>{e[o.Fields.LICENSOR_ID]||(e[o.Fields.LICENSOR_ID]=t)})),s.offers=new r(a,{dataProxy:i.getInstance(),parse:!0})}return e},getOffers(){return this.get(n.OFFERS)},getCompassRoleInfo(t){const e=this.get(n.COMPASS_ROLE_INFO);if(t)return e[t];{const t=Object.keys(e);if(t.length>0)return e[t[0]]}},getDisplayName(){return this.get(n.DISPLAY_NAME)},getLicensorId(){return this.get(n.LICENSOR_ID)},isBundle(){return this.get(n.ORIGIN)===s.MP},containsOnlyBundleOffers(){return this.getOffers().containsOnlyBundles()},setRoleInfo(t){const e={};if(this.isBundle()){this.getOffers().first().getSoftwareOfferDetails().map((t=>{const e=t.productTrigram,r=e.lastIndexOf("-");return e.slice(0,r)})).forEach((r=>{const o=t.getWithTrigram(r),i=o&&o.getAcronym();i&&(e[i]=o)}))}else{const r=this.getOffers().first().getProductTrigram().split("-")[0],o=t.getWithTrigram(r);o&&o.getAcronym()&&(e[o.getAcronym()]=o)}this.set(n.COMPASS_ROLE_INFO,e)},getGroupId(){return this.get(n.GROUP_ID)}});return a.Fields=n,a.Origin=s,a})),define("DS/MPFPortfolioModel/PortfolioPackCollection",["UWA/Core","DS/MPFModel/MPFCollection","DS/MPFPortfolioModel/PortfolioPackModel"],(function(t,e,r){"use strict";return e.extend({model:r,getStandardOffer(){return this.find((t=>!t.isBundle()))},hasBundles(){const e=this.find((t=>t.isBundle()));return t.is(e)},getBundles(){return this.filter((t=>t.isBundle()))},getBundleByName(t){return this.getBundles().find((e=>e.getDisplayName().toLowerCase().replace(/(-)|(\s+)/g,"")===decodeURIComponent(t).toLowerCase().replace(/(-)|(\s+)/g,"")))},containsOnlyBundleOffers(){return this.every((t=>t.containsOnlyBundleOffers()))},getOfferByGroupId(t){const e=this.getBundles();for(let r=0;r<e.length;r++)if(t===e[r].getGroupId())return e[r]}})})),define("DS/MPFPortfolioModel/PortfolioFactory",["DS/MPFModelFactory/Factory","DS/MPFPortfolioModel/PortfolioModel","DS/MPFPortfolioModel/PortfolioCollection","DS/MPFPortfolioModel/PortfolioPackModel","DS/MPFPortfolioModel/PortfolioPackCollection","DS/MPFPortfolioModel/PortfolioDataProxy","DS/MPFPortfolioModel/PromotionsDataProxy","DS/MPFPortfolioModel/MidmarketDataProxy","DS/MPFPortfolioModel/PlaygroundDataProxy","DS/MPFPortfolioModel/PlaygroundPublicDataProxy","DS/MPFPortfolioModel/ByTrigramDataProxy","DS/MPFPortfolioModel/ByTrigramV2DataProxy","DS/MPFPortfolioModel/ByNameDataProxy","DS/MPFPortfolioModel/BySkuIdDataProxy","DS/MPFPortfolioModel/ProductDataProxy","DS/MPFPortfolioModel/ProductDependenciesDataProxy","DS/MPFPortfolioModel/SoftwareOfferDataProxy"],((t,e,r,o,i,n,s,a,P,l,d,u,c,D,f,M,g)=>{"use strict";const h=Object.freeze({PORTFOLIO:"portfolio",PROMOTIONS:"promotions",MIDMARKET:"midmarket",PLAYGROUND:"playground",PLAYGROUND_PUBLIC:"playgroundPublic",BY_TRIGRAM:"byTrigram",BY_TRIGRAM_V2:"byTrigramV2",BY_NAME:"byName",BY_SKUID:"bySkuId",PRODUCT:"product",PRODUCT_DEPENDENCIES:"productDependencies",SOFTWARE_OFFER:"softwareOffer"}),I=t.extend({createModel(t,r,o){return this._parent(e,t,r,o)},createCollection(t,e,o){return this._parent(r,t,e,o)},createPackCollection(t,e,r={}){return r.dataProxy=this.getDataProxy(t),new i(e,r)},getDataProxy(t){let e;return t===h.PORTFOLIO?(this.dataProxies[h.PORTFOLIO]||(this.dataProxies[h.PORTFOLIO]=new n(this.connector)),e=this.dataProxies[h.PORTFOLIO]):t===h.PROMOTIONS?(this.dataProxies[h.PROMOTIONS]||(this.dataProxies[h.PROMOTIONS]=new s(this.connector)),e=this.dataProxies[h.PROMOTIONS]):t===h.MIDMARKET?(this.dataProxies[h.MIDMARKET]||(this.dataProxies[h.MIDMARKET]=new a(this.connector)),e=this.dataProxies[h.MIDMARKET]):t===h.PLAYGROUND?(this.dataProxies[h.PLAYGROUND]||(this.dataProxies[h.PLAYGROUND]=new P(this.connector)),e=this.dataProxies[h.PLAYGROUND]):t===h.PLAYGROUND_PUBLIC?(this.dataProxies[h.PLAYGROUND_PUBLIC]||(this.dataProxies[h.PLAYGROUND_PUBLIC]=new l(this.connector)),e=this.dataProxies[h.PLAYGROUND_PUBLIC]):t===h.BY_TRIGRAM?(this.dataProxies[h.BY_TRIGRAM]||(this.dataProxies[h.BY_TRIGRAM]=new d(this.connector)),e=this.dataProxies[h.BY_TRIGRAM]):t===h.BY_TRIGRAM_V2?(this.dataProxies[h.BY_TRIGRAM_V2]||(this.dataProxies[h.BY_TRIGRAM_V2]=new u(this.connector)),e=this.dataProxies[h.BY_TRIGRAM_V2]):t===h.PRODUCT?(this.dataProxies[h.PRODUCT]||(this.dataProxies[h.PRODUCT]=new f(this.connector)),e=this.dataProxies[h.PRODUCT]):t===h.PRODUCT_DEPENDENCIES?(this.dataProxies[h.PRODUCT_DEPENDENCIES]||(this.dataProxies[h.PRODUCT_DEPENDENCIES]=new M(this.connector)),e=this.dataProxies[h.PRODUCT_DEPENDENCIES]):t===h.BY_NAME?(this.dataProxies[h.BY_NAME]||(this.dataProxies[h.BY_NAME]=new c(this.connector)),e=this.dataProxies[h.BY_NAME]):t===h.SOFTWARE_OFFER?e=this.getOrCreateDataProxyForType(t,g):t===h.BY_SKUID&&(this.dataProxies[h.BY_SKUID]||(this.dataProxies[h.BY_SKUID]=new D(this.connector)),e=this.dataProxies[h.BY_SKUID]),e}});return I.Types=h,I}));