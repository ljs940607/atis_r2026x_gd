define("DS/DELPPWInstructionViewBehaviors/WKIEditAttributeBehavior",["UWA/Core","text!DS/DELPPWInstructionViewBehaviors/assets/json/WKIEditAttributeFormEvents.json","DS/UWPCrypto/UWPCrypto"],(function(e,t,n){"use strict";return{plugins:["UXComponentsPlugin","AttributePlugin","DicoPlugin","ResourcePlugin","DatabasePlugin","WebServicePlugin","PlatformPlugin"],creator:function(o,i,a,r,s,l,u,c,f){function d(){var t={};i.notify("startProgress",t),c.webServiceRequest({url:"delmia/param/configuration/getParameters?domainID=DigitalManufacturing&familyID=WorkInstructions&paramID=SupportLargeTextCheckbox&argID=SupportLargeTextArg",method:"GET",onComplete:function(n){i.notify("stopProgress",t);e.is(n)&&e.is(n[0])&&e.is(n[0].value)&&"Enabled"===n[0].value&&(R=!0)},onFailure:function(){i.notify("stopProgress",t)},onTimeout:function(){i.notify("stopProgress",t)}})}var g,p,P=a.getComponent("Button"),C=null,_=null,V=null,I=e.Json.decode(t),d=d(),R=!1,m=f.isWKILTHCheckSumValidationAllowed(),D=!0,b=function(t){var n=u.getReference(t);return e.is(n)||(n=u.getInstance(t)),e.is(n)||(n=u.getConnection(t)),n},y=function(t,n){var o,i=p.createElement("div",{class:"section-container"}),a={};return e.is(n)&&e.is(n.formStyle)&&(a.formStyle=n.formStyle),o={attribute:t},a.section=o,V=p.create("FormUI",{sections:a,renderTo:i,headerAccordean:!1,wkiLTHEnabledForInstruction:R,wkiLTHEnabledForDCPRPP:void 0}),i},M=function(t,n){g=p.createElement("div",{class:"EditAttribute-Dialog"}),e.is(p)?(_=p.create("Dialog",e.merge(t,{domId:"EditAttributeUI-Dialog",content:g,resizableFlag:!0,modalFlag:!0,width:400,minWidth:290,buttons:{Cancel:new P({onClick:function(){_.close()}}),Ok:new P({disabled:!1,emphasize:"primary",onClick:function(){e.is(n,"function")&&n()}})}}))).close=function(){this.destroy(),e.is(V)&&V.destroy(),e.is(g)&&g.destroy(),_=null}:i.debug("uxFactoryBehavior is not available.")},S=function(t,o,a,r){return new Promise((function(s,l){if(t){var u={};i.notify("startProgress",u);var f=r.join("");const s=new Blob([f],{type:"text/html"});var d=t.fcs_file_Name,g=new File([s],d,{type:"text/html"});t.fcs_checkin_URL;let l=new FormData,p="";l.set("__fcs__nohtml",!1),l.set("__fcs__jobTicket",t.fcs_checkin_Ticket),l.set("__fcs__corelation_0",t.fcs_corelation_ID),l.set("file_0",g),"true"===m&&(p=n.md5(f));let P={url:t.fcs_checkin_URL,data:l,method:"POST",isFormData:!0,type:"text/html",headers:{Accept:"text/html"},onComplete:function(n){console.log("onCreateFileCheckin_SUCCESS"),i.notify("stopProgress",u),function(t,n,o,a,r){var s,l,u={};l={InstructionId:t,DocRepRefId:n,fcs_file_Name:o.fcs_file_Name,fcs_corelation_ID:o.fcs_corelation_ID,zipCATNONCATIADocument:r,fcs_receipt_for_checkin:a},i.notify("startProgress",u),s={url:"dsmfg/private/V0/invoke/MfgProcess/WKI/Instruction/WS_WKIMcsCheckin",method:"POST",data:e.Json.encode(l),onComplete:function(e){i.notify("stopProgress",u)},onFailure:function(e){i.notify("stopProgress",u)}},c.webServiceRequest(s)}(o,a,t,n,p)},onFailure:function(e){i.notify("stopProgress",u),console.log("onCreateFileCheckin_FAILURE")}};c.webServiceRequest(P)}}))},x=function(t,n,o,a,r){var s=r,f={};let d={data:n,onFailure:function(t,n){var o=l.getNLSValue("EditAttributeUI.UpdateFailure");e.is(n)&&e.is(n.message,"string")&&(o+="\n"+n.message),i.warn(o),i.notify("stopProgress",f)},onComplete:function(t,n){i.info(l.getNLSValue("EditAttributeUI.UpdateSuccess")),i.notify("stopProgress",f),function(t,n,o){var a={};i.notify("startProgress",a);let r=n.attributesValue.DocRepRefObj;var s=o,l="";e.is(r)&&(l=JSON.parse(r.replace(/([a-zA-Z0-9]+)/g,'"$1"'))[0][0]);var u=n.attributesValue.PID;new Promise((function(t,n){var o={keyStorageForEntity:"DELLmiDocRepReference",InstructionId:u,DocRepRefId:l},r=function(){console.log("getFcsCheckinTicketWS_FAILURE"),i.notify("stopProgress",a)};c.webServiceRequest({proxy:"passport",url:"dsmfg/private/V0/invoke/MfgProcess/WKI/Instruction/WS_WKIGetStoreAndFCSPreCheckin",method:"POST",onComplete:function(e){i.notify("stopProgress",a),console.log("getFcsCheckinTicketWS_SUCCESS"),S(e,u,l,s)},onFailure:r,onTimeout:r,data:e.Json.encode(o)})}))}(0,n,s)}};i.notify("startProgress",f),o.isReference()?u.updateReference(t,d):o.isInstance()&&u.updateInstance(t,d)},w=function(t,n,o,a,s,c){let f="",d=s,g=c,p=0;for(let e=0;e<g.length;e++)if("richText"===g[e].displayType){let t=g[e].attributeName;f=d[t],p=r.getMaxLength(r.getAttributeInfo(t));break}let P=function(e){let t=0,n="";return Array.isArray(e)&&(n=e.join("")),t=(new TextEncoder).encode(n).length,t}(f);t.WKILTH=!0,P>p?(t.bSetTextAsString=!1,t.GetRepRefDuringUpdate=!0,x(o,t,a,0,f)):(t.bSetTextAsString=!0,t.GetRepRefDuringUpdate=!1,function(t,n,o,a){let r={data:n,onFailure:function(t,n){var o=l.getNLSValue("EditAttributeUI.UpdateFailure");e.is(n)&&e.is(n.message,"string")&&(o+="\n"+n.message),i.warn(o),i.notify("stopProgress",a)},onComplete:function(e,t){i.info(l.getNLSValue("EditAttributeUI.UpdateSuccess")),i.notify("stopProgress",a)}};i.notify("startProgress",a),o.isReference()?u.updateReference(t,r):o.isInstance()&&u.updateInstance(t,r)}(o,t,a,n))};return{name:"WKIEditAttributeBehavior",listenTo:function(){return{refreshAll:this.closeDialog}},onStart:function(t){var n;p=i.getBehavior("UXFactoryBehavior"),n=c.getXMLValues("editFormAttributesXML"),C=e.is(n)?n.convert("AttributesDescriptionList.Type","name"):{},e.is(t.editFormAttributesXML)&&(n=(n=c.getXMLValues(t.editFormAttributesXML)).convert("AttributesDescriptionList.Type","name"),C=e.merge(C,n))},onStop:function(){},closeDialog:function(){e.is(_)&&_.close()},hasEditConfiguration:function(t){var n=!1,o=null;return e.is(C)?(o=b(t),e.is(o)&&e.is(C[o.get("type")])&&(n=!0)):i.debug("_editFormAttrsConfig is not available."),n},editConfiguredAttributes:function(t){var o,a,s,c,f,d,p,P=null,R={};(d=u.getConnection(t),e.is(d)?d.get("type"):null,e.is(C))?(P=b(t),e.is(P)?(o=C[P.get("type")],I[P.get("type")]&&(p=e.clone(I[P.get("type")])),e.is(o)?(s=Array.isArray(o.Attribute)?o.Attribute:[o.Attribute],e.is(o.formStyle)&&(R.formStyle=o.formStyle),(c=e.clone(r.getObjectAndAttributeInfos(s))).forEach((function(t,n){t.objectToBeModified=P,e.is(s[n].displayType)&&(t.displayType=s[n].displayType)})),c.forEach((t=>{if(e.is(t)&&"V_WIInstruction_Text"===t.dataIndex||"V_WISignOff_Text"===t.dataIndex||"V_WIAlert_Message"===t.dataIndex){let n=r.getAttributeInfo(t.attributeName);e.is(n)&&(n.MaxLength=128e3)}})),function(t){return new Promise((function(n,o){var a={},r=function(){i.notify("stopProgress",a),i.warn(l.getNLSValue("EditAttributeUI.retrieveDataFailure")),o()};if(!e.is(t))return i.debug("objectToBeModified is not available."),void o();i.notify("startProgress",a),u.fetchAttributes(t,{onComplete:function(){i.notify("stopProgress",a),n()},onFailure:r,onTimeout:r})}))}(P).then((function(){if("StringInFile"===P.get("WI_Instruction_TextorURI")){(async function(e,t){try{let o=await fetch(e);const i=await o.text();if("true"===m){const e=n.md5(i);D=t===e}return i}catch(e){console.log("Failed to fetch content from URL")}})(P.get("WI_Instruction_URLorText"),P.get("WI_Instruction_checkSum")).then((n=>{if(n.length){let t=P.get("type");if("DELWkiInstructionReference"===t){let o=t+".V_WIInstruction_Text";e.is(P.get(o))&&P.get(o).length&&P.set(o,n)}else if("DELWkiSignOffReference"===t){let o=t+".V_WISignOff_Text";e.is(P.get(o))&&P.get(o).length&&P.set(o,n)}else if("DELWkiAlertReference"===t||"DELWkiAlertCautionReference"===t||"DELWkiAlertWarningReference"===t||"DELWkiAlertNoteReference"===t){let t="DELWkiAlertReference.V_WIAlert_Message";e.is(P.get(t))&&P.get(t).length&&P.set(t,n)}}var o;(o=c.filter((function(t,n){var o=e.is(t.attributeNLSTitle)?t.attributeNLSTitle:r.getNLS(t.attributeInfo);return!(!r.doesAttributeExist(P,t.attributeName)&&!r.isAttrApplicableForType(P,t.attributeName))||(i.warn(l.getNLSValue("EditAttributeUI.AttrNotAvilaibleOnObject",{attributeNLS:o})),!1)}))).length>0?(f=y(o,R),a={title:l.getNLSValue("EditAttributeUI.HeaderMulti")},u.isWorkInstruction(P)&&(a=e.merge({position:{my:"top",at:"top"},height:500,width:600},a)),M(a,(function(){var e,n,i,a,r={};if(!0!==(e=V.validate()).result)return _.error(e.message),void(_.buttons.Ok.disabled=!1);for(i in n=V.getValues())if(n.hasOwnProperty(i))for(a=0;a<o.length;a++)i===o[a].attributeInfo.FullName&&o[a].attributeInfo.Protection<3&&(r[i]=n[i]);(n.hasOwnProperty("DELWkiSignOffReference.V_WISignOff_Text")||n.hasOwnProperty("DELWkiInstructionReference.V_WIInstruction_Text")||n.hasOwnProperty("DELWkiAlertReference.V_WIAlert_Message")||n.hasOwnProperty("DELWkiAlertCautionReference.V_WIAlert_Message")||n.hasOwnProperty("DELWkiAlertWarningReference.V_WIAlert_Message")||n.hasOwnProperty("DELWkiAlertNoteReference.V_WIAlert_Message"))&&w(r,{},t,P,n,o),_.close()})),f.inject(g),D||(_.error(l.getNLSValue("EditAttributeUI.retrieveRichTextData.Failure")),_.buttons.Ok.disabled=!1)):i.warn(l.getNLSValue("EditAttributeUI.ConfigAttrNotAvilaibleOnObject"))}))}else{var o;(o=c.filter((function(t,n){var o=e.is(t.attributeNLSTitle)?t.attributeNLSTitle:r.getNLS(t.attributeInfo);return r.doesAttributeExist(P,t.attributeName)||r.isAttrApplicableForType(P,t.attributeName)?(e.is(p)&&e.is(p[t.attributeName])&&(t.events=p[t.attributeName]),!0):(i.warn(l.getNLSValue("EditAttributeUI.AttrNotAvilaibleOnObject",{attributeNLS:o})),!1)}))).length>0?(f=y(o,R),a={title:l.getNLSValue("EditAttributeUI.HeaderMulti")},u.isWorkInstruction(P)&&(a=e.merge({position:{my:"top",at:"top"},height:500,width:600},a)),M(a,(function(){var n,a,r,s,c={},f={};if(!0!==(n=V.validate()).result)return _.error(n.message),void(_.buttons.Ok.disabled=!1);for(r in a=V.getValues())if(a.hasOwnProperty(r))for(s=0;s<o.length;s++)r===o[s].attributeInfo.FullName&&o[s].attributeInfo.Protection<3&&(f[r]=a[r]);a.hasOwnProperty("DELWkiSignOffReference.V_WISignOff_Text")||a.hasOwnProperty("DELWkiInstructionReference.V_WIInstruction_Text")||a.hasOwnProperty("DELWkiAlertReference.V_WIAlert_Message")||a.hasOwnProperty("DELWkiAlertCautionReference.V_WIAlert_Message")||a.hasOwnProperty("DELWkiAlertWarningReference.V_WIAlert_Message")||a.hasOwnProperty("DELWkiAlertNoteReference.V_WIAlert_Message")?w(f,c,t,P,a,o):function(t,n,o,a){let r={data:t,onFailure:function(t,o){var a=l.getNLSValue("EditAttributeUI.UpdateFailure");e.is(o)&&e.is(o.message,"string")&&(a+="\n"+o.message),i.warn(a),i.notify("stopProgress",n)},onComplete:function(){i.info(l.getNLSValue("EditAttributeUI.UpdateSuccess")),i.notify("stopProgress",n)}};i.notify("startProgress",n),a.isReference()?u.updateReference(o,r):a.isInstance()&&u.updateInstance(o,r)}(f,c,t,P),_.close()})),f.inject(g)):i.warn(l.getNLSValue("EditAttributeUI.ConfigAttrNotAvilaibleOnObject"))}}))):i.warn(l.getNLSValue("EditAttributeUI.NoAttributesConfigured"))):i.debug("objectToBeModified is not available.")):i.debug("_editFormAttrsConfig is not available.")}}}}})),define("DS/DELPPWInstructionViewBehaviors/ColumnManagers/DataCollectRowColumnManager",["UWA/Core"],(function(e){"use strict";return function(t){const n="PLMSpecifyHowToCollectDataCnx_Custo.",o=[n+"V_MinValue_Inclusive",n+"V_MinControlValue_Inclusive",n+"V_MaxValue_Inclusive",n+"V_MaxControlValue_Inclusive",n+"V_MinEoFValue_Inclusive",n+"V_MaxEoFValue_Inclusive"],i=function(e){let n=t.getPlugins(e);return n&&n.instance?n.instance:null},a=i("PlatformPlugin"),r=i("DicoPlugin"),s=i("ResourcePlugin"),l=i("AttributePlugin");let u=a.isUsingInputValueKF();return{displayType:"DataCollectRow",isSupportedColumn:function(t){return!(!e.is(t)||!e.is(t.displayType)||t.displayType!==this.displayType)},updateColumnInfos:function(e){return e.getCellTypeRepresentation=this.getCellTypeRepresentation,e.getCellClassName=this.getCellClassName,e.getCellValue=this.getCellValue,e.getCellSemantics=this.getCellSemantics,e.hasCellValue=this.hasCellValue,e.getCellTooltip=this.getCellTooltip,e},getCellTypeRepresentation:function(t){var o,i;if(t.isHeader)return"string";switch(e.is(t.nodeModel)&&(i=t.nodeModel.options.grid),this.getColumnOrGroup(t.columnID).attribute.name){case n+"V_DCRichText":case n+"V_DCUnit":case n+"V_DCTimestampFormat":case n+"V_DCFormula":case n+"V_DCPerformanceCharac":case n+"V_DCCriticality":o="string";break;case n+"V_MinValue":case n+"V_MinControlValue":case n+"V_MaxValue":case n+"V_MaxControlValue":case n+"V_MinEoFValue":case n+"V_MaxEoFValue":o=e.is(u)&&!0===u?"string":"number";break;case n+"V_Value":case n+"V_ConformanceValues":o=e.is(u)&&!0===u?"string":e.is(i)&&e.is(i[n+"V_DCUnit"])?"number":"string";break;case n+"V_MinValue_Inclusive":case n+"V_MinControlValue_Inclusive":case n+"V_MaxValue_Inclusive":case n+"V_MaxControlValue_Inclusive":case n+"V_MinEoFValue_Inclusive":case n+"V_MaxEoFValue_Inclusive":o="boolean";break;case n+"V_DCType":case n+"V_DCMagnitude":case n+"V_DCRequirementLink":case n+"V_DCResourceLink":case n+"V_DCParameterOnto":o="url";break;default:o="string"}return o},getCellClassName:function(t){var o="";if(e.is(t.nodeModel)&&!t.isHeader)switch(this.getColumnOrGroup(t.columnID).attribute.name){case n+"V_DCType":case n+"V_DCMagnitude":case n+"V_DCRequirementLink":case n+"V_DCResourceLink":case n+"V_DCParameterOnto":o="url";break;default:o=""}return o},getCellValue:function(t){var o,i,a,r,s,l=t.nodeModel.options.grid;switch(r=function(t){var n,o,i,a,r,s=e.is(t)?t:"";if(0===s.indexOf("<?xml")&&0<s.indexOf("<html")&&(a=s.indexOf("<body>"),r=s.indexOf("</body>"),a>-1&&r>-1)){for(s=(s=s.slice(a+6,r)).replaceAll("<br/>"," ");-1!==s.indexOf("<");)n=s.indexOf("<"),-1!==(o=s.indexOf(">",n)+1)&&(i=s.substring(n,o),s=s.replace(i,""));s=(s=(s=(s=s.replaceAll("&lt;","<")).replaceAll("&gt;",">")).replaceAll("&amp;","&")).replaceAll("&nbsp;"," ")}return s},a=function(e,t){return{label:e,getLabel:function(){return this.label},icon:{iconPath:t,iconSize:{width:"22px",height:"22px"}}}},s=function(t){let o,i=l[n+"V_DCUnit"];return o=!e.is(i)||e.is(i)&&i.includes("undefined")?t:t+" "+i,o},(i=this.getColumnOrGroup(t.columnID)).attribute.name){case n+"V_DCRichText":return r(l[i.attribute.name]);case n+"V_DCType":case n+"V_DCMagnitude":case n+"V_DCRequirementLink":case n+"V_DCResourceLink":case n+"V_DCParameterOnto":return o=l[i.attribute.name].iconPath,a(l[i.attribute.name].label,o);case n+"V_MinEoFValue":case n+"V_MinValue":case n+"V_MinControlValue":case n+"V_Value":case n+"V_MaxControlValue":case n+"V_MaxValue":case n+"V_MaxEoFValue":return u&&!0===u?s(l[i.attribute.name]):l[i.attribute.name];default:return l[i.attribute.name]}},getCellSemantics:function(e){var t,o=e.nodeModel.options.grid;switch(this.getColumnOrGroup(e.columnID).attribute.name){case n+"V_MinValue":case n+"V_MinControlValue":case n+"V_MaxValue":case n+"V_MaxControlValue":case n+"V_Value":case n+"V_MinEoFValue":case n+"V_MaxEoFValue":t={units:o[n+"V_DCUnit"]}}return t},hasCellValue:function(t){var n,i=t.nodeModel.options.grid;return n=this.getColumnOrGroup(t.columnID),o.indexOf(n.attribute.name)>-1?e.is(i[n.attribute.name])&&"NotSet"!==i[n.attribute.name]:o.indexOf(n.attribute.name+"_Inclusive")>-1?e.is(i[n.attribute.name+"_Inclusive"])&&"NotSet"!==i[n.attribute.name+"_Inclusive"]:e.is(i[n.attribute.name])&&Boolean(i[n.attribute.name])},getCellTooltip:function(t){var n={longHelp:""},o=t.cellView.collectionView.getColumnOrGroup(t.columnID),i=l.getAttributeInfoFromColumn(o),a=r.getAttributeInfo(i.attributeName),u=t.cellModel;if(-1===t.columnID)return this.getCellDefaultTooltip(t);if(t.isHeader||(e.is(u)?"object"===e.typeOf(u)?u=u.getLabel():l.isBoolean(a)?u="TRUE"===u.toString().toUpperCase()?s.getNLSValue("TRUE"):s.getNLSValue("FALSE"):(l.isDouble(a)||l.isInteger(a))&&(u=l.getValueAsString(u,l.getType(a))):u=""),"PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"===t.dataIndex&&e.is(t.nodeModel)){let e=t.nodeModel.getAttributeValue("PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto");""!==e.iconPath&&""!==e.inconsistencyMsg&&(u=e.inconsistencyMsg)}return n.longHelp=u,n}}}})),define("DS/DELPPWInstructionViewBehaviors/ColumnManagers/ResourceParameterRowColumnManager",["UWA/Core","UWA/Class"],(function(e,t){"use strict";return function(t){const n=["PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinValue_Inclusive","PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxValue_Inclusive"],o=function(e){let n=t.getPlugins(e);return n&&n.instance?n.instance:null},i=o("PlatformPlugin"),a=o("AttributePlugin"),r=o("DicoPlugin"),s=o("ResourcePlugin");let l=i.isUsingInputValueKF();return{displayType:"ResourceParameterRow",isSupportedColumn:function(t){return!(!e.is(t)||!e.is(t.displayType)||t.displayType!==this.displayType)},updateColumnInfos:function(e){return e.getCellTypeRepresentation=this.getCellTypeRepresentation,e.getCellValue=this.getCellValue,e.getCellSemantics=this.getCellSemantics,e.hasCellValue=this.hasCellValue,e.getCellTooltip=this.getCellTooltip,e},getCellTypeRepresentation:function(t){var n,o;if(t.isHeader)return"string";switch(e.is(t.nodeModel)&&(o=t.nodeModel.options.grid),t.dataIndex){case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPRichText":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMode":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPCriticality":default:n="string";break;case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMagnitude":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPTitle":n="url";break;case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinControlValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxControlValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinEoFValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxEoFValue":n=e.is(l)&&!0===l?"string":"number";break;case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPValue":n=e.is(l)&&!0===l?"string":e.is(o)&&e.is(o.V_RPPUnit)?"number":"string";break;case"PLMSpecifyHowToResourcePlanCnx_Custo.V_MinValue_Inclusive":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_MaxValue_Inclusive":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinValue_Inclusive":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxValue_Inclusive":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinControlValue_Inclusive":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxControlValue_Inclusive":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinEoFValue_Inclusive":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxEoFValue_Inclusive":n="boolean"}return n},getCellValue:function(t){var n,o,i,a,r=t.nodeModel.options.grid;switch(i=function(t){var n,o,i,a,r,s=e.is(t)?t:"";if(0===s.indexOf("<?xml")&&0<s.indexOf("<html")&&(a=s.indexOf("<body>"),r=s.indexOf("</body>"),a>-1&&r>-1)){for(s=(s=s.slice(a+6,r)).replaceAll("<br/>"," ");-1!==s.indexOf("<");)n=s.indexOf("<"),-1!==(o=s.indexOf(">",n)+1)&&(i=s.substring(n,o),s=s.replace(i,""));s=(s=(s=(s=s.replaceAll("&lt;","<")).replaceAll("&gt;",">")).replaceAll("&amp;","&")).replaceAll("&nbsp;"," ")}return s},o=function(e,t){return{label:e,getLabel:function(){return this.label},icon:{iconPath:t,iconSize:{width:"22px",height:"22px"}}}},a=function(t){let n,o=r.V_RPPUnit;return n=!e.is(o)||e.is(o)&&o.includes("undefined")||!t?t:t+" "+o,n},t.dataIndex){case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPRichText":return i(r[t.dataIndex]);case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPTitle":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMagnitude":return n=e.is(r[t.dataIndex].iconPath)?r[t.dataIndex].iconPath:"",o(r[t.dataIndex].label,n);case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinControlValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxControlValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinEoFValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxEoFValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPValue":return e.is(l)&&!0===l?a(r[t.dataIndex]):r[t.dataIndex];default:return r[t.dataIndex]}},getCellSemantics:function(e){var t,n=e.nodeModel.options.grid;switch(e.dataIndex){case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinControlValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxControlValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinEoFValue":case"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxEoFValue":null!==n[e.dataIndex]&&""!==n[e.dataIndex]&&(t={units:n.V_RPPUnit})}return t},hasCellValue:function(t){var o=t.nodeModel.options.grid;return n.indexOf(t.dataIndex)>-1?e.is(o[t.dataIndex])&&"NotSet"!==o[t.dataIndex]:n.indexOf(t.dataIndex+"_Inclusive")>-1?e.is(o[t.dataIndex+"_Inclusive"])&&"NotSet"!==o[t.dataIndex+"_Inclusive"]:!!e.is(o[t.dataIndex])},getCellTooltip:function(t){var n={longHelp:""},o=t.cellView.collectionView.getColumnOrGroup(t.columnID),i=a.getAttributeInfoFromColumn(o),l=r.getAttributeInfo(i.attributeName),u=t.cellModel;if(-1===t.columnID)return this.getCellDefaultTooltip(t);if(t.isHeader||(e.is(u)?"object"===e.typeOf(u)?u=u.getLabel():a.isBoolean(l)?u="TRUE"===u.toString().toUpperCase()?s.getNLSValue("TRUE"):s.getNLSValue("FALSE"):(a.isDouble(l)||a.isInteger(l))&&(u=a.getValueAsString(u,a.getType(l))):u=""),"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPTitle"===t.dataIndex&&e.is(t.nodeModel)){let n=t.nodeModel.getAttributeValue("PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPTitle");e.is(n)&&""!==n.iconPath&&(u=e.is(n.value)&&n.value.includes("<br>")?n.value.split("<br>").map((e=>e.trim())).join("\n"):e.is(n.value)&&n.value.length?n.value:s.getNLSValue("ResourceParametertMgmtUI.InvalidRPRow"))}return n.longHelp=u,n}}}})),define("DS/DELPPWInstructionViewBehaviors/WUXDataCollectRowDragDrop",["UWA/Core"],(function(e){"use strict";return function(t,n){var o,i,a,r;return o=function(){return!1},i=function(e,n){var o;return o={protocol:"3DXContent",version:"1.1",source:t.getConfig().appId,widgetId:widget.id,data:{draggedRowPID:n.nodeModel.getReferencePID()}},e.dataTransfer.setData("Text",JSON.stringify(o)),e.dataTransfer.effectAllowed="move",!1},a=function(e){return e.preventDefault(),!0},r=function(o,i){var a,r,s,l,u=!1;return e.is(o.dataTransfer)&&e.is(o.dataTransfer.getData)&&(l=o.dataTransfer.getData("Text"),e.is(l)&&(l=JSON.parse(l),e.is(l.source)&&e.is(l.widgetId)&&l.source===t.getConfig().appId&&l.widgetId===widget.id&&(u=!0))),u&&e.is(i.droppedNodes)&&e.is(i.nodeModel)?(a=i.droppedNodes[0],r=i.nodeModel,a.getReferencePID()===r.getReferencePID()&&(u=!1),"top"===i.dropPosition?s=i.rowID:"bottom"===i.dropPosition&&(s=i.rowID+1),e.is(s)&&a._getRowID()!==s||(u=!1)):u=!1,u&&n.notify("moveDataCollectRow",[a.options.dataCollectPID,a.getReferencePID(),s.toString()]),!1},{init:function(e){e||{}},getDDBehavior:function(){return{onDragStartRowHeader:o,onDragRowHeader:o,onDragOverRowHeader:o,onDragEnterRowHeader:o,onDragLeaveRowHeader:o,onDragEndRowHeader:o,onDropRowHeader:o,onDragStartCell:i,onDragCell:o,onDragOverCell:a,onDragEnterCell:o,onDragLeaveCell:o,onDragEndCell:o,onDropCell:r,onDragStartBlank:o,onDragBlank:o,onDragOverBlank:o,onDragEnterBlank:o,onDragLeaveBlank:o,onDragEndBlank:o,onDropBlank:o}}}}})),define("DS/DELPPWInstructionViewBehaviors/WUXResourceParameterRowDragDrop",["UWA/Core"],(function(e){"use strict";return function(t,n){var o,i,a,r;return o=function(){return!1},i=function(e,n){var o;return o={protocol:"3DXContent",version:"1.1",source:t.getConfig().appId,widgetId:widget.id,data:{draggedRowPID:n.nodeModel.getReferencePID()}},e.dataTransfer.setData("Text",JSON.stringify(o)),e.dataTransfer.effectAllowed="move",!1},a=function(e){return e.preventDefault(),!0},r=function(o,i){var a,r,s,l,u=!1;return e.is(o.dataTransfer)&&e.is(o.dataTransfer.getData)&&(l=o.dataTransfer.getData("Text"),e.is(l)&&(l=JSON.parse(l),e.is(l.source)&&e.is(l.widgetId)&&l.source===t.getConfig().appId&&l.widgetId===widget.id&&(u=!0))),u&&e.is(i.droppedNodes)&&e.is(i.nodeModel)?(a=i.droppedNodes[0],r=i.nodeModel,a.getReferencePID()===r.getReferencePID()&&(u=!1),"top"===i.dropPosition?s=i.rowID:"bottom"===i.dropPosition&&(s=i.rowID+1),e.is(s)&&a._getRowID()!==s||(u=!1)):u=!1,u&&n.notify("moveResourceParameterRow",[a.options.resourceParameterPID,a.getReferencePID(),s.toString()]),!1},{init:function(){},getDDBehavior:function(){return{onDragStartRowHeader:o,onDragRowHeader:o,onDragOverRowHeader:o,onDragEnterRowHeader:o,onDragLeaveRowHeader:o,onDragEndRowHeader:o,onDropRowHeader:o,onDragStartCell:i,onDragCell:o,onDragOverCell:a,onDragEnterCell:o,onDragLeaveCell:o,onDragEndCell:o,onDropCell:r,onDragStartBlank:o,onDragBlank:o,onDragOverBlank:o,onDragEnterBlank:o,onDragLeaveBlank:o,onDragEndBlank:o,onDropBlank:o}}}}}));