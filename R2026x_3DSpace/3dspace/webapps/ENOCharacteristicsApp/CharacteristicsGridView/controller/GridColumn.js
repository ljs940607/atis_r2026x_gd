define("DS/ENOCharacteristicsApp/CharacteristicsGridView/controller/GridColumn",["DS/ENOCharacteristicsApp/utils/CharacteristicsUtils","DS/Controls/LineEditor","DS/Controls/ComboBox","DS/Controls/TooltipModel","DS/ENOCharacteristicsApp/utils/Constants","DS/XSRCommonComponents/utils/Constants","DS/XSRCommonComponents/utils/Utils","DS/XSRCommonComponents/utils/TypeUtils","i18n!DS/ENOCharacteristicsApp/assets/nls/ENOCharacteristicsApp"],(function(e,t,a,i,l,n,r,s,o){"use strict";function d(e){}return d.prototype.process=function(d){var c=this;return c.exportableColums=c.exportableColums||[],d&&(d.forEach((function(d){if(("appliesTo"==d.dataIndex||"specificationLimits"==d.dataIndex||"routineReleaseLimits"==d.dataIndex||"acceptanceLimits"==d.dataIndex)&&d.children.length>0)for(var u=0;u<d.children.length;u++)d.children[u].text=d.children[u].text?o[d.children[u].text]:d.children[u].text;function p(t){if(t.rowID>=0&&t.columnID>=6){if(t.nodeModel&&e.allTypeList.includes(t.nodeModel.options.grid.type))return"xsr-parent-perf-spec-row";if(t.nodeModel&&!e.allTypeList.includes(t.nodeModel.options.grid.type))return"xsr-child-char-row"}}function m(t){let a=["menu","revision","maturity","testMethods","dimension"],i=t.nodeModel,n="";if(i&&i._canBeGrouped())return n=e.allTypeList.includes(i.getTypeActualName())?i.getMaturityActualName():i.getParent().getMaturityActualName(),l.MATURITY_IN_WORK===n&&!a.includes(d.dataIndex)}if(d.text=o[d.text]?o[d.text]:d.text,d.children&&d.children.length>0?d.children.forEach((e=>{e.getCellClassName=p})):d.getCellClassName=p,d.children?d.children.forEach((e=>{e.getCellEditableState=e=>d.editableFlag&&m(e)})):d.getCellEditableState=e=>d.editableFlag&&m(e),!1===d.exportFlag||d.children){if(d.children&&d.children.length>0){if(Array.isArray(d.children))d.children.forEach((function(e){c.exportableColums.push(e.dataIndex)}))}}else c.exportableColums.push(d.dataIndex);"title"==d.dataIndex&&(d.getCellSemantics=e=>{var t=e.nodeModel;if(t&&t._canBeGrouped()&&s.isPerformanceCharacteristics(e.nodeModel.getTypeActualName())&&c.displayWarningIcon(t))return{icon:l.WARNING_ICON}},d.getCellTooltip=e=>{var t=e.nodeModel;if(t&&t._canBeGrouped()&&s.isPerformanceCharacteristics(e.nodeModel.getTypeActualName())&&c.displayWarningIcon(t)){let e="";return c.hasParamTemplateAssociated(t)?c.isParamTemplateDeleted(t)?e=o.tooltip_ParameterTemplateDeleted:(c.isTitleSameAsParamTemplate(t)||(e=o.tooltip_TitleMismatch),c.hasParamTemplateTypeMismatch(t)&&(e=e?`${e}, ${o.tooltip_TypeMismatch}`:o.tooltip_TypeMismatch)):c.isArbitraryUnit(t)&&(c.isArbitraryUnitUpdated(t)&&(e=o.tooltip_arbitraryUnitUpdated),c.isArbitraryUnitDeleted(t)&&(e=o.tooltip_arbitraryUnitDeleted)),{shortHelp:e}}return c.grid.getCellDefaultTooltip(e)},d.getCellEditableState=e=>!s.isPerformanceCharacteristics(e.nodeModel.getTypeActualName())||!c.isValidParamTemplateAssociated(e.nodeModel)),"priority"==d.dataIndex&&(d.compareFunction=(e,t)=>e-t),"acceptanceLimits"==d.dataIndex&&d.children.forEach((e=>{let t=e.dataIndex;"displayLowerTargetIncluded"!=t&&"displayUpperTargetIncluded"!=t||(e.getCellValueForExport=e=>{let a=e.nodeModel;if(a&&a._canBeGrouped()&&"PerformanceChar"===a.getTypeActualName()){let e="displayLowerTargetIncluded"===t?a.getLowerTarget():a.getUpperTarget(),i=a.getAttributeValue(t);return e&&""!==e?i.toString():""}})})),"charPrecision"===d.dataIndex&&(d.getCellSemantics=function(e){var t=e.nodeModel;if(t&&t._canBeGrouped()){var a=["0.1","0.01","0.001","0.0001","0.00001","0.000001","0.0000001","0.00000001","0.000000001","0.0000000001"];return{possibleValues:()=>a,placeholder:o.label_Precision}}},d.getCellEditableState=function(e){var t=e.nodeModel;return!(s.isPerformanceCharacteristics(e.nodeModel.getTypeActualName())&&l.MATURITY_IN_WORK!==t.getParent().getMaturityActualName()||t&&s.isDescriptiveCharacteristics(t.getTypeActualName()))}),"missedTargetAction"===d.dataIndex&&(d.getCellSemantics=function(e){var t=e.nodeModel;if(t&&t._canBeGrouped()){var a=[o.label_NoActionRequired,o.label_HoldandRetest,o.label_ShipandMonitor];return{possibleValues:()=>a,placeholder:o.label_MissedTargetAction}}}),"description"===d.dataIndex&&(d.getCellClassName=function(e){return"xsr-textblock-Container"}),"tree"===d.dataIndex&&(d.getCellEditableState=function(e){return!1},d.getCellValueForExport=function(e){var t=e.nodeModel;if(t&&t.getID)return t.options.grid.type?t.options.grid.type:t.options.grid["ds6w:type"]}),"notes"===d.dataIndex&&(d.getCellClassName=function(e){return"xsr-textblock-Container"}),"dimension"===d.dataIndex&&(d.getCellSemantics=function(t){let a=t.nodeModel;if(a&&a._canBeGrouped()&&s.isMeasurementCharacteristics(t.nodeModel.getTypeActualName())){var i=e.allDimensionSet?e.allDimensionSet:[],n=[];return i.forEach((e=>{n.push(e.displayName)})),{icon:c.hasValidDimension(a)?"":l.WARNING_ICON,possibleValues:()=>n,placeholder:"Dimension"}}},d.getCellTooltip=e=>{var t=e.nodeModel;return t&&t._canBeGrouped()&&s.isMeasurementCharacteristics(e.nodeModel.getTypeActualName())&&!c.hasValidDimension(t)?{shortHelp:o.tooltip_DimensionMismatch}:c.grid.getCellDefaultTooltip(e)}),"parameterTemplate"===d.dataIndex&&(d.getCellSemantics=function(e){let t=e.nodeModel;if(t&&t._canBeGrouped()&&s.isPerformanceCharacteristics(e.nodeModel.getTypeActualName())&&c.hasParamTemplateAssociated(t)&&!c.isValidParamTemplateAssociated(t))return{icon:l.WARNING_ICON}},d.getCellTooltip=e=>{var t=e.nodeModel;if(t&&t._canBeGrouped()&&s.isPerformanceCharacteristics(e.nodeModel.getTypeActualName())&&!c.isValidParamTemplateAssociated(t)){return{shortHelp:o.tooltip_ParameterTemplateDeleted}}return c.grid.getCellDefaultTooltip(e)}),"displayUnit"===d.dataIndex&&(d.getCellSemantics=function(t){let a=t.nodeModel;if(a&&a._canBeGrouped()&&""!=a.getDimension()){let t=a.getDimension(),i=e.dimensionNameToIdMap[t],l="USER_DEFINED_UNIT"!==i?Object.keys(e.dimensionDisplayUnitMap[i]):"";return{possibleValues:()=>l,placeholder:"Display Unit"}}}),"url"===d.typeRepresentation?(d.getCellValue=function(e){var t,a,i=function(e,t,a,i,l){return s.isPerformanceCharacteristics(a.getTypeActualName())&&t===n.MATURITY_GRAPH_CMD?e:{label:e,icon:i,url:"#UNEXISTANT_ID",module:"DS/XSRCommonComponents/utils/GridCommonActionsManager",func:"launch",argument:{commandId:t,selectedNode:a,appCore:c.appCore,currentTabKey:c.currentTabKey,selectFacet:l}}},l=e.nodeModel,r=c.grid.layout.getDataIndexFromColumnIndex(e.columnID);if(l.getID){switch(r){case"revision":(a=void 0===l.getRevision()||null===l.getRevision()?"":l.getRevision())&&(s.isPerformanceSpecification(e.nodeModel.getTypeActualName())&&e.nodeModel.isDerivedSpec()?t=a:(t=i(a,n.VERSION_GRAPH_PERF_SPEC_CMD,l),l.isLastRevision&&void 0!==l.isLastRevision()&&!l.isLastRevision()&&(t.icon="flow-line")));break;case"maturity":(a=void 0===l.getMaturity()||null===l.getMaturity()?"":l.getMaturity())&&(t=s.isPerformanceSpecification(e.nodeModel.getTypeActualName())&&e.nodeModel.isDerivedSpec()?a:i(a,n.MATURITY_GRAPH_CMD,l));break;case"testMethods":s.isPerformanceCharacteristics(l.getTypeActualName())&&(a=""!==l.getTestMethodsLabel()?l.getTestMethodsLabel():"+")&&""!==a&&(t=i(a,n.INFORMATION_CMD,l,void 0,"testMethods"));break;case"requirements":s.isPerformanceCharacteristics(l.getTypeActualName())&&(a=""!==l.getRequirements()?l.getRequirements():"+")&&""!==a&&(t=i(a,n.INFORMATION_CMD,l,void 0,"requirements"))}return t}},d.getCellGroupingKey=function(e){var t=e.nodeModel;if(t&&t.getID){var a=c.grid.layout.getDataIndexFromColumnIndex(e.columnID);return e.nodeModel.options.grid[a]}},d.getCellValueForExport=function(e){var t=e.nodeModel;if(t&&t.getID)switch(c.grid.layout.getDataIndexFromColumnIndex(e.columnID)){case"revision":var a=void 0===t.getRevision()||null===t.getRevision()?"":t.getRevision();return a=t.isLastRevision&&t.isLastRevision()?a:a+"("+o.HigherRevExist+")";case"maturity":return void 0===t.getMaturity()||null===t.getMaturity()?"":t.getMaturity();case"testMethods":if(s.isPerformanceCharacteristics(t.getTypeActualName())){let e=t.getTestMethodsList(),a="";return e&&(e.forEach((e=>{a+=e.title+","})),a=a.substr(0,a.length-1)),a}case"requirements":if(s.isPerformanceCharacteristics(t.getTypeActualName())){let e=t.getRequirementsList(),a="";return e&&(e.forEach((e=>{a+=e.title+","})),a=a.substr(0,a.length-1)),a}}},"revision"===d.dataIndex&&(d.getCellTooltip=function(e){var t=e.nodeModel;if(t&&t.getID){return{shortHelp:t&&t.isLastRevision&&t.isLastRevision()?t.getRevision():t.getRevision()+"  "+o.HigherRevExist}}return{shortHelp:e.cellModel}}),"testMethods"===d.dataIndex&&(d.getCellTooltip=function(e){var t=e.nodeModel;return t&&s.isPerformanceCharacteristics(t.getTypeActualName())&&0!=t.getTestMethods().length?{shortHelp:t.getTestMethodsLabel()}:t&&s.isPerformanceCharacteristics(t.getTypeActualName())&&0==t.getTestMethods().length?{shortHelp:`${o.label_addTestMethods}`}:{shortHelp:e.cellModel}}),"requirements"===d.dataIndex&&(d.getCellTooltip=function(e){var t=e.nodeModel;return t&&s.isPerformanceCharacteristics(t.getTypeActualName())&&0!=t.getRequirements().length?{shortHelp:t.getRequirements()}:t&&s.isPerformanceCharacteristics(t.getTypeActualName())&&0==t.getRequirements().length?{shortHelp:`${o.AddRequirement}`}:{shortHelp:e.cellModel}}),"maturity"===d.dataIndex?(d.getCellTypeRepresentation=function(e){return e.nodeModel&&e.nodeModel.getID&&(s.isPerformanceCharacteristics(e.nodeModel.getTypeActualName())||e.nodeModel.isDerivedSpec())?"string":d.typeRepresentation},d.getCellClassName=function(e){return e.nodeModel&&e.nodeModel.getID&&s.isPerformanceCharacteristics(e.nodeModel.getTypeActualName())?"maturityPerfChar":e.nodeModel&&s.isPerformanceSpecification(e.nodeModel.getTypeActualName())&&e.nodeModel.isDerivedSpec()?"read-only-url-center-align":void 0}):"revision"===d.dataIndex&&(d.getCellTypeRepresentation=function(e){return e.nodeModel&&e.nodeModel.getID&&(s.isPerformanceCharacteristics(e.nodeModel.getTypeActualName())||e.nodeModel.isDerivedSpec())?"string":d.typeRepresentation},d.getCellClassName=function(e){if(e.nodeModel&&s.isPerformanceSpecification(e.nodeModel.getTypeActualName())&&e.nodeModel.isDerivedSpec())return"read-only-url-center-align"})):"menu"===d.dataIndex&&(d.getCellValue=function(e){var t=e.nodeModel;if(t.getID&&t.getID())return{label:"",module:"DS/XSRCommonComponents/utils/GridCommonActionsManager",func:"getActionMenu",argument:{}};t.options.grid.menu=""},d.hasCellValue=function(e){var t=e.nodeModel;return!(!t||!t._canBeGrouped())}),d.hasOwnProperty("extension")&&d.hasOwnProperty("range")&&(d.getCellSemantics=function(e){var t=e.nodeModel;let a=!!d.multiValue;if(t&&t._canBeGrouped()){var i=d.range.sort();return{possibleValues:()=>i,placeholder:"",allowMultipleValuesFlag:a,viewOptions:{multipleValuesSeparator:";"}}}}),d.hasOwnProperty("extension")&&!d.hasOwnProperty("range")&&d.multiValue&&(d.getCellSemantics=function(e){var t=e.nodeModel;if(t&&t._canBeGrouped())return{placeholder:"",allowMultipleValuesFlag:!0,viewOptions:{multipleValuesSeparator:";"}}}),d.hasOwnProperty("extension")&&(d.getCellValueForExport=function(e){let t=d.dataIndex,a=e.nodeModel;const i="date"==d.typeRepresentation||"datetime"==d.typeRepresentation;if(a&&a._canBeGrouped()){let e=a._options.grid[t];return e instanceof Object?i?r.formatDate(e.toString()):e.toString():i?r.formatDate(e):e}}),"newAcceptanceLimits"==d.dataIndex&&(d.getCellSemantics=function(e){var t=e.nodeModel;if(t&&t._canBeGrouped()&&s.isDescriptiveCharacteristics(t.getTypeActualName())&&c.hasMutlipleAuthorizedValues(t)){var a=c.getAuthorizedValues(t);return{icon:c.hasUnAuthorizedValues(t)?l.WARNING_ICON:"",possibleValues:()=>a}}},d.getCellTypeRepresentation=function(e){var t=e.nodeModel;return t&&s.isDescriptiveCharacteristics(t.getTypeActualName())?c.hasMutlipleAuthorizedValues(t)?"string":"textBlock":"UWAObject"},d.getCellClassName=function(e){var t=e.nodeModel;if(t&&s.isDescriptiveCharacteristics(t.getTypeActualName()))return"xsr-textblock-Container"},d.getCellValue=function(n){var r=n.nodeModel;if(s.isMeasurementCharacteristics(r.getTypeActualName())){var d=UWA.createElement("div",{class:"xsr-custom-container"}),u=l.MATURITY_IN_WORK===r.getParent().getMaturityActualName();u||(c.currentEditableCellId=""),d.addEventListener("click",(e=>{u&&(c.currentEditableCellId=n.cellID,(e.target.hasClassName("read-only")||e.target.querySelector(".read-only"))&&(c.disableEditableContainers(),p.addClassName("xsr-hide-container"),y.removeClassName("xsr-hide-container")))}));var p=UWA.createElement("div",{class:"uom-container-read-only read-only"}).inject(d);r.appCore&&r.appCore.wrap_enabled&&p.addClassName("wrap-text"),c.isInvalidUoM(r)&&UWA.createElement("div",{class:"xsr-warning-icon-uom wux-tweakers-icon wux-ui-3ds-attention wux-ui-3ds wux-ui-3ds-lg"}).inject(p);let s=r.getAttributeValue("lowerTarget"),v=r.getAttributeValue("displayLowerTargetIncluded"),b=r.getAttributeValue("displayUpperTargetIncluded"),I=r.getAttributeValue("displayTarget"),M=r.getAttributeValue("upperTarget"),U=r.getDisplayUnitId(),N=e.displayUnitIdToObjMap[U]?e.displayUnitIdToObjMap[U].displayName:r.getDisplayUnit();if(""!==s||""!==I||""!==M){var m=UWA.createElement("div",{class:"value-left-container read-only"}).inject(p);let e,t;if(""!==M||""!==s){var g=UWA.createElement("div",{class:"acceptance-top-container read-only"}).inject(m);let t=v?`>= ${s}`:`> ${s}`,a=b?`<= ${M}`:`< ${M}`;e=""!==s&&""!==M?`${t} ${o.label_and} ${a}`:""!==s&&""===M?t:""===s&&""!==M?a:"-",g.innerText=`${e}   ${N}`}if(""!==I){var h=UWA.createElement("div",{class:"acceptance-bottom-container read-only "}).inject(m);t=""!==s||""!==M?`${o.label_Target} = ${I} `:` ${I} `,h.innerText=`${t}   ${N}`,h.addClassName("show-top-border")}(e||t)&&(m.tooltipInfos=new i({shortHelp:e&&t?`${e} , ${t} ${N}`:e?`${e}  ${N}`:t?`${t}  ${N}`:""}))}if(u){var y=UWA.createElement("div",{class:"uom-container-perf-spec xsr-hide-container"}).inject(d),T=new t({placeholder:`${o.label_min}`,value:r.getLowerTarget(),selectAllOnFocus:!0}).inject(y);T.getContent().addClassName("xsr-value-editor"),T.tooltipInfos=new i({shortHelp:`${o.label_minValue}`}),T.addEventListener("change",(function(e){let t=e.dsModel.value,a=r.getAttributeValue("lowerTarget");c.publishPerfCharUpdateEvent(n,t,a,"lowerTarget")})),c.addCopyPasteEventHandler(T),UWA.createElement("span",{class:"readonly-container",html:v?"<=":"<",title:v?`${o.label_lessThanOrEqual}`:`${o.label_lessThan}`}).inject(y).addEventListener("click",c.inclusiveValueHandler.bind(c,"displayLowerTargetIncluded",n));var f=new t({placeholder:`${o.label_Target}`,value:r.getAttributeValue("displayTarget"),selectAllOnFocus:!0}).inject(y);f.getContent().addClassName("xsr-value-editor target-input"),f.tooltipInfos=new i({shortHelp:`${o.label_targetValue}`}),f.addEventListener("change",(function(e){let t=e.dsModel.value,a=r.getAttributeValue("displayTarget");c.publishPerfCharUpdateEvent(n,t,a,"displayTarget")})),c.addCopyPasteEventHandler(f),UWA.createElement("span",{class:"readonly-container",html:b?"<=":"<",title:b?`${o.label_lessThanOrEqual}`:`${o.label_lessThan}`}).inject(y).addEventListener("click",c.inclusiveValueHandler.bind(c,"displayUpperTargetIncluded",n));var C=new t({placeholder:`${o.label_max}`,value:n.nodeModel.getUpperTarget(),selectAllOnFocus:!0}).inject(y);C.getContent().addClassName("xsr-value-editor"),C.tooltipInfos=new i({shortHelp:`${o.label_maxValue}`}),C.addEventListener("change",(function(e){let t=e.dsModel.value,a=r.getAttributeValue("upperTarget");c.publishPerfCharUpdateEvent(n,t,a,"upperTarget")})),c.addCopyPasteEventHandler(C);let s=r.getDimensionId(),u=s===l.ARBITRARY_UNIT,p=(u||e.dimensionDisplayUnitMap[s])&&c.hasValidDimension(r);if(u&&!c.hasParamTemplateAssociated(r)||l.USER_DEFINED_UNIT===s||l.USER_DEFINED_UNIT===e.dimensionNameToIdMap[s])UWA.createElement("span",{html:N}).inject(y);else if(p){let t=[];void 0!==s&&0!==Object.keys(e.dimensionDisplayUnitMap).length&&(t=c.hasParameterTemplateUnits(r)?c.getTemplateUOMList(r):u?[r.getDisplayUnit()]:Object.keys(e.dimensionDisplayUnitMap[s]),t.sort((function(e,t){let a=e.toLowerCase(),i=t.toLowerCase();return a>i?1:a<i?-1:0})));let i=r.getDisplayUnitId();var A=new a({elementsList:t,enableSearchFlag:!1,displayStyle:"lite",mainElementVisibleFlag:!(!e.displayUnitIdToObjMap[i]&&r.getDimension()!==l.ARBITRARY_UNIT),value:N}).inject(y);A.getContent().addClassName("xsr-combo-box"),A.addEventListener("change",(function(){let t=A.currentLabel,a=N,i=r.getDimensionId(),s=i==l.ARBITRARY_UNIT?e.getArbitraryUnitURIByName(t):e.dimensionId_uomValue_To_uomId[i+":"+t];c.publishPerfCharUpdateEvent(n,t,a,"displayUnit",s),y.querySelector(".invalid-display-unit")&&y.querySelector(".invalid-display-unit").addClassName("hide-element")})),e.displayUnitIdToObjMap[i]||s===l.ARBITRARY_UNIT||UWA.createElement("span",{class:"invalid-display-unit",html:N}).inject(y)}else UWA.createElement("span",{html:N}).inject(y)}return n.cellID===c.currentEditableCellId&&(p.addClassName("xsr-hide-container"),y&&y.removeClassName("xsr-hide-container")),d}return r&&s.isDescriptiveCharacteristics(r.getTypeActualName())?r.getDisplayTarget():UWA.createElement("div")},d.getCellEditableState=function(e){var t=e.nodeModel;return!(!t||!s.isDescriptiveCharacteristics(t.getTypeActualName())||l.MATURITY_IN_WORK!==t.getParent().getMaturityActualName())},d.setCellValue=function(e,t){var a=e.nodeModel;if(s.isMeasurementCharacteristics(a.getTypeActualName())){let e=UWA.createElement("div",{class:"uom-container"});return console.log("%c inside set value","font-size:20px; color:blue"),e}a.setAttribute("displayTarget",t)},d.getCellValueForExport=function(t){let a=t.nodeModel,i="";if(a&&s.isMeasurementCharacteristics(a.getTypeActualName())){let t=a.getAttributeValue("lowerTarget"),l=a.getAttributeValue("displayLowerTargetIncluded"),n=a.getAttributeValue("displayUpperTargetIncluded"),r=a.getAttributeValue("displayTarget"),s=a.getAttributeValue("upperTarget"),d=a.getDisplayUnitId(),c=e.displayUnitIdToObjMap[d]?e.displayUnitIdToObjMap[d].displayName:a.getDisplayUnit(),u=l?`>= ${t}`:`> ${t}`,p=n?`<= ${s}`:`< ${s}`,m=""!==t&&""!==s?`${u} ${o.label_and} ${p}`:""!==t&&""===s?u:""===t&&""!==s?p:"";return""!==m&&(i+=`${m}`),""!==r&&(i+=` ${o.label_Target} = ${r}`),""!==i&&(i+=` ${c}`),i}if(a&&s.isDescriptiveCharacteristics(a.getTypeActualName()))return i=a.getAttributeValue("displayTarget"),i},d.getCellTooltip=function(e){let t=e.nodeModel;if(t&&s.isDescriptiveCharacteristics(t.getTypeActualName())&&c.hasUnAuthorizedValues(t))return{shortHelp:o.tooltip_TargetMismatch};if(t&&s.isMeasurementCharacteristics(t.getTypeActualName())){return{shortHelp:c.isInvalidUoM(t)?o.tooltip_UnitMismatch:"",updateModel:!1}}return t?void 0:{shortHelp:e.cellModel}}),"newRoutineLimits"==d.dataIndex&&(d.getCellValue=function(a){var n=a.nodeModel;if(!s.isMeasurementCharacteristics(n.getTypeActualName()))return UWA.createElement("div");{var r=UWA.createElement("div",{class:"xsr-custom-container  align-center"}),d=l.MATURITY_IN_WORK===n.getParent().getMaturityActualName();d||(c.currentEditableCellId=""),r.addEventListener("click",(e=>{d&&(c.currentEditableCellId=a.cellID,e.target.hasClassName("read-only")&&(c.disableEditableContainers(),u.addClassName("xsr-hide-container"),m.removeClassName("xsr-hide-container")))}));var u=UWA.createElement("div",{class:"routine-limits-container-read-only read-only"}).inject(r);n.appCore&&n.appCore.wrap_enabled&&u.addClassName("wrap-text");let s=n.getAttributeValue("lowerRoutineReleaseLimit"),y=n.getAttributeValue("upperRoutineReleaseLimit"),T=n.getAttributeValue("displayLowerRoutineIncluded"),f=n.getAttributeValue("displayUpperRoutineIncluded"),C=n.getDisplayUnitId(),A=e.displayUnitIdToObjMap[C]?e.displayUnitIdToObjMap[C].displayName:n.getDisplayUnit();if(""==s&&""==y);else{var p=UWA.createElement("div",{class:"routine-value-container read-only"}).inject(u);let e=T?`>= ${s}`:`> ${s}`,t=f?`<= ${y}`:`< ${y}`,a=""!==s&&""!==y?` ${e} ${o.label_and} ${t}`:""!==s&&""===y?` ${e}`:""===s&&""!==y?` ${t}`:"-";p.innerText=`${a}   ${A}`,p.tooltipInfos=new i({shortHelp:`${a}   ${A}`})}if(d){var m=UWA.createElement("div",{class:"routine-edit-container xsr-hide-container"}).inject(r);UWA.createElement("span",{class:"readonly-container",html:T?">=":">",title:`${o.label_greaterThanOrEqual}`}).inject(m).addEventListener("click",c.inclusiveValueHandler.bind(c,"displayLowerRoutineIncluded",a));var g=new t({placeholder:`${o.label_LowerLimit}`,value:s,selectAllOnFocus:!0}).inject(m);g.getContent().addClassName("xsr-limits-value-editor"),g.tooltipInfos=new i({shortHelp:`${o.label_lowerRoutineLimit}`}),g.addEventListener("change",(function(e){let t=e.dsModel.value,i=n.getAttributeValue("lowerRoutineReleaseLimit");c.publishPerfCharUpdateEvent(a,t,i,"lowerRoutineReleaseLimit")})),c.addCopyPasteEventHandler(g);UWA.createElement("span",{class:"readonly-container",html:`${o.label_and}`}).inject(m);UWA.createElement("span",{class:"readonly-container margin-left",html:f?"<=":"<",title:`${o.label_lessThanOrEqual}`}).inject(m).addEventListener("click",c.inclusiveValueHandler.bind(c,"displayUpperRoutineIncluded",a));var h=new t({placeholder:`${o.label_UpperLimit}`,value:y,selectAllOnFocus:!0}).inject(m);h.getContent().addClassName("xsr-limits-value-editor"),h.tooltipInfos=new i({shortHelp:`${o.label_upperRoutineLimit}`}),h.addEventListener("change",(function(e){let t=e.dsModel.value,i=n.getAttributeValue("upperRoutineReleaseLimit");c.publishPerfCharUpdateEvent(a,t,i,"upperRoutineReleaseLimit")})),c.addCopyPasteEventHandler(h)}a.cellID===c.currentEditableCellId&&(u.addClassName("xsr-hide-container"),m&&m.removeClassName("xsr-hide-container"))}return r},d.getCellEditableState=function(){return!1},d.setCellValue=function(e){var t=e.nodeModel;if(s.isPerformanceCharacteristics(t.getTypeActualName())){let e=UWA.createElement("div",{class:"uom-container"});return console.log("%c inside set value","font-size:20px; color:blue"),e}},d.getCellValueForExport=function(t){var a=t.nodeModel;if(a&&s.isMeasurementCharacteristics(a.getTypeActualName())){let t=a.getAttributeValue("lowerRoutineReleaseLimit"),i=a.getAttributeValue("upperRoutineReleaseLimit"),l=a.getAttributeValue("displayLowerRoutineIncluded"),n=a.getAttributeValue("displayUpperRoutineIncluded"),r=a.getDisplayUnitId(),s=e.displayUnitIdToObjMap[r]?e.displayUnitIdToObjMap[r].displayName:a.getDisplayUnit(),d=l?`>= ${t}`:`> ${t}`,c=n?`<= ${i}`:`< ${i}`,u=""!==t&&""!==i?` ${d} ${o.label_and} ${c}`:""!==t&&""===i?` ${d}`:""===t&&""!==i?` ${c}`:"",p="";return""!==u&&(p+=`${u}`),""!==p&&(p+=` ${s}`),p}},d.getCellTooltip=function(e){let t=e.nodeModel;return t&&s.isMeasurementCharacteristics(t.getTypeActualName())?{shortHelp:"",updateModel:!1}:t?void 0:{shortHelp:e.cellModel}}),"newSpecificationLimits"==d.dataIndex&&(d.getCellValue=function(a){var n=a.nodeModel;if(!s.isMeasurementCharacteristics(n.getTypeActualName()))return UWA.createElement("div");{var r=UWA.createElement("div",{class:"xsr-custom-container  align-center"}),d=l.MATURITY_IN_WORK===n.getParent().getMaturityActualName();d||(c.currentEditableCellId=""),r.addEventListener("click",(e=>{d&&(c.currentEditableCellId=a.cellID,e.target.hasClassName("read-only")&&(c.disableEditableContainers(),u.addClassName("xsr-hide-container"),m.removeClassName("xsr-hide-container")))}));var u=UWA.createElement("div",{class:"specification-limits-container-read-only read-only"}).inject(r);n.appCore&&n.appCore.wrap_enabled&&u.addClassName("wrap-text");let s=n.getAttributeValue("lowerSpecificationLimit"),y=n.getAttributeValue("upperSpecificationLimit"),T=n.getAttributeValue("displayLowerSpecificationIncluded"),f=n.getAttributeValue("displayUpperSpecificationIncluded"),C=n.getDisplayUnitId(),A=e.displayUnitIdToObjMap[C]?e.displayUnitIdToObjMap[C].displayName:n.getDisplayUnit();if(""==s&&""==y);else{var p=UWA.createElement("div",{class:"specification-value-container read-only"}).inject(u);let e=T?`>= ${s}`:`> ${s}`,t=f?`<= ${y}`:`< ${y}`,a=""!==s&&""!==y?` ${e} ${o.label_and}  ${t}`:""!==s&&""===y?` ${e}`:""===s&&""!==y?`  ${t}`:"-";p.innerText=`${a}   ${A}`,p.tooltipInfos=new i({shortHelp:`${a}   ${A}`})}if(d){var m=UWA.createElement("div",{class:"specification-edit-container xsr-hide-container"}).inject(r);UWA.createElement("span",{class:"readonly-container",html:T?">=":">",title:`${o.label_greaterThanOrEqual}`}).inject(m).addEventListener("click",c.inclusiveValueHandler.bind(c,"displayLowerSpecificationIncluded",a));var g=new t({placeholder:`${o.label_LowerLimit}`,value:s,selectAllOnFocus:!0}).inject(m);g.getContent().addClassName("xsr-limits-value-editor"),g.tooltipInfos=new i({shortHelp:`${o.label_lowerSpecificationLimit}`}),g.addEventListener("change",(function(e){let t=e.dsModel.value,i=n.getAttributeValue("lowerSpecificationLimit");c.publishPerfCharUpdateEvent(a,t,i,"lowerSpecificationLimit")})),c.addCopyPasteEventHandler(g);UWA.createElement("span",{class:"readonly-container",html:`${o.label_and}`}).inject(m);UWA.createElement("span",{class:"readonly-container margin-left",html:f?"<=":"<",title:`${o.label_lessThanOrEqual}`}).inject(m).addEventListener("click",c.inclusiveValueHandler.bind(c,"displayUpperSpecificationIncluded",a));var h=new t({placeholder:`${o.label_UpperLimit}`,value:y,selectAllOnFocus:!0}).inject(m);h.getContent().addClassName("xsr-limits-value-editor"),h.tooltipInfos=new i({shortHelp:`${o.label_upperSpecificationLimit}`}),h.addEventListener("change",(function(e){let t=e.dsModel.value,i=n.getAttributeValue("upperSpecificationLimit");c.publishPerfCharUpdateEvent(a,t,i,"upperSpecificationLimit")})),c.addCopyPasteEventHandler(h)}a.cellID===c.currentEditableCellId&&(u.addClassName("xsr-hide-container"),m&&m.removeClassName("xsr-hide-container"))}return r},d.getCellEditableState=function(){return!1},d.setCellValue=function(e){var t=e.nodeModel;if(s.isPerformanceCharacteristics(t.getTypeActualName())){let e=UWA.createElement("div",{class:"uom-container"});return console.log("%c inside set value","font-size:20px; color:blue"),e}},d.getCellValueForExport=function(t){var a=t.nodeModel;if(a&&s.isMeasurementCharacteristics(a.getTypeActualName())){let t=a.getAttributeValue("lowerSpecificationLimit"),i=a.getAttributeValue("upperSpecificationLimit"),l=a.getAttributeValue("displayLowerSpecificationIncluded"),n=a.getAttributeValue("displayUpperSpecificationIncluded"),r=a.getDisplayUnitId(),s=e.displayUnitIdToObjMap[r]?e.displayUnitIdToObjMap[r].displayName:a.getDisplayUnit(),d=l?`>= ${t}`:`> ${t}`,c=n?`<= ${i}`:`< ${i}`,u=""!==t&&""!==i?` ${d} ${o.label_and}  ${c}`:""!==t&&""===i?` ${d}`:""===t&&""!==i?`  ${c}`:"",p="";return""!==u&&(p+=`${u}`),""!==p&&(p+=` ${s}`),p}},d.getCellTooltip=function(e){let t=e.nodeModel;return t&&s.isMeasurementCharacteristics(t.getTypeActualName())?{shortHelp:"",updateModel:!1}:t?void 0:{shortHelp:e.cellModel}})})),document.querySelector("#chargrid")&&document.querySelector("#chargrid").addEventListener("click",(function(e){(e.target.hasClassName("wux-layouts-datagridview-cell")||e.target.parentElement.hasClassName("wux-layouts-datagridview-cell")||e.target.hasClassName("uwa-container"))&&c.disableEditableContainers()})),c.inclusiveValueHandler=function(e,t,a){var i=this;"<"==a.target.innerText?(a.target.innerText="<=",a.target.title=`${o.label_lessThanOrEqual}`,i.publishPerfCharUpdateEvent(t,!0,!1,e)):"<="==a.target.innerText?(a.target.innerText="<",a.target.title=`${o.label_lessThan}`,i.publishPerfCharUpdateEvent(t,!1,!0,e)):">"==a.target.innerText?(a.target.innerText=">=",a.target.title=`${o.label_greaterThanOrEqual}`,i.publishPerfCharUpdateEvent(t,!0,!1,e)):">="==a.target.innerText&&(a.target.innerText=">",a.target.title=`${o.label_greaterThan}`,i.publishPerfCharUpdateEvent(t,!1,!0,e))},c.disableEditableContainers=function(){document.querySelectorAll(".uom-container-perf-spec").forEach((function(e){e.addClassName("xsr-hide-container")})),document.querySelectorAll(".uom-container-read-only").forEach((function(e){e.hasClassName("xsr-hide-container")&&e.removeClassName("xsr-hide-container")})),document.querySelectorAll(".routine-edit-container").forEach((function(e){e.addClassName("xsr-hide-container")})),document.querySelectorAll(".routine-limits-container-read-only").forEach((function(e){e.hasClassName("xsr-hide-container")&&e.removeClassName("xsr-hide-container")})),document.querySelectorAll(".specification-edit-container").forEach((function(e){e.addClassName("xsr-hide-container")})),document.querySelectorAll(".specification-limits-container-read-only").forEach((function(e){e.hasClassName("xsr-hide-container")&&e.removeClassName("xsr-hide-container")}))},c.publishPerfCharUpdateEvent=function(e,t,a,i,n){this.currentEditableCellId=e.cellID;let r=e.nodeModel;r.updateOptions({grid:{[i]:t}}),n&&r.updateOptions({grid:{displayUnitId:n}}),this.modelEvents.publish({event:l.EVENT_SAVE_CHAR,data:{newValue:t,oldValue:a,nodeModel:r,rowId:e.rowID,cellId:e.cellid,dataIndex:i}})},c.addCopyPasteEventHandler=function(e){e.getContent().getChildren()[0].onpaste=function(t){t.preventDefault();let a=(t.clipboardData||window.clipboardData).getData("text");e.value=a}},c.hasParamTemplateAssociated=function(e){return""!==e.getParameterTemplateURI()},c.isValidParamTemplateAssociated=function(e){let t=e.getParameterTemplateURI();return!(!c.hasParamTemplateAssociated(e)||!e.appCore.parameterTemplates[t])},c.hasParamTemplateTypeMismatch=function(e){if(c.isValidParamTemplateAssociated(e)){let t=e.getParameterTemplateURI(),a=e.getTypeActualName(),i=e.appCore.parameterTemplates[t].type;if(a===l.MEASUREMENT_CHAR&&i===l.PT_TYPE_STRING||a===l.DESCRIPTIVE_CHAR&&i===l.PT_TYPE_REAL)return!0}return!1},c.hasValidDimension=function(e){if(c.hasParamTemplateAssociated(e)){let t=e.getParameterTemplateURI(),a=e.appCore.parameterTemplates[t]?e.appCore.parameterTemplates[t].dimension:"";return""===a||e.getDimensionName().includes(a)}return!0},c.isInvalidUoM=function(e){if(c.isValidParamTemplateAssociated(e)&&c.hasValidDimension(e)){let t=c.getTemplateUOMList(e);return 0!==t.length&&!t.includes(e.getDisplayUnit())}return!1},c.getTemplateUOMList=t=>{let a=[],i=t.getDimensionId(),n=i===l.ARBITRARY_UNIT,r=c.getParameterTemplateUnits(t),s=n?e.arbitraryUnits:e.dimensionDisplayUnitMap[i];return Object.keys(s).forEach((e=>{n?r.includes(s[e].symbolNLS)&&a.push(s[e].symbolNLS):r.includes(s[e]["3DSpaceUnitName"])&&a.push(e)})),a},c.getArbitraryUnitURIByName=(t,a)=>{let i="";if(t.getDimensionId()==l.ARBITRARY_UNIT){let t=e.arbitraryUnits;Object.keys(t).forEach((e=>{let l=t[e];l&&l.symbolNLS===a&&(i=e)}))}return i},c.getAuthorizedValues=function(e){return c.isValidParamTemplateAssociated(e)&&e.appCore.parameterTemplates[e.getParameterTemplateURI()].possibleValues||[]},c.hasMutlipleAuthorizedValues=function(e){return c.getAuthorizedValues(e).length>0},c.hasUnAuthorizedValues=function(e){let t=e.getDisplayTarget(),a=c.getAuthorizedValues(e);return!(!a.length||a.includes(t))},c.getParameterTemplateUnits=function(t){let a=t.getDimensionId()===l.ARBITRARY_UNIT;if(c.isValidParamTemplateAssociated(t)){let i=t.appCore.parameterTemplates[t.getParameterTemplateURI()].unit||[];if(a){let t=[];return i.forEach((a=>{t.push(e.arbitraryUnits[a].symbolNLS)})),t}return i}return[]},c.hasParameterTemplateUnits=function(e){return c.getParameterTemplateUnits(e).length>0},c.isParamTemplateDeleted=function(e){return c.hasParamTemplateAssociated(e)&&!c.isValidParamTemplateAssociated(e)},c.displayWarningIcon=function(e){return c.hasParamTemplateAssociated(e)&&(c.isParamTemplateDeleted(e)||!c.isTitleSameAsParamTemplate(e)||c.hasParamTemplateTypeMismatch(e))||c.isArbitraryUnit(e)&&!c.hasParamTemplateAssociated(e)&&(c.isArbitraryUnitUpdated(e)||c.isArbitraryUnitDeleted(e))},c.isDimensionMatching=function(e){if(!c.isParamTemplateDeleted(e)){let t=e.getParameterTemplateURI(),a=c.hasParamTemplateAssociated(e)&&e.appCore.parameterTemplates[t].dimension;return!c.isParamTemplateDeleted(e)&&e.getDimensionName().includes(a)}return!0},c.isTitleSameAsParamTemplate=function(e){let t=e.getParameterTemplateURI();return c.hasParamTemplateAssociated(e)&&e.getTitle()===e.appCore.parameterTemplates[t].labelNLS},c.isArbitraryUnit=e=>e.getDimensionName()===l.ARBITRARY_UNIT,c.isArbitraryUnitUpdated=e=>{if(c.isArbitraryUnit(e)){let t=e.getDisplayUnitId();"object"==typeof t&&(t=t.id);let a=e.getDisplayUnit();return e.appCore.arbitraryUnits[t]&&e.appCore.arbitraryUnits[t].symbolNLS!==a}return!1},c.isArbitraryUnitDeleted=e=>{if(c.isArbitraryUnit(e)){let t="object"==typeof e.getDisplayUnitId()?e.getDisplayUnitId().id:e.getDisplayUnitId();return!Object.keys(e.appCore.arbitraryUnits).includes(t)}return!1}),d},d}));