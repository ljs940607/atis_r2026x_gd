define("DS/ENOCharacteristicsApp/model/CharacteristicsModel",["DS/ENOCharacteristicsApp/utils/Constants","DS/SpecGridView/model/GridItemModel","DS/WebappsUtils/WebappsUtils","DS/XSRCommonComponents/utils/Utils","i18n!DS/ENOCharacteristicsApp/assets/nls/ENOCharacteristicsApp"],(function(e,t,i,s,r){"use strict";return class extends t{constructor(e){super(e),this.appCore=e.appCore;let t=this.getProperties();Object.keys(t).forEach((e=>{Object.defineProperty(this.options.grid,e,{value:t[e],writable:!0,enumerable:!0,configurable:!0})}))}getProperties(){return{acceptanceLimits:"",aggregate:"",appliesTo:[],authorizedValues:[],charPrecision:"",description:"",dimension:"",dimensionId:"",dimensionName:"",displayAppliesToBulk:"",displayAppliesToFinalPackage:"",displayAppliesToInProcess:"",displayLowerTargetIncluded:"",displayTarget:"",displayUnit:"",displayUnitId:"",displayUnitName:"",displayUnitIsBaseUnit:"",displayUpperTargetIncluded:"",externalTestMethod:"",lowerRoutineReleaseLimit:"",lowerSpecificationLimit:"",lowerTarget:"",mandatory:!1,maturity:"",missedTargetAction:"",parameterTemplate:"",parameterTemplateName:"",parameterTemplateId:"",name:"",notes:"",overrideAllowedOnChild:"",priority:"",revision:"",routineReleaseLimits:"",sequence:"",specificationLimits:"",testMethods:"",testMethodsLabel:"",title:"",upperRoutineReleaseLimit:"",upperSpecificationLimit:"",upperTarget:"",displayLowerRoutineIncluded:"",displayUpperRoutineIncluded:"",displayLowerSpecificationIncluded:"",displayUpperSpecificationIncluded:""}}isAggregate(){return this.options.grid.aggregate}setAggregate(e){this.options.grid.aggregate=!!e}getAppliesTo(){return this.options.grid.appliesTo}setAppliesTo(e){this.options.grid.appliesTo=e}getAuthorizedValues(){return this.options.grid.authorizedValues}setAuthorizedValues(e){this.options.grid.authorizedValues=e}getCategory(){return this.options.grid.category}setCategory(e){this.options.grid.category=e}getCharPrecision(){return this.options.grid.charPrecision}setCharPrecision(e){this.options.grid.charPrecision=e}getCompareToStd(){return this.options.grid.compareToStd}getDescription(){return this.options.grid.description}setDescription(e){this.options.grid.description=e}getDimension(){return this.options.grid.dimension}setDimension(e){this.options.grid.dimension=e}getDimensionId(){return this.options.grid.dimensionId}setDimensionId(e){this.options.grid.dimensionId=e}getDimensionName(){return this.options.grid.dimensionName}setDimensionName(e){this.options.grid.dimensionName=e}getDisplayTarget(){return this.options.grid.displayTarget}setDisplayTarget(e){this.options.grid.displayTarget=e}getDisplayUnit(){return this.options.grid.displayUnit}setDisplayUnit(e){this.options.grid.displayUnit=e}getDisplayUnitId(){return this.options.grid.displayUnitId}setDisplayUnitId(e){this.options.grid.displayUnitId=e}getDisplayUnitName(){return this.options.grid.displayUnitName}setDisplayUnitName(e){this.options.grid.displayUnitName=e}isDisplayUnitIsBaseUnit(){return this.options.grid.displayUnitIsBaseUnit}setDisplayUnitIsBaseUnit(e){this.options.grid.displayUnitIsBaseUnit=!!e}getLowerRoutineReleaseLimit(){return this.options.grid.lowerRoutineReleaseLimit}setLowerRoutineReleaseLimit(e){this.options.grid.lowerRoutineReleaseLimit=e}getLowerSpecificationLimit(){return this.options.grid.lowerSpecificationLimit}setLowerSpecificationLimit(e){this.options.grid.lowerSpecificationLimit=e}getLowerTarget(){return this.options.grid.lowerTarget}setLowerTarget(e){this.options.grid.lowerTarget=e}isLowerTargetIncluded(){return this.options.grid.displayLowerTargetIncluded}setLowerTargetIncluded(e){this.options.grid.displayLowerTargetIncluded=e}isLowerRoutineIncluded(){return this.options.grid.displayLowerRoutineIncluded}setLowerRoutineIncluded(e){this.options.grid.displayLowerRoutineIncluded=e}isUpperRoutineIncluded(){return this.options.grid.displayUpperRoutineIncluded}setUpperRoutineIncluded(e){this.options.grid.displayUpperRoutineIncluded=e}isLowerSpecificationIncluded(){return this.options.grid.displayLowerSpecificationIncluded}setLowerSpecificationIncluded(e){this.options.grid.displayLowerSpecificationIncluded=e}isUpperSpecificationIncluded(){return this.options.grid.displayUpperSpecificationIncluded}setUpperSpecificationIncluded(e){this.options.grid.displayUpperSpecificationIncluded=e}setUpperTargetIncluded(e){this.options.grid.displayUpperTargetIncluded=e}isMandatory(){return this.options.grid.mandatory}setMandatory(e){this.options.grid.mandatory=!!e}getMaturity(){return this.options.grid.maturity}setMaturity(e){this.options.grid.maturity=e}getMissedTargetAction(){return this.options.grid.missedTargetAction}setMissedTargetAction(e){this.options.grid.missedTargetAction=e}getParameterTemplate(){return this.options.grid.parameterTemplate}setParameterTemplate(e){this.options.grid.parameterTemplate=e}getParameterTemplateName(){return this.options.parameterTemplateName}setParameterTemplateName(e){this.options.parameterTemplateName=e}getParameterTemplateURI(){return this.options.grid.parameterTemplateId}setParameterTemplateURI(e){this.options.grid.parameterTemplateId=e}getName(){return this.options.grid.name}setName(e){this.options.grid.name=e}getNotes(){return this.options.grid.notes}setNotes(e){this.options.grid.notes=e}getPriority(){return this.options.grid.priority}setPriority(e){this.options.grid.priority=e}getRevision(){return this.options.grid.revision}setRevision(e){this.options.grid.revision=e}getSequence(){return this.options.grid.sequenceOrder}setSequence(e){this.options.grid.sequence=e}getTestMethod(){return this.options.grid.testMethod}setTestMethod(e){this.options.grid.testMethod=e}getTestMethodsLabel(){return this.options.grid.testMethodsLabel}setTestMethodsLabel(e){this.options.grid.testMethodsLabel=e}getTestMethods(){return this.options.grid.testMethods}setTestMethods(e){this.options.grid.testMethods=e}getRequirements(){return this.options.grid.requirements||""}setRequirements(e){this.options.grid.requirements=e}getRequirementsList(){return this.options.grid.requirementsList||""}setRequirementsList(e){this.options.grid.requirementsList=e}getTestMethodsList(){return this.options.grid.testMethodsList}setTestMethodsList(e){this.options.grid.testMethodsList=e}getTitle(){return this.options.grid.title}setTitle(e){this.options.grid.title=e}getUpperRoutineReleaseLimit(){return this.options.grid.upperRoutineReleaseLimit}setUpperRoutineReleaseLimit(e){this.options.grid.upperRoutineReleaseLimit=e}getUpperSpecificationLimit(){return this.options.grid.upperSpecificationLimit}setUpperSpecificationLimit(e){this.options.grid.upperSpecificationLimit=e}getUpperTarget(){return this.options.grid.upperTarget}setUpperTarget(e){this.options.grid.upperTarget=e}isUpperTargetIncluded(){return this.options.grid.displayUpperTargetIncluded}setSearchFilterState(e){this.options.filteringContext=e}setTypeIcon(){if("DescriptiveCharacteristic"===this.options.grid["ds6w:type_value"])var e=i.getWebappsAssetUrl("ENOCharacteristicsApp","icons/32/DescriptiveCharacteristic01.png");else e=i.getWebappsAssetUrl("ENOCharacteristicsApp","icons/32/I_MeasurementCharacteristicsGrid.png");this.options.grid.typeIcon.push(e),this.options.icons.push(e)}getCurrentAccess(){return this.options.grid.charAccess}isLastRevision(){return!0}canBeRevised(){return!1}setAdditionalAttributes(e){this.options.grid.additionalAttributes=e}getAdditionalAttributes(){this.options.grid.additionalAttributes}setExtensions(e){this.options.grid.extensions=e}getExtensions(){this.options.grid.extensions}set(t){let i=t.physicalId||t.physicalid||void 0,s=t.type||e.TYPE_PERFORMANCE_CHAR,r=t.name||void 0,n=t.policy||e.POLICY_PERFORMANCE_CHAR,o=t.typeDisplayName||s,a=t.policyDisplayName||n,p=t.additionalAttributes||"",d=t.extensions||"";if(!(i&&s&&n))throw"Required data is missing";return this.setPhysicalId(i),this.setTypeActualName(s),this.setPolicyActualName(n),this.setName(r),this.setPolicy(a),this.setType(o),this.setTypeIcon(),this.setAdditionalAttributes(p),this.setExtensions(d),this.syncModel(t),this.updateOptions(this.options),this}syncModel(t){let i=this,n=t.title||this.getTitle()||"";this.setTitle(n);let o=t.description||this.getDescription()||"";if(this.setDescription(o),t.dimension)if("string"==typeof t.dimension)"USER_DEFINED_UNIT"===t.dimension?(this.setDimension(r.label_OtherDimension),this.setDimensionId(t.dimension)):t.dimension===e.ARBITRARY_UNIT?(this.setDimension(r.label_ArbitraryUnit),this.setDimensionId(t.dimension),this.setDimensionName(t.dimension)):(this.setDimension(t.displayDimension),this.setDimensionId(t.dimension));else{let e=t.dimension.displayName||this.getDimension()||"",i=t.dimension.id||this.getDimensionId()||"",s=t.dimension.name||this.getDimensionName()||"";this.setDimension(e),this.setDimensionId(i),this.setDimensionName(s)}if(t.storageUnit){let i="string"==typeof t.storageUnit?t.displayUnit||this.getDisplayUnit():t.storageUnit.displayName||this.getDisplayUnit()||"",s=t.dimension!==e.ARBITRARY_UNIT?t.storageUnit.id||this.getDisplayUnitId()||"":t.storageUnit,r=t.storageUnit.name||this.getDisplayUnitName()||"",n=t.storageUnit.isBaseUnit||this.isDisplayUnitIsBaseUnit()||"";this.setDisplayUnit(i),this.setDisplayUnitId(s),this.setDisplayUnitName(r),this.setDisplayUnitIsBaseUnit(n)}if(e.USER_DEFINED_UNIT===t.dimension||r.label_OtherDimension===t.dimension){let e=t.storageUnit&&t.storageUnit.length>0?t.storageUnit:t.displayUnit?t.displayUnit:"";this.setDisplayUnit(e)}if(t.parameterTemplate){let e=t.parameterTemplate.uri||t.parameterTemplate;if(this.setParameterTemplateURI(e),i.appCore.parameterTemplates){let t=i.appCore.parameterTemplates[e]?i.appCore.parameterTemplates[e].labelNLS:"";this.setParameterTemplate(t)}}let a="number"==typeof t.priority?t.priority.toString():"string"==typeof t.priority?t.priority:this.getPriority();this.setPriority(a);let p=t.mandatory||this.isMandatory()||this.getProperties().mandatory;this.setMandatory(p);t.current||this.getMaturity()||this.getProperties().maturity;this.setMaturity("");let d="",l=[],h="";t.testMethods&&t.testMethods.length>0?(l=t.testMethods,d=t.testMethods.length>1?`${t.testMethods[0].name} + ${t.testMethods.length-1}`:t.testMethods[0].name,h=t.testMethods.length>1?`${t.testMethods[0].title} + ${t.testMethods.length-1}`:t.testMethods[0].title):(d=this.getTestMethods(),l=this.getTestMethodsList(),h=this.getTestMethodsLabel()),this.setTestMethods(d),this.setTestMethodsList(l),this.setTestMethodsLabel(h);let g="",u=[];t.requirements&&t.requirements.length>0?(u=t.requirements,g=t.requirements.length>1?`${t.requirements[0].title} + ${t.requirements.length-1}`:t.requirements[0].title):(g=this.getRequirements(),u=this.getRequirementsList()),this.setRequirements(g),this.setRequirementsList(u);let m=t.min||this.getLowerTarget()||"";this.setLowerTarget(m);let c=t.hasOwnProperty("isMinIncluded")?t.isMinIncluded:this.isLowerTargetIncluded();this.setLowerTargetIncluded(c);let y=t.max||this.getUpperTarget()||"";this.setUpperTarget(y);let T=t.hasOwnProperty("isMaxIncluded")?t.isMaxIncluded:this.isUpperTargetIncluded();this.setUpperTargetIncluded(T);let U=t.target||this.getDisplayTarget()||"";this.setDisplayTarget(U);let I=t.precision||t.charPrecision||this.getCharPrecision()||"";this.setCharPrecision(I);let L=t.lowerRoutineReleaseLimit||this.getLowerRoutineReleaseLimit()||"";this.setLowerRoutineReleaseLimit(L);let R=t.hasOwnProperty("isLowerRoutineReleaseLimitIncluded")?t.isLowerRoutineReleaseLimitIncluded:this.isLowerRoutineIncluded();this.setLowerRoutineIncluded(R);let A=t.hasOwnProperty("isLowerSpecificationLimitIncluded")?t.isLowerSpecificationLimitIncluded:this.isLowerSpecificationIncluded();this.setLowerSpecificationIncluded(A);let D=t.hasOwnProperty("isUpperRoutineReleaseLimitIncluded")?t.isUpperRoutineReleaseLimitIncluded:this.isUpperRoutineIncluded();this.setUpperRoutineIncluded(D);let f=t.hasOwnProperty("isUpperSpecificationLimitIncluded")?t.isUpperSpecificationLimitIncluded:this.isUpperSpecificationIncluded();this.setUpperSpecificationIncluded(f);let M=t.upperRoutineReleaseLimit||t.upperRoutineReleaselimit||this.getUpperRoutineReleaseLimit()||"";this.setUpperRoutineReleaseLimit(M);let w=t.lowerSpecificationLimit||this.getLowerSpecificationLimit()||"";this.setLowerSpecificationLimit(w);let S=t.upperSpecificationLimit||this.getUpperSpecificationLimit()||"";this.setUpperSpecificationLimit(S);let N=t.notes||this.getNotes()||"";this.setNotes(N);let P=t.missedTargetAction||this.getMissedTargetAction()||"",b={};b["No Action Required"]=r.label_NoActionRequired,b["Hold and Retest"]=r.label_HoldandRetest,b["Ship and Monitor"]=r.label_ShipandMonitor,this.setMissedTargetAction(b[P]);let C=t.appliesTo||this.getAppliesTo()||this.getProperties().appliesTo;this.setAppliesTo(C);let q=t.authorizedValues||this.getAuthorizedValues()||this.getProperties().authorizedValues;this.setAuthorizedValues(q);let E=t.sequence||this.getSequence()||"";this.setSequence(E);let O=t["attribute[PerformanceChar.IsAggregate].value"]||this.isAggregate()||"";return this.setAggregate(O),t.additionalAttributes&&i.appCore.defaultExtensionAttributes&&i.appCore.defaultExtensionAttributes.forEach((function(e){if(t.additionalAttributes.hasOwnProperty(e.name)){let r=e.extension+"||"+e.name,n=r+"_type",o=t.additionalAttributes[e.name],a=e.mandatory;e.rangevalue&&"timestamp"!==e.type?o=Array.isArray(o)?o.map((t=>e.rangevalue[t])):e.rangevalue[o]:e.rangevalue&&"timestamp"===e.type&&(o=Array.isArray(o)?o.map((e=>s.formatDate(e))):s.formatDate(o)),i.options.grid[r]=o,i.options.grid[n]=e.type,i.options.grid.mandatory=a}else if(t.extensions&&t.extensions.includes(e.extension)&&e.multiValue){let t=e.extension+"||"+e.name,s=t+"_type",r=[],n=e.mandatory;i.options.grid[t]=r,i.options.grid[s]=e.type,i.options.grid.mandatory=n}})),this}}}));