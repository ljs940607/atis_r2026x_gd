define("DS/ENOCharacteristicsApp/view/NewDialog",["UWA/Core","UWA/Class/View","DS/Controls/Button","DS/Windows/Dialog","DS/Windows/ImmersiveFrame","DS/ENOCharacteristicsApp/utils/CharacteristicsMask","i18n!DS/ENOCharacteristicsApp/assets/nls/ENOCharacteristicsApp"],(function(e,t,i,a,n,o,l){"use strict";return t.extend({setup:function(e){this._parentView=e,this.options=e},render:function(){return this.elements.mContainer=new e.Element("div",{class:"char-dialog-container"}),this._dialog=null,this.container=this.elements.mContainer,this.container.inject(this.options.renderTo),this._showDialog(this.options),this},closeDialog:function(){this.destroy(),widget.data.isPerfSpecDeployedAsFacet&&this._dialog&&this._dialog.close()},destroyPrevDialog:function(){var e=document.getElementsByClassName("char-dialog-container");e.length>0&&e[0].destroy()},_showDialog:function(t){var o=new e.Element("div",{class:"char-dialog-immersiveframe"}).inject(this.container),s=new n;s.inject(o);var d=this,r=t.position||{at:"center",my:"center"},c=t.width?t.width:"",h=t.minWidth?t.minWidth:c,g=t.height?t.height:-1,u=(t.minHeight&&t.minHeight,!t.largeButtons||t.largeButtons);this._dialog=new a({title:t.Title?t.Title:"",immersiveFrame:widget.data.isPerfSpecDeployedAsFacet?void 0:s,position:r,resizableFlag:!0,domId:"char-new-dialog",modalFlag:!0,titleBarVisibleFlag:void 0===t.titleBarVisibleFlag||t.titleBarVisibleFlag,closeButtonFlag:void 0===t.closeButtonFlag||t.closeButtonFlag,width:c,minWidth:h,height:g,content:t.Content?t.Content:""});var C=new i({allowUnsafeHTMLLabel:!1,touchMode:u,label:t.CancelLabel?t.CancleLabel:l.label_Button_Cancel,onClick:function(e){d.dispatchEvent("EVENT_CLICK_CHAR_CANCEL"),d.closeDialog()}}),m=new i({label:t.OKLabel?t.OKLabel:l.CreateandClose,disabled:!0,allowUnsafeHTMLLabel:!1,touchMode:u,onClick:function(e){var t=e.dsModel;t.dialog,d.dispatchEvent("EVENT_CLICK_CHAR_OK")}}),p=new i({allowUnsafeHTMLLabel:!1,label:t.ApplyLabel?t.ApplyLabel:l.Create,disabled:!0,touchMode:u,onClick:function(e){d.dispatchEvent("EVENT_CLICK_CHAR_APPLY")}});return t.NoButtons?d.listenTo(d,"CHAR_SHOW_DIALOG_CLOSE_BUTTON",(function(e){e&&e.Close&&(C.label=l.label_Button_Close,this._dialog.buttons={Ok:C},this._dialog.closeButtonFlag=!0)})):this._dialog.buttons={Cancel:C,Ok:m,Apply:p},t.RemoveApplyButton&&this._dialog.buttons.Apply.remove(),d.listenTo(d,"CONTAINS_DIRTY_FIELD",(function(e){e?(this._dialog.buttons.Ok.disabled=!1,this._dialog.buttons.Apply.disabled=!1):(this._dialog.buttons.Ok.disabled=!0,this._dialog.buttons.Apply.disabled=!0)})),this._dialog.addEventListener("close",(function(e){d.destroy()})),this._dialog},maskOrUnMaskDialog:function(e){var t=document.getElementsByClassName("char-dialog-container");if(t&&t.length>0){var i=t[0].getElementsByClassName("wux-windows-window-maincontent")[0];i&&o.isMasked(i)?o.unmaskLoader(i):i&&o.maskLoader(i,e)}}})}));