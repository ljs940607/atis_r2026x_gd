define("DS/ENOCharacteristicsApp/controls/CharTestMethodControl",["UWA/Class","DS/XSRCommonComponents/utils/XSRSearch"],(function(e,t){"use strict";return e.extend({init:function(e){this.currentModel=e.currentModel,this.testMethodSearch(e)},testMethodSearch:function(e){var i,n=this,o=[];if((i=e.testMethodField.inputfield.value?e.testMethodField.inputfield.value.filter((e=>""!=e||""!=e)):[])&&i.length>0)for(var s=0;s<i.length;s++)i[s]._options?o.push(i[s]._options.grid.id):o.push(i[s]);var r={allowedTypes:["Test Method Specification"],role:"",criteria:"Test Method Specification",precondition:"(current==Release OR current==RELEASED) AND latestrevision==TRUE",in_apps_callback:function(t){console.log(t),t&&t.length>0&&n.addTMtoCharacteristics(e,t,!0)},excludeList:o};new t(r).launchSearch(r)},addTMtoCharacteristics:function(e,t,i){e.cellInfos;var n=e.testMethodField.inputfield.value,o=(e.testMethodsIds,[]);if(n&&n.length>0)for(var s=0;s<n.length;s++)o.push(n[s]);if(t)for(s=0;s<t.length;s++)o.push(t[s].id);e.testMethodField.inputfield.value=o}})}));