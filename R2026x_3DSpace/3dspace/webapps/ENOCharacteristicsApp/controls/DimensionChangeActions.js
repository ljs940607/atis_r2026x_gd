define("DS/ENOCharacteristicsApp/controls/DimensionChangeActions",["UWA/Core","UWA/Controls/Abstract","DS/ENOCharacteristicsApp/utils/Notification","DS/ENOCharacteristicsApp/utils/Constants","DS/Controls/TooltipModel","DS/TreeModel/TreeDocument","DS/TreeModel/TreeNodeModel","text!DS/ENOCharacteristicsApp/assets/config/CreateCharacteristicsFields.json","i18n!DS/ENOCharacteristicsApp/assets/nls/ENOCharacteristicsApp"],(function(e,i,t,s,r,n,o,l,a){"use strict";return i.extend({init:function(e){this.formFields=e.formFields,this.dimensionWithDisplayUnitList=e.allDimensionSet,this.dimensionList=e.dimensionList,this.dimensionChangeEvent()},dimensionChangeEvent:function(){var i=this.formFields.DimensionText.inputfield,t=["StringParameter","SubjectivityParameter","BooleanParameter"],n=[this.formFields.LowerTarget.inputfield,this.formFields.Target.inputfield,this.formFields.UpperTarget.inputfield];this.formFields.LowerSpecificationLimit&&n.push(this.formFields.LowerSpecificationLimit.inputfield),this.formFields.UpperSpecificationLimit&&n.push(this.formFields.UpperSpecificationLimit.inputfield),this.formFields.LowerRoutineReleaseLimit&&n.push(this.formFields.LowerRoutineReleaseLimit.inputfield),this.formFields.UpperRoutineReleaseLimit&&n.push(this.formFields.UpperRoutineReleaseLimit.inputfield);var o=this.formFields.DisplayUnit.inputfield.elements.container,l=this.formFields.Target.inputfield.elements.container,d=this.formFields.Precision.inputfield.elements.container,m=(this.formFields.Target.inlineContainer,l.getParent().getChildren()[0].getChildren()[0]);if(null!=i){var h=i.value,f=this.dimensionList.get(i.value);if(l.show(),d.show(),void 0===h||""===h){for(var p=0;p<n.length;p++)n[p].disabled=!0;this.formFields.Precision.inputfield.disabled=!0,this.formFields.DisplayUnit.inputfield.elementsTree.removeRoots(),this.formFields.DisplayUnit.inputfield.selectedIndex=-1,this.formFields.LowerTarget.inlineContainer.show(),this.formFields.UpperTarget.inlineContainer.show(),this.formFields.LowerSpecificationLimit.expander.show(),this.formFields.LowerRoutineReleaseLimit.expander.show()}else{for(p=0;p<n.length;p++)n[p].disabled=!1,n[p].value="";if(this.formFields.Precision.inputfield.disabled=!1,["BooleanParameter","StringParameter","CMYKFormattedStringParameter","HEXFormattedStringParameter","RGBFormattedStringParameter","SubjectivityParameter"].includes(f)||["IntegerParameter","RealParameter","USER_DEFINED_UNIT"].includes(f)?o.hide():o.show(),f===s.DIMENSION_SUBJECTIVITY){l.show(),new e.Element("span",{class:"char-mandatory-flag",text:"* "}).inject(m)}else{var c=m.getChildren()[0];m.getChildren().length>=1&&m.removeChild(c)}if(!t.includes(f))for(p=0;p<n.length;p++)n[p].tooltipInfos=new r({shortHelp:""}),"IntegerParameter"===f?(n[p].pattern="^[-+]?[0-9]*$",n[p].placeholder=a.placeHolder_Integer):(n[p].pattern="^[-+]?[0-9]*[0-9,.]+$",n[p].placeholder=a.placeholder_Real_Numeric);t.includes(f)?(this.formFields.LowerTarget.inlineContainer.hide(),this.formFields.UpperTarget.inlineContainer.hide(),this.formFields.LowerSpecificationLimit&&this.formFields.LowerSpecificationLimit.expander.hide(),this.formFields.LowerRoutineReleaseLimit&&this.formFields.LowerRoutineReleaseLimit.expander.hide(),"BooleanParameter"===f?(this.formFields.AltTarget.inputfield.disabled=!1,l.hide()):(this.formFields.Target.inputfield.disabled=!1,l.show())):(this.formFields.LowerTarget.inlineContainer.show(),this.formFields.UpperTarget.inlineContainer.show(),this.formFields.LowerSpecificationLimit&&this.formFields.LowerSpecificationLimit.expander.show(),this.formFields.LowerRoutineReleaseLimit&&this.formFields.LowerRoutineReleaseLimit.expander.show());var u=this.formFields.Dimension.inputfield.label;this.formFields.Dimension.inputfield.tooltipInfos=new r({shortHelp:u})}}},initDisplayUnitsForDimensionList:function(e){this.dimensionPreferenceJson=[];var i=this.dimensionWithDisplayUnitList,t=(this.dimensionList,null),s=null;void 0===e&&(this.formFields.DisplayUnit.inputfield.disabled=!0,this.formFields.DisplayUnit.inputfield.placeholder=a.placeHolder_DisplayUnit);var r=i.filter((function(i){return i.id===e}));null!=r&&r.length>0&&(s=r[0].units);var n=[],o=[],l={};if(null!=s&&s.length>0)for(var d=0;d<s.length;d++){l={};t=s[d].id;var m=s[d].displayName;""!=m&&null!=m||(m=" "),l.valueItem=t,l.labelItem=m,n.push(m),o.push(l)}this.dbDisplayUnitList=o,o.sort((function(e,i){let t=e.labelItem.toLowerCase(),s=i.labelItem.toLowerCase();return t>s?1:t<s?-1:0}))}})}));