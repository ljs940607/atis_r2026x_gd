define("UWA/Storage/Adapter/IndexDb",["UWA/Core","UWA/Storage/Adapter/Abstract","UWA/Utils/Client"],(function(e,t,n){"use strict";var a=t.extend({type:"IndexDb",limit:204800,connect:function(e){var t,a=this;a.indexedDB=n.getVendorProperty(window,"indexedDB"),a.IDBTransaction=n.getVendorProperty(window,"IDBTransaction"),a.IDBKeyRange=n.getVendorProperty(window,"IDBKeyRange"),a.database=e,a.db=t=a.indexedDB.open("uwa-data-storage-"+a.database,1),t.onerror=function(){},t.onsuccess=function(){},this.updateCache()},updateCache:function(){this.storage.isReady=!0},isAvailable:function(){return window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.msIndexedDB},get:function(e){return this.interruptAccess(),this.data[e]||void 0},set:function(e,t){return this.data[e]=t,this.updateCache(),t},rem:function(e){this.interruptAccess();var t=this.get(e);return delete this.data[e],this.updateCache(),t}});return e.namespace("Storage/Adapter/IndexDb",a,e)}));