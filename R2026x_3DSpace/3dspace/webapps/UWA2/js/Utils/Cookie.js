define("UWA/Utils/Cookie",["UWA/Core"],(function(e){"use strict";var t={},n=window.document,r="nv.",o=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),i=null,a=null;function c(e,t){if(t=t||new Date,"number"==typeof e?e=e===1/0?o:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&(n=e,"[object Date]"!==Object.prototype.toString.call(n)||isNaN(n.getTime())))throw new Error("`expires` parameter cannot be converted to a valid Date instance");var n;return e}function u(e){var t=e.indexOf("=");t=t<0?e.length:t;var n,r=e.substr(0,t);try{n=decodeURIComponent(r)}catch(e){throw new Error('Could not decode cookie with key "'+r+'" ['+e+"]")}return{key:n,value:e.substr(t+1)}}function s(){i=function(e){for(var t={},n=e?e.split("; "):[],o=0;o<n.length;o++){var i=u(n[o]);void 0===t[r+i.key]&&(t[r+i.key]=i.value)}return t}(n.cookie),a=n.cookie}return t.defaults={path:"/",secure:!1},t.get=function(e){a!==n.cookie&&s();var t=i[r+e];return void 0===t?void 0:decodeURIComponent(t)},t.getAll=function(){a!==n.cookie&&s();var e={};for(var t in i)e[t.slice(r.length)]=decodeURIComponent(i[t]);return e},t.set=function(e,r,o){return(o=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&void 0!==e.secure?e.secure:t.defaults.secure}}(o)).expires=c(void 0===r?-1:o.expires),n.cookie=function(e,t,n){var r=(e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"))+"="+(t=String(t).replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return r+=(n=n||{}).path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toUTCString():"",r+(n.secure?";secure":"")}(e,r,o),t},t.expire=function(e,n){return t.set(e,void 0,n)},t.enabled=function(){var e="cookie.js",n=!1;try{n="1"===t.set(e,1).get(e),t.expire(e)}catch(e){}return n}(),e.namespace("Utils/Cookie",t,e)}));