define("DS/DELPPWAuthorLinksModule/AuthorLinksUI",["UWA/Core"],(function(e){"use strict";return function(t,n,r){var i,a,s,o,c,l,u,I,f,h,g,p,P,d,D,L,m,k,A=r.getComponent("Button"),S=r.getComponent("TooltipModel"),y=r.getComponent("Accordeon"),R={dialogTitle:null,parentAccHeader:null,childAccHeader:null,modalFlag:null},b=null,v=null;return p=function(a){P(),e.is(r)?((i=r.create("Dialog",{title:R.dialogTitle,domId:"AuthorLinks-UI",content:f,modalFlag:R.modalFlag,resizableFlag:!0,buttons:{Cancel:new A({onClick:function(){i.close()}}),Apply:new A({label:n.getNLSValue("AuthorLinks.Switch"),icon:n.getIconURLFromKey("SwitchFromTo"),class:"AuthorLinksUI-SwitchBtn",tooltipInfos:new S({shortHelp:n.getNLSValue("AuthorLinks.tooltipSwitchFromTo")}),onClick:function(){a()}})}})).close=function(){e.is(f)&&f.destroy(),this.destroy(),i=null},i.buttons.Apply.hide()):t.debug("uxFactoryBehavior is not available.")},P=function(){f=r.createElement("div",{class:"AuthorLinksUI-Dialog"}),a=r.createElement("div",{class:"fromToDiv-section"}).inject(f),s=r.createElement("div",{class:"instanceOrMoveSection-container"}).inject(f),o=r.createElement("div",{class:"instance-withAccordeon-section"}).inject(s),c=r.createElement("div",{class:"instance-section"}).inject(o),l=r.createElement("div",{class:"linkSection-container"}).inject(f),u=r.createElement("div",{class:"link-withAccordeon-section"}).inject(l),I=r.createElement("div",{class:"link-section"}).inject(u),h=r.create("SelectionControl",{title:R.parentAccHeader,message:n.getNLSValue("AuthorLinks.SelectAnObject"),renderTo:a,multiSelection:!0}),g=r.create("SelectionControl",{title:R.childAccHeader,message:n.getNLSValue("AuthorLinks.SelectAnObject"),renderTo:a,multiSelection:!0})},d=function(e,t,n){return new y({items:[{header:e,content:t,expandedFlag:!0}],style:"filled-separate"}).inject(n)},D=function(t,n){e.is(t)&&h.updateLabel(t),e.is(n)&&g.updateLabel(n)},L=function(e,t,n){"parentSection"===e&&h.updateAccordeon(t,n),"childSection"===e&&g.updateAccordeon(t,n),"instanceSection"===e&&v.updateItem(t,n)},function(){m(),k(),i.buttons.Apply.disabled=!1},m=function(){u&&(u.empty(),I.empty(),b=null)},k=function(){e.is(o)&&(o.empty(),c.empty(),v=null)},{buildSkeleton:function(t,n){e.is(t)&&e.extend(R,t),e.is(i)||p(n)},createInstanceOrMoveButton:function(t){var r,a;for(a in e.is(v)||(v=d(n.getNLSValue("AuthorLinks.MoveOrCreateInstanceTitle"),c,o)),r=function(e){new A({label:e.label,icon:e.icon,tooltipInfos:new S({shortHelp:e.tooltipInfos}),onClick:function(){e.callback(),i.close()}}).inject(c)},t)e.is(t[a])&&r(t[a])},createLinkButtons:function(t,a){var s,o,c;for(o in e.is(b)||(b=d(n.getNLSValue("AuthorLinks.LinksUITitle"),I,u)),t)if(t.hasOwnProperty(o)){if(1===(c=Object.keys(t[o])).length){let e={linkType:o,linksData:t[o][c[0]]};s=e.linksData[0].displayText;let r=n.getIconURLFromKey(o);"ProductImplementLinkOcc"===o&&e.linksData[0].isItemInCILMode&&(r=n.getIconURLFromKey("DELMBOMContextualImplementCnx")),new A({icon:r,label:s,value:s,tooltipInfos:new S({shortHelp:n.getNLSValue(o,null,"CreateLink")}),onClick:function(){a(e),i.close()}}).inject(I)}else{let e=r.getComponent("ComboBox"),s=[];c.forEach((function(e){let r={linkType:o,linksData:t[o][e]};s.push({icon:n.getIconURLFromKey(o),label:t[o][e][0].displayText,value:r})}));let l=new e({elementsList:s,enableSearchFlag:!1,actionOnClickFlag:!0,tooltipInfos:new S({shortHelp:n.getNLSValue(o,null,"CreateLink")})});l.addEventListener("click",(function(e){a(l.value),i.close()})),l.inject(I)}c.forEach((function(e){t[o][e].forEach((function(e){delete e.displayText,delete e.buttonIdentifier}))}))}},switchLabels:function(e,t){h.updateLabel(e),g.updateLabel(t)},updateLabels:function(e,t){D(e,t)},isVisible:function(){return!!e.is(i)&&i.visibleFlag},updateDialogTitle:function(e){i.title=e},updateAccordeonHeader:function(e,t,n){L(e,t,n)},showSwitchButton:function(){null!==i&&i.buttons.Apply.show()},hideSwitchButton:function(){i.buttons.Apply.hide()},showMessages:function(e,n){"info"===n?i.info(e):"warning"===n?i.warning(e):"error"===n?i.error(e):t.debug("type of message is invalid")},clearMessages:function(){i.clearMessages()},destroyDialog:function(){e.is(i)&&(i.destroy(),i=null)},emptyLinkUIContainer:function(){m()},emptyInstanceUIContainer:function(){k()}}}})),define("DS/DELPPWAuthorLinksModule/AuthorLinksUIManager",["UWA/Core","DS/DELPPWAuthorLinksModule/AuthorLinksUI"],(function(e,t){"use strict";return function(n,r,i,a,s){var o,c,l,u,I,f,h,g,p=new t(n,r,i,a),P={},d=!1,D=!1,L=!1,m={_parameters:[],_isSwitched:!1,_isMultiParent:!1,set:function(t){this._parameters=e.is(t,"array")?t.slice(0):[]},get:function(){return this._parameters||[]},setMultiParent:function(e){this._isMultiParent=e||!1},isMultiParent:function(){return this._isMultiParent},isUnique:function(e){return this.getChilds().indexOf(e)<0&&this.getParents().indexOf(e)<0},getChilds:function(){return this._parameters.map((function(e){return e.referencePID})).filter((function(e,t,n){return n.indexOf(e)===t}))},getParents:function(){return this._parameters.map((function(e){return e.targetReferencePID})).filter((function(e,t,n){return n.indexOf(e)===t}))},isEmpty:function(){return e.is(this._parameters)&&this._parameters.length<1},swap:function(){this.isEmpty()||(this._parameters=this._parameters.map((function(e){return{rootReferencePID:e.targetRootReferencePID,referencePID:e.targetReferencePID,instancePID:e.targetInstancePID,instancePIDsArray:e.targetInstancePIDsArray,targetRootReferencePID:e.rootReferencePID,targetReferencePID:e.referencePID,targetInstancePID:e.instancePID,targetInstancePIDsArray:e.instancePIDsArray,allowMove:e.allowMove}})),this._isSwitched=!this._isSwitched)},getToFromLabel:function(){var e={firstFromLabel:"",toLabel:""};return this._parameters.forEach((function(t,n){var r=a.getReference(t.targetReferencePID),i=a.getReference(t.referencePID),s=0===n?"":", ";r&&i&&(0===n&&(e.firstFromLabel=a.getDisplayName(r)),e.toLabel+=s+a.getDisplayName(i))})),e},reset:function(){this._parameters=[],this._isSwitched=!1,this._isMultiParent=!1},isSwitched:function(){return this._isSwitched},isParentChildAvailable:function(){return this._parameters.every((function(t){return e.is(t.targetReferencePID)&&e.is(t.referencePID)}))}};return o=function(e){p.destroyDialog(),p.buildSkeleton(e,(function(){m.swap(),u()}))},u=function t(){var n=m.get(),i=!0,o=!0,l=!0,u=!0,h=P.isInstanceUI&&!P.isLinkUI,k=P.isInstanceUI&&P.isLinkUI,A=[],S=[],y={},R={},b={},v=null,C=null,w=null,M=null;if(!m.isEmpty()){if(D=!1,d=!1,L=!1,n.forEach((function(t){var n=a.getReference(t.targetReferencePID),r=a.getReference(t.referencePID),c=a.getInstance(t.targetInstancePID),I=a.getInstance(t.instancePID),f={parent:n,child:r,targetAbsPath:t.targetInstancePIDsArray};if(e.is(n)&&e.is(r)){if(a.isReferencesHasReadOnlyType([n,r])&&(u=i=o=l=!1),i){const{isInstancePossible:e,errorMessage:t}=a.computeIsInstancePossible(f);i=e}if(f={parent:r,child:n,targetAbsPath:t.instancePIDsArray},u){const{isInstancePossible:e,errorMessage:t}=a.computeIsInstancePossible(f);u=e}o=o&&s.isLinkPossible(n,r,c,I),l=l&&i&&a.isMovePossible(n,I)}n&&A.push(n),r&&S.push(r)})),h&&!i&&u){m.swap();let e=S;S=A,A=e,i=!0,u=!1}if(m.getParents().length>1?p.updateLabels(A,S[0]):p.updateLabels(A[0],S),p.clearMessages(),p.emptyInstanceUIContainer(),p.emptyLinkUIContainer(),m.isParentChildAvailable()){if(P.isInstanceUI&&i||P.isLinkUI&&o){if(P.isInstanceUI&&i){let e={};b={header:r.getNLSValue("AuthorLinks.InstanceUITitle")},v={label:P.isDragDrop?r.getNLSValue("AuthorLinks.tooltipInsertBtn"):r.getNLSValue("AuthorLinks.tooltipInstanceBtn"),icon:r.getIconURLFromKey("CreateInstance"),tooltipInfos:P.isDragDrop?r.getNLSValue("AuthorLinks.tooltipInsertBtn"):r.getNLSValue("AuthorLinks.tooltipInstanceBtn"),callback:c},e.instanceObj=v,P.isDragDrop&&(b={header:r.getNLSValue("AuthorLinks.tooltipInsertBtn")},C={label:r.getNLSValue("AuthorLinks.tooltipInsertDupBtn"),icon:r.getIconURLFromKey("InsertDuplicate"),tooltipInfos:r.getNLSValue("AuthorLinks.tooltipInsertDupBtn"),callback:g},e.insertDupObj=C,w={label:r.getNLSValue("AuthorLinks.tooltipInsertDeepDupBtn"),icon:r.getIconURLFromKey("InsertDeepDuplicate"),tooltipInfos:r.getNLSValue("AuthorLinks.tooltipInsertDeepDupBtn"),callback:g.bind(this,!0)},e.insertDeepDupObj=w),l&&(b={header:P.isDragDrop?r.getNLSValue("AuthorLinks.InsertOrMoveInstanceTitle"):r.getNLSValue("AuthorLinks.MoveOrCreateInstanceTitle")},M={label:P.isDragDrop?r.getNLSValue("AuthorLinks.tooltipMoveBtn"):r.getNLSValue("AuthorLinks.tooltipMoveInstanceBtn"),icon:r.getIconURLFromKey("MoveInstance"),tooltipInfos:P.isDragDrop?r.getNLSValue("AuthorLinks.tooltipMoveBtn"):r.getNLSValue("AuthorLinks.tooltipMoveInstanceBtn"),callback:f},e.moveObj=M),p.createInstanceOrMoveButton(e),p.updateAccordeonHeader("instanceSection",0,b),i&&u&&(D=!0)}if(P.isLinkUI&&o){I(null,{onComplete:function(){(D||d)&&p.showSwitchButton(),k&&!L&&!i&&u&&(m.swap(),t())}})}else D&&p.showSwitchButton()}else p.showMessages(P.errorMsg,"error");!(P.isDragDrop&&P.isLinkUI&&o)||P.isInstanceUI&&i||(y={header:r.getNLSValue("AuthorLinks.From")},R={header:r.getNLSValue("AuthorLinks.To")},p.updateDialogTitle(r.getNLSValue("AuthorLinks.LinksUITitle")),p.updateAccordeonHeader("parentSection",0,y),p.updateAccordeonHeader("childSection",0,R))}}},c=function(){a.insertExistingRefs(m.get())},g=function(e){a.insertDuplicated(m.get(),e)},f=function(){var t=m.get(),n=m.getToFromLabel(),r={instancesPIDsToReparent:null,formerInstancesParentPIDs:null,newParentPID:null,newParentInstancesOrder:null,instancesPathsToReparent:null,newParentPath:null};t.forEach((function(t,n){var i=a.getInstance(t.instancePID),s=e.is(i)?i.get("isAggregatedBy"):null;0===n&&(r.instancesPIDsToReparent=[],r.formerInstancesParentPIDs=[],r.newParentPID=t.targetReferencePID,r.instancesPathsToReparent=[],r.newParentPath=[],r.newParentPath.push(t.targetInstancePIDsArray),r.newParentInstancesOrder=a.getInstancesFromCollection(t.targetReferencePID).map((function(e){return e.get("PID")}))),r.instancesPathsToReparent.push(t.instancePIDsArray),r.instancesPIDsToReparent.push(t.instancePID),r.formerInstancesParentPIDs.push(s),r.newParentInstancesOrder.push(null)})),a.moveMultipleInstances(r,n.firstFromLabel,n.toLabel)},I=function(t,n){var r,i,o=[],c=[],l={},u={},I=[],f=[],h={},g=m.get(),P=function(e){s.createConnectionsByType(e)},D=function(e){var t;return t=function(e){var t,n;for(t in e)if(e.hasOwnProperty(t)){let r=e[t];(n=Object.keys(r)).length>1&&n.forEach((function(e){r[e].length!==g.length&&delete r[e]}))}return e}(e),Object.keys(t).forEach((function(t){0===Object.keys(e[t]).length&&delete e[t]})),e},k=function(e){var t;return t=function(e){var t,n={};for(t in e)if(e.hasOwnProperty(t)){let r,i=e[t].data,a={};r=function(e,t){var n=e.buttonIdentifier;t.hasOwnProperty(n)?t[n].push(e):t[n]=[e]},i.forEach((function(e){r(e,a)})),n[t]=a}return n}(e),t=D(t)};n=n||{},Array.isArray(g)&&g.length>0&&(i=[],g.forEach((function(t){var n=t.instancePID||t.referencePID,r=t.instancePIDsArray||[];e.is(h[n])||(i.push({id:n,path:r}),h[n]=!0),n=t.targetInstancePID||t.targetReferencePID,r=t.targetInstancePIDsArray||[],e.is(h[n])||(i.push({id:n,path:r}),h[n]=!0)}))),s.getRelations(i).then((function(i){if(i.isRelationsLoaded){if(p.emptyLinkUIContainer(),g.forEach((function(e,t){var n,r,i,o=a.getReference(e.targetReferencePID),c=a.getReference(e.referencePID),h=a.getInstance(e.instancePID),g=a.getInstance(e.targetInstancePID),p=a.checkForContextualImplementLink(o,g)||a.checkForContextualImplementLink(c,h),P={fromSideAbsPath:e.targetInstancePIDsArray,toSideAbsPath:e.instancePIDsArray,fromSideRefPID:e.targetReferencePID,toSideRefPID:e.referencePID,fromSideInstPID:e.targetInstancePID,toSideInstPID:e.instancePID,fromSideRootRefPID:e.targetRootReferencePID,toSideRootRefPID:e.rootReferencePID,startAnchorId:e.startAnchorId,endAnchorId:e.endAnchorId,isFromPERTView:e.isFromPERTView,isItemInCILMode:p},d=function(t){return{fromSideAbsPath:t.toSideAbsPath,toSideAbsPath:t.fromSideAbsPath,fromSideRefPID:t.toSideRefPID,toSideRefPID:t.fromSideRefPID,fromSideInstPID:e.instancePID,toSideInstPID:e.targetInstancePID,fromSideRootRefPID:e.rootReferencePID,toSideRootRefPID:e.targetRootReferencePID,isItemInCILMode:t.isItemInCILMode}},D=function(e,t){var n,r={};for(n in e)t.hasOwnProperty(n)&&(r[n]={data:e[n].data.concat(t[n].data)});return r};0===t?(l=s.getPossibleRelationTypes(P),i=d(P),u=s.getPossibleRelationTypes(i)):(n=s.getPossibleRelationTypes(P),l=D(n,l),i=d(P),r=s.getPossibleRelationTypes(i),u=D(r,u)),I.push(o),f.push(c)})),l=k(l),u=k(u),o=Object.keys(l),c=Object.keys(u),d=o.length>0&&c.length>0,L=o.length>0||c.length>0,0===o.length&&c.length>0&&(m.swap(),r=f,f=I,I=r,m.getParents().length>1?p.updateLabels(I,f[0]):p.updateLabels(I[0],f),o=c,l=u),e.is(t)){if(o.indexOf(t)>-1){let e={linkType:t,linksData:Object.values(l[t])[0]};P(e)}else e.is(g[0].unlockEdgeCreation)&&g[0].unlockEdgeCreation();return}if(o.length>=1){let t,n;for(t in p.createLinkButtons(l,P),l)if(l.hasOwnProperty(t)){Object.values(l[t])[0].forEach((function(t){e.is(t.linkExistsInfoMessage)&&(n=e.is(n)?n+t.linkExistsInfoMessage+". ":t.linkExistsInfoMessage+". ")}))}e.is(n)&&p.showMessages(n,"warning")}e.is(n.onComplete)&&n.onComplete()}}))},l=function(t){var n=[],r=m.get().slice(0),i=function(e,t){var n;return e=e||{},t=t||{},m.isSwitched()&&(n=t,t=e,e=n),{targetRootReferencePID:e.targetRootReferencePID||null,targetReferencePID:e.targetReferencePID||e.referenceId,targetInstancePID:e.targetInstancePID||e.instanceId,targetInstancePIDsArray:e.targetInstancePIDsArray||e.path,rootReferencePID:null,referencePID:t.referenceId||t.referencePID,instancePID:t.instanceId||t.instancePID,instancePIDsArray:t.path||t.instancePIDsArray}};e.is(t,"array")&&t.length>0&&(0===r.length?(t.forEach((function(e){n.push(i(e))})),m.setMultiParent(n.length>1)):m.isMultiParent()?n=r.map((function(e){return i(e,t[0])})):m.isParentChildAvailable()?(n=r,m.isUnique(t[0].referenceId)&&n.push(i(r[r.length-1],t[0]))):m.isUnique(t[0].referenceId)&&n.push(i(r[0],t[0])),m.set(n))},h=function(){var t,n=!1,r=new Set;return m.get().forEach((function(t){var n,i,o,c;t.linkType&&(n=a.getReference(t.targetReferencePID),i=a.getReference(t.referencePID),o=a.getInstance(t.targetInstancePID),c=a.getInstance(t.instancePID),e.is(n)&&e.is(i)&&s.isLinkPossible(n,i,o,c)&&r.add(t.linkType))})),1===r.size&&(n=!0,t=r.values().next().value,I(t)),n},{createLinkOrInstanceUI:function(t){var n={};e.is(t,"array")&&t.length>0&&(P.isLinkUI=!0,P.isInstanceUI=!0,P.isDragDrop=!0,P.errorMsg=r.getNLSValue("AuthorLinks.NoPossibleAction"),n={dialogTitle:r.getNLSValue("AuthorLinks.AuthorLinksUITitle"),parentAccHeader:r.getNLSValue("AuthorLinks.FromOrParent"),childAccHeader:r.getNLSValue("AuthorLinks.ToOrChild"),modalFlag:!0},m.set(t),h()||(o(n),u()))},createLinkUI:function(e){var t;P.isLinkUI=!0,P.isInstanceUI=!1,P.isDragDrop=!1,P.errorMsg=r.getNLSValue("AuthorLinks.LinkNotPossible"),l(e),t={dialogTitle:r.getNLSValue("AuthorLinks.LinksUITitle"),parentAccHeader:r.getNLSValue("AuthorLinks.From"),childAccHeader:r.getNLSValue("AuthorLinks.To"),modalFlag:!1},o(t),u()},createInstanceUI:function(e){var t;P.isLinkUI=!1,P.isInstanceUI=!0,P.isDragDrop=!1,P.errorMsg=r.getNLSValue("AuthorLinks.InstanceNotPossible"),l(e),t={dialogTitle:r.getNLSValue("AuthorLinks.InstanceUITitle"),parentAccHeader:r.getNLSValue("AuthorLinks.Parent"),childAccHeader:r.getNLSValue("AuthorLinks.Child"),modalFlag:!1},o(t),u()},updateSelectionUI:function(e){l(e),u()},isDialogVisible:function(){return p.isVisible()},reset:function(){m.reset()}}}})),define("DS/DELPPWAuthorLinksModule/AuthorLinksModule",["UWA/Core","DS/DELPPWAuthorLinksModule/AuthorLinksUIManager"],(function(e,t){"use strict";return{behaviors:["UXFactoryBehavior","MfgItemUXBehavor","ResourceBehavior","ModelBehavior","LinkBehavior","ProductImplementBehavior","ProcessImplementBehavior","ProductFlowLinkBehavior","CapableResourceLinkBehaviour","MfgProcessBehavior","SelectionBehavior"],creator:function(n,r,i,a,s,o,c,l,u,I,f,h){var g=new t(n,a,r,s,o),p=function(t){var n,r,i,a=[];return e.is(t,"array")&&t.forEach((function(t){n=s.getInstance(t.id),i=e.is(n)?n.get("isInstanceOf"):t.id,r=e.is(n)?n.get("PID"):null,a.push({referenceId:i,instanceId:r,path:t.path})})),a},P=function(){var t,n=h.getSelectionsWithPaths(),r=[],i=[];return e.is(n,"array")&&n.forEach((function(n){e.is(n,"array")&&n.length>0&&(0===i.length||0===r.length)&&(t=[],n.forEach((function(e){t.push({id:e.id,path:e.path})})),0===i.length&&t.length>0?i=p(t):0===r.length&&t.length>0&&(r=p(t)))})),{target:i,source:r}},d=function(){g.reset()};return{name:"AuthorLinksModule",listenTo:function(){return{select:this.onSelect,CreateLinkOrInstance:this.onCreateLinkOrInstance,CreateCapableResourceStructureLink:this.onCreateCapableResourceStructureLink,CreateLink:this.onCreateLink,CreatePartialScopeLinkOnHeaderOperation:this.onCreatePartialScopeLinkOnHeaderOperation,CreateInstance:this.onCreateInstance}},onStart:function(){},onStop:function(){},onCreateLinkOrInstance:function(t){var r,i,u=[],I=t[0].targetReferencePID,f=t[0].targetInstancePIDsArray,h=s.getReference(t[0].referencePID),p=s.getReference(t[0].targetReferencePID),P=n.getPreferenceValue("isOutputActivated");e.is(t,"array")&&(d(),(h.isProcess()||h.isConstruction())&&s.isSystem(I)?P?g.createLinkOrInstanceUI(t):(t.forEach((function(e){u.push({implementedAbsPath:e.instancePIDsArray,implementedPID:e.referencePID,implementingAbsPath:e.targetInstancePIDsArray,implementingPID:e.targetReferencePID})})),l.createScopeLink(u)):(h.isProcess()||h.isConstruction())&&s.isOperation(I)&&(r=t,i=!1,Array.isArray(r)&&r.length>0&&(i=null===r[0].instancePID||null===r[0].targetInstancePID),!i)?(t.forEach((function(e){u.push({implementedAbsPath:e.instancePIDsArray,implementingAbsPath:f,implementingPID:e.targetReferencePID,type:l.getImplementLinkType()})})),o.createConnection(u)):h.isProduct()&&(h.is3DShape()||h.isDrawing())?n.warn(a.getNLSValue("AbstractDragAndDropManager.NotAuthorized")):(h.isProduct()||h.isPart())&&(p.isProcess()||p.isService()||p.isConstruction())?function(e){var t=[],n=[];e.length>0&&((t=[{instancePID:e[0].targetInstancePID,instancePIDsArray:e[0].targetInstancePIDsArray,referencePID:e[0].targetReferencePID,rootReferencePID:e[0].targetRootReferencePID}]).forEach((function(e){n=n.concat(e.instancePIDsArray),e.instancePIDsArray.forEach((function(e){var t=s.getReferenceIdFromInstance(e);n.push(t)}))})),o.getRelations([{id:t[0].instancePID,path:n}]).then((function(t){t.isRelationsLoaded&&c.consumeImplementedItems(e)})))}(t):h.isOrganization()&&(p.isProcess()||p.isService()||p.isConstruction()||p.isSystem()||p.isOperation())&&o.isRelationTypeConfiguredForPPRTypes("DELMfgResponsibilityCnx",p.get("PPRTYPE"),h.get("PPRTYPE"),"write")?(t.forEach((function(e){u.push({IDFrom:e.targetReferencePID,IDTo:e.referencePID,fromSideRefPID:e.targetReferencePID,fromSideRootRefPID:e.targetRootReferencePID,toSideRefPID:e.referencePID,toSideRootRefPID:e.rootReferencePID,type:"DELMfgResponsibilityCnx"})})),o.createConnection(u)):g.createLinkOrInstanceUI(t))},onCreateCapableResourceStructureLink:function(){var t,n=[];h.getSelectionsWithPaths().forEach((function(t){e.is(t,"array")&&t.length>0&&t.forEach((function(e){n.push({id:e.id,path:e.path})}))})),t=p(n),e.is(t,"array")&&1===t.length&&I.createCapableResourceStructureLink(t[0].referenceId)},onCreateLink:function(){var t=P();d(),e.is(t)&&(Array.isArray(t.target)&&g.createLinkUI(t.target),Array.isArray(t.source)&&g.updateSelectionUI(t.source))},onCreatePartialScopeLinkOnHeaderOperation:function(t){var r=o.canCreatePartialScopeLink(t);e.is(r.errorMessage)?n.warn(r.errorMessage):o.createHOPMfgItemPartialScopeLink(r.linksData)},onCreateInstance:function(){var t=P();d(),e.is(t)&&(t.target&&g.createInstanceUI(t.target),t.source.length>0&&g.updateSelectionUI(t.source))},onSelect:function(e){var t={},n=[];e&&g.isDialogVisible()&&!0===e.changed.isSelected&&(n.push({id:e.changed.nodeId,path:e.changed.absPath}),(t=p(n))&&g.updateSelectionUI(t))}}}}}));