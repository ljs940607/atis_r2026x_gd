define("DS/MPFCartModel/CartCancellationDataProxy",["DS/MPFDataProxy/DataProxy"],(function(e){"use strict";return e.extend({init(e){this._parent(e,"/api/v2/mdcart/cancellations")}})})),define("DS/MPFCartModel/CartNotesModel",["DS/MPFModel/MPFModel"],(function(e){"use strict";const t=Object.freeze({CART_ID:"cartId",INTERNAL_REFERENCE:"InternalReference",PRIVATE_NOTES:"PrivateNotes"}),r=e.extend({setup(e,t){this._type="CartNotesModel",this._parent(e,t)},getCartId(){return this.get(t.CART_ID)},setCartId(e){return this.set(t.CART_ID,e)},getNotes(){return this.get(t.PRIVATE_NOTES)},setNotes(e){return this.set(t.PRIVATE_NOTES,e)}});return r.Fields=t,r})),define("DS/MPFCartModel/CartTimelineItemDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy"],(function(e,t){"use strict";return t.extend({init:function(e,t){this._parent(e,"/mdcart/carts/{0}/timeline-items")},url:function(t){return this.connector.url(e.String.format(this.resourcePath,t.parentResourceId))}})})),define("DS/MPFCartModel/CartCancelReasonCompiler",["i18n!DS/MPFCartModel/assets/nls/CartCancellationReasons"],(function(e){"use strict";const t=["requestLeadTimeTooShort","partTooLargeTooComplex","doNotDeliverToThisCountry","doNotProvideThisService","other","doNotWishToSay"],r=["priceTooHigh","alreadyOrderedElseWhere","onlyWantedQuote","other","doNotWishToSay"];return class{static getBuyerReasons(){return r}static getSellerReasons(){return t}static translate(t){return e.get(t)}static parse(t){let r=t.replace(/###cancellationReason_.+###/,(t=>{const r=t.substring(t.indexOf("_")+1,t.length-3);return e.get("cancellationReason",{reason:e.get(r)})}));return r=r.replace(/###operatorCancellation###/,e.get("operatorCancellationMessage")),r}static addReasonToText(e,t,r=!1){return t=r?this.encodeOperatorCancellationMessage()+(t?"\n\n"+t:""):t+"\n\n"+this.encode(e)}static encode(e){return"###cancellationReason_"+e+"###"}static encodeOperatorCancellationMessage(){return"###operatorCancellation###"}}})),define("DS/MPFCartModel/CartDataProxyv2",["UWA/Core","UWA/String","DS/MPFDataProxy/DataProxy","DS/MPFUrl/UrlUtils"],(function(e,t,r,n){"use strict";return r.extend({init:function(e,t){this._parent(e,"/mdcart/carts/{0}/v2",t)},urlPatch:function(e,r){var n;return n=t.format(this.resourcePath,e.id),this.connector.url(n,r)},urlPost:function(e,t){return new n(this.connector.url("/mdcart/carts/v2",t)).addParameter("contractingParty",e.contractingParty).getUrl()},urlGet:function(e,t){return this.delegate.urlGet(e,t)},_computeDefaultUrl:function(e,r){var n;return n=t.format(this.resourcePath,e.id),this.connector.url(n,r)}})})),define("DS/MPFCartModel/MeCartDataProxy",["UWA/Core","DS/MPFUrl/UrlUtils","DS/MPFDataProxy/DataProxy"],(function(e,t,r){"use strict";return r.extend({init:function(e,t){this._parent(e,"/me/carts",t)},doDelete:null,doPatch:null,doPut:null,urlGet:function(t,r){return t.id&&e.is(this.delegate)?this.delegate.urlGet(t,r):this._parent(t,r)},urlPost(e,r={}){let n=this._parent(e,r);return r.country&&(n=new t(n).addParameter("country",r.country).getUrl()),n},urlDelete:null,urlPatch:null,urlPut:null})})),define("DS/MPFCartModel/CartItemModel",["DS/MPFModel/MPFModel","DS/MPFUtils/MPFUtils","DS/MPFPortfolioModel/PortfolioHelper","DS/MPFPortfolioModel/LicensingHelper","DS/MPFServices/MarketplaceServices","i18n!DS/MPFCartModel/assets/nls/CartModel"],(function(e,t,r,n,i,a){"use strict";const s=21474836,o=Object.freeze({TYPE:"type",STATE:"currentState",START_DATE:"StartDate",END_DATE:"EndDate",LICENSING_SCHEME:"LicensingScheme",LICENSING:"Licensing",PRODUCT_DISPLAY_NAME:"ProductDisplayName",TOTAL_FEE_AMOUNT:"TotalFeeAmount",TOTAL_GROSS_AMOUNT:"TotalGrossAmount",TOTAL_NET_AMOUNT:"TotalNetAmount",TOTAL_TAXES_AMOUNT:"TotalTaxesAmount",UNIT_FEE_AMOUNT:"UnitFeeAmount",UNIT_NET_AMOUNT:"UnitNetAmount",UNIT_TAXES_AMOUNT:"UnitTaxesAmount",CREATED:"Created",MODIFIED:"Modified",HISTORY:"History",INVOICE:"Invoice",IS_TEST_ITEM:"IsTestItem",NAME:"name",ORIGINAL_CREATION_DATE:"OriginalCreationDate",TOTAL_COMMISSION_BASIS_AMOUNT:"TotalCommissionBasisAmt",UNIT_COMMISSION_BASIS_AMOUNT:"UnitCommissionBasisAmt",QUANTITY:"Quantity",SKU_ID:"SkuId",PRODUCT_TRIGRAM:"ProductTrigram",PRODUCT_NUMBER:"ProductNumber",DISCOUNT:"Discount",TEMP_UUID:"TempUUID",ACTION:"Action",OFFER_ID:"OfferID",OFFER_QUANTITY:"OfferQuantity",OFFER_END_DATE:"OfferEndDate",UNIT_NET_AMOUNT_NOT_ALIGNED:"UnitNetAmountNotAligned",TOTAL_NET_AMOUNT_NOT_ALIGNED:"TotalNetAmountNotAligned",ONLINE_INSTANCE:"OnlineInstance",DISPLAY_PRICE:"displayPrice",EXTERNAL_OFFER_ID:"ExternalOfferId",TITLE:"title",INNOVATE_ID:"InnovateId",INNOVATE_OFFER_ID:"innovateOfferId",IS_BUNDLE_OFFER:"isBundleOffer",DELIVERY_TRACKING_PROVIDER:"DeliveryTrackingProvider",DELIVERY_TRACKING_NUMBER:"DeliveryTrackingNumber",UNIT_NET_AMOUNT_NOT_DISCOUNTED:"UnitNetAmountNotDiscounted"}),l=Object.freeze({MAKE_REQUEST:"MP3DP_PrintRequest",ENGINEERING_REQUEST:"MPENG_EngineeringItem",SOFTWARE_REQUEST:"MP_SoftwareRequest",INNOVATE_REQUEST:"MP_InnovateRequest",PHASE_ITEM:"MP_PhaseItem",DELIVERY_SERVICE_REQUEST:"MP_DeliveryServiceRequest"}),T={[i.MAKE]:l.MAKE_REQUEST,[i.ENGINEERING]:l.ENGINEERING_REQUEST,[i.CLICK_AND_BUY]:l.SOFTWARE_REQUEST,[i.INNOVATE]:l.INNOVATE_REQUEST,[i.PHASE_ITEM]:l.PHASE_ITEM,[i.SUBSCRIPTIONS]:l.SOFTWARE_REQUEST,[i.IFWELOOP]:l.SOFTWARE_REQUEST},d=Object.freeze({YSC:"YSC",QSC:"QSC",QRC:"QRC",MSC:"MSC",ELC:"ELC",NAM:"NAM"}),E=new Map;E.set(d.YSC,"yearly"),E.set(d.QSC,"quarterly"),E.set(d.QRC,"quarterly"),E.set(d.MSC,"monthly");const c=Object.freeze({accepted:"ACCEPTED",deleted:"DELETED",delivered:"DELIVERED",draft:"DRAFT",pendingProcessing:"PENDING_PROCESSING",processing:"PROCESSING",ready:"READY",shipped:"SHIPPED",submited:"SUBMITTED",submitted:"SUBMITTED",ACCEPTED:"ACCEPTED",DELETED:"DELETED",DELIVERED:"DELIVERED",DRAFT:"DRAFT",PENDING_PROCESSING:"PENDING_PROCESSING",PROCESSING:"PROCESSING",READY:"READY",SHIPPED:"SHIPPED",SUBMITTED:"SUBMITTED",OFFER_EXPIRED:"OFFER_EXPIRED"}),u=e.extend({defaults:{},setup:function(e,t){this._parent(e,t),this._type="CartItemModel"},renamedAttributes:function(){return{}},parse:function(e){const t=["IsTestItem","Invoice"],r=["Created","Modified","OriginalCreationDate"],n=["TotalCommissionBasisAmt","TotalCommissionBasisAmount","TotalFeeAmount","TotalGrossAmount","TotalNetAmount","TotalTaxesAmount","UnitCommissionBasisAmt","UnitCommissionBasisAmount","UnitFeeAmount","UnitNetAmount","UnitTaxesAmount"],i=["currentState","Data","History","id","name","status","type","ProductTrigram","ProductDisplayName","EndDate"],a={},s=this.renamedAttributes(),o=Object.keys(e);for(let l=0;l<o.length;l++){const T=e[o[l]];let d=o[l].replace("MP_SoftwareRequest.MP_","").replace("MP3DP_PrintRequest.MP3DP_","").replace("MP_CartItem.MP_","").replace(/_/g,"");s[d]&&(d=s[d]),-1!==t.indexOf(d)?a[d]="true"===T.toLowerCase():-1!==r.indexOf(d)?a[d]=T?new Date(T):"":-1!==n.indexOf(d)?a[d]=parseFloat(T)||0:(i.indexOf(d),a[d]=T)}return a},toJSON:function(){const e=function(e){return e.replace("MP3DP_PrintRequest.MP3DP_","").replace("MP_CartItem.MP_","").replace(/_/g,"")},r={},n=["IsTestItem","Invoice"],i=["Created","Modified","MP_CartItem.MP_OriginalCreationDate"],a=["MP_CartItem.MP_Total_Commission_Basis_Amt","TotalFeeAmount","TotalGrossAmount","TotalNetAmount","TotalTaxesAmount","MP_CartItem.MP_Unit_Commission_Basis_Amt","UnitFeeAmount","UnitNetAmount","UnitTaxesAmount"],s=["currentState","Data","History","id","name","MP_CartItem.MP_status","type"],o=this.renamedAttributes(),l=Object.keys(this.omit());for(let T=0;T<l.length;T++){const d=l[T],E=this.get(d);-1!==n.map(e).indexOf(d)?r[n[n.map(e).indexOf(d)]]=E?"TRUE":"FALSE":-1!==i.map(e).indexOf(d)?r[i[i.map(e).indexOf(d)]]=E&&""!==E?E.toISOString():E:-1!==a.map(e).indexOf(d)?r[a[a.map(e).indexOf(d)]]=E?E.toString():"":-1!==s.map(e).indexOf(d)?r[s[s.map(e).indexOf(d)]]=E:r[d]=E;if(t.objectHasValue(o,d)){delete r[d];const e=t.objectValues(o).indexOf(d);r[Object.keys(o)[e]]=E}}return r},validate:function(e){const t=[],r=e[o.UNIT_NET_AMOUNT];r&&r&&t.push({field:o.UNIT_NET_AMOUNT,max:s,message:a.get("errorFieldsMax",{field:o.UNIT_NET_AMOUNT,value:s})});const n=e[o.TOTAL_NET_AMOUNT];if(n&&n>=s&&t.push({field:o.TOTAL_NET_AMOUNT,max:s,message:a.get("errorFieldsMax",{field:o.TOTAL_NET_AMOUNT,value:s})}),t.length>0)return t},getUnitMonthlyPrice:function(){return this.computeMonthlyPrice(parseFloat(this.getUnitNetAmount()))},getUnitMonthlyPriceNotAligned:function(){return this.computeMonthlyPrice(this.getUnitNetAmountNotAligned())},getTotalMonthlyPrice:function(){return this.computeMonthlyPrice(parseFloat(this.getTotalNetAmount()))},getTotalMonthlyPriceNotAligned:function(){return this.computeMonthlyPrice(this.getTotalNetAmountNotAligned())},computeMonthlyPrice:function(e){const t=this.getLicensingScheme();return t===d.YSC?e/=12:t!==d.QRC&&t!==d.QSC||(e/=3),e},getType:function(){return this.get(o.TYPE)},setType:function(e){return this.set(o.TYPE,e)},getCreated:function(){return this.get(o.CREATED)},setCreated:function(e){return this.set(o.CREATED,e)},getCurrentState:function(){return this.getState()},setCurrentState:function(e){return this.setState(e)},getState:function(){return this.get(o.STATE)},setState:function(e){return this.set(o.STATE,e)},getHistory:function(){return this.get(o.HISTORY)},setHistory:function(e){return this.set(o.HISTORY,e)},getInvoice:function(){return this.get(o.INVOICE)},setInvoice:function(e){return this.set(o.INVOICE,e)},getIsTestItem:function(){return this.get(o.IS_TEST_ITEM)},setIsTestItem:function(e){return this.set(o.IS_TEST_ITEM,e)},getModified:function(){return this.get(o.MODIFIED)},setModified:function(e){return this.set(o.MODIFIED,e)},getName:function(){return this.get(o.NAME)},setName:function(e){return this.set(o.NAME,e)},getOriginalCreationDate:function(){return this.get(o.ORIGINAL_CREATION_DATE)},setOriginalCreationDate:function(e){return this.set(o.ORIGINAL_CREATION_DATE,e)},getTotalCommissionBasisAmt:function(){return this.get(o.TOTAL_COMMISSION_BASIS_AMOUNT)},setTotalCommissionBasisAmt:function(e){return this.set(o.TOTAL_COMMISSION_BASIS_AMOUNT,e)},getTotalFeeAmount:function(){return this.get(o.TOTAL_FEE_AMOUNT)},setTotalFeeAmount:function(e){return this.set(o.TOTAL_FEE_AMOUNT,e)},getTotalGrossAmount:function(){return this.get(o.TOTAL_GROSS_AMOUNT)},setTotalGrossAmount:function(e){return this.set(o.TOTAL_GROSS_AMOUNT,e)},getTotalTaxesAmount:function(){return this.get(o.TOTAL_TAXES_AMOUNT)},setTotalTaxesAmount:function(e){return this.set(o.TOTAL_TAXES_AMOUNT,e)},getTotalNetAmount:function(){return this.get(o.TOTAL_NET_AMOUNT)},setTotalNetAmount:function(e){return this.set(o.TOTAL_NET_AMOUNT,e)},getUnitCommissionBasisAmt:function(){return this.get(o.UNIT_COMMISSION_BASIS_AMOUNT)},setUnitCommissionBasisAmt:function(e){return this.set(o.UNIT_COMMISSION_BASIS_AMOUNT,e)},getUnitFeeAmount:function(){return this.get(o.UNIT_FEE_AMOUNT)},setUnitFeeAmount:function(e){return this.set(o.UNIT_FEE_AMOUNT,e)},getUnitNetAmount:function(){return this.get(o.UNIT_NET_AMOUNT)},setUnitNetAmount:function(e){return this.set(o.UNIT_NET_AMOUNT,e)},getUnitTaxesAmount:function(){return this.get(o.UNIT_TAXES_AMOUNT)},setUnitTaxesAmount:function(e){return this.set(o.UNIT_TAXES_AMOUNT,e)},getQuantity:function(){return this.get(o.QUANTITY)},setQuantity:function(e){return this.set(o.QUANTITY,e)},getUnitNetAmountNotAligned:function(){return this.get(o.UNIT_NET_AMOUNT_NOT_ALIGNED)},getTotalNetAmountNotAligned:function(){return this.get(o.TOTAL_NET_AMOUNT_NOT_ALIGNED)},getUnitNetAmountNotDiscounted:function(){return this.get(o.UNIT_NET_AMOUNT_NOT_DISCOUNTED)},getStartDate:function(){return this.get(o.START_DATE)},getEndDate:function(){return this.get(o.END_DATE)},getLicensingScheme:function(){return this.get(o.LICENSING_SCHEME)},getLicensingSchemeWord(){return a.get(E.get(this.getLicensingScheme()))},getLicensing:function(){return this.get(o.LICENSING)},getProductDisplayName:function(){return this.get(o.PRODUCT_DISPLAY_NAME)},getProductTrigram:function(){return this.get(o.PRODUCT_TRIGRAM)||this.get("productTrigram")},getProductNumber:function(){return this.get(o.PRODUCT_NUMBER)},getOfferId:function(){return this.get(o.OFFER_ID)},getOfferQuantity:function(){return this.get(o.OFFER_QUANTITY)},getSkuId:function(){return this.get(o.SKU_ID)},isBundleOffer(){return this.get(o.IS_BUNDLE_OFFER)},isEduItem:function(){const e=this.getProductTrigram();return r.isEdu(e)||!!e&&e.endsWith("-AC")},isMakerItem(){const e=this.getProductTrigram();return r.isMaker(e)},isOfferExpired(){const e=this.get(o.STATE)===c.OFFER_EXPIRED,t=this.get(o.OFFER_END_DATE);return e||t&&new Date(t)<new Date},isRequestItemForService(e){const t=T[e];if(!t)throw new Error("Service -> request item mapping inexistant");return this.getType()===t},isInnovateBusinessExperience(){const e=this.get(o.INNOVATE_ID);return e&&(e.toLowerCase().startsWith("businessexperience")||"SERVICE_ONDEMAND"===e.toUpperCase()||e.toLowerCase().startsWith("showcase"))},isPriceDisplayable(){return!1!==this.get(o.DISPLAY_PRICE)},getExternalOfferId(){return this.get(o.EXTERNAL_OFFER_ID)},getInnovateOfferId(){return this.get(o.INNOVATE_OFFER_ID)},getTitle(){return this.get(o.TITLE)},getOnlineInstance:function(){return this.get(o.ONLINE_INSTANCE)},isCreditOffer(){const e=this.getLicensing();return n.isCredit(e)}});return u.STATUS=c,u.States=c,u.Fields=o,u.MAX_TOTAL_NET_AMOUNT=s,u.Types=l,u.RevTypes=d,u.Licensings=n.LicensingSchemes,u})),define("DS/MPFCartModel/CartFilters",[],(()=>{"use strict";return Object.freeze({FILTER_BY_STATE:"state",FILTER_BY_CREATION_DATE_DAYS:"creationDateDays",FILTER_BY_CREATION_DATE_MONTHS:"creationDateMonths",FILTER_BY_MODIFICATION_DATE_DAYS:"modificationDateDays",FILTER_BY_MODIFICATION_DATE_MONTHS:"modificationDateMonths",FILTER_BY_TRANSACTION:"transaction",FILTER_BY_CUSTOMER_NAME:"customerName",FILTER_BY_CUSTOMER_ID:"customerId",FILTER_BY_SITE_ID:"siteId",FILTER_BY_CUSTOMER_SEGMENT:"customerSegment",FILTER_BY_SELLER:"seller",FILTER_BY_REQUESTED_SERVICE:"requestedService",STATE_DRAFT:"draft",STATE_PENDING_FILTER:"pending",STATE_DELIVERED_FILTER:"delivered",STATE_CANCELED_FILTER:"cancelled",STATE_ALL_FILTER:"",CLEAR:"clear",FILTER_BY_TYPE:"type",TYPE_RENEWAL:"renewal",FILTER_BY_ORDER_ID:"orderName",FILTER_BY_BUYER:"buyer"})})),define("DS/MPFCartModel/CartDuplicateOperationItem",["UWA/Class"],(function(e){"use strict";var t={SHOP_ID:"ShopID",ITEMS_OFFERS_MAPPING:"ItemsOffersMapping"};return e.extend({init:function(e){this.shopId=e.shopId,this.itemsOffersMapping=e.itemsOffersMapping||{}},toDataObject:function(){var e={};return e[t.SHOP_ID]=this.shopId,Object.keys(this.itemsOffersMapping).length>0&&(e[t.ITEMS_OFFERS_MAPPING]=e.itemsOffersMapping),Object.freeze(e)}})})),define("DS/MPFCartModel/CartBusinessExpDevPlatformDataProxy",["DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError","DS/MPFModel/CollectionFetchOptions"],((e,t,r)=>{"use strict";return e.extend({init(e,t){this._parent(e,"/api/v2/business-experiences/dev-platforms",t)},urlGet(e,t){const n=new URL(this._parent(e,t)),i=new URLSearchParams(n.searchParams);return i.set(r.START,t[r.START]),i.set(r.SIZE,t[r.SIZE]),n.search=i.toString(),n.toString()},urlPost:t.emit,urlPut:t.emit,urlPatch:t.emit,urlDelete:t.emit,doPost:t.emit,doPut:t.emit,doPatch:t.emit,doDelete:t.emit})})),define("DS/MPFCartModel/CartPatchOperation",["UWA/Core","UWA/Class"],(function(e,t){"use strict";const r={none:"none",add:"add",modify:"modify",remove:"remove"};r.NONE=r.none,r.ADD=r.add,r.MODIFY=r.modify,r.REMOVE=r.remove;const n=t.extend({init:function(e,t,n){e=Object.prototype.hasOwnProperty.call(r,e)?e:r.NONE,t||(t="/"),this.op=e,this.path=t,this.value=n},getOperation:function(){return this.op},getPath:function(){return this.path},getValue:function(){return e.clone(this.value)},toJSON:function(){return{op:this.getOperation(),path:this.getPath(),value:this.getValue()}}});return n.Operations=r,n})),define("DS/MPFCartModel/CartDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy","DS/MPFUrl/UrlUtils"],(function(e,t,r){"use strict";return t.extend({init:function(e){this._parent(e,"/mdcart/carts")},urlPatch:function(e,t){var n;return n=this._parent(e,t),t||(t={}),t.partialRefresh&&(n=new r(n).addParameter("noRefresh",t.partialRefresh).getUrl()),n}})})),define("DS/MPFCartModel/CartItemDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy"],(function(e,t){"use strict";return t.extend({init:function(e,t){this._parent(e,"/mdcart/carts/{0}/cart-items")},url:function(t){var r;return r=e.String.format(this.resourcePath,t.parentResourceId),this.connector.url(r)}})})),define("DS/MPFCartModel/CartDuplicateOperationDataProxy",["UWA/String","DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError"],(function(e,t,r){"use strict";return t.extend({init:function(e){this._parent(e,"/mdcart/carts/{0}/duplicate")},buildPath:function(t){return e.format(this.resourcePath,t.getCartId())},urlGet:r.emit,urlPut:r.emit,urlPatch:r.emit,urlDelete:r.emit,doGet:r.emit,doPut:r.emit,doPatch:r.emit,doDelete:r.emit})})),define("DS/MPFCartModel/CartNotesDataProxy",["DS/MPFDataProxy/DataProxy"],(function(e){"use strict";return e.extend({init(e){this._parent(e,"/api/v2/mdcart/cart-notes")}})})),define("DS/MPFCartModel/OwnerDataProxy",["UWA/String","DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError"],(function(e,t,r){"use strict";return t.extend({init:function(e,t){this._parent(e,"/mdcart/carts/{0}/owner",t)},buildPath:function(t){return e.format(this.resourcePath,t.id)},doPost:r.emit,doDelete:r.emit,doGet:r.emit,doPut:r.emit,urlPost:r.emit,urlDelete:r.emit,urlGet:r.emit,urlPut:r.emit})})),define("DS/MPFCartModel/CartCancellationModel",["DS/MPFModel/MPFModel"],(function(e){"use strict";const t=Object.freeze({SUBMITTED:"SUBMITTED",APPROVED:"APPROVED",REFUSED:"REFUSED"}),r=Object.freeze({DEPLOYMENT:"DEPLOYMENT",ORDERING:"ORDERING",PAYMENT:"PAYMENT",STORE_TO_FRANCE:"STORE_TO_FRANCE",PRODUCT_USE:"PRODUCT_USE",UNSATISFIED:"UNSATISFIED",WRONG_PRODUCT:"WRONG_PRODUCT"}),n=Object.freeze({STATE:"currentState",ORIGIN_TRANSACTION:"originTransaction",REQUEST_DATE:"requestDate",REASON:"reason"}),i=e.extend({setup(e,t){this._type="CartCancellationModel",this._parent(e,t)},getRequestDate(){return this.get(n.REQUEST_DATE)},getReason(){return this.get(n.REASON)}});return i.Fields=n,i.States=t,i.Reasons=r,i})),define("DS/MPFCartModel/CartSorts",[],(function(){"use strict";var e={SORT:"sort",CREATION_DATE:"creationDate",MODIFICATION_DATE:"modificationDate",DELIVERY_DATE:"deliveryDate",SERVICE_PROVIDER:"serviceProvider",CUSTOMER:"customer",STATE:"state",desc:function(e){return"-"+e}};return Object.freeze(e)})),define("DS/MPFCartModel/PrintRequestCartItemModel",["UWA/Core","DS/MPFCartModel/CartItemModel"],(function(e,t){"use strict";return t.extend({defaults:{BoundingBoxX:0,BoundingBoxY:0,BoundingBoxZ:0,Data:"",DateAnswer:null,DateDelivery:null,Format:"",MaterialCategory:"",MaterialID:"",MaterialSubCategory:"",OriginalSTLDocumentID:"",Painting:!1,Part3DPrintMPId:"",Part3DPrintName:"",Part3DPrintStatus:"",PickUp:!1,PostalDelivery:!1,Polish:!1,Process:"",STLRepairedStatus:"",ToleranceMin:0,ToleranceRate:0,Unit:"",Volume:0},setup:function(e,t){this._parent(e,t)},parse:function(e){for(var t=["Painting","PickUp","Polish","PostalDelivery"],r=["DateAnswer","DateDelivery"],n=["BoundingBoxX","BoundingBoxY","BoundingBoxZ","ToleranceMin","ToleranceRate","Volume"],i=["Data","Format","MaterialCategory","MaterialID","MaterialSubCategory","OriginalSTLDocumentID","Part3DPrintMPId","Part3DPrintName","Part3DPrintStatus","Process","STLRepairedStatus","Unit"],a={},s=Object.keys(e),o=0;o<s.length;o++)-1!==t.indexOf(s[o])?a[s[o]]="true"===e[s[o]].toLowerCase():-1!==r.indexOf(s[o])?a[s[o]]=new Date(e[s[o]])?new Date(e[s[o]]):"":-1!==n.indexOf(s[o])?a[s[o]]=parseFloat(e[s[o]])||0:-1!==i.indexOf(s[o])&&(a[s[o]]=e[s[o]]);return a},toJSON:function(e){for(var t={},r=["Painting","PickUp","Polish","PostalDelivery"],n=["DateAnswer","DateDelivery"],i=["BoundingBoxX","BoundingBoxY","BoundingBoxZ","ToleranceMin","ToleranceRate","Volume"],a=["Data","Format","MaterialCategory","MaterialID","MaterialSubCategory","OriginalSTLDocumentID","Part3DPrintMPId","Part3DPrintName","Part3DPrintStatus","Process","STLRepairedStatus","Unit"],s=Object.keys(this.omit()),o=0;o<s.length;o++){var l=s[o],T=this.get(l);-1!==r.indexOf(l)?t[r[r.indexOf(l)]]=T?"TRUE":"FALSE":-1!==n.indexOf(l)?(t[n[n.indexOf(l)]]=""!==T?T.toLocaleDateString("en-US").replace(/[^ -~]/g,""):T,!T||0===T.getHours()&&0===T.getMinutes()&&0===T.getSeconds()&&0===T.getMilliseconds()||(t[n[n.indexOf(l)]]+=" "+T.toLocaleTimeString("en-US").replace(/[^ -~]/g,""))):-1!==i.indexOf(l)?t[i[i.indexOf(l)]]=T.toString():-1!==a.indexOf(l)?t[a[a.indexOf(l)]]=T:t[l]=T}return t}})})),define("DS/MPFCartModel/3DPFinishRequestCartItemModel",["UWA/Core","DS/MPFCartModel/CartItemModel"],(function(e,t){"use strict";return t.extend({defaults:{FinishColors:""},setup:function(e,t){this._parent(e,t)},parse:function(e){for(var t=["FinishColors"],r={},n=Object.keys(e),i=0;i<n.length;i++)-1!==t.indexOf(n[i])&&(r[n[i]]=e[n[i]]);return r},toJSON:function(e){for(var t={},r=["FinishColors"],n=Object.keys(this.omit()),i=0;i<n.length;i++)-1!==r.indexOf(n[i])&&(t[r[r.indexOf(n[i])]]=this.get(n[i]));return t}})})),define("DS/MPFCartModel/FinishRequestCartItemModel",["UWA/Core","DS/MPFCartModel/CartItemModel"],(function(e,t){"use strict";return t.extend({defaults:{FinishName:"",RelatedCartItemID:""},setup:function(e,t){this._parent(e,t)},parse:function(e){for(var t=["FinishName","RelatedCartItemID"],r={},n=Object.keys(e),i=0;i<n.length;i++)-1!==t.indexOf(n[i])&&(r[n[i]]=e[n[i]]);return r},toJSON:function(e){for(var t={},r=["FinishName","RelatedCartItemID"],n=Object.keys(this.omit()),i=0;i<n.length;i++)-1!==r.indexOf(n[i])&&(t[r[r.indexOf(n[i])]]=this.get(n[i]));return t}})})),define("DS/MPFCartModel/CartCollectionFilterModel",["DS/MPFModel/MPFModel","DS/MPFCartModel/CartFilters","DS/MPFModel/CollectionFetchOptions"],((e,t,r)=>{"use strict";const n=Object.freeze({[t.FILTER_BY_TRANSACTION]:"",[t.FILTER_BY_CUSTOMER_NAME]:"",[t.FILTER_BY_SITE_ID]:"",[t.FILTER_BY_CUSTOMER_SEGMENT]:"",[t.FILTER_BY_STATE]:"",[t.FILTER_BY_SELLER]:"",[t.FILTER_BY_REQUESTED_SERVICE]:"",[r.START]:1,[r.SIZE]:10}),i=e.extend({defaults:n,setup:function(e,t){this._parent(e,t),this._type="CartCollectionFilterModel"},toJSON(e){const r=this._parent(e);return r[t.FILTER_BY_TRANSACTION]&&(r[t.FILTER_BY_TRANSACTION]=r[t.FILTER_BY_TRANSACTION].toUpperCase()),r}});return i.Fields=t,i})),define("DS/MPFCartModel/CartDuplicateOperation",["UWA/Class","UWA/Promise","DS/MPFCartModel/CartDuplicateOperationItem"],(function(e,t,r){"use strict";return e.extend({init:function(e){this.cartId=e.cartId,this.dataProxy=e.dataProxy,this.operationItems=[]},addShop:function(e){var t;t=new r(e),this.operationItems.push(t)},getCartId:function(){return this.cartId},toDataObject:function(){return Object.freeze({CartsData:this.operationItems.map((function(e){return e.toDataObject()}))})},execute:function(){var e,r;return e=this.dataProxy.urlPost(this),r=t.deferred(),this.dataProxy.request(e,{method:"POST",data:JSON.stringify(this.toDataObject()),onComplete:function(e){return r.resolve(e)},onFailure:r.reject}),r.promise}})})),define("DS/MPFCartModel/CartCancellationFactory",["DS/MPFModelFactory/Factory","DS/MPFCartModel/CartCancellationModel","DS/MPFCartModel/CartCancellationDataProxy","DS/MPFError/NotImplementedError"],(function(e,t,r,n){"use strict";const i={CART_CANCELLATION:"CartCancellation"},a=e.extend({createModel(e,r,n){return this._parent(t,e,r,n)},createCollection:n.emit,getDataProxy(e){let t;return e===i.CART_CANCELLATION&&(t=this.getOrCreateDataProxyForType(e,r)),t}});return a.Types=i,a})),define("DS/MPFCartModel/AdditionalServiceRequestCartItemModel",["UWA/Core","DS/MPFCartModel/CartItemModel"],(function(e,t){"use strict";return t.extend({defaults:{AdditionalServiceName:""},setup:function(e,t){this._parent(e,t)},parse:function(e){for(var t=["AdditionalServiceName"],r={},n=Object.keys(e),i=0;i<n.length;i++)-1!==t.indexOf(n[i])&&(r[n[i]]=e[n[i]]);return r},toJSON:function(e){for(var t={},r=["AdditionalServiceName"],n=Object.keys(this.omit()),i=0;i<n.length;i++)-1!==r.indexOf(n[i])&&(t[r[r.indexOf(n[i])]]=this.get(n[i]));return t}})})),define("DS/MPFCartModel/CartNotesFactory",["DS/MPFModelFactory/Factory","DS/MPFCartModel/CartNotesModel","DS/MPFCartModel/CartNotesDataProxy","DS/MPFError/NotImplementedError"],(function(e,t,r,n){"use strict";const i={CART_NOTES:"CartNotes"},a=e.extend({createModel(e,r,n){return this._parent(t,e,r,n)},createCollection:n.emit,getDataProxy(e){return this.getOrCreateDataProxyForType(e,r)}});return a.Types=i,a})),define("DS/MPFCartModel/DeliveryServiceRequestCartItemModel",["UWA/Core","DS/MPFCartModel/CartItemModel"],(function(e,t){"use strict";return t.extend({defaults:{DeliveryServiceName:""},setup:function(e,t){this._parent(e,t)},parse:function(e){for(var t=["DeliveryServiceName"],r={},n=Object.keys(e),i=0;i<n.length;i++)-1!==t.indexOf(n[i])&&(r[n[i]]=e[n[i]]);return r},toJSON:function(e){for(var t={},r=["DeliveryServiceName"],n=Object.keys(this.omit()),i=0;i<n.length;i++)-1!==r.indexOf(n[i])&&(t[r[r.indexOf(n[i])]]=this.get(n[i]));return t}})})),define("DS/MPFCartModel/TimelineItemModel",["UWA/Core","DS/MPFModel/MPFModel","DS/MPFCartModel/CartItemModel"],(function(e,t,r){"use strict";const n={VERSION:"version",TITLE:"title",CART_CHANGES:"cart-changes",MESSAGE:"message",PHASE_NUMBER:"phaseNumber"},i={SUBMITTED:"Submitted",ACCEPTED:"Accepted",CONFIRMED:"Confirmed",CANCELLED:"Cancelled",PROCESSING:"Processing",READY:"Ready",SHIPPED:"Shipped",REJECTED:"Rejected",DELIVERED:"Delivered",PENDING_PO:"PendingPO",PO_UPLOADED:"Purchase Order Uploaded",INVOICE_UPLOADED:"InvoiceUploaded",PAYMENT_RECEIVED:"PAYMENT RECEIVED",DELIVERABLE_UPLOADED:"DeliverableUploaded",PHASES_MODIFIED:"PhasesModified",MODIFIED:"Modified",ADDED:"Added",DELETED:"Deleted"},a=t.extend({defaults:{cartChanges:{},id:"",message:{}},setup:function(e,t){this._parent(e,t),this._type="TimelineItemModel"},parse:function(e){const t={id:e.id,message:e.message,title:e.title};if(e.phaseNumber&&(t[n.PHASE_NUMBER]=e.phaseNumber),t.message.creation&&(t.message.creation=new Date(t.message.creation+" UTC")),t.message.lastModification&&(t.message.lastModification=new Date(t.message.lastModification+" UTC")),e["cart-changes"]){t.cartChanges={};const n=Object.keys(e["cart-changes"]);for(let i=0;i<n.length;i++)"deleted-items"===n[i]?t.cartChanges.deletedItems=e["cart-changes"]["deleted-items"]:"updated-fields"===n[i]?t.cartChanges.updatedFields=e["cart-changes"]["updated-fields"]:"version"===n[i]?t.cartChanges.version=e["cart-changes"].version:"object"==typeof e["cart-changes"][n[i]]&&(t.cartChanges[n[i]]=new r(null,{dataProxy:{}}).parse(e["cart-changes"][n[i]]))}return t},toJSON:function(e){const t={id:this.get("id"),message:this.getMessage(),title:this.getTitle()};if(this.get("message").creation&&(t.message.creation=this.get("message").creation),this.get("message").lastModification&&(t.message.lastModification=this.get("message").lastModification),this.get("cartChanges")){t["cart-changes"]={};const e=Object.keys(this.get("cartChanges"));for(let n=0;n<e.length;n++)"deletedItems"===e[n]?t["cart-changes"]["deleted-items"]=this.get("cartChanges").deletedItems:"updatedFields"===e[n]?t["cart-changes"]["updated-fields"]=this.get("cartChanges").updatedFields:"version"===e[n]?t["cart-changes"].version=this.get("cartChanges").version:"object"==typeof this.get("cartChanges")[e[n]]&&(t["cart-changes"][e[n]]=new r(this.get("cartChanges")[e[n]],{dataProxy:{}}).toJSON())}return t},getID:function(){return this.get("id")},setID:function(e){return this.set("id",e)},getCartChange:function(e){return this.get(n.CART_CHANGES)[e]},setCartChange:function(e){return this.get(n.CART_CHANGES)[e.id]=e,this.get(n.CART_CHANGES)[e.id]},getMessage:function(){return this.get(n.MESSAGE)},setMessage:function(e){return this.set(n.MESSAGE,e)},getTitle:function(){return this.get(n.TITLE)},setTitle:function(e){return this.set(n.TITLE,e)},getPhaseNumber:function(){return this.get(n.PHASE_NUMBER)}});return a.Fields=Object.freeze(n),a.Titles=Object.freeze(i),a})),define("DS/MPFCartModel/CartPatchArray",["DS/MPFCartModel/CartPatchOperation"],(function(e){"use strict";class t{constructor(){this.operations=[]}add(t){t&&"function"==typeof t.getOperation&&t.getOperation()!==e.Operations.none&&this.operations.push(t)}addAll(e){var t,r;for(t=e.length,r=0;r<t;r++)this.add(e[r])}addOperation(t,r,n){this.add(new e(t,r,n))}getOperations(){return this.operations.slice()}length(){return this.operations.length}toJSON(){return{patchArray:this.getOperations()}}}return t.Operations=e.Operations,t})),define("DS/MPFCartModel/CartModel",["UWA/Core","UWA/Promise","DS/MPFModel/MPFModel","DS/MPFAddressModel/AddressModel","DS/MPFCartModel/CartItemModel","DS/MPFCartModel/TimelineItemModel","DS/MPFCouponModel/CouponCreationModel","DS/MPFCartModel/CartPatchArray","DS/MPFCartModel/CartPatchOperation","DS/MPFUtils/MPFUtils","DS/MPFError/BadArgumentError"],((e,t,r,n,i,a,s,o,l,T,d)=>{"use strict";const E=Object.freeze({cancelled:"CANCELLED",delivered:"DELIVERED",draft:"DRAFT",paymentAccepted:"PAYMENT_ACCEPTED",paymentComplete:"PAYMENT_COMPLETE",paymentInitiated:"PAYMENT_INITIATED",paymentRefused:"PAYMENT_REFUSED",pendingPayment:"PENDING_PAYMENT",processing:"PROCESSING",submitted:"SUBMITTED",submited:"SUBMITTED",failed:"FAILED",blocked:"BLOCKED",expired:"EXPIRED"}),c=Object.freeze({NAME:"name",SHOP_NAME:"shopName",SHOP_ID:"shopId",PURCHASE_ORDER_NUMBER:"PurchaseOrderNumber",EXPENSE_FINANCIAL_LINE:"FinancialLine",OWNER_ID:"OwnerId",COMPANY_ID:"companyID",PURCHASE_ORDER_ID:"PoID",PAYMENT_METHOD:"PaymentMethod",STATE:"currentState",BLOCKED:"Blocked",BUYER_INVOICE_DOCUMENT_PID:"BuyerInvoiceDocumentPid",IS_PAYMENT_COMPLETE:"IsPaymentComplete",BUYER_INVOICE_NUMBER:"BuyerInvoiceNum",PAYMENT_URL:"PaymentUrl",CURRENCY:"currency",CURRENCY_DECIMALS:"currencyDecimals",ONLINE_INSTANCE:"onlineInstance",LICENSING_SCHEME:"licensingScheme",IS_DIRECT_PURCHASE:"IsDirectPurchase",IS_SELF_ORDER:"isSelfOrder",LAST_UPDATE:"Modified",CREATED:"created",GLOBAL_STATE:"GlobalState",DELIVERY_DATE:"DateDelivery",OWNER_DATA:"OwnerData",CONTRACT_DOCUMENTS:"contract-documents",NET_AMOUNT_TOTAL:"NetAmountTotal",PRICE_MAXIMUM:"maximumPrice",PRICE_MINIMUM:"minimumPrice",MULTI_BIDDING_ID:"multibiddingId",GROSS_AMOUNT_TOTAL:"GrossAmountTotal",TAXES_AMOUNT_TOTAL:"TaxesAmountTotal",MINIMUM_ORDER_COST:"minimumOrderCostValue",CART_ITEMS:"items",ACTION_TYPE:"actionType",INVOICE_ID:"invoiceId",PAYMENT_INTENT_SECRET:"PaymentIntentSecret",QUOTE:"Quote",TENDER_ID:"TenderId",DEADLINE_DATE:"DeadlineDate",NUMBER_SELLERS:"NumberOfSellers",NUMBER_ANSWERS:"NumberOfAnswers",BILL_TO:"BillTo",SHIP_TO:"ShipTo",COUPON:"coupon",COUPON_SOFTWARE:"couponSoftware",LEGAL_ENTITY_ID:"legalEntityId",LICENSOR_ID:"licensorId",ORIGIN_TRANSACTION:"originTransaction",REQUEST_DATE:"requestDate",REASON:"reason",APPROVAL_DATE:"approvalDate",CONFIRMATION_DATE:"confirmationDate",RELATED_CARTS:"relatedCarts",PAYMENT_STATUS:"paymentStatus",CART_NOTES_ID:"cartNoteId",DOCUMENT_IDS:"documentIds",COUNTRY:"country",SPECIFIC_ATTRIBUTE:"specificAttribute",IS_RENEWAL:"isRenewal",PLATFORM_ADMIN:"platformAdmin",PLATFORM_ID:"platformId",IS_BE_DEV:"isBEDev",PARTNER_ID:"partnerId"}),u=Object.freeze({BANK_CARD:"CC",DEFERRED_BANK_TRANSFER:"DBT",UNIFIED_PAYMENTS_INTERFACE:"UPI"}),I=Object.freeze({SOFTWARE_REQUEST:"MP_SoftwareRequest"}),S=Object.freeze({CANCELLED:"CANCELLED",DELIVERED:"DELIVERED",DRAFT:"DRAFT",SAVED_DRAFT:"SAVED_DRAFT",SELLER_DRAFT:"DRAFT_SELLER",BUYER_ACCEPT:"BUYER_ACCEPT",PAYMENT_ACCEPTED:"PAYMENT_ACCEPTED",PAYMENT_COMPLETE:"PAYMENT_COMPLETE",PAYMENT_INITIATED:"PAYMENT_INITIATED",PAYMENT_REFUSED:"PAYMENT_REFUSED",PENDING_PAYMENT:"PENDING_PAYMENT",PROCESSING:"PROCESSING",SUBMITTED:"SUBMITTED",FAILED:"FAILED",BLOCKED:"BLOCKED",EXPIRED:"EXPIRED",PROCESSED:"PROCESSED",FINISHED:"FINISHED",APPROVED:"APPROVED",REFUSED:"REFUSED",REFUND_FAILED:"REFUND_FAILED"}),D=Object.freeze({CART_ITEMS:"cart-items"}),P=Object.freeze({RENEWAL:"renewal",START:"start",CANCEL:"cancel"}),_=Object.freeze({CANCELLED:"CANCELLED",SUBMITTED:"SUBMITTED",WAITING_PAYMENT:"WAITING_PAYMENT",PROCESSING_PAYMENT:"PROCESSING_PAYMENT",PAID:"PAID",PROCESSING:"PROCESSING",READY:"READY",SHIPPED:"SHIPPED",DELIVERED:"DELIVERED"}),C="mpCart",M=r.extend({defaults:{created:"",currentState:"",name:"",shopName:"",PurchaseOrderNumber:"",OwnerId:""},setup(e,t){this._parent(e,t),this._type="CartModel",this.getItems()||this.setItems([]),this.getTimelineItems()||this.setTimelineItems([])},clone(){const e=this._parent();if(this.has("items")){e.set("items",[]);for(let t=0;t<this.get("items").length;t++)e.get("items").push(this.get("items")[t].clone())}if(this.has("timelineItems")){e.set("timelineItems",[]);for(let t=0;t<this.get("timelineItems").length;t++)e.get("timelineItems").push(this.get("timelineItems")[t].clone())}return e},clear(){return delete this.billingAddress,delete this.shippingAddress,this._parent()},parse(e){let t;if(T.isEmpty(e))t=this.omit();else if(e.hasOwnProperty(this.id))t=this.omit(),e=e[this.id];else{t=this._parent(e),t.Created&&T.objectChangeKey(t,"Created","created"),t.Currency&&T.objectChangeKey(t,"Currency","currency"),t.owner&&T.objectChangeKey(t,"owner","Owner"),t.shopName||(t.shopName=t.ShopName),t.NetAmountTotal=t.NetAmountTotal&&parseFloat(t.NetAmountTotal),t.GrossAmountTotal=t.GrossAmountTotal&&parseFloat(t.GrossAmountTotal),t.FeeAmountTotal=t.FeeAmountTotal&&parseFloat(t.FeeAmountTotal),t.TaxesAmountTotal=t.TaxesAmountTotal&&parseFloat(t.TaxesAmountTotal),t[c.PRICE_MINIMUM]=t[c.PRICE_MINIMUM]&&parseFloat(t[c.PRICE_MINIMUM]),t[c.PRICE_MAXIMUM]=t[c.PRICE_MAXIMUM]&&parseFloat(t[c.PRICE_MAXIMUM]);const r=t.BillTo;r&&"object"==typeof r?(this.billingAddress=new n(null,{dataProxy:"notNeeded"}),this.billingAddress.set(r),t.BillTo=r.id):""===r&&(this.billingAddress=null);const i=t.ShipTo;if(i&&"object"==typeof i?(this.shippingAddress=new n(null,{dataProxy:"notNeeded"}),this.shippingAddress.set(i),t.ShipTo=i.id):""===i&&(this.shippingAddress=null),t.items?t.items=this.parseItems(t.items):t.Items&&(t.items=this.parseItems(t.Items),delete t.Items),t.couponSoftware&&(t.couponSoftware=this.parseCouponSoftware(t.couponSoftware)),t.timelineItems&&(t.timelineItems=this.parseTimelineItems(t.timelineItems)),t.CompanyID&&T.objectChangeKey(t,"CompanyID",c.COMPANY_ID),t.PersonID&&T.objectChangeKey(t,"PersonID","personID"),t[c.SPECIFIC_ATTRIBUTE]&&"string"==typeof t[c.SPECIFIC_ATTRIBUTE])try{t[c.SPECIFIC_ATTRIBUTE]=JSON.parse(t[c.SPECIFIC_ATTRIBUTE])}catch(e){console.warn(e)}t.IsTest=!0===t.IsTest||"TRUE"===t.IsTest}return t},parseItems(t){let r=[];const n=e.is(t,"array")&&t.length>0;return n&&"string"==typeof t[0]?r=t:n&&"object"==typeof t[0]&&(r=t.map((e=>{const t=new i(e,{dataProxy:this.dataProxy,parse:!0});return t.clearPendingChanges(),t}),this)),r},parseCouponSoftware(t){let r="";return e.is(t,"object")&&Object.keys(t).length>0&&(r=new s(t,{dataProxy:this.dataProxy,parse:!0})),r},parseTimelineItems(t){let r=[];const n=e.is(t,"array")&&t.length>0;return n&&"string"==typeof t[0]?r=t:n&&"object"==typeof t[0]&&(r=t.map((e=>new a(e,{dataProxy:this.dataProxy,parse:!0})),this)),r},toJSON(){const e=this._parent();delete e.originalCart,delete e.Annotations,delete e.UserAllowedViews,e.Created=e.created,delete e.created,e.Currency=e.currency,delete e.currency;const t=this.get("items");if(t&&t.length>0){e.Items=[];for(let r=0;r<t.length;r++)"object"==typeof t[r]?e.Items.push(t[r].toJSON()):e.Items.push(t[r])}delete e.items;const r=this.get("timelineItems");if(r&&r.length>0){e.timelineItems=[];for(let t=0;t<r.length;t++)"object"==typeof r[t]?e.timelineItems.push(r[t].toJSON()):e.timelineItems.push(r[t])}return this.billingAddress&&(e.BillTo=this.billingAddress.toJSON()),this.shippingAddress&&(e.ShipTo=this.shippingAddress.toJSON()),this.get("onlineInstance")&&(e.OnlineInstance=this.get("onlineInstance")),e},getCartItems(e){const t=this.get("items")||[],r=[];return t.forEach((t=>{t.get("type")===e&&r.push(t)})),r},getCartItem(e){return this.get("items").filter((t=>t.get("id")===e)).shift()},savePromise(t,r,n){let i;const a=!e.is(t)||"object"===e.typeOf(t);if(a&&(n=r),!0===(n=n||{}).patch){let e;a?e=t:(e={},e[t]=r);const s=new l(l.Operations.modify,"/",e),T=new o;T.add(s),i=this.megaPatch(T,n)}else i=this._parent(t,r,n);return i},megaPatch(e,t={}){const r=this.dataProxy.url(this,"patch");return this.dataProxy.requestPromise(r,{method:"PATCH",data:JSON.stringify(e.toJSON())}).then((e=>{!1!==t.parse&&(this.clearPendingChanges(),this.set(this.parse(e),{...t,track:!1}),this.dispatchEvent("onSync",[this,e,t]))}))},updateState(e){let r;const n=S[e];if(n){const e=new l(l.Operations.modify,"/",{currentState:n}),t=new o;t.add(e),r=this.megaPatch(t)}else r=t.reject(new d("Invalid state for cart : "+n));return r},saveInLocalStorage(e=C){window.localStorage.setItem(e,JSON.stringify(this.toJSON()))},getFromLocalStorage(e=C){const t=window.localStorage.getItem(e);t&&this.set(this.parse(JSON.parse(t)))},clearLocalStorage(e=C){window.localStorage.removeItem(e)},getName(){return this.get(c.NAME)},setName(e){return this.set(c.NAME,e)},getCurrency(){return this.get(c.CURRENCY)},setCurrency(e){return this.set(c.CURRENCY,e)},getCurrencyDecimals(){return this.get(c.CURRENCY_DECIMALS)},setCurrencyDecimals(e){return this.set(c.CURRENCY_DECIMALS,e)},getBillingAddress(){return this.billingAddress},setBillingAddress(e){this.billingAddress=e},getShippingAddress(){return this.shippingAddress||this.get("shippingAddress")},setShippingAddress(e){this.shippingAddress=e},getPaymentUrl(){return this.get(c.PAYMENT_URL)},setPaymentUrl(e){return this.set(c.PAYMENT_URL,e)},getPaymentMethod(){return this.get(c.PAYMENT_METHOD)},setPaymentMethod(e){return this.set(c.PAYMENT_METHOD,e)},getState(){return this.get(c.STATE)},setState(e){return this.set(c.STATE,e)},getItems(){return this.get(c.CART_ITEMS)},setItems(e){return this.set(c.CART_ITEMS,e)},getShopId(){return this.get("shopID")||this.get("ShopID")||this.get(c.SHOP_ID)},getShopID(){return this.getShopId()},setShopId(e){return this.set("shopID",e)},getShopName(){return this.get(c.SHOP_NAME)},setShopName(e){return this.set(c.SHOP_NAME,e)},getPurchaseOrderNumber(){return this.get("PurchaseOrderNumber")},setPurchaseOrderNumber(e){return this.set("PurchaseOrderNumber",e)},getCompanyID(){return this.get(c.COMPANY_ID)},getPersonID(){return this.get("personID")},getOwnerId(){return this.get("OwnerId")},setOwnerId(e){return this.set("OwnerId",e)},getTimelineItems(){return this.get("timelineItems")},setTimelineItems(e){return this.set("timelineItems",e)},getPurchaseOrderId(){return this.get(c.PURCHASE_ORDER_ID)},setPurchaseOrderId(e){return this.set(c.PURCHASE_ORDER_ID,e)},getExpenseFinancialLine(){return this.get(c.EXPENSE_FINANCIAL_LINE)},setExpenseFinancialLine(e){return this.set(c.EXPENSE_FINANCIAL_LINE,e)},getBuyerInvoiceDocumentPid(){return this.get(c.BUYER_INVOICE_DOCUMENT_PID)},setBuyerInvoiceDocumentPid(e){return this.set(c.BUYER_INVOICE_DOCUMENT_PID,e)},isPaymentComplete(){return"TRUE"===this.get(c.IS_PAYMENT_COMPLETE)},setPaymentComplete(e){return this.set(c.IS_PAYMENT_COMPLETE,e)},getPaymentStatus(){return this.get(c.PAYMENT_STATUS)},getBuyerInvoiceNumber(){return this.get(c.BUYER_INVOICE_NUMBER)},isBlocked(){return"TRUE"===this.get(c.BLOCKED)},getOnlineInstance(){const e=this.get(c.ONLINE_INSTANCE);if(e)return e;{const e=this.getItems();if(e.length>0)return e[0].getOnlineInstance()}},setOnlineInstance(e){return this.set(c.ONLINE_INSTANCE,e)},getLicensingScheme(){return this.get(c.LICENSING_SCHEME)},isDirectPurchase(){const e=this.get(c.IS_DIRECT_PURCHASE);return!0===e||"TRUE"===e},isSelfOrder(){return"TRUE"===this.get(c.IS_SELF_ORDER)||!0===this.get(c.IS_SELF_ORDER)},getLastUpdate(){return this.get(c.LAST_UPDATE)},getCreated(){return this.get(c.CREATED)},getGlobalState(){return this.get(c.GLOBAL_STATE)},getDeliveryDate(){return this.get(c.DELIVERY_DATE)},getOwnerData(){return this.get(c.OWNER_DATA)},getContractDocuments(){return this.get(c.CONTRACT_DOCUMENTS)},getNetAmountTotal(){return this.get(c.NET_AMOUNT_TOTAL)},getGrossAmountTotal(){return this.get(c.GROSS_AMOUNT_TOTAL)},getTaxesAmountTotal(){return this.get(c.TAXES_AMOUNT_TOTAL)},getMultiBiddingId(){return this.get(c.MULTI_BIDDING_ID)},setMultiBiddingId(e){return this.set(c.MULTI_BIDDING_ID,e)},getMinOrderCost(){return this.get(c.MINIMUM_ORDER_COST)},setMinOrderCost(e){return this.set(c.MINIMUM_ORDER_COST,e)},getActionType(){return this.get(c.ACTION_TYPE)},getInvoiceId(){return this.get(c.INVOICE_ID)},getPaymentIntentSecret(){return this.get(c.PAYMENT_INTENT_SECRET)},getQuote(){return this.get(c.QUOTE)},hasPrice(){return(this.get(c.PRICE_MAXIMUM)>=0||this.get(c.PRICE_MINIMUM>=0))&&this.get(c.NET_AMOUNT_TOTAL)>=0},isTender(){return!!this.get(c.TENDER_ID)||!!this.get(c.NUMBER_SELLERS)&&!!this.get(c.DEADLINE_DATE)},isTenderResponse(){return this.isTender()&&!this.getDeadlineDate()},getTenderId(){return this.get(c.TENDER_ID)},getDeadlineDate(){return this.get(c.DEADLINE_DATE)},getNumberSellers(){return this.get(c.NUMBER_SELLERS)},getNumberAnswers(){return this.get(c.NUMBER_ANSWERS)},getCoupon(){return this.get(M.Fields.COUPON)},getCouponSoftware(){return this.get(M.Fields.COUPON_SOFTWARE)},getLegalEntityId(){return this.get(M.Fields.LEGAL_ENTITY_ID)},getLicensorId(){return this.get(M.Fields.LICENSOR_ID)},getRelatedCarts(){return this.get(c.RELATED_CARTS)},getRequestDate(){return this.get(c.REQUEST_DATE)},hasEduItems(){const e=this.getItems();for(let t=0;t<e.length;t++)if(e[t].isEduItem())return!0;return!1},hasMakerItems(){const e=this.getItems();for(let t=0;t<e.length;t++)if(e[t].isMakerItem())return!0;return!1},hasExpiredItems(){const e=this.getItems();for(let t=0;t<e.length;t++)if(e[t].isOfferExpired())return!0;return!1},isOrder(){const e=this.getName();return!!e&&e.startsWith("ORD")},isRenewal(){const e=!0===this.get(c.IS_RENEWAL),t=this.getName();return e||!!t&&t.startsWith("RN")},isCancellation(){const e=this.getName();return!!e&&e.startsWith("CAN")},isInnovateBusinessExperienceOrder(e){const t=this.getItems().find((t=>t.isRequestItemForService(e)));return t&&t.isInnovateBusinessExperience()},isIfweloopOrder(){const e=this.get(c.SPECIFIC_ATTRIBUTE);return!!e&&!!e.ifweloop},getItemsLicenseScheme(){let e;const t=this.getItems().filter((e=>e.getType()===i.Types.SOFTWARE_REQUEST));return t.length>0&&(e=t[0].getLicensingScheme()),e},getItemsOfferIds(){return this.getItems().filter((e=>e.getOfferId())).reduce(((e,t)=>{const r=t.getOfferId();return e.includes(r)||e.push(r),e}),[]).join(",")},getProductsAsString(){return this.getItems().filter((e=>e.getType()===i.Types.SOFTWARE_REQUEST)).reduce(((e,t)=>0===e.length?t.get("ProductTrigram"):`${e}, ${t.get("ProductTrigram")}`),"")},getSiteId(){const e=this.get("buyer"),t=e&&e.businessRegistrations;if(Array.isArray(t)&&t.length>0){const e=t.find((e=>"CUSTOMERID"===e.type));return e&&e.value}},getPlatformAdmin(){return this.get(c.PLATFORM_ADMIN)},getPlatformId(){return this.get(c.PLATFORM_ID)},isBeDev(){return this.get(c.IS_BE_DEV)}});return M.STATUS=E,M.States=S,M.Fields=c,M.PaymentMethods=u,M.Types=I,M.Expands=D,M.ActionTypes=P,M.GlobalStates=_,M.LOCAL_STORAGE_KEY=C,M.LOCAL_STORAGE_KEY_COUNTRY="mpCartCountry",M})),define("DS/MPFCartModel/CartModelHelper",["UWA/Core","DS/MPFCartModel/CartModel","DS/MPFCartModel/CartItemModel","DS/MPFCartModel/CartPatchArray","DS/MPFCartModel/CartPatchOperation","DS/MPFTracker/Dimension","DS/MPFTracker/Value","DS/MPFTracker/CloudType","DS/MPFOfferModel/OfferFactory","DS/MPFOfferModel/InnovateOfferHelper","DS/MPFConnector/MarketplaceConnector","DS/MPFServices/MarketplaceServices","i18n!DS/MPFCartModel/assets/nls/CartModel"],(function(e,t,r,n,i,a,s,o,l,T,d,E,c){"use strict";const u={isWaitingForPurchaseOrder(t,r){const n="buyer"===r,i=e.is(t.getPurchaseOrderId());return n&&!i&&t.isBlocked()},isWaitingForInvoice(e,t){const n="seller"===t,i=!!e.getBuyerInvoiceNumber(),a=e.getItems().filter((function(e){const t=e.getState(),n=t===r.STATUS.shipped,i=t===r.STATUS.ready,a=t===r.STATUS.delivered;return n||i||a})).length>0;return n&&!i&&a},isWaitingForProceedToPayement(e,t){const r="buyer"===t,n=!!e.getBuyerInvoiceNumber();return r&&n&&!e.isPaymentComplete()},isConfirmed:e=>e.getItems().filter((function(e){const t=e.getState(),n=t===r.STATUS.shipped,i=t===r.STATUS.ready,a=t===r.STATUS.delivered;return n||i||a})).length>0,getElapsedTime(e){const t=new Date(e),r=new Date,n=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds());return u.getTimeDifference(n,t)},getRemainingTime(e){const t=new Date(e),r=new Date,n=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds());return u.getTimeDifference(t,n)},getTimeDifference(e,t){let r;const n=Math.floor((new Date(e)-new Date(t))/1e3);function i(e,t,i){if(!r){const a=n/e;if(a>1){const e=Math.round(a);r=e+" "+(e>1?i:t)}}}if(i(31536e3,c.get("year"),c.get("years")),i(2592e3,c.get("month"),c.get("months")),!r){if(n/86400>1){const n=u.getNumberDays(e,t);r=n+" "+(n>1?c.get("days"):c.get("day"))}}return i(3600,c.get("hour"),c.get("hours")),i(60,c.get("minute"),c.get("minutes")),r||c.get("fewSeconds")},getNumberDays(e,t){const r=Math.floor(new Date(e)-new Date(t))/864e5,n=r-Math.floor(r),i=(new Date(t).setHours(24,0,0,0)-new Date(t))/864e5;function a(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}return a(n,12)>a(i,12)?Math.ceil(r):Math.floor(r)},isPaidByDirectPurchase(e,n){const i=e.getState(),a=n.first().getState(),s=i===t.States.PENDING_PAYMENT,o=i===t.States.PAYMENT_INITIATED,l=i===t.States.PAYMENT_COMPLETE,T=i===t.States.PAYMENT_REFUSED,d=a===r.STATUS.submitted;return(s||o||l||T)&&d},getCurrencySymbol(t,r={}){r.locale||(r.locale="fr-FR");const n=t.getCurrency();let i;return e.is(n,"string")?""===n?n:(i=(0).toLocaleString(r.locale,{style:"currency",currency:n}).replace(/[\w\s,.]/g,""),""===i&&(i=(0).toLocaleString(r.locale,{style:"currency",currency:n}).replace(/[\d\s,.]/g,"")),i):"-"},formatPrice(t,r,n={}){n.locale||(n.locale="fr-FR");const i=t.getCurrency();let a;return e.is(r,"number")||(r=t.getNetAmountTotal()),e.is(i,"string")&&i.length>0?(a={style:"currency",currency:i},!0===n.noSymbol&&(a.currencyDisplay="code"),r=r.toLocaleString(n.locale,a)):(a={style:"decimal",maximumFractionDigits:2,minimumFractionDigits:2},r=r.toLocaleString(n.locale,a),r+=!0===n.noSymbol?" ":" -"),""!==r.replace(/[A-Za-z0-9.,\s]/g,"")||n.noSymbol?r.replace(/[A-Za-z]/g,""):r},removeAllCartItems(e){const t=new n;return e.getItems().forEach((function(e){t.add(new i(i.Operations.REMOVE,"/cart-items/"+e.id))})),e.megaPatch(t)},getCartCloudType(e){let t;return t=e.hasMakerItems()?o.MAKERS:e.hasEduItems()?o.EDU:o.OTHER,t},removeBundledItems:(e=[])=>[...e.filter((e=>!e.getOfferId())),...e.filter(((e,t,r)=>{const n=e.getOfferId();return n&&r.findIndex((e=>e.getOfferId()===n))===t}))],async isBusinessExperienceByDS(e){let t;const r=(e.getItems()||[]).map((e=>e.getInnovateOfferId())).filter(((e,t,r)=>e&&r.indexOf(e)===t));if(r.length>0){const e=await d.fetchPromise({service:E.INNOVATE}),n=new l(e),i=r.map((e=>n.createModel(l.Types.PUBLIC_OFFER_V2,{id:e})));await Promise.all(i.map((e=>e.fetchPromise()))),t=Promise.resolve(i.every((e=>T.isDsOffer(e))))}else t=Promise.resolve(!1);return Promise.resolve(t)},addTrackerInformation(e,t){const r=this.getCartCloudType(t),n=this.removeBundledItems(t.getItems()),i=n&&n.map((e=>e.getProductNumber())).join(","),o=n&&n.map((e=>e.getTitle()||e.getProductDisplayName())).join(",");e.addDimension(a.ORDER_ID,t.getName()).addDimension(a.BUYER_ID,t.getOwnerId()).addDimension(a.SHOP_ID,t.getShopId()).addDimension(a.CURRENCY,t.getCurrency()).addDimension(a.ROLES,t.getProductsAsString()).addDimension(a.CLOUD_TYPE,r).addDimension(a.LICENSING_SCHEME,t.getItemsLicenseScheme()).addDimension(a.OFFER_IDS,t.getItemsOfferIds()).addPersonalValue(s.TOTAL_NET_AMOUNT,t.getNetAmountTotal()).addPersonalValue(s.TOTAL_TAX_AMOUNT,t.getTaxesAmountTotal()).addDimension(a.EXTERNAL_OFFER_ID,i).addDimension(a.EXTERNAL_OFFER_NAME,o)}};return u})),define("DS/MPFCartModel/LicensingSchemeMapping",["DS/MPFCartModel/CartModel"],(function(e){"use strict";var t={getLicensingLabel:function(e){return"ADD"===e?"Add-On":"CAS"===e?"Casual Named User":"CB"===e?"Credit Based":"CON"===e?"Concurrent":"MAB"===e?"Machine Based":"NA"===e?"Not Applicable":"NAM"===e?"Named User":"PCK"===e?"Packaged Offering":"PUB"===e?"Publishing":"SVC"===e?"Service":"SYS"===e?"System":"TBC"===e?"To be completed":"TOC"===e?'Token Based "Credit"':"TOK"===e?"Token Based":""}};return t})),define("DS/MPFCartModel/CartSearchDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy","DS/MPFUrl/UrlUtils","DS/MPFCartModel/CartFilters","DS/MPFCartModel/CartSorts","DS/MPFModel/CollectionFetchOptions","DS/MPFError/NotImplementedError"],((e,t,r,n,i,a,s)=>{"use strict";return t.extend({init(e,t){this._parent(e,"/mdcart/carts/search",t)},urlGet(t,s={}){const o=this._parent(t,s),l=new r(o);return this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_STATE),this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_CREATION_DATE_DAYS),this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_CREATION_DATE_MONTHS),this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_MODIFICATION_DATE_DAYS),this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_MODIFICATION_DATE_MONTHS),this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_TYPE),this._addParamToUrlIfOptionKeySet(l,s,i.SORT),this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_ORDER_ID),this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_SELLER),this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_BUYER),e.is(s[a.START])&&e.is(s[a.SIZE])&&l.addParameter(a.START,s[a.START]).addParameter(a.SIZE,s[a.SIZE]),this._addParamToUrlIfOptionKeySet(l,s,a.SEARCH),this._addParamToUrlIfOptionKeySet(l,s,a.COMPANY),this._addParamToUrlIfOptionKeySet(l,s,a.ONLINEINSTANCE),l.getUrl()},_addParamToUrlIfOptionKeySet(t,r,n){const i=r[n];e.is(i)&&""!==i&&t.addParameter(n,i)},urlPut:s.emit,urlPatch:s.emit,urlDelete:s.emit,doPut:s.emit,doPatch:s.emit,doDelete:s.emit})})),define("DS/MPFCartModel/TimelineItemCollection",["DS/MPFModel/MPFCollection","DS/MPFCartModel/TimelineItemModel"],(function(e,t){"use strict";return e.extend({model:t})})),define("DS/MPFCartModel/TimelineItemFactory",["DS/MPFModelFactory/Factory","DS/MPFCartModel/TimelineItemModel","DS/MPFCartModel/TimelineItemCollection","DS/MPFCartModel/CartTimelineItemDataProxy","DS/MPFError/NotImplementedError"],(function(e,t,r,n,i){"use strict";const a=Object.freeze({TIMELINE_ITEM:"TimelineItem"}),s=e.extend({createModel:function(e,r){const n=a.TIMELINE_ITEM;return r||(r={}),this._parent(t,n,e,r)},createCollection:function(e,t){const n=a.TIMELINE_ITEM;return t||(t={}),this._parent(r,n,e,t)},getDataProxy:function(){this.dataProxies[a.TIMELINE_ITEM]||(this.dataProxies[a.TIMELINE_ITEM]=new n(this.connector));return this.dataProxies[a.TIMELINE_ITEM]}});return s.Types=a,s})),define("DS/MPFCartModel/CartCollection",["UWA/Core","DS/MPFModel/MPFCollection","DS/MPFCartModel/CartModel"],((e,t,r)=>{"use strict";return t.extend({model:r,parse(t){let r;const n="object"===e.typeOf(t),i=n&&("number"==typeof t.numberOfCarts||parseInt(t.numberOfCarts)>-1),a=n&&Array.isArray(t.carts);return n&&i&&a?(this.totalModelCount=t.numberOfCarts,this.all=t.all,this.draft=t.draft,this.pending=t.pending,this.cancelled=t.cancelled,this.delivered=t.delivered,r=t.carts):r=t,r}})})),define("DS/MPFCartModel/CartItemCollection",["DS/MPFModel/MPFCollection","DS/MPFCartModel/CartItemModel","DS/MPFServices/MarketplaceServices"],(function(e,t,r){"use strict";return e.extend({model:t,getRequestItemForService(e){return this.find((t=>t.isRequestItemForService(e)))},getDeliveryServiceItems(){return this.filter((e=>e.getType()===t.Types.DELIVERY_SERVICE_REQUEST))}})})),define("DS/MPFCartModel/CartItemFactory",["DS/MPFModelFactory/Factory","DS/MPFCartModel/CartItemModel","DS/MPFCartModel/CartItemCollection","DS/MPFCartModel/CartItemDataProxy"],(function(e,t,r,n){"use strict";var i,a={CART_CART_ITEM:"cartCartItem"};return(i=e.extend({createModel:function(e,r,n){var i;return n||(n={}),i=n.customModelClass||t,this._parent(i,e,r,n)},createCollection:function(e,t,n){var i;return n||(n={}),i=n.customCollectionClass||r,this._parent(i,e,t,n)},getDataProxy:function(){return this.dataProxies.cartItem||(this.dataProxies.cartItem=new n(this.connector)),this.dataProxies.cartItem}})).Types=Object.freeze(a),i})),define("DS/MPFCartModel/MeCartV2DataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy","DS/MPFUrl/UrlUtils","DS/MPFCartModel/CartFilters","DS/MPFCartModel/CartSorts","DS/MPFModel/CollectionFetchOptions","DS/MPFError/NotImplementedError"],((e,t,r,n,i,a,s)=>{"use strict";return t.extend({init(e){this._parent(e,"/me/cartsV2")},urlGet(t,s={}){const o=this._parent(t,s),l=new r(o);return this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_STATE),this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_CREATION_DATE_DAYS),this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_CREATION_DATE_MONTHS),this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_MODIFICATION_DATE_DAYS),this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_MODIFICATION_DATE_MONTHS),this._addParamToUrlIfOptionKeySet(l,s,n.FILTER_BY_TYPE),this._addParamToUrlIfOptionKeySet(l,s,i.SORT),e.is(s[a.START])&&e.is(s[a.SIZE])&&l.addParameter(a.START,s[a.START]).addParameter(a.SIZE,s[a.SIZE]),this._addParamToUrlIfOptionKeySet(l,s,a.SEARCH),this._addParamToUrlIfOptionKeySet(l,s,a.COMPANY),this._addParamToUrlIfOptionKeySet(l,s,a.ONLINEINSTANCE),l.getUrl()},_addParamToUrlIfOptionKeySet(t,r,n){const i=r[n];e.is(i)&&""!==i&&t.addParameter(n,i)},urlPatch:s.emit,urlPut:s.emit,urlDelete:s.emit,urlPost:s.emit,doPatch:s.emit,doPut:s.emit,doDelete:s.emit,doPost:s.emit})})),define("DS/MPFCartModel/CartTransactionsDataProxy",["UWA/Core","UWA/String","DS/MPFDataProxy/DataProxy","DS/MPFCartModel/CartFilters","DS/MPFUrl/UrlUtils","DS/MPFModel/CollectionFetchOptions"],((e,t,r,n,i,a)=>{"use strict";return r.extend({init:function(e,t){this._parent(e,"/api/v2/mdcart/carts/transactions",t)},urlGet:function(t,r){const s=this._parent(t,r),o=new i(s);return o.addParameter("includeRelatedCarts",!0),o.addParameter("includeRegistrations",!0),this._addParamToUrlIfOptionKeySet(o,r,n.FILTER_BY_STATE),this._addParamToUrlIfOptionKeySet(o,r,n.FILTER_BY_TRANSACTION),this._addParamToUrlIfOptionKeySet(o,r,n.FILTER_BY_CUSTOMER_NAME),this._addParamToUrlIfOptionKeySet(o,r,n.FILTER_BY_CUSTOMER_ID),this._addParamToUrlIfOptionKeySet(o,r,n.FILTER_BY_CUSTOMER_SEGMENT),this._addParamToUrlIfOptionKeySet(o,r,n.FILTER_BY_SELLER),this._addParamToUrlIfOptionKeySet(o,r,n.FILTER_BY_REQUESTED_SERVICE),!e.is(r[a.START])&&(r[a.START]=1),!e.is(r[a.SIZE])&&(r[a.SIZE]=10),o.addParameter(a.START,r[a.START]).addParameter(a.SIZE,r[a.SIZE]),this._addParamToUrlIfOptionKeySet(o,r,a.SEARCH),this._addParamToUrlIfOptionKeySet(o,r,a.COMPANY),this._addParamToUrlIfOptionKeySet(o,r,a.ONLINEINSTANCE),o.getUrl()},_addParamToUrlIfOptionKeySet(t,r,n){const i=r[n];e.is(i)&&""!==i&&t.addParameter(n,i)},_computeDefaultUrl:function(e,r){const n=t.format(this.resourcePath,e.id);return this.connector.url(n,r)}})})),define("DS/MPFCartModel/MeSellerCartV2DataProxy",["UWA/Core","UWA/String","DS/MPFDataProxy/DataProxy","DS/MPFUrl/UrlUtils","DS/MPFCartModel/CartFilters","DS/MPFCartModel/CartSorts","DS/MPFModel/CollectionFetchOptions","DS/MPFError/NotImplementedError"],(function(e,t,r,n,i,a,s,o){"use strict";return r.extend({init:function(e){this._parent(e,"/me/shops/{0}/seller-cartsV2")},buildPath:function(e){return t.format(this.resourcePath,e.parentResourceId)},urlGet:function(t,r){var o,l;return r||(r={}),o=this._parent(t,r),l=new n(o),this._addParamToUrlIfOptionKeySet(l,r,i.FILTER_BY_STATE),this._addParamToUrlIfOptionKeySet(l,r,i.FILTER_BY_CREATION_DATE_DAYS),this._addParamToUrlIfOptionKeySet(l,r,i.FILTER_BY_CREATION_DATE_MONTHS),this._addParamToUrlIfOptionKeySet(l,r,i.FILTER_BY_MODIFICATION_DATE_DAYS),this._addParamToUrlIfOptionKeySet(l,r,i.FILTER_BY_MODIFICATION_DATE_MONTHS),this._addParamToUrlIfOptionKeySet(l,r,a.SORT),e.is(r[s.START])&&e.is(r[s.SIZE])&&l.addParameter(s.START,r[s.START]).addParameter(s.SIZE,r[s.SIZE]),this._addParamToUrlIfOptionKeySet(l,r,s.SEARCH),l.getUrl()},_addParamToUrlIfOptionKeySet:function(t,r,n){var i;i=r[n],e.is(i)&&""!==i&&t.addParameter(n,i)},urlPatch:o.emit,urlPut:o.emit,urlDelete:o.emit,urlPost:o.emit,doPatch:o.emit,doPut:o.emit,doDelete:o.emit,doPost:o.emit})})),define("DS/MPFCartModel/CartFactory",["DS/MPFModelFactory/Factory","DS/MPFCartModel/CartModel","DS/MPFCartModel/CartCollection","DS/MPFCartModel/CartDataProxy","DS/MPFCartModel/MeCartDataProxy","DS/MPFCartModel/CartDataProxyv2","DS/MPFCartModel/MeSellerCartV2DataProxy","DS/MPFCartModel/MeCartV2DataProxy","DS/MPFCartModel/OwnerDataProxy","DS/MPFCartModel/CartTransactionsDataProxy","DS/MPFCartModel/CartCancellationDataProxy","DS/MPFCartModel/CartBusinessExpDevPlatformDataProxy","DS/MPFCartModel/CartSearchDataProxy"],((e,t,r,n,i,a,s,o,l,T,d,E,c)=>{"use strict";const u=Object.freeze({CART:"CART",ME:"ME",ME_V2:"ME_V2",CARTV2:"CARTV2",SELLER_CARTV2:"SELLER_CARTV2",OWNER:"OWNER",CART_TRANSACTIONS:"CART_TRANSACTIONS",CART_CANCELLATION:"CART_CANCELLATION",CART_BUSINESS_EXP_DEV_PLATFORM:"CART_BUSINESS_EXP_DEV_PLATFORM",CART_SEARCH:"CART_SEARCH"}),I=e.extend({createModel(e,r,n={}){const i=n.customModelClass||t;return this._parent(i,e,r,n)},createCollection(e,t,n={}){const i=n.customCollectionClass||r;return this._parent(i,e,t,n)},getDataProxy(e){let t;return(e=e&&e.toUpperCase())===u.CART?(this.dataProxies.cart||(this.dataProxies.cart=new n(this.connector)),t=this.dataProxies.cart):e===u.ME?(this.dataProxies.me||(this.dataProxies.me=new i(this.connector,this.getDataProxy(u.CART))),t=this.dataProxies.me):e===u.CARTV2?(this.dataProxies.cartv2||(this.dataProxies.cartv2=new a(this.connector,this.getDataProxy(u.CART))),t=this.dataProxies.cartv2):e===u.SELLER_CARTV2?(this.dataProxies.sellerCartv2||(this.dataProxies.sellerCartv2=new s(this.connector)),t=this.dataProxies.sellerCartv2):e===u.ME_V2?(this.dataProxies.meV2||(this.dataProxies.meV2=new o(this.connector)),t=this.dataProxies.meV2):e===u.OWNER?(this.dataProxies.owner||(this.dataProxies.owner=new l(this.connector)),t=this.dataProxies.owner):e===u.CART_TRANSACTIONS?t=this.getOrCreateDataProxyForType(e,T):e===u.CART_CANCELLATION?t=this.getOrCreateDataProxyForType(e,d):e===u.CART_BUSINESS_EXP_DEV_PLATFORM?t=this.getOrCreateDataProxyForType(e,E):e===u.CART_SEARCH&&(t=this.getOrCreateDataProxyForType(e,c)),t}});return I.Types=u,I}));