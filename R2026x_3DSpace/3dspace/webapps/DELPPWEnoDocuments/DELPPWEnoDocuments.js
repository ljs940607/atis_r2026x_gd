define("DS/DELPPWEnoDocuments/AttachmentsFacet",["UWA/Core","UWA/Class","UWA/Controls/Abstract","DS/EditPropWidget/facets/Common/FacetsBase","DS/ENOXAttachmentsUX/AttachmentsPane"],(function(t,e,n,a,c){"use strict";return e.extend(n,a,{init(t){this._parent(t),this._buildView(t)},_buildView:function(e){var n=this;this.elements.container=t.createElement("div",{class:"relatedDocuments"});const a={parentObject:{parentId:n.getSelectedRefId()},connectorOptions:{fetchSecurityContext:()=>e.appContext.getSecurityContext(),platformUrls:{"3DSpace":e.appContext.platformUrl,platformId:e.appContext.platformTenant}},webinwin:!1},o=c.extend({init:function(t){this._parent(t)},onRemoved:function(){}});n.attachmentsPane=new o(a),n.attachmentsPane.modelEvents.subscribe({event:"upload-attachment-complete"},n.addDocument.bind(n)),n.attachmentsPane.modelEvents.subscribe({event:"attach-attachment-complete"},n.addDocument.bind(n)),n.attachmentsPane.modelEvents.subscribe({event:"detach-attachment-complete"},n.deleteDocument.bind(n)),n.attachmentsPane.inject(n.elements.container)},getSelectedRefId(){return this.options.appContext.getSelectedRefId()},updateFacet(){const t=this.getSelectedRefId();if(!t)return void this.notApplicable();const e={parentId:t};this.attachmentsPane&&(this.attachmentsPane.show(),this.attachmentsPane.options.parentObject.parentId!==t&&this.attachmentsPane.setParentObject(e))},destroyComponent(){this.attachmentsPane.destroy()},onResize(){this.updateFacet()},onRefresh(){this.updateFacet()},addDocument(t){let e={};t.documents&&t.documents.length>0?e=t.documents[0]:t.document&&(e=t.document),this.options.appContext.addDocument(t.parentObject.parentId,e)},deleteDocument(t){this.options.appContext.deleteDocument(t.parentObject.parentId,t.id,"Reference Document")}})})),define("DS/DELPPWEnoDocuments/SpecificationsFacet",["UWA/Core","UWA/Class","UWA/Controls/Abstract","DS/EditPropWidget/facets/Common/FacetsBase","DS/ENOXSpecificationsUX/SpecificationsPane","DS/CfgAuthoringContextUX/scripts/CfgAuthoringContext"],(function(t,e,n,a,c,o){"use strict";return e.extend(n,a,{init(t){this._parent(t),this._buildView(t)},_buildView:function(e){var n=this;this.elements.container=t.createElement("div",{class:"SpecificationDocuments"});const a={parentObject:{parentId:n.getSelectedRefId()},connectorOptions:{fetchSecurityContext:()=>e.appContext.getSecurityContext(),platformUrls:{"3DSpace":e.appContext.platformUrl,platformId:e.appContext.platformTenant},getWorkUnderHeaders:function(){var e=o.get();return t.is(e)&&t.is(e.AuthoringContextHeader)?e.AuthoringContextHeader:{}}},webinwin:!1},i=c.extend({init:function(t){this._parent(t)},onRemoved:function(){}});n.SpecificationsPane=new i(a),n.SpecificationsPane.modelEvents.subscribe({event:"upload-attachment-complete"},n.addDocument.bind(n)),n.SpecificationsPane.modelEvents.subscribe({event:"attach-attachment-complete"},n.addDocument.bind(n)),n.SpecificationsPane.modelEvents.subscribe({event:"detach-attachment-complete"},n.deleteDocument.bind(n)),n.SpecificationsPane.inject(n.elements.container)},getSelectedRefId(){return this.options.appContext.getSelectedRefId()},updateFacet(){const t=this.getSelectedRefId();if(!t)return void this.notApplicable();const e={parentId:t};this.SpecificationsPane&&(this.SpecificationsPane.show(),this.SpecificationsPane.options.parentObject.parentId!==t&&this.SpecificationsPane.setParentObject(e))},destroyComponent(){this.SpecificationsPane.destroy()},onResize(){this.updateFacet()},onRefresh(){this.updateFacet()},addDocument(t){let e={};t.documents&&t.documents.length>0?e=t.documents[0]:t.document&&(e=t.document),this.options.appContext.addDocument(t.parentObject.parentId,e)},deleteDocument(t){this.options.appContext.deleteDocument(t.parentObject.parentId,t.id)}})}));