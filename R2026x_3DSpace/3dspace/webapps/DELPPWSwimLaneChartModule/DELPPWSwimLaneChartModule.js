define("DS/DELPPWSwimLaneChartModule/ChartPanel",["UWA/Core"],(function(e){"use strict";return function(t,n){var i,o,a,r,s,l,c=n.getComponent("WUXFrameWindowsManager").getFrameWindow(t.getAppContext()),u=n.create("Element","div",{class:"EChartView-panel-container"}),d=c.getImmersiveFrame(),f={};return i=function(){(o=n.create("Panel",{domId:a,identifier:"panel-EChart"+a,position:{my:"center",at:"center"},title:r,immersiveFrame:d,content:u,minWidth:800,minHeight:250,snappableFlag:!1,resizableFlag:!0,closeButtonFlag:!0,useBordersFlag:!0,visibleFlag:!1,collapsibleFlag:!0,verticallyStretchableFlag:!0})).close=function(){s?s():o.hide()}},{init:function(t){f=e.extend(f,t),a=e.is(t.identifier)?t.identifier:"",r=e.is(t.title)?t.title:"",s=e.is(t.onClose,"function")?t.onClose:null,l=e.is(t.className)?t.className:""},destroy:function(){e.is(o)&&(o.destroy(),o=void 0)},show:function(){var t;e.is(o)&&!1===o.visibleFlag&&o.show(),(t=o.immersiveFrame.getDockingElement(o.currentDockArea))&&(t.collapseDockingZoneFlag=!1)},hide:function(){o.hide()},getContainer:function(){return u},buildSkeleton:function(){i(),u.addClassName(l)}}}})),define("DS/DELPPWSwimLaneChartModule/SwimLaneChartComponent",["UWA/Core"],(function(e){"use strict";return function(t,n){const i={ROUTINGS:{headerBackground:"#4d4d4d",headerText:"white"},MANUFACTURING:{headerBackground:"#009ddb",headerText:"white"},RESOURCES:{headerBackground:"#ffcd00",headerText:"black"}},o=["PLMSpecifyHowToCollectDataCnx","DELResourcePrmPlanSET","DELResourcePrmPlanGET"];var a,r,s,l,c,u,d,f,m,p,g,h,I,P,C,S,R=t.getComponent("SwimLaneChart");return c=e.is(n.identifier)?n.identifier:"",s=e.is(n.columnOptions)?n.columnOptions:[],l=e.is(n.nodeOptions)?n.nodeOptions:[],I=e.is(n.onNodeDoubleClick,"function")?n.onNodeDoubleClick:null,P=e.is(n.onChartNodeSelectionChange,"function")?n.onChartNodeSelectionChange:null,S=e.is(n.getNodeContextMenu,"function")?n.getNodeContextMenu:null,C=function(t){var n;if(e.is(r)&&e.is(t)&&S)return(n=r.swimLaneChartdocument.getSelectedNodes()).length>0&&n.forEach((function(e){P(null,e),r.swimLaneChartdocument.unSelectNode(e.id)})),r.swimLaneChartdocument.selectNode(t.id),P(t,null),S(t)},d=function(){a=e.createElement("div",{class:"canvas-cv",id:"canvas-"+c})},g=function(t,n){var a,r,s,c,u,d,f,m,p,g,h,I,P,C,S,R,y,L,E=l[n],N=t.tileInfo,w=e.is(N.icon)?N.icon:"",v=function(t){var n=[];return t.forEach((function(e){n.push({tag:"td",text:e})})),new e.Element("tr",{html:n})},M=function(t,n){var i="",o=Array.isArray(t)?t:[t];return o.forEach((function(t,a){var r=N[t.name];r&&(t.name.contains("V_ContQuantity")||t.name.contains("V_RefQuantity")?(e.is(r.refQuantity)&&""!==r.refQuantity&&(i+="<p>"+r.refQuantity+"</p>"),e.is(r.instQuantity)&&""!==r.instQuantity&&(i+="<p>"+r.instQuantity+"</p>"),e.is(r.linksQuantity)&&r.linksQuantity.length>0&&(i+="<ul>",r.linksQuantity.forEach((function(e){""===e.value?i+="<li>"+e.role+"</li>":i+="<li>"+e.role+" : "+e.value+"</li>"})),i+="</ul>")):(0!==a&&(i+=" "),t.displayTitle&&(i+=t.title+" : "),e.is(r,"object")&&e.is(r.iconPath)&&e.is(r.label)?i={icon:r.iconPath,label:r.label}:"NULL"!==r&&(i+=r,a!==o.length-1||n||(i="<p>"+i+"</p>"))))})),i};return o.includes(t.type)?(E=l.WKITYPES,p=[],g=[],h=[],I=(u=E).options,P=new e.Element("div",{class:"row-node-content"}),C=new e.Element("div",{class:"row-node-title-content"}),S=new e.Element("p",{class:"row-node-title"}),R=new e.Element("img",{class:"row-node-icon"}),y=new e.Element("table",{class:"row-node-table"}),L=new e.Element("tbody"),f=M(u.title,!0),e.is(f,"object")?(R.src=f.icon,R.inject(C),S.setText(f.label),S.inject(C),C.inject(P)):(S.setText(f),S.inject(P)),[].concat(...u.subtitles).forEach((function(e){"criticality"===e.name?(d=M(e,!1),P.innerHTML+=d):"value"===e.name?m=N[e.name]:e.name.contains("min")?g.push(e):e.name.contains("max")&&h.push(e)})),e.is(I.columnHeaders)&&p.push(v(I.columnHeaders)),e.is(I.rowValues)&&I.rowValues.forEach((function(e,t){var n=g[t].name,i=h[t].name;""===N[n]&&""===N[i]||p.push(v([e,N[n],N[i]]))})),p.forEach((function(t,n){var i,o,a;n%2==0&&t.classList.add("even-row"),1===n&&(i=new e.Element("td",{text:m,rowspan:p.length}),t.insertBefore(i,t.children[t.children.length-1])),L.appendChild(t),1===p.length&&((a=new Array(I.columnHeaders.length-1).fill(""))[a.length-1]=m,o=v(a),L.appendChild(o))})),L.inject(y),y.inject(P),c=P,a={id:N.id,content:{childElement:""!==c.innerHTML?c:null}}):(r=i[n].headerBackground,s=i[n].headerText,c=function(t){var n=new e.Element("div",{class:"node-content"});return t.forEach((function(e){var t;t=M(e,!1),n.innerHTML+=t})),n}(E.subtitles),a={id:N.id,header:{text:M(E.title,!0),textWrap:"wrap",color:r,textColor:s,leftIcon:w},content:{childElement:""!==c.innerHTML?c:null}}),e.is(t.parentId)&&(a.parentId=t.parentId),a},h=function(e,t,n){var i=[],o=e.id.replace("column_",""),a=Object.keys(s).indexOf(o),r={id:e.id,title:e.title,color:a%2==1?"#f4f5f6":"#ffffff"};return t.sort(((e,t)=>e.group-t.group)),t.forEach((function(e){var t,a;t=g(e,o),i.push(t),(a=n.find((t=>t.id==="group_"+e.group)))||(a={id:"group_"+e.group,elements:[]},n.push(a)),a.elements.push(t.id),t.groupId=a.id})),i.length>0&&(r.nodes=i),r},p=function(){var e=[],t=[];Object.values(s).forEach((function(n){var i,o=n.columnInfo,a=n.nodesInfo;i=h(o,a,t),e.push(i)})),t.sort(((e,t)=>e.id.match(/\d+/)[0]-t.id.match(/\d+/)[0])),u=t,r.model={columns:e,groups:t}},m=function(){var e=new R({title:"SwimLaneChart View",searchBar:!0,onNodeDblSelect:function(e){I&&I(e)},onNodeSelect:function(e){P&&P(e,null)},onNodeUnSelect:function(e){P&&P(null,e)},onContextMenu:function(e){return C(e)}});return a.appendChild(e),e},f=function(){e.is(r)||(r=m(),p())},{init:function(){d()},inject:function(e){a.inject(e)},createChartComponent:function(){f()},destroy:function(){e.is(a)&&e.is(r)&&(a.remove(),a.destroy(),a=void 0)},getSelectedNodes:function(){if(e.is(r))return r.swimLaneChartdocument.getSelectedNodes()},selectNodes:function(t){e.is(r)&&r.swimLaneChartdocument.selectNodes(t,!1)},unselectNodes:function(t){e.is(r)&&r.swimLaneChartdocument.unSelectNodes(t)},unSelectAllNodes:function(){e.is(r)&&r.swimLaneChartdocument.unSelectAllNodes()},fitToWindow:function(){e.is(r)&&r.swimLaneChartdocument.resetTransformation()},exportToSvg:function(){e.is(r)&&r.swimLaneChartdocument.exportToSvg()},expandAllNodes:function(){e.is(r)&&r.swimLaneChartdocument.expandAll()},minimizeAllNodes:function(){e.is(r)&&r.swimLaneChartdocument.collapseAll()},expandNode:function(t){e.is(r)&&r.swimLaneChartdocument.expandNode(t)},minimizeNode:function(t){e.is(r)&&r.swimLaneChartdocument.collapseNode(t)},deleteNode:function(t){e.is(r)&&r.swimLaneChartdocument.deleteNode(t)},deleteGroup:function(t){var n="group_"+t,i=u.find((e=>e.id===n));e.is(r)&&e.is(i)&&r.swimLaneChartdocument.deleteGroup(i.id)},updateColumn:function(t){var n;e.is(r)&&(n=h(t.columnInfo,t.nodesInfo,u),r.swimLaneChartdocument.updateColumn(n))}}}})),define("DS/DELPPWSwimLaneChartModule/SwimLaneChartModule",["UWA/Core","DS/DELPPWSwimLaneChartModule/ChartPanel","DS/DELPPWSwimLaneChartModule/SwimLaneChartComponent","text!DS/DELPPWSwimLaneChartModule/assets/json/SwimLaneChartDefaultParams.json","DS/DELPPWWorkInstructionsModule/ResourceParameterPlan/ResourceParameterPlanEditUI","DS/DELPPWWorkInstructionsModule/DataCollect/DataCollectDialogUI"],(function(e,t,n,i,o,a){"use strict";return{behaviors:["UXFactoryBehavior","ResourceBehavior","ModelBehavior","SelectionBehavior","RootsBehavior","LinkBehavior","ProcessImplementBehavior","CapableResourceLinkBehaviour","DataCollectWKIBehavior","ResourceParameterPlanBehavior","WUXNodeModelBehavior","AppPreferencesBehavior"],creator:function(r,s,l,c,u,d,f,m,p,g,h,I,P){const C={ROUTINGS:["SYSTEM","OPERATION"],MANUFACTURING:["PROCESS","SERVICE","CONSTRUCTION"],RESOURCES:["RESOURCE"],WKITYPES:["WORKINSTRUCTION"]},S="ROUTINGS",R="WKITYPES",y="RESOURCES",L="MANUFACTURING",E=["MANUFACTURING","ROUTINGS","RESOURCES"],N="ProcessImplementLinkOcc",w="PartialProcessImplementLink",v="SequenceNumber",M=["ProcessImplementLink","PartialProcessImplementLink"],T=["DELResourcePrmPlanSET","DELResourcePrmPlanGET"],b=["PLMSpecifyHowToCollectDataCnx"];var D,x,V,A,F,U,k,O,_,W,G,H={},j={},Q=!1,B=!1,K=!1,Y={},z=[],X=[],q="V_RefQuantity",J=["Range","Min","Value","Max"],Z=["Acceptable","Normal","Failure"],$="SWIMLANECHART-VIEW",ee=["DELAsmProcessCanUseCnx","SecondaryCandidateResourceLink","ProcessImplementLinkOcc","ProcessImplementLink","PartialProcessImplementLink"],te=["CapableResourcesStructureLink","DELAsmProcessCanUseCnx","SecondaryCandidateResourceLink"],ne=["DELResourcePrmPlanSET","DELResourcePrmPlanGET","PLMSpecifyHowToCollectDataCnx"],ie={title:"PLMSpecifyHowToCollectDataCnx.V_DCLabel",mode:"PLMSpecifyHowToCollectDataCnx.V_DCMode",criticality:"PLMSpecifyHowToCollectDataCnx_Custo.V_DCCriticality",value:"PLMSpecifyHowToCollectDataCnx_Custo.V_Value",unit:"PLMSpecifyHowToCollectDataCnx_Custo.V_DCUnit",minValue:"PLMSpecifyHowToCollectDataCnx_Custo.V_MinValue",maxValue:"PLMSpecifyHowToCollectDataCnx_Custo.V_MaxValue",minControlValue:"PLMSpecifyHowToCollectDataCnx_Custo.V_MinControlValue",maxControlValue:"PLMSpecifyHowToCollectDataCnx_Custo.V_MaxControlValue",minEoFValue:"PLMSpecifyHowToCollectDataCnx_Custo.V_MinEoFValue",maxEoFValue:"PLMSpecifyHowToCollectDataCnx_Custo.V_MaxEoFValue",timestampFormat:"PLMSpecifyHowToCollectDataCnx_Custo.V_DCTimestampFormat"},oe={title:"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPTitle",mode:"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMode",criticality:"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPCriticality",value:"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPValue",unit:"V_RPPUnit",minValue:"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinValue",maxValue:"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxValue",minControlValue:"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinControlValue",maxControlValue:"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxControlValue",minEoFValue:"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinEoFValue",maxEoFValue:"PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxEoFValue"},ae=s.getComponent("Breadcrumb"),re=s.getComponent("GeneratedToolbar"),se=s.getComponent("TooltipModel"),le=s.getComponent("WUXCommandsManager"),ce=function(){var e=[];return Object.keys(A).forEach((function(t){e.push(...A[t].nodesInfo)})),e},ue=function(){var t,n,i;return e.is(O)?t=O:e.is(k)&&(0===k.path.length?n=k.id:(i=c.getInstance(k.path[0]),n=(i=c.getReference(i.get("isAggregatedBy"))).get("PID")),n&&(t=d.getRootFilter(n),t=e.is(t)&&e.is(t.originalFilterQuery)?t.originalFilterQuery:void 0)),t},de=function(t,n){var i,o,a,r,s,l;if(e.is(t)&&(l=e.is(t.get("to"),"array")?t.get("to")[t.get("to").length-1]:t.get("to"),e.is(l)&&(r=c.findAllInstsPaths(l)[0][0],a=e.is(r)?c.getInstance(r):c.getInstance(n),e.is(a)&&(i=c.getAggregatingReferenceModelFromInstance(a),e.is(i)))))if(o=d.getRootFilter(i.get("PID")),e.is(o)&&e.is(o.originalFilterQuery)){if(o=o.originalFilterQuery,c.isInstance(n)?s=c.getInstance(n).get("isAggregatedBy"):(n=(n=c.findAllInstsPaths(n)[0])[n.length-1],e.is(n)&&(s=c.getInstance(n).get("isAggregatedBy"))),!c.getFilteredInstancesFromCollection(s,o,{sort:!0}).some((e=>e.get("PID")===n)))return!1}else o=void 0;return!0},fe=function(e){var t=ce(),n=c.findAllRefsPaths(e)[0];return t.find((e=>C.ROUTINGS.includes(e.PPRType)&&n.includes(e.referenceId)))},me=function(t){var n=ce();return e.is(t)?n.filter((e=>e.referenceId===t||e.planRefId===t)):null},pe=function(t){var n=ce();return e.is(t)?n.find((n=>e.is(n.linkIds)&&n.linkIds.includes(t))):null},ge=function(t){var n=ce();return e.is(t)?n.find((e=>e.tileInfo.id===t)):null},he=function(t){var n=[];return t.forEach((function(t){var i,o,a,r,s,l,u,d=!1,f=e.is(t.get("from"),"array")?t.get("from")[t.get("from").length-1]:t.get("from"),p=e.is(t.get("to"),"array")?t.get("to")[t.get("to").length-1]:t.get("to");if(e.is(p)&&e.is(f)){if(t.get("type")===N){if(d=n.find((function(t){var n=!1;return e.is(t.instModel)&&(n=t.instModel.get("PID")===p),n})),e.is(d))return void d.connModels.push(t);r=t,s=!1,l=m.findUpperScopeLinks(r.get("from")),u=m.findUpperScopeLinks([r.get("to")[0]]),a=e.is(l)||(l=m.findUpperPartialScopeLinks(r.get("from")),s=(u=m.findUpperPartialScopeLinks([r.get("to")[0]])).scopeLinks.some((e=>e.get("type")===w)),e.is(l)||!s)?e.is(l)&&e.is(u)?l.scopeLinks.filter((function(e){return u.scopeLinks.some((t=>e.get("PID")===t.get("PID")))})):void 0:m.findUpperScopeLinks([r.get("to")[0]]).scopeLinks}if(e.is(a)&&a.length>0){if(!de(a[0],p))return}else if(te.includes(t.get("type"))&&!de(t,p))return;i=c.getReferenceModel(p),c.isInstance(p)&&(o=c.getInstance(p)),n.push({refModel:i,instModel:o,connModels:[t],parentScopeModel:e.is(a)?a[0]:null})}})),n},Ie=function(){var t,n=V.getSelectedNodes(),i=function(t,n){e.is(U)&&U.updateNodeModel(t,{disabled:n})};1===n.length?(t=ge(n[0].id),i("information",!1),T.includes(t.type)||b.includes(t.type)?(i("relations",!0),t.isValid?i("edit",!1):i("edit",!0)):(i("relations",!1),i("edit",!0))):(i("information",!0),i("relations",!0),i("edit",!0))},Pe=function(e,t){var n,i,o;switch(e){case"MANUFACTURING":t.nodesInfo.sort(((e,t)=>e.tileInfo["PLMEntity.V_Name"].localeCompare(t.tileInfo["PLMEntity.V_Name"])));break;case"RESOURCES":i=t.nodesInfo.filter((e=>C.RESOURCES.includes(e.PPRType))),o=t.nodesInfo.filter((e=>!C.RESOURCES.includes(e.PPRType))),i.sort(((e,t)=>e.tileInfo["PLMEntity.V_Name"].localeCompare(t.tileInfo["PLMEntity.V_Name"]))),n=[...i,...o],t.nodesInfo.splice(0,t.nodesInfo.length,...n)}},Ce=function(t,n){var i,o,a,r=t.tileInfo.id,s=A[n].nodesInfo.findIndex((e=>e.tileInfo.id===r));e.is(s)&&-1!==s&&(A[n].nodesInfo.splice(s,1),V.deleteNode(r),n===S&&(o=t.group,a=[],Object.keys(A).forEach((function(e){a.push(...A[e].nodesInfo.filter((e=>e.group===o))),A[e].nodesInfo=A[e].nodesInfo.filter((e=>e.group!==o))})),e.is(a)&&a.forEach((function(e){V.deleteNode(e.tileInfo.id)})),V.deleteGroup(o)),e.is(t.parentId)?(i=A[n].nodesInfo.filter((e=>e.parentId===t.parentId)),e.is(i)&&0===i.length&&-1!==(s=A[n].nodesInfo.findIndex((e=>e.tileInfo.id===t.parentId)))&&(A[n].nodesInfo.splice(s,1),V.deleteNode(t.parentId))):A[n].nodesInfo=A[n].nodesInfo.filter((e=>e.parentId!==r)))},Se=function(e,t){var n=!1;e.forEach((function(e){A[t].nodesInfo=A[t].nodesInfo.map((function(t){return t.tileInfo.id===e.tileInfo.id?(n=!0,e):t})),n||A[t].nodesInfo.push(e),Pe(t,A[t])})),V.updateColumn(A[t])},Re=function(t){(t=Array.isArray(t)?t:[t]).forEach((function(t){var n,i,o,a,r,s,l,u,d,m,p,g,h=!1,I=[];t.get("type")===N&&(r=e.is(t.get("from"),"array")?t.get("from")[t.get("from").length-1]:t.get("from"),s=e.is(t.get("to"),"array")?t.get("to")[t.get("to").length-1]:t.get("to"),e.is(s)&&e.is(r)&&c.isInstance(s)&&(n=c.getReferenceModel(s),i=c.getInstance(s),l=me(c.getReferenceIdFromInstance(s)),u=fe(c.getReferenceId(r)),e.is(l)&&e.is(u)&&(m=l.find((e=>e.group===u.group)),e.is(m)?(a={category:m.category,groupNumber:m.group,parentId:e.is(m.parentId)?m.parentId.split("node_")[1]:null},m.linkIds.push(t.get("PID")),o=m.linkIds.map((e=>f.getConnection(e))),I.push(xe(n,i,o,a)),Se(I,a.category)):(p=he([t])[0],a={category:L,groupNumber:u.group,parentId:e.is(p.parentScopeModel)?p.parentScopeModel.get("to"):null},I.push(xe(n,i,p.connModels,a)),e.is(a.parentId)&&(d=ge(I[0].parentId),(h=A[a.category].nodesInfo.some((t=>!e.is(t.parentId))))||p.parentScopeModel.get("type")!==w&&!c.isReference(r)||(g=c.getReferenceModel(k.id),(c.isAKindOf(g,"DELLmiWorkPlanSystemReference")||c.isAKindOf(g,"DELLmiServiceWorkPlanSystemReference"))&&(h=!0)),!e.is(d)&&h&&(n=c.getReferenceModel(a.parentId),i=null,o=[p.parentScopeModel],a={category:L,groupNumber:u.group},I.push(xe(n,i,o,a)))),I.length>0&&Se(I,a.category)))))}))},ye=function(t){(t=Array.isArray(t)?t:[t]).forEach((function(t){var n,i,o,a,r,s;ee.includes(t.get("type"))&&(n=pe(t.get("PID")),e.is(n)&&(t.get("type")===N?-1!==(i=n.linkIds.indexOf(t.get("PID")))&&(n.linkIds.splice(i,1),0===n.linkIds.length?Ce(n,n.category):(o={category:n.category,groupNumber:n.group,parentId:e.is(n.parentId)?n.parentId.split("node_")[1]:null},e.is(n.referenceId)&&(a=c.getReferenceModel(n.referenceId)),e.is(n.instanceId)&&(r=c.getInstance(n.instanceId)),e.is(n.linkIds)&&(s=n.linkIds.map((e=>f.getConnection(e)))),n.tileInfo=De(a,r,s,o),Se([n],n.category))):Ce(n,n.category)))}))},Le=function(t){(t=Array.isArray(t)?t:[t]).forEach((function(t){var n,i,o,a,r=pe(t.get("PID"));e.is(r)&&(a={category:r.category,groupNumber:r.group},e.is(r.referenceId)&&(n=c.getReferenceModel(r.referenceId)),e.is(r.instanceId)&&(i=c.getInstance(r.instanceId)),e.is(r.linkIds)&&(o=r.linkIds.map((e=>f.getConnection(e)))),r.tileInfo=De(n,i,o,a),Se([r],a.category))}))},Ee=function(t){(t=Array.isArray(t)?t:[t]).forEach((function(t){var n,i,o,a=t;c.isInstance(t.get("PID"))&&(a=c.getReferenceModel(t.get("PID")),n=t),e.is(t._changed.V_TreeOrder)?C.ROUTINGS.includes(a.get("PPRTYPE"))&&je():(o=me(a.get("PID")),e.is(o)&&o.forEach((function(t){var o=ne.includes(t.type)?y:t.category,r={category:t.category,groupNumber:t.group};e.is(n)||(n=e.is(t.instanceId)?c.getInstance(t.instanceId):null),e.is(t.linkIds)&&(i=t.linkIds.map((e=>f.getConnection(e)))),t.tileInfo=De(a,n,i,r),Se([t],o)})))}))},Ne=function(t){(t=Array.isArray(t)?t:[t]).forEach((function(t){var n,i,o,a,r,s,l,u,d,m,p,I,P,L=t,E=ce();c.isInstance(t.get("PID"))&&(L=c.getReferenceModel(t.get("PID")),i=t),(C.ROUTINGS.includes(L.get("PPRTYPE"))||ne.includes(L.get("type")))&&(a=Math.max(...E.map((e=>e.group))),e.is(i)?(u=S,m=c.isInstance(k.id)?c.getReferenceIdFromInstance(k.id):k.id,i.get("isAggregatedBy")===m&&(K&&(I=ue(),P=c.getSequenceNumber(k.path,m,{filterQuery:O}),p=c.getTreeOrderPosition(m,i.get("PID"),{filterQuery:I}),P=e.is(P)&&0!==P?P+"."+p:p,Y[i.get("PID")]=P),n=xe(L,i,null,{category:u,groupNumber:a+1}),Se([n],u))):(u=R,g.isDataCollectRow(L)?(o=fe(L.get("dataCollectPlanPID")),e.is(o)&&(n=xe(L,i,null,{category:u,groupNumber:o.group}),Se([n],y))):h.isResourceParameterRow(L)&&(o=fe(L.get("resourceParamPlanPID")),e.is(o)&&(s=me(L.get("resourceID")).find((e=>e.group===o.group)),e.is(s)?(d={category:u,groupNumber:o.group,parentId:s.referenceId},n=xe(L,i,null,d),Se([n],y)):(r=c.getReferenceModel(L.get("resourceID")),e.is(r)&&(d={category:y,groupNumber:o.group},l=f.getImpactedConnections(r.get("PID"),!1,{relationTypes:te}),s=xe(r,null,l,d),e.is(s)&&(d={category:u,groupNumber:o.group,parentId:s.referenceId},n=xe(L,i,null,d),Se([s,n],y))))))))}))},we=function(t){(t=Array.isArray(t)?t:[t]).forEach((function(t){var n,i=e.is(t.get("isInstanceOf"))?t.get("isInstanceOf"):t.get("PID");n=me(i),e.is(n)&&n.forEach((function(e){var t=e.category;ne.includes(e.type)&&(t="RESOURCES"),Ce(e,t)}))}))},ve=function(t){var n,i,o,a,s=[],l=t.changed,d=l.absPath.toString();""===d?d=l.nodeId:d.contains(",")&&(o=d.split(","),d=o[o.length-1]),c.isInstance(d)&&(d=c.getReferenceIdFromInstance(d)),n=me(d),e.is(n)&&e.is(V)&&(i=function(t){return e.is(t)?t.map((e=>e.tileInfo.id)):null}(n),l.isSelected?Q?Q=!1:(e.is(_)||(_=t.sourceId),"RPPMOD"===t.sourceId||"DCPMOD"===t.sourceId?(_=t.sourceId,0!==(a=u.getSelections())[0].length&&r.notify("EGraphNodeSelect",{selectedNodeIds:a})):_!==t.sourceId&&(s.push(...u.getModuleSelections("RPPMOD")),s.push(...u.getModuleSelections("DCPMOD")),(a=s.map((e=>e.id))).length>0&&r.notify("chartNodeSelect",{selectedNodeIds:a})),V.selectNodes(i)):B?B=!1:V.unselectNodes(i)),Ie()},Me=function(t,n){var i,o,a,s,l,d=[],f={},m=u.getSelections(),p=e.is(t)?ge(t.id):null,g=e.is(n)?ge(n.id):null;e.is(g)&&(B=!0,e.is(g.planRefId)?(o=g.planRefId,s=g.referenceId):o=g.referenceId,(d=m.flat()).push(o),e.is(s)&&d.push(s)),e.is(p)&&(m[0].indexOf(k.id)>-1&&d.push(k.id),e.is(p.planRefId)?(i=p.planRefId,a=p.referenceId):i=p.referenceId,i=e.is(p.planRefId)?p.planRefId:p.referenceId,0===(l=c.findAllInstsPaths(i)[0]).length&&(l=null),Q=!0,f.changed={nodeId:i,rowId:a,childOccurencePath:e.is(p.occurencePath)?p.occurencePath:l,isSelected:!0}),f.selectedNodeIds=d,r.notify("EGraphNodeSelect",f),r.notify("chartNodeSelect",f),Ie()},Te=function(t){e.is(t.PPRType)&&C.ROUTINGS.includes(t.PPRType)&&(k.id=e.is(t.instanceId)?t.instanceId:t.referenceId,k.path=t.occurencePath,je())},be=function(t){var n=e.is(t)?ge(t.id):null;e.is(n)&&Te(n)},De=function(t,n,i,o){var a=j[o.category],r=g.isDataCollectRow(t),s=h.isResourceParameterRow(t),u={};return u.id="group_"+o.groupNumber+"##node_"+t.get("PID"),e.is(a.options.displayIcon)&&"Enabled"===a.options.displayIcon&&(u.icon=l.getIconURLFromKey(t.get("type"))),[a.title].concat(a.subtitles).forEach((function(o){(Array.isArray(o)?o:[o]).forEach((function(o){var a,d,f,p,I;r||s?a=function(n){var i,o,a,c,u,d,f,m;if(r?(a=ie,i=g.getNodeOptions(t)):s&&(a=oe,i=h.getNodeOptions(t.toJSON())),e.is(i)&&(u=(o=i.grid)[c=a[n]]?o[c]:"",d=o[a.unit]?o[a.unit]:"",e.is(u,"object")&&e.is(u.iconPath)&&e.is(u.label)&&(""!==u.iconPath&&u.iconPath.contains("MarkUp")?u.label=l.getNLSValue("SwimLaneChartModule.InvalidRPPRow"):u=u.label),e.is(c)))switch(n){case"mode":u+=" - ";break;case"value":u=e.is(o[a.timestampFormat])&&""!==o[a.timestampFormat]?o[a.timestampFormat]:u+" "+d;break;case"minValue":case"minControlValue":case"minEoFValue":m=o[c+"_Inclusive"],e.is(m,"boolean")?(f=m?"≤":"<",u=""!==u?u+" "+f:u):u="";break;case"maxValue":case"maxControlValue":case"maxEoFValue":m=o[c+"_Inclusive"],e.is(m,"boolean")?(f=m?"≤":"<",u=""!==u?f+" "+u:u):u=""}return u}(o.name):o.name.contains("V_ContQuantity")||o.name.contains(q)?(d=o.name,p={instQuantity:"",linksQuantity:[],refQuantity:""},I=function(t){var n,i,o="";return n=c.isReference(t)?m.getRefQuantityAttribute(t):m.getQuantityAttributeFromModel(t),e.is(n)&&([o,i]=n.value.split(" "),"Ratio"===n.magnitude&&(i="PERCENTAGE"),o=o+" "+(e.is(i)?l.getNLSForUnit(n.magnitude,i):l.getNLSForUnit(n.magnitude))),o},d.contains(q)?e.is(i)&&M.includes(i[0].get("type"))&&(f=I(t.get("PID")),e.is(f)&&""!==f&&(p.refQuantity=l.getNLSValue("SwimLaneChartModule.RefQuantity.Title"),p.refQuantity+=f)):e.is(i)&&!M.includes(i[0].get("type"))&&(e.is(n)&&(f=I(n.get("PID")),e.is(f)&&""!==f&&(p.instQuantity=l.getNLSValue("SwimLaneChartModule.TotalQuantity.Title"),p.instQuantity+=f)),e.is(i)&&i.length>0&&i.forEach((function(t){var n=t.get("PID"),i={};i.value=I(n),i.role=m.getRoleFromModelOrComputed(n).nlsText,e.is(i.value)&&""===i.value&&(i.value=f),p.linksQuantity.push(i)}))),a=p):a=function(i){var o,a,r,s=c.getAttributeInfo(i);return e.is(n)&&(o=i===v?Y[n.get("PID")]:i.includes("RelationType.")?n.get(i.replace("RelationType.","")):n.get(i)),"type"===i&&(o=l.getNLSValue(o)),!e.is(t.get(i),"string")||"true"!==t.get(i).toLowerCase()&&"false"!==t.get(i).toLowerCase()||(o=t.get(i).toLowerCase()),o="NULL"!==o&&e.is(o)?o:t.get(i),e.is(o)&&e.is(s)&&(r=c.getMagnitude(s),e.is(r)&&""!==r&&([o,a]=o.split(" "),a=l.getNLSForUnit(r,a),e.is(a)&&""!==a&&(o=o+" "+a))),o}(o.name),e.is(a)&&(u[o.name]=a)}))})),u},xe=function(t,n,i,o){var a;return a={referenceId:t.get("PID"),instanceId:e.is(n)?n.get("PID"):null,linkIds:e.is(i)?i.map((e=>e.get("PID"))):null,PPRType:t.get("PPRTYPE"),type:t.get("type"),group:o.groupNumber,category:o.category,isValid:!0,tileInfo:De(t,n,i,o)},e.is(o.parentId)&&(a.parentId="group_"+a.group+"##node_"+o.parentId),e.is(t.get("dataCollectPlanPID"))?a.planRefId=t.get("dataCollectPlanPID"):e.is(t.get("resourceParamPlanPID"))&&(a.planRefId=t.get("resourceParamPlanPID")),T.includes(a.type)&&!t.get("validResourceLinkExists")&&(a.isValid=!1),a},Ve=function(t,n){var i,o,a={sort:!0},s={},d=[];return i=c.getReferenceModel(t),O=ue(),E.forEach((function(e){var t;s[e]={columnInfo:(t=e,{id:"column_"+t,title:l.getNLSValue("SwimLaneChartModule.Column."+t+".Title")}),nodesInfo:[]}})),o=O?c.getFilteredInstancesFromCollection(i.get("PID"),O,a):c.getInstancesFromCollection(i.get("PID"),a),z=[],X=[],o.forEach((function(t){var i,o,a=t.get("PID"),s=n.concat([a]),u=c.getReferenceModelFromInstance(t);K&&(o=c.getSequenceNumber(s,u,{_filterQuery:O}),Y[a]=o),i=O?c.getAllFilteredChildrenFromCollection(u.get("PID"),O):c.getAllChildrenFromCollection(u.get("PID")),e.is(i)&&i.referencesPID.forEach((function(t){var n,i,o,a=c.findAllRIRPaths(t),s=c.getReferenceModel(t);e.is(s)&&(g.isDataCollectPlan(s)?d.push((i=t,o=a,new Promise((function(e,t){g.getDataCollectRows(i,o,{onComplete:function(t){var n={};t.length>0&&(n[i]=t,z.push(n)),e()},onFailure:function(){r.warn(l.getNLSValue("SwimLaneChartModule.DataCollectPlanRowsFailure")),t()}})})))):h.isResourceParameterPlan(s)&&d.push((n=t,new Promise((function(t,i){var o,a,s=[],u={resourceRefs:[],resourceParameterListIds:[],resourceParameterListObj:{}};o=c.findAllRefsPaths(n)[0],a=c.findAllInstsPaths(n)[0],u.rppPath=a,o.forEach((function(t){var n;n=f.getImpactedObjects(t,a,{relationTypes:te}),e.is(n)&&n.length>0&&u.resourceRefs.push(...n)})),u.resourceRefs.forEach((t=>{var n=new Promise((n=>{h.getResourceParameterLists({blnForceRefresh:!0,physicalid:t}).then((function(i){e.is(i)&&(u.resourceParameterListIds=u.resourceParameterListIds.concat(Object.keys(i)),u.resourceParameterListObj[t]=Object.keys(i)),n()}))}));s.push(n)})),Promise.all(s).then((function(){e.is(u.resourceRefs)&&u.resourceRefs.length>0?h.getResourceParameterRows(n,u,{onComplete:function(e){var i={};e.length>0&&(i[n]=e,X.push(i)),t()},onFailure:function(){r.warn(l.getNLSValue("SwimLaneChartModule.ResourceParamPlanRowsFailure")),i()}}):t()}))})))))}))})),Promise.allSettled(d).then((function(){return o.forEach((function(t,o){var a,r,l,d,m,p,I=[],P=[],y=t.get("PID"),L=n.concat([y]),E=c.getReferenceModelFromInstance(t),N={groupNumber:o,category:null,parentId:null};e.is(E)&&C.ROUTINGS.includes(E.get("PPRTYPE"))&&(N.category=S,(a=xe(E,t,null,N)).preSelected=(p=y,u.getSelectedInsts().findIndex((function(e){return e.get("isAggregatedBy")===i.get("PID")&&e.get("PID")===p}))>-1),a.occurencePath=L,s.ROUTINGS.nodesInfo.push(a),r=O?c.getAllFilteredChildrenFromCollection(E.get("PID"),O):c.getAllChildrenFromCollection(E.get("PID")),e.is(r)&&(r.instancesPID.push(y),Object.values(r).forEach((function(t){t.forEach((function(t){var n,i=[],o=c.getReferenceModel(t),r=f.getImpactedConnections(t,!1,{relationTypes:ee});e.is(r)&&r.length>0&&(I.push(...r),n=r.filter((e=>"DELAsmProcessCanUseCnx"===e.get("type"))),e.is(n)&&(n.forEach((e=>i.push(...f.getSecondaryRscLinksFromPrimaryLink(e)))),i.length>0&&I.push(...i))),(z.length>0||X.length>0)&&(g.isDataCollectPlan(o)?d=z.find((n=>e.is(n[t]))):h.isResourceParameterPlan(o)&&(d=X.find((n=>e.is(n[t])))),e.is(d)&&(m=d[t],N.category=R,e.is(m)&&m.forEach((function(t){e.is(t.get("resourceID"))?(N.parentId=t.get("resourceID"),P.push(t.get("resourceID"))):N.parentId=null,a=xe(t,null,null,N),s.RESOURCES.nodesInfo.push(a)}))))}))})),I.length>0&&(I=[...new Set(I)],l=he(I),e.is(l)&&l.length>0&&l.forEach((function(t){var n,i,o=t.refModel;if(e.is(o)){for([n,i]of Object.entries(C))i.includes(o.get("PPRTYPE"))&&(N.category=n);if(N.parentId=e.is(t.parentScopeModel)?t.parentScopeModel.get("to"):null,!e.is(t.parentScopeModel)){if(C.MANUFACTURING.includes(o.get("PPRTYPE"))&&1===l.length)return;if(C.RESOURCES.includes(o.get("PPRTYPE"))&&!P.includes(o.get("PID")))return}a=xe(o,t.instModel,t.connModels,N),C.MANUFACTURING.includes(o.get("PPRTYPE"))?s.MANUFACTURING.nodesInfo.push(a):C.RESOURCES.includes(o.get("PPRTYPE"))&&s.RESOURCES.nodesInfo.push(a)}})))))})),Object.keys(s).forEach((function(e){Pe(e,s[e])})),{columns:s}}))},Ae=function(){e.is(V)&&(V.destroy(),V=void 0)},Fe=function(){var t=r.getAppContext(),n=le.getCommandCheckHeader("DisplayProperties",t);e.is(n)&&!1===n.getState()&&n.toggleState()},Ue=function(){var t=r.getAppContext(),n=le.getCommandCheckHeader("Relations",t);e.is(n)&&n.toggleState()},ke=function(){var e,t,n,i=V.getSelectedNodes();if(1===i.length){if(e=ge(i[0].id),t=c.getReferenceModel(e.referenceId),n=c.findAllInstsPaths(e.planRefId)[0],!e.isValid)return void r.warn(l.getNLSValue("SwimLaneChartModule.InvalidRPPRow"));b.includes(e.type)?G.editDataCollectRow(t,n,{dataCollectPlanPID:e.planRefId}):T.includes(e.type)&&W.editResourceParameterRow(t,n)}},Oe=function(t){var n=[],i=e.is(t)?ge(t.id):null;return e.is(i)&&(n.push({type:"PushItem",icon:"url("+l.getIconURLFromKey("DisplayProperties")+")",title:l.getNLSValue("SwimLaneChartModule.Information.Title"),action:{callback:function(){Fe()}}}),ne.includes(i.type)?n.push({type:"PushItem",icon:"url("+l.getIconURLFromKey("EditDataCollectRow")+")",title:l.getNLSValue("SwimLaneChartModule.EditRowTypes.Title"),state:i.isValid?"enabled":"disabled",action:{callback:function(){ke()}}}):(n.push({type:"PushItem",icon:"url("+l.getIconURLFromKey("Relations")+")",title:l.getNLSValue("SwimLaneChartModule.RelationsPanel.Title"),action:{callback:function(){Ue()}}}),C.ROUTINGS.includes(i.PPRType)&&n.push({type:"PushItem",icon:"url("+l.getIconURLFromKey("ExpandAll")+")",title:l.getNLSValue("SwimLaneChartModule.NavigateInto.Title"),action:{callback:function(){Te(i)}}}),n.push({type:"PushItem",icon:"url("+l.getIconURLFromKey("CollapseNode")+")",title:l.getNLSValue("SwimLaneChartModule.Minimize.Title"),action:{callback:function(){V.minimizeNode(t.id)}}}),n.push({type:"PushItem",icon:"url("+l.getIconURLFromKey("ExpandNode")+")",title:l.getNLSValue("SwimLaneChartModule.Expand.Title"),action:{callback:function(){V.expandNode(t.id)}}}))),n},_e=function(){e.is(F)&&(F.destroy(),F=void 0)},We=function(){var t,n={entries:[]},i=function(){return{dataElements:{typeRepresentation:"functionIcon",icon:{fontIconFamily:WUXManagedFontIcons.Font3DS,fontIconSize:"2x",className:"toolbar-action"},position:"far",category:"view"}}};_e(),F=e.createElement("div",{class:"swimLaneChart-toolbar"}),function(t,n){var i,o,a,r,s,u=e.createElement("div",{class:"swimLaneChart-navigator"}),d=[],f=function(e,t){a&&d.unshift({id:e,label:a.get("PLMEntity.V_Name"),icon:{iconPath:l.getIconURLFromKey(a.get("type")),iconSize:{width:"20px",height:"20px"}},path:t})};if(e.is(n,"string")&&(n=n.split(",")),0===n.length)f((a=c.getReference(t)).get("PID"),[]);else for(s=n.length-1;s>=0;s--)r=n[s],a=c.getReferenceModel(r),f(r,n.slice(0,s+1)),0===s&&(o=c.getInstance(r),f((a=c.getAggregatingReferenceModelFromInstance(o)).get("PID"),[]));return d.length>0&&(i=new ae({value:d,mode:ae.MODE.NAVIGATION})).addEventListener("selectionChange",(function(){var e=i.selectedValues[0];k=e,je()})),i.inject(u),u}(k.id,k.path).inject(F),V&&(n.entries.push(function(){let e=i();return e.id="information",e.dataElements.icon.iconName="topbar-info",e.dataElements.disabled=!0,e.dataElements.tooltip=new se({title:l.getNLSValue("SwimLaneChartModule.Information.Title")}),e.dataElements.value=Fe,e}()),n.entries.push(function(){let e=i();return e.id="relations",e.dataElements.icon.iconName="window-split-horizontal",e.dataElements.category="advancedTools",e.dataElements.disabled=!0,e.dataElements.tooltip=new se({title:l.getNLSValue("SwimLaneChartModule.RelationsPanel.Title")}),e.dataElements.value=Ue,e}()),n.entries.push(function(){let e=i();return e.id="edit",e.dataElements.icon.iconName="pencil",e.dataElements.category="advancedTools",e.dataElements.disabled=!0,e.dataElements.tooltip=new se({title:l.getNLSValue("SwimLaneChartModule.EditRowTypes.Title")}),e.dataElements.value=ke,e}()),n.entries.push(function(){let e=i();return e.id="refresh",e.dataElements.icon.iconName="refresh",e.dataElements.tooltip=new se({title:l.getNLSValue("SwimLaneChartModule.Refresh.Title")}),e.dataElements.value=je,e}()),n.entries.push(function(){let e=i();return e.id="expandAll",e.dataElements.icon.iconName="double-chevron-down",e.dataElements.tooltip=new se({title:l.getNLSValue("SwimLaneChartModule.ExpandAll.Title")}),e.dataElements.value=V.expandAllNodes,e}()),n.entries.push(function(){let e=i();return e.id="minimizeAll",e.dataElements.icon.iconName="double-chevron-up",e.dataElements.tooltip=new se({title:l.getNLSValue("SwimLaneChartModule.MinimizeAll.Title")}),e.dataElements.value=V.minimizeAllNodes,e}()),n.entries.push(function(){let e=i();return e.id="FitToWindow",e.dataElements.icon.iconName="zoom-fit",e.dataElements.tooltip=new se({title:l.getNLSValue("SwimLaneChartModule.FitToWindow.Title")}),e.dataElements.value=V.fitToWindow,e}()),n.entries.push(function(){let e=i();return e.id="export",e.dataElements.icon.iconName="download",e.dataElements.tooltip=new se({title:l.getNLSValue("SwimLaneChartModule.ExportSVG.Title")}),e.dataElements.value=V.exportToSvg,e}()),t=re.prototype.createTreeDocument(n),(U=new re({overflowManagement:"dropdown",direction:"horizontal",items:t})).elements.container.addClassName("swimLaneChart-actions"),U.inject(F)),F.inject(x,"top")},Ge=function(){return O=null,Ve(k.id,k.path).then((function(e){A=e.columns,Ae(),(V=new n(s,{identifier:$,columnOptions:A,nodeOptions:j,onNodeDoubleClick:be,onChartNodeSelectionChange:Me,getNodeContextMenu:Oe})).init()})).then((function(){V.inject(x),V.createChartComponent(),We()}))},He=function(n){var i,o;n.showPanel&&(i=l.getNLSValue(n.titleGraph),(D=new t(r,s)).init({title:i,identifier:$,className:"SwimLaneChart-panel-container",onClose:function(){e.is(n.toggleCmdId)?r.notify("toggleCmdCheckHeaderState",{cmdName:n.toggleCmdId,cmdState:!1}):D.hide()}}),x=D.getContainer(),o=u.getSelectionsWithPaths()[0][0],k={id:o.id,path:o.path},D.buildSkeleton(),D.show(),Ge())},je=function(){_e(),Ae(),Ge()};return{name:"SwimLaneChartModule",listenTo:function(){return{select:ve,referenceAdded:Ne,instanceAdded:Ne,addResourceParamRef:Ne,instanceRemoved:we,referenceRemoved:we,referenceChanged:Ee,instanceChanged:Ee,connectionAdded:Re,connectionRemoved:ye,connectionChanged:Le,reparent:je,ExpandFilterApplied:je,expandFilterUpdated:je,ExpandFilterRemoved:je,replaced:je,refreshSwimLaneChart:je}},onStart:function(t,n){var d,m,p={};e.is(W)||(W=new o(r,s,c,I,h,l,u,P)),e.is(G)||(G=new a(r,s,c,I,g,l)),e.is(t.editFormAttributesXML)&&(d=f.getXMLValues(t.editFormAttributesXML).convert("AttributesDescriptionList.Type","name"),h.changeDataFormatToKF(d),p.editFormConfig=d,W.init(p),G.init(p)),m=function(){Object.keys(C).forEach((function(t){var n=0,i=[],o=H[t];e.is(H)&&e.is(o.attributeList)&&(j[t]={title:[],subtitles:[],options:[]},o.attributeList.sort(((e,t)=>e.rowIndex-t.rowIndex)),o.attributeList.forEach((function(e){if((e=function(e){return e.displayAttributeName&&(e.displayTitle=!0,"type"===e.name?e.title=l.getNLSValue("Column.Type"):e.name===v?e.title=l.getNLSValue("Attribute.SequenceNumber"):"criticality"===e.name?e.title=l.getNLSValue(ie.criticality):e.title=l.getNLSValue(e.name)),e}(e)).name===v&&(K=!0),1===parseInt(e.rowIndex)||0===n&&e.mergeWithPreviousRow)e.index=n,j[t].title.push(e);else if(e.mergeWithPreviousRow)e.index=n,i.push(e),parseInt(e.rowIndex)===o.attributeList.length&&j[t].subtitles.push(i);else{if(0!==n&&j[t].subtitles.push(i),parseInt(e.rowIndex)===o.attributeList.length)return void j[t].subtitles.push([e]);e.index=++n,i=[e]}})),o.displayIcon&&(j[t].options.displayIcon=o.displayIcon),t===R&&(j[t].options.columnHeaders=[],j[t].options.rowValues=[],J.forEach((function(e){var n;n=l.getNLSValue("SwimLaneChartModule.NodeColumnHeader."+e),j[t].options.columnHeaders.push(n)})),Z.forEach((function(e){var n;n=l.getNLSValue("SwimLaneChartModule.NodeRowValue."+e),j[t].options.rowValues.push(n)}))))})),He(t)},new Promise((t=>{var n=e.Json.decode(i);c.webServiceGETRequest("resources/delmia/param/configuration/getAllParameters?domainID=DELUserExperience","GET",(function(i){var o="DisplayIconCheckbox",a="DisplayIconforItemCheckbox",r="DisplayIconforResourceCheckbox",s="DELProcessFlowDiagramAttriutesListParam";Object.keys(C).forEach((function(e){H[e]={displayIcon:"Enabled",attributeList:[]}})),e.is(i)&&i.length>0&&(i.forEach((function(t){switch(t.paramid){case o:H.ROUTINGS.displayIcon=t.params.value;break;case a:H.MANUFACTURING.displayIcon=t.params.value;break;case r:H.RESOURCES.displayIcon=t.params.value;break;case s:e.is(t.params.attributeName)&&t.params.attributeName.contains("BusinessType.")&&(t.params.attributeName=t.params.attributeName.slice(t.params.attributeName.indexOf(".")+1)),H.ROUTINGS.attributeList.push({rowIndex:t.params.rowIndex?t.params.rowIndex:null,mergeWithPreviousRow:t.params.mergeWithPreviousRow?t.params.mergeWithPreviousRow:null,name:t.params.attributeName?t.params.attributeName:null,displayAttributeName:t.params.displayAttribute?t.params.displayAttribute:null,maxWidth:t.params.maxWidth?t.params.maxWidth:null})}})),0===H.ROUTINGS.attributeList.length&&(H.ROUTINGS.attributeList=n.ROUTINGS.attributeList),H.MANUFACTURING.attributeList=n.MANUFACTURING.attributeList,H.RESOURCES.attributeList=n.RESOURCES.attributeList,H.WKITYPES.attributeList=n.WKITYPES.attributeList),e.is(m,"function")&&m(),t()}),(function(){H.ROUTINGS.attributeList=n.ROUTINGS.attributeList,H.MANUFACTURING.attributeList=n.MANUFACTURING.attributeList,H.RESOURCES.attributeList=n.RESOURCES.attributeList,H.WKITYPES.attributeList=n.WKITYPES.attributeList,t()}))})),n()},onStop:function(){e.is(V)&&(V.destroy(),V=void 0),e.is(D)&&(D.destroy(),D=void 0),e.is(W)&&(W.closeDialog(),W=void 0),e.is(G)&&(G.closeDialog(),G=void 0)}}}}}));