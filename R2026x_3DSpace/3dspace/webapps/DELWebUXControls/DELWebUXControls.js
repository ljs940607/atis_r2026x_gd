var __extends=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("DS/DELWebUXControls/FindWidget",["require","exports","DS/Core/WebUXComponents","DS/Utilities/Dom","DS/FindEx/FindWidget"],(function(t,e,i,n,o){"use strict";var s=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=t.apply(this,e)||this;return n.getAutoSelectRowOfCurrentMatchingElement=function(){return this.autoSelectRowOfCurrentMatchingElement},n}return __extends(e,t),e.prototype.init=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];t.prototype.init.apply(this,e)},e.prototype.buildView=function(){t.prototype.buildView.call(this)},e.prototype._applyAutoSelect=function(t){},e.prototype._postBuildView=function(){var e=this;t.prototype._postBuildView.call(this),n.addEventOnElement(this,this.elements.autoSelectToggle,"change",(function(t){e.autoSelect={value:!1,modified:!1},e.autoSelectRowOfCurrentMatchingElement=e.elements.autoSelectToggle.checkFlag}))},e.prototype.destroy=function(){this.autoSelectRowOfCurrentMatchingElement=null,t.prototype.destroy.call(this)},e}(o);return i.addClass(s,"FindWidget"),s})),define("DS/DELWebUXControls/DELProgressBar",["UWA/Core","DS/ControlsEx/LoadingPanel","DS/Logger/Logger","css!DS/DELWebUXControls/assets/css/DELProgressBar.css"],(function(t,e,i){"use strict";return e.inherit({name:"DELProgressBar",logger:i.getLogger("DS/DELWebUXControls/DELProgressBar"),publishedProperties:{stepValue:{defaultValue:1,type:"number"},steps:{defaultValue:null,type:"array"},simulateProgressInStep:{defaultValue:!1,type:"boolean"},fullBarForEachStep:{defaultValue:!1,type:"boolean"}},_computeProgressBarValue:function(t,e){let i=0,n=e-1;for(let e=0;e<n;++e)i+=t[e].weight;return i},_applyProperties:function(t){this._parent(t),this.isDirty("stepValue")&&this._applyStepValue()},buildView:function(){let e=t.is(this.steps,"array")?this.steps:[],i=this.stepValue?this.stepValue:this.publishedProperties.stepValue.defaultValue;if(!this.fullBarForEachStep&&t.is(e,"array")&&e.length>0){if(100!==e.reduce((function(t,e){return t+e.weight}),0))throw new Error("Steps weight must be equal to 100")}this._parent(),this.elements._label.addClassName("del-controls-progress-bar-label"),this.value=this.fullBarForEachStep?0:this._computeProgressBarValue(e,i)},_applyStepValue:function(){let e=t.is(this.steps,"array")?this.steps:[],i=this.stepValue,n=e.length;e.length>0&&(i>n||i<=0?this.logger.error(`StepValue must be in the range [1-${n}]`):(this.info=`${i} / ${n} | ${e[i-1].text}`,this._updateBarProgress(e,i,this.simulateProgressInStep,this.fullBarForEachStep)))},_updateBarProgress:function(t,e,i,n){(async function(){const o=n?0:this._computeProgressBarValue(t,e);if(this.value=o,i){const i=300,s=t[e-1];let r=81;if(s){let t=s.estimatedTime;!isNaN(t)&&t>=0&&(r=t/i)}let a=1-Math.pow(.1,1/r),l=0,p=0;const h=(n?100:s.weight)-1,d=function(t){return new Promise(function(e){this._barRefreshTimeout=setTimeout(e,t)}.bind(this))}.bind(this);for(await d(i);p<r&&!this._skipCurrentStep;++p)l+=(1-l)*a,this.value=o+l*h,await d(i);for(;!this._skipCurrentStep;++p)a=1-1/(1+a),l+=(1-l)*a,this.value=o+l*h,await d(i)}}).call(this)}})})),define("DS/DELWebUXControls/DELGeneratedToolbar",["UWA/Core","DS/Tweakers/GeneratedToolbar","DS/Core/PointerEvents","DS/WebappsUtils/WebappsUtils","css!DS/DELWebUXControls/assets/css/DELGeneratedToolbar.css"],(function(t,e,i,n){"use strict";let o=0,s=0,r=0,a=0,l=!1,p=function(t){let e=t&&t.getFreeZone();return e&&e.getBoundingClientRect()},h=function(t){t.stopPropagation();let e=this,n=e.elements&&e.elements.container,p=e.elements&&e.elements.dragContainer;p&&n&&(Object.entries(e._dragEvents).forEach((t=>p.addEventListener(i[t[0]],t[1]))),Object.entries(e._dragEvents).forEach((t=>document.addEventListener(i[t[0]],t[1]))),r=n.offsetLeft,a=n.offsetTop,t.changedTouches?(o=t.changedTouches[0].clientX-r,s=t.changedTouches[0].clientY-a):t.pageX&&t.pageY&&(o=t.clientX-r,s=t.clientY-a,l=!0))},d=function(t){let e,i,n=this,h=n.elements&&n.elements.container,d=!1,c=p(n.immersiveFrame);if(h&&(t.preventDefault(),t.stopPropagation(),e=t.changedTouches?t.changedTouches[0].clientX:l?t.clientX:null,i=t.changedTouches?t.changedTouches[0].clientY:l?t.clientY:null,e&&i)){if(r=Math.min(Math.max(e-o,-1),window.innerWidth-h.offsetWidth),a=Math.min(Math.max(i-s,-1),window.innerHeight-h.offsetHeight),e=r<0?0:r,i=a<0?0:a,c)!function(){let t=c.left,n=c.top,o=h.getBoundingClientRect();e<=c.x&&i<=c.y?(e=c.x,i=c.y):e+o.width>=c.right&&i<=c.y?(e=c.right-o.width,i=c.y):e<=c.left&&i+o.height>=c.bottom?(e=c.x,i=c.bottom-o.height):e+o.width>=c.right&&i+o.height>=c.bottom?(e=c.right-o.width,i=c.bottom-o.height):e<=t?(e=t,d=!0):e+o.width>=c.right?(e=c.right-o.width,d=!0):i<=n?i=n:i+o.height>=c.bottom&&(i=c.bottom-o.height)}();else{let t=window.innerWidth-h.getDimensions().width;0!==e&&e!==t||(d=!0)}n.direction=d?"vertical":"horizontal",h.setStyles({left:e+"px",top:i+"px"})}},c=function(t){t.preventDefault(),t.stopPropagation();let e=this,n=e.elements&&e.elements.dragContainer;!function(t){let e=t,i=e.elements&&e.elements.container,n=p(e.immersiveFrame),o=i.getBoundingClientRect();i&&n&&(r<n.left?(i.classList.add("left"),i.classList.remove("right","top","bottom")):r+o.width>n.right?(i.classList.add("right"),i.classList.remove("left","top","bottom")):a<n.top?(i.classList.add("top"),i.classList.remove("right","left","bottom")):a+o.height>n.bottom?(i.classList.add("bottom"),i.classList.remove("right","top","left")):i.classList.remove("right","top","left","bottom"))}(e),e._dragEvents&&(Object.entries(e._dragEvents).forEach((t=>n.removeEventListener(i[t[0]],t[1]))),Object.entries(e._dragEvents).forEach((t=>document.removeEventListener(i[t[0]],t[1])))),l=!1},u=function(){let t=this,e=t.elements&&t.elements.container,i=p(t.immersiveFrame),n=e.getBoundingClientRect();e&&!e.isHidden()&&(n.bottom>i.bottom&&(e.style.top=i.bottom-n.height+"px"),n.right>i.right&&(e.style.left=i.right-n.width+"px"),n.top<i.top&&(e.style.top=`${i.top}px`),n.left<i.x&&(e.style.left=`${i.x}px`),e.classList.contains("right")?e.style.left=i.right-n.width+"px":e.classList.contains("left")?e.style.left=`${i.x}px`:e.classList.contains("top")?e.style.top=`${i.top}px`:e.classList.contains("bottom")&&(e.style.top=i.bottom-n.height+"px"))};return e.inherit({name:"DELGeneratedToolbar",publishedProperties:{immersiveFrame:{defaultValue:null,type:"object",category:"Behavior"}},buildView:function(){this._parent(),this.elements.container.addClassName("del-controls-toolbar-maincontainer"),this.elements.dragContainer=new t.Element("div",{class:"del-controls-toolbar-dragContainer"}).inject(this.elements.container,"top"),this.elements.dragImage=new t.Element("img",{class:"del-controls-toolbar-dragimage",src:n.getWebappsAssetUrl("DELWebUXControls","icons/I_ToolbarDrag.png")}).inject(this.elements.dragContainer),this.elements.dragImageRotated=new t.Element("img",{class:"del-controls-toolbar-dragimage-rotated",src:n.getWebappsAssetUrl("DELWebUXControls","icons/I_ToolbarDragRotated.png")}).inject(this.elements.dragContainer)},handleEvents:function(){this._parent(),this.elements.dragContainer&&(this._dragEvents={POINTERMOVE:d.bind(this),POINTERUP:c.bind(this)},this._dragStart=h.bind(this),this.elements.dragContainer.addEventListener(i.POINTERDOWN,this._dragStart)),this.immersiveFrame&&(this.freeZoneResize=u.bind(this),this.immersiveFrame.addEventListener("freeZoneResize",this.freeZoneResize))},_applyDirection:function(){this._parent(),this.elements.dragImageRotated&&this.elements.dragImage&&("vertical"===this.direction?(this.elements.container.addClassName("del-toolbar-vertical"),this.elements.dragImageRotated.show(),this.elements.dragImage.hide()):(this.elements.container.removeClassName("del-toolbar-vertical"),this.elements.dragImageRotated.hide(),this.elements.dragImage.show()))},destroy:function(){this.elements.dragContainer&&this.elements.dragContainer.removeEventListener(i.POINTERDOWN,this._dragStart),this.immersiveFrame&&this.immersiveFrame.removeEventListener("freeZoneResize",this.freeZoneResize),this.elements.dragContainer.destroy(),this._parent()}})}));__extends=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("DS/DELWebUXControls/FindDialog",["require","exports","DS/FindEx/FindDialog","DS/DELWebUXControls/FindWidget","DS/Core/WebUXComponents","DS/Windows/ImmersiveFrame"],(function(t,e,i,n,o,s){"use strict";var r=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.apply(this,e)||this}return __extends(e,t),e.prototype._preBuildView=function(e){t.prototype._preBuildView.call(this,e),this.elements.findWidget=new n(e.findWidgetOptions),this._inputProperties=e,e.immersiveFrame=new s,e.renderTo&&e.renderTo.appendChild(e.immersiveFrame.getContent()),e.findWidgetOptions&&e.findWidgetOptions.relatedWidget&&e.findWidgetOptions.relatedWidget.identifier&&(e.identifier=e.findWidgetOptions.relatedWidget.identifier+"_FindDialog")},e.prototype._postBuildView=function(){t.prototype._postBuildView.call(this),this._inputProperties&&this._inputProperties.renderTo&&this._inputProperties.position&&(this.position={my:"top left",at:"top left",of:this._inputProperties.findWidgetOptions&&this._inputProperties.findWidgetOptions.relatedWidget&&this._inputProperties.findWidgetOptions.relatedWidget.getContent?this._inputProperties.findWidgetOptions.relatedWidget.getContent():this._inputProperties.renderTo,offsetX:this._inputProperties.position&&this._inputProperties.position.x?this._inputProperties.position.x:0,offsetY:this._inputProperties.position&&this._inputProperties.position.y?this._inputProperties.position.y:0})},e.prototype.close=function(){t.prototype.close.call(this)},e.prototype.destroy=function(){this._inputProperties=null,t.prototype.destroy.call(this),this.immersiveFrame&&(this.immersiveFrame.destroy(),this.immersiveFrame=null)},e.prototype.getAutoSelectRowOfCurrentMatchingElement=function(){return this.elements.findWidget.getAutoSelectRowOfCurrentMatchingElement()},e.prototype.setTitle=function(t){this.title=t},e}(i);return o.addClass(r,"FindDialog"),r}));