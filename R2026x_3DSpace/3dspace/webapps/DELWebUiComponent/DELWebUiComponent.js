define("DS/DELWebUiComponent/facets/DataCollectMgmtUI",["UWA/Core","DS/DataGridView/DataGridView","DS/TreeModel/TreeDocument","DS/TreeModel/TreeNodeModel","css!DS/DELWebUiComponent/assets/css/WKIInstructionFacet.css"],(function(e,t,i,n){"use strict";return function(a){var o,s,l=a||null,r={defaultColumnDef:{editableFlag:!1},rowSelection:"single",columnSelection:"none",cellSelection:"none"},c=new i;return l&&!l.container&&(l.container=e.createElement("div",{id:"instructions-tab-container",class:"instructions-tab-container"})),{buildView:function(i){s=e.createElement("div",{id:"dc-row-container",class:"dc-row-container"}).inject(l.container),c.prepareUpdate(),e.is(i.rows,"array")&&i.rows.forEach((e=>{var t=new n(e);c.addRoot(t)})),c.pushUpdate(),(o=new t(Object.assign({},r,i,{treeDocument:c}))).getContent().inject(s),o.layout.cellHeight=40},clean:function(){l&&l.container&&l.container.empty(),s&&s.empty(),c&&c.empty()},destroy:function(){c&&(c.empty(),c=null),s&&s.destroy(),o&&o.destroy(),l&&l.container&&l.container.destroy()}}}})),define("DS/DELWebUiComponent/Thumbnail",["UWA/Core","UWA/Class","DS/VisuEvents/EventsManager","DS/UIKIT/Spinner","DS/Controls/Toggle","DS/WebappsUtils/WebappsUtils","css!DS/DELWebUiComponent/assets/css/Thumbnail"],(function(e,t,i,n,a,o){"use strict";var s=0,l=t.extend({init:function(t){var l,r,c,d,u,h,m,p,g,f,b,D,v,w,C,y,S,E,U,T,W,I,L,F=this,A=new Image,k=c,V=d,M=!1,x=!1,N=0,P=o.getWebappsAssetUrl("DELWebUiComponent","graphics/")+"DefaultPreview.png";c="number"==typeof(t=t||{}).width?t.width:154,d="number"==typeof t.height?t.height:118,this._parent(t),s++,this.setPreview=function(e,t){e?(p=e,A.src=p,t&&W.setStyles({"background-color":t}),L()||m||(m=setInterval((function(){L()&&(clearInterval(m),m=null)}),10)),W.setStyles({backgroundImage:'url("'+p+'")'}),this.hideSpinner()):this.displaySpinner()},this.setThumbnailTexts=function(i){v||(v=e.createElement("div",{class:"ThumbnailTextDiv"}).inject(D)).setStyles({width:t.icon?"calc(100% - 45px)":"calc(100% - 25px)","margin-left":t.icon?"0":"15px"}),w&&v.removeChild(w),C&&v.removeChild(C),y&&v.removeChild(y),i.title&&((w=e.createElement("p",{id:"thumbTitle"+t.id,class:"ThumbnailText ThumbnailTitle",contenteditable:!1}).inject(v)).innerText=i.title,w.title=i.title),w&&v.appendChild(w),C&&v.appendChild(C),y&&v.appendChild(y),D.setStyles({height:C||y?"100px":""})},this.setDisplayFlag=function(e,t){M=e,T.setAttribute("active-mode",e)},this.activate=function(){M=!0,T.addClassName("active"),T.setAttribute("active-mode",!0)},this.deactivate=function(){M=!1,T.removeClassName("active"),T.setAttribute("active-mode",!1)},this.select=function(){T.setAttribute("selected-mode",!0)},this.selectSecondary=function(){T.setAttribute("selected-mode","2")},this.deselect=function(){T.setAttribute("selected-mode",!1)},this.getDisplayFlag=function(){return M},this.getData=function(){return t.data},this.displaySpinner=function(){l||((l=new n({visible:!0})).inject(I),l.getContent().addClassName("ThumbnailSpinner"),I.setStyles({opacity:"1"}))},this.hideSpinner=function(){if(l){for(;I.firstChild;)I.removeChild(I.firstChild);l.destroy(),l=null}e.is(I)&&I.setStyles({opacity:"0"})},this.getThumbnailID=function(){return t.id},this.getContent=function(){return U},this.inject=function(e){return U.inject(e),this},this.clear=function(){S&&g&&i.removeEvent(S,"onPrimaryPointerClick",g),b&&i.removeEvent(U,"onPrimaryPointerClick",b),this.hideSpinner(),m&&clearInterval(m),A=b=g=null,T=W=I=D=v=w=C=y=null,S=E=null},L=function(){var e,t,i,n,a;return!(A&&(!A||A.src!==P))||(e=A.width,t=A.height,i=0===r?k-10:54,n=0===r?V-10:54,e>0&&t>0&&50!==e&&50!==t&&((e>i||t>n)&&((a=e/t)>i/n?(t=n,e=n*a):(e=i,t=i/a)),W.setStyles({"background-size":Math.round(e)+"px "+Math.round(t)+"px"}),A.src=P,!0))},this.setDisplayType=function(e){e!==r&&(k=0===(r=e)?c:285,V=0===r?d:84,1===r?(W.hasClassName("ThumbnailPreviewThumbDiv")&&W.removeClassName("ThumbnailPreviewThumbDiv"),D&&D.hasClassName("ThumbnailThumbContentDiv")&&D.removeClassName("ThumbnailThumbContentDiv"),W.addClassName("ThumbnailPreviewTileDiv"),D&&(D.addClassName("ThumbnailTileContentDiv"),D.setStyles({top:""})),y&&y.setStyles({display:""})):(W.hasClassName("ThumbnailPreviewTileDiv")&&W.removeClassName("ThumbnailPreviewTileDiv"),D&&D.hasClassName("ThumbnailTileContentDiv")&&D.removeClassName("ThumbnailTileContentDiv"),W.addClassName("ThumbnailPreviewThumbDiv"),D&&(D.addClassName("ThumbnailThumbContentDiv"),D.setStyles({top:V-33+"px",height:"100px"})),y&&y.setStyles({display:"none"})),T.setStyles({width:k+"px",height:V+"px"}),p&&(A.src=p,L()||m||(m=setInterval((function(){L()&&(clearInterval(m),m=null)}),10))))},this.getDisplayType=function(){return r},this.setIsCheckableFlag=function(e){e!==h&&(h=e,S.setStyles({display:h?"":"none"}))},this.getIsCheckableFlag=function(){return h},this.setCheckFlag=function(e,i,n){h&&e!==u&&(u=e,E&&(E.checkFlag=e,!n&&t.checkFlagChangedCB&&t.checkFlagChangedCB({id:t.id,checkFlag:e,data:t.data,event:i}))),"1"===r&&T.setStyle("outline",h&&e?"4px solid #368ec4":"1px solid #e2e4e3")},this.isChecked=function(){return!!h&&u},U=e.createElement("div",{id:"thumbnailView_"+s+"_"+t.id,class:"ThumbnailThumbContainer"}),(T=e.createElement("div",{id:"thumbMainDiv"+s+"_"+t.id,class:"ThumbnailThumbMainDiv"}).inject(U)).setAttribute("active-mode","false"),e.createElement("div",{id:"thumbActive"+s+"_"+t.id,class:"thumbnail-active"}).inject(T),e.createElement("div",{id:"thumbShading"+s+"_"+t.id,class:"ThumbnailColorDiv"}).inject(T),W=e.createElement("div",{id:"thumbAppIcon"+s+"_"+t.id,class:"ThumbnailPreviewDiv"}).inject(T),I=e.createElement("div",{class:"ThumbnailDisabledDiv"}),W.appendChild(I),(t.icon||t.title||t.subtitle)&&(D=e.createElement("div",{id:"thumbContent"+s+"_"+t.id}).inject(T),t.icon&&e.createElement("img",{id:"thumbImg"+s+"_"+t.id,src:t.icon,class:"ThumbnailIcon"}).inject(D).setStyles({backgroundImage:'url("'+t.icon+'")'}),(t.title||t.subtitle||t.additionalText)&&F.setThumbnailTexts(t)),S=e.createElement("div",{id:t.id+"_checkBoxDiv"+s+"_",class:"ThumbnailCheckBoxDiv"}).inject(W),(E=new a({checkFlag:!1}).inject(S)).elements.container.addClassName("ThumbnailCheckDiv"),this.setIsCheckableFlag("boolean"==typeof t.isCheckable&&t.isCheckable),this.setCheckFlag("boolean"==typeof t.checkFlag&&t.checkFlag,null,!0),this.setDisplayFlag("boolean"==typeof t.displayFlag&&t.displayFlag),this.setPreview(t.preview,t.backgroundColor),this.setDisplayType("number"==typeof t.displayType?t.displayType:0),t.clickCB&&(b=function(e){setTimeout((function(){x||0!==N||t.clickCB({id:t.id,data:t.data,event:e}),x=!1,N>0&&N--}),t.doubleClickCB?200:10)},i.addEvent(U,"onPrimaryPointerClick",b)),g=function(e){h&&(x=!0,F.setCheckFlag(!u,e.from[0].event))},i.addEvent(S,"onPrimaryPointerClick",g),f=function(){setTimeout((function(){E&&h&&(E.checkFlag=u)}),0)},E.addEventListener("buttonclick",f)}});return l.THUMBNAIL=0,l.TILE=1,l})),define("DS/DELWebUiComponent/CommonUtils",["UWA/Core","DS/ApplicationFrame/FrameWindowsManager"],(function(e,t){"use strict";var i,n=function(){return{getImmersiveFrame:function(e){let i;if(e){let t=e.getComponent(WAfrStandardComponentKey.UIFrame);t&&(i=t.getImmersiveFrame())}else i=t.getFrameWindow().getImmersiveFrame();return i},getUIFrame:function(e){let i;if(e){let t=e.getComponent(WAfrStandardComponentKey.UIFrame);t&&(i=t.getUIFrame())}else i=t.getFrameWindow().getUIFrame();return i}}};return e.is(i)||(i=new n),i})),define("DS/DELWebUiComponent/StatusBar/LastIndexingTime",["UWA/Core","DS/UIKIT/Tooltip"],(function(e,t){"use strict";return function(i){var n,a,o,s;return n=e.createElement("div",{class:"hidden"}).inject(i.container),o=e.createElement("span",{class:"labelTextContainer"}).inject(n),s=e.createElement("span",{class:"timeTextContainer"}).inject(n),a=new t({target:n,position:"top right"}),{setIndexingTime:function(t,l){var r,c=i.nls?i.nls:"";e.is(t,"number")&&(r=new Date(1e3*t),l=e.is(l)?l:"%I:%M:%S %p",o.setText(c),s.setText(e.Date.strftime(r,l)),n.removeClassName("hidden"),a.setBody(c+""+e.Date.strftime(r,l)))},destroy:function(){n&&n.destroy()}}}})),define("DS/DELWebUiComponent/LinkFacetView",["UWA/Core","DS/Controls/Expander","css!DS/DELWebUiComponent/assets/css/LinkFacet.css"],(function(e,t){"use strict";return function(i){var n,a=e.createElement("div",{class:"linkContainer"}),o=e.createElement("div",{class:"provideContainer"}),s=new t({header:"Attributes",body:a}),l=new t({header:"Mfg Item",body:o});return i.container=e.createElement("div",{id:"link-tab-container",class:"link-tab-container"}),s.inject(i.container),l.inject(i.container),n=function(t){var i=function(t,i){return e.createElement(t,i)},n=i("table",{class:"table"});return t&&e.is(t.results,"array")&&t.results.forEach((a=>{var o,s;e.is(a)&&(o=i("tr").inject(n),i("td",{class:"attrCol",html:a.nls?a.nls:""}).inject(o),"type"===a.name?(s=i("td",{class:"typeValueCol"}).inject(o),new e.Controls.Img({url:t.typeIconUrl,height:22,width:22}).inject(s),i("span",{html:a.value?a.value[0]:""}).inject(s)):i("td",{class:"valueCol",html:a.value?a.value[0]:""}).inject(o))})),n},{updateUI:function(t){e.is(t.linkInfo)&&e.is(t.provideInfo)&&(a.empty(),o.empty(),s.show(),l.show(),n(t.linkInfo).inject(a),n(t.provideInfo).inject(o))},destroy:function(){a=o=s=l=i.container=null},hide:function(){s.hide(),l.hide()}}}})),define("DS/DELWebUiComponent/StatusBar/StartUpViewUI",["UWA/Core","DS/UIKIT/Tooltip","css!DS/DELWebUiComponent/assets/css/StartUpView.css"],(function(e,t){"use strict";return function(i){var n=e.createElement("div",{class:"startupViewFonticonContainer",events:{click:function(){i.onClick&&i.onClick()}.bind(this)}}).inject(i.container),a=e.createElement("span",{class:"wux-ui-3ds fonticon-space-rocket pad_status_font_icon pad_status_fonticon_startupView disable-status-bar-command"}).inject(n),o=new t({target:n,position:"top right"}),s=e.is(i.nls,"string")?i.nls:"";return o.setBody(s),i.enable?a.removeClassName("disable-status-bar-command"):a.addClassName("disable-status-bar-command"),{setStartupView:function(e){if(a){a.addClassName("new");let t="";e.forEach((e=>{t+='<div id="statusbar-startupView-'+e.id+'" class="filter-tooltip"><img src="'+e.icon+'" /><p>'+e.name+"</p></div>"})),setTimeout(function(){o.setBody(t)}.bind(this),100)}},setStartUpViewState:function(e){e?a.removeClassName("disable-status-bar-command"):a.addClassName("disable-status-bar-command")},clearStartupView:function(){a&&(a.removeClassName("new"),o.setBody(s))},destroy:function(){n&&n.destroy()}}}})),define("DS/DELWebUiComponent/ControlFactory",["UWA/Core"],(function(e){"use strict";return function(t){var i={DELSlideView:"DS/DELWebUiComponent/DELSlideView",BuildUpDisplayOptions:"DS/DELWebUiComponent/BuildUpDisplayOptions","3DViewList":"DS/DELWebUiComponent/ViewList"},n=function(e){var t,n;for(n in i)if(i.hasOwnProperty(n)&&n===e){t=i[n];break}return t};return{getComponentPromise:function(){var i=Array.prototype.slice.call(arguments);return new e.Promise((function(a,o){var s=i[0],l=n(s),r=[null,t].concat(i.slice(1));e.is(l)?require([l],(function(e){var t=new(Function.prototype.bind.apply(e,r));a(t)})):o("Component not found - %o",s)}))},destroy:function(){i=n=null}}}})),define("DS/DELWebUiComponent/NotificationUtils",["DS/Notifications/NotificationsManagerUXMessages","DS/Notifications/NotificationsManagerViewOnScreen","DS/DELWebViewerUtils/CustomCodesV2"],(function(e,t,i){"use strict";var n,a=function(){return t.setNotificationManager(e),{displayNotification:function(t){e.addNotif(t)},displayNotificationWithCustomCode:function(e){let t=i.getNotificationContent(e),n={eventID:e.level,msg:UWA.is(t)?t.message:e.message,message:UWA.is(t)?t.message:e.message,title:UWA.is(t)?t.title:e.title,level:e.level};this.displayNotification(n)}}};return UWA.is(n)||(n=new a),n})),define("DS/DELWebUiComponent/facets/WkiInstructionsFacetUI",["UWA/Core","css!DS/DELWebUiComponent/assets/css/WKIInstructionFacet.css"],(function(e){"use strict";return function(t){var i,n=t;return n&&!n.container&&(n.container=e.createElement("div",{id:"instructions-tab-container",class:"instructions-tab-container"})),{buildView:function(t){var a,o=t.indexOf("<body>"),s=t.indexOf("</body>");a=o>-1&&s>-1?t.slice(o+6,s):t||"",(i=e.createElement("div",{id:"rich-text-container",class:"rich-text-container"})).innerHTML=a,i.inject(n.container)},clean:function(){n&&n.container&&n.container.empty(),i&&i.empty()},destroy:function(){i&&i.destroy(),n&&n.container&&n.container.destroy()}}}})),define("DS/DELWebUiComponent/DELSlideView",["DS/WebappsUtils/WebappsUtils","DS/Windows/Panel","DS/DELWebUiComponent/Thumbnail","DS/ApplicationFrame/FrameWindowsManager","DS/DEL3DViewer/NodeUtil","DS/DELWebUiComponent/CommonUtils"],(function(e,t,i,n,a,o){"use strict";return function(n,s){var l,r,c,d,u,h,m,p=s.getOption("logger"),g=[],f=s||{},b=UWA.createElement("div",{id:"DELSlidePanelThumbMainDiv"}),D=n.getEnoPadviewer(),v=s.getOption("onSlideSelectedCB"),w=!1,C={id:"DELSlidesPanel",domId:"DELSlidesPanel",identifier:"DELSlidesPanel",className:"DELSlidesPanel",title:"",icon:e.getWebappsAssetUrl("DELWebUiComponent","icons/")+"I_WebSlide.png",immersiveFrame:o.getImmersiveFrame(s.getOption("executionContext")),content:b,minWidth:188,width:188,widthStep:165,minHeight:302,height:302,heightStep:124,allowedDockAreas:WUXDockAreaEnum.RightDockArea|WUXDockAreaEnum.LeftDockArea|WUXDockAreaEnum.TopDockArea,currentDockArea:WUXDockAreaEnum.LeftDockArea,closeButtonFlag:!1,resizableFlag:!0,horizontallyStretchableFlag:!0,verticallyStretchableFlag:!0},y=f.panelOptions?UWA.merge(f.panelOptions,C):C,S={displayType:i.THUMBNAIL,displayFlag:!1,isCheckable:!1,checkFlag:!1},E=f.thumbnailOptions?UWA.merge(f.thumbnailOptions,S):S;return b=y.content,c=function(){g=[],r&&(r.destroy(),r=null),UWA.is(l)&&(l.destroy(),l=null)},n.getEnoPadController().getRoots().filter((function(e){var t=n.getEnoPadController().isFiltered(a.getNodeID(e));return!!t&&t.hasFilter})).length>0&&(w=!0),d=function(e){var t,i,n,a,o,s,l,r,c,d,u,h,m,p;if(e&&e.width&&e.height){for(p=D.getViewer(),t=UWA.createElement("canvas"),i={data:null,width:Math.round(p.SCREEN_WIDTH*window.devicePixelRatio),height:Math.round(p.SCREEN_HEIGHT*window.devicePixelRatio)},p.renderToTarget(i,p.currentViewpoint),(n=i.width/i.height)>e.width/e.height?(t.height=e.height,t.width=t.height*n):(t.width=e.width,t.height=t.width/n),2,t.width*=2,t.height*=2,(a=t.getContext("2d")).clearRect(0,0,t.width,t.height),o=function(e,t,i,n,a){return a&&(t=n-t-1),i*Math.floor(t)+Math.floor(e)},s=a.getImageData(0,0,t.width,t.height),l=i.width/s.width,m=i.height/s.height,c=0;c<s.height;c++)for(d=0;d<s.width;d++)h=o(d,c,s.width,s.height,!1),u=o(l*d,m*c,i.width,i.height,!0),s.data[4*h]=i.data[4*u],s.data[4*h+1]=i.data[4*u+1],s.data[4*h+2]=i.data[4*u+2],s.data[4*h+3]=i.data[4*u+3];return i.data=null,i=null,a.putImageData(s,0,0,0,0,t.width,t.height),(r=new Image).src=t.toDataURL("image/jpeg"),r}},h=function(e){var t;UWA.is(e)&&(t=d({width:200,height:113}),e.thumbnail.setPreview(t.src))},u=function(e,t){var i;i=g.find((function(e){return e.data.uuid===t.getAttribute("sUuid")})),h(i)},w&&(m=n.getEnoPadModelEvents().subscribe({event:"onEndProgressiveLoad"},(function(){var e=g.find((function(e){return e.thumbnail.getDisplayFlag()}));p.debug("DELSlideView :: onEndProgressiveLoad event triggered (Graphics loading is completed)"),h(e)}))),{display:function(e){var n,a=e.wkiContent,o=0,s=function(e){g.forEach((function(t){UWA.is(t.thumbnail)&&(t.id===e.id?(t.thumbnail.activate(),t.thumbnail.select()):(t.thumbnail.deselect(),t.thumbnail.deactivate()))})),v(e,!0)};p.debug("DELSlideView:: display function is invoked with parameters: %o",e),(r=UWA.createElement("div",{id:"DELSlideThumbnailContainer"})).inject(b),l?l.show():(p.debug("DELSlideView:: display - WUXPanel is created with options: %o",y),l=new t(y)),(n=l.immersiveFrame.getDockingElement(l.currentDockArea))&&(n.collapseDockingZoneFlag=!1),UWA.is(e.slides,"array")&&e.slides.length>0&&(e.slides.forEach((function(e){(function(e,t){var i,n,a,o=!0,s=!1;if(e.inWork)s=!1;else if(UWA.is(t)){if(UWA.is(t)&&t.Model[0].WKIObjects)for(n=t.Model[0].WKIObjects,i=0;i<n.length;i++)if("View"===n[i].type&&(o=!1,n[i].proxiedSlideUuid===e.uuid)){s=!0;break}}else s=!0;if(o&&(s=!0),UWA.is(t)&&t.Model[0].WKIRelations)for(a=t.Model[0].WKIRelations,i=0;i<a.length;i+=1)if("AssociatedInstruction"===a[i].type&&a[i].View&&a[i].View.UUID===e.uuid){s=!0;break}return s})(e,a)&&(e.id=++o,w&&(e.onSlideActivated=u),function(e){var t,n=e.data,a={id:e.id,data:n,preview:n.preview,title:n.name,clickCB:s};UWA.merge(a,E),(t=new i(a)).inject(r),e.thumbnail=t,g.push(e)}({data:e,id:"slide"+e.id}))})),s(g[0]))},highlightViews:function(e){g.forEach((function(t){UWA.is(t&&t.thumbnail)&&(e.includes(t.data.uuid)?t.thumbnail.selectSecondary():t.thumbnail.deselect())}))},unHighlightViews:function(e){g.forEach((function(t){UWA.is(t&&t.thumbnail)&&(e.includes(t.data.uuid)||UWA.is(0===e.length))&&t.thumbnail.deselect()}))},activateView:function(e){var t,i;e.viewUUID?(t=e.viewUUID,i="uuid"):(t=e.viewID,i="id"),g.forEach((function(e){UWA.is(e.thumbnail)&&(t===e.data[i]?(e.thumbnail.activate(),e.thumbnail.select(),e.thumbnail.getContent().scrollIntoView(!1),v(e,!1)):(e.thumbnail.deselect(),e.thumbnail.deactivate()))}))},selectActiveView:function(){var e=this.getActiveView();e&&g.forEach((function(t){UWA.is(t.thumbnail)&&e.viewUUID===t.data.uuid&&(t.thumbnail.activate(),t.thumbnail.select())}))},getActiveView:function(){var e=g.find((function(e){return e.thumbnail.getDisplayFlag()}));return UWA.is(e&&e.data&&e.data.uuid)?{viewUUID:e.data.uuid,viewID:e.data.id,viewName:e.data.name}:null},getUuidFromViewId:function(e){let t;return UWA.is(g,"array")&&(t=g.find((function(t){return!!(t&&t.data&&t.data.id)&&t.data.id===e}))),t&&t.data&&t.data.uuid?t.data.uuid:null},reset:function(){p.debug("DELSlideView::reset function is invoked"),c(),UWA.is(m)&&n.getEnoPadModelEvents().unsubscribe(m)},clean:c,hide:function(){UWA.is(l)&&l.hide()},destroy:function(){b&&b.destroy(),g.forEach((e=>{e&&e.thumbnail&&e.thumbnail.clear()})),m&&n.getEnoPadModelEvents().unsubscribe(m),g=[],p=l=f=b=r=D=null,v=w=C=y=S=E=null,c=d=u=h=m=null}}}})),define("DS/DELWebUiComponent/BuildUpDisplayOptions",["UWA/Core","DS/Windows/Panel","DS/TreeModel/TreeDocument","DS/TreeModel/TreeNodeModel","DS/DataGridView/DataGridView","DS/ApplicationFrame/FrameWindowsManager","DS/Visualization/ThreeJS_DS","DS/DELWebViewerUtils/Utils","DS/Utilities/TouchUtils","DS/DELWebUiComponent/CommonUtils","css!DS/DELWebUiComponent/assets/css/BuildUpDisplayOptions.css"],(function(e,t,i,n,a,o,s,l,r,c){"use strict";return function(o,d){var u,h,m,p=d.event,g=function(e,t){p.publish(e,t)},f=new e.Element("div",{id:"DELBuildupDisplayOptionsMainContainer"}),b=new e.Element("div",{id:"DisplayOptionsGridContainer"}),D=new e.Element("div",{id:"DisplayOptionsToolbarContainer"}),v=(h=c.getImmersiveFrame(d.executionContext),(m=new t({domId:"DisplayOptionsPanel",title:d.getNLSValue("Panel.DisplayOptions.Title"),icon:{iconPath:l.getAssetsUrl("DELWebUiComponent","icons/I_DELBuildUpDisplayOptions.png"),iconSize:{height:r.getTouchMode()?"22px":"16px",width:r.getTouchMode()?"22px":"16px"}},immersiveFrame:h,ensureHeightDefinitionOnHierarchy:!0,verticallyStretchableFlag:!0,resizableFlag:!0,visibleFlag:!0,position:{my:"top center",at:"top center",of:h},content:f,width:472,height:300,identifier:"DisplayOptionsPanel"})).addEventListener("close",(function(){g(p.events.onCommandClose,{commandId:"BuildUpDisplayOptions",grid:{data:!1}})})),m),w=new i,C=((u=new a({identifier:"DELBuildupDisplayOptions",treeDocument:w,columns:d.columns,cellSelection:"none",selectionBehavior:{selectNodeModelOnCellSelection:!1},focusNextEditableCellOnTabFlag:!1,cellActivationFeedback:"none",cellPreselectionFeedback:"none",columnDragEnabledFlag:!1,showSelectionCheckBoxesFlag:!1,showOutlineFlag:!0,showRowHeaderBackgroundFlag:!0,layoutOptions:{rowsHeader:!1,columnHeaderHeight:30,cellHeight:40},showContextualMenuColumnFlag:!1})).subscribeOnceToAllCellsRendered((function(){u.sizeAllColumnsToFit({computeAllRows:!0,computeColumnHeader:!0})})),u.getContent().inject(b),u);if(d.toolbarConfig&&(C.setToolbar(d.toolbarConfig).inject(D),D.inject(f)),b.inject(f),function(){var t=function(e,t,i){var n,a,o={buildUpSettingsType:"DisplayOptions",category:i,settings:{}};switch(e){case"color":o.settings[e]=(a=t.match(/.{1,2}/g),{R:parseInt(a[0],16),G:parseInt(a[1],16),B:parseInt(a[2],16)});break;case"opacity":o.settings[e]=(n=t,Math.round(255*Math.min(n,1)));break;default:o.settings[e]=t}return o},i={liveChange:function(i,n){var a;e.is(n)&&-1!==n.rowID&&i.srcElement&&i.srcElement.dsModel&&(a=i.dsModel.layout.getDataIndexFromColumnIndex(n.columnID),g(p.events.onBuildUpDisplayOptionsChange,t(a,i.srcElement.dsModel.value,n.nodeModel.options.categoryName)))}};for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&C.addEventListener(e,i[e]);w.onNodeModelUpdate((function(e){var i;e&&e.data&&e.data.attributes&&(i=Object.keys(e.data.attributes)[0],g(p.events.onBuildUpDisplayOptionsChange,t(i,e.data.attributes[i],e.data.nodeModel.options.categoryName)))}))}(),e.is(d.readOnly,"boolean")){C.columns.forEach((e=>e.disabled=d.readOnly));let e=C.getToolbar();e&&(e.disabled=d.readOnly)}return{create:function(t){e.is(t,"array")&&t.length>0&&function(e){w.prepareUpdate(),w.removeRoots(),e.forEach((function(e){var t,i=e.grid.color?(new s.Color).setRGB(parseInt(e.grid.color.R)/255,parseInt(e.grid.color.G)/255,parseInt(e.grid.color.B)/255).getHexString():"";e.grid.color=i?"#"+i:"",t=new n(e),w.addRoot(t)})),w.pushUpdate()}(t)},updateToolbar:function(t,i){let n=this._getValue(t);i&&i.grid&&e.is(n,"boolean")&&i.grid.data!==n&&C.getToolbar().updateNodeModel(t,i)},_getValue:function(e){let t,i=C&&C.getToolbar&&C.getToolbar().getNodeModelByID?C.getToolbar().getNodeModelByID(e):null;return i&&(t=i.getAttributeValue("data")),t},destroy:function(){v&&v.close()}}}})),define("DS/DELWebUiComponent/ViewList",["UWA/Core","DS/Logger/Logger","DS/Windows/Panel","DS/TreeModel/TreeDocument","DS/TreeModel/TreeNodeModel","DS/DataGridView/DataGridView","DS/ApplicationFrame/FrameWindowsManager","DS/Visualization/ThreeJS_DS","DS/DELWebViewerUtils/Utils","DS/Controls/ProgressBar","DS/Utilities/TouchUtils","DS/DELWebUiComponent/CommonUtils","css!DS/DELWebUiComponent/assets/css/ViewList.css"],(function(e,t,i,n,a,o,s,l,r,c,d,u){"use strict";return function(s,h){var m,p,g,f,b,D=h.event,v=t.getLogger("DS/DELWebUiComponent/ViewList"),w=new e.Element("div",{id:"DEL3DViewListPanelMainContainer",html:[{tag:"div",id:"DEL3DViewListProgressBar"},{tag:"div",id:"DEL3DViewListMainContentContainer"}]}),C=new c({infiniteFlag:!0,displayStyle:"lite",emphasize:"info"}).inject(w.getElement("#DEL3DViewListProgressBar"),"top"),y=new n,S=(p=u.getImmersiveFrame(h.executionContext),(g=new i({id:"ViewList3D",domId:"ViewList3D",identifier:"ViewList3D",title:h.getNLSValue("Panel.ViewList3D.Title"),icon:{iconPath:r.getAssetsUrl("DEL3DViewer","icons/32/I_3DViewList_ON.png"),iconSize:{height:d.getTouchMode()?"22px":"16px",width:d.getTouchMode()?"22px":"16px"}},resizableFlag:!0,immersiveFrame:p,position:{my:"top center",at:"top center",of:p},ensureHeightDefinitionOnHierarchy:!0,verticallyStretchableFlag:!0,content:w,width:600,height:400,visibleFlag:!0})).elements.container.addClassName("del-web-viewlist-panel"),g.addEventListener("close",(function(){var e,t;e=D.events.onCommandClose,t={commandId:"3DViewList",grid:{data:!1}},D.publish(e,t)})),g),E=((m=new o({treeDocument:y,columns:h.columns,defaultColumnDef:{editableFlag:!1},showOutlineFlag:!0,rowSelection:"multiple",columnSelection:"none",cellSelection:"none",layoutOptions:{cellHeight:40}})).getContent().inject(w.getElement("#DEL3DViewListMainContentContainer")),m),U=function(t){var i,n=[];return y&&e.is(t,"array")&&t.length>0&&(t.forEach(((t={})=>{e.is(t.paths,"array")?t.paths.forEach((e=>{e&&n.push(e.toString())})):v.debug(`paths property not available for items ${JSON.stringify(t)}`)})),i=y.search({match:function(e){var t=e.nodeModel.getAttributeValue("path");if(t&&n.indexOf(t.toString())>-1)return!0}})),i};return f=h.columns,b={},f&&(f.forEach((function(e){b[e.dataIndex]={filterId:"set"}})),y.setFilterModel(b)),e.is(h.readOnly)&&E.columns.forEach((e=>e.disabled=h.readOnly)),{create:function(t){var i,n;t&&e.is(t,"array")&&t.length>0&&(y.removeRoots(),i=function(e){var t=[];return e.forEach((function(e){var i=e.grid.color?(new l.Color).setRGB(parseInt(e.grid.color.R)/255,parseInt(e.grid.color.G)/255,parseInt(e.grid.color.B)/255).getHexString():"";e.grid.color=i?"#"+i:"",t.push(e)})),t}(t),n=i,y.prepareUpdate(),n.forEach((function(e){var t=new a(e);y.addRoot(t)})),y.pushUpdate(),y.getFilterManager().isDataFiltered()&&y.reapplyFilterModel(),null!==E.sortModel&&E.sortModel.length>0&&E.reapplySortModel(),C.visibleFlag=!1)},onSelect:function(e){E.getNodesXSO().onChange((function(t){e&&e(t)}))},onShowHide:function(e){y.onNodeModelUpdate((function(t){Object.prototype.hasOwnProperty.call(t.data.attributes,"hideShow3D")&&e(t)}))},toggleProgressBar:function(e){C.visibleFlag=e},unSelect:function(e){U(e).forEach((e=>e.unselect()))},highlight:function(e){U(e).forEach((e=>e.highlight()))},unHighlight:function(e){U(e).forEach((e=>e.unhighlight()))},updateHideShowColumn:function(e,t){let i=U(e);i?(y.prepareUpdate(),i.forEach((e=>e.setAttribute("hideShow3D",t))),y.pushUpdate()):v.warn("unable to update hide show column as path not found")},reset:function(){y.prepareUpdate(),y.removeRoots(),y.pushUpdate()},destroy:function(){S.close(),y=null}}}}));