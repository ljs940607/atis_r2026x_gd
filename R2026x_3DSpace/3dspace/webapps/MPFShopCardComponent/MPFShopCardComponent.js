define("DS/MPFShopCardComponent/ShopCardHeader",["UWA/Core","UWA/Class/View","DS/MPFView/InitialsDot","DS/UIKIT/Tooltip","DS/MPFView/RatingStarsTile","DS/MPFServices/ObjectService","DS/MPFShopModel/ShopModel","WebappsUtils/WebappsUtils","i18n!DS/MPFShopCardComponent/assets/nls/ShopCardComponent","css!DS/MPFShopCardComponent/MPFShopCardComponent"],(function(t,e,n,o,s,i,a,c,r){"use strict";return e.extend({className:"mpf-shopcard-header",setup:function(t){i.requiredOfPrototype(t.shop,a,"options.shop must be a ShopModel"),this.shop=t.shop,this.showRating=!0===t.showRating},render:function(){return this.container.setContent([{tag:"div",class:"logo-container",html:this._createLogo()},{tag:"div",class:"infos-container",html:[{tag:"div",class:"mpf-row",html:[this._createNameTile(),this._createRatingOrIconTile()]},{tag:"div",class:"mpf-row",html:[this._createCountryTile(),this._createInfoBadge()]}]}]),this},destroy:function(){this.shop=null,t.is(this.nameTooltip)&&this.nameTooltip.destroy(),this._parent(),this.container=null},_createLogo:function(){return new n({title:this.shop.getName(),image:this.shop.getLogo()})},_createNameTile:function(){const e=t.createElement("div",{class:"shop-name-tile",text:this.shop.getName()});return this.nameTooltip=new o({target:e,body:this.shop.getName()}),e},_createCountryTile:function(){const e=this.shop.getCountry(),n=t.createElement("div",{class:"country-tile"});return e&&n.setContent([{tag:"span",html:this._createLocationIcon()},{tag:"span",class:"country-text",text:e}]),n},_createLocationIcon:function(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"viewBox","-1 -1 25 25"),t.setAttributeNS(null,"height","18"),t.setAttributeNS(null,"width","18");const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d","M12 10c-1.104 0-2-.896-2-2s.896-2 2-2 2 .896 2 2-.896 2-2 2m0-5c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3m-7 2.602c0-3.517 3.271-6.602 7-6.602s7 3.085 7 6.602c0 3.455-2.563 7.543-7 14.527-4.489-7.073-7-11.072-7-14.527m7-7.602c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602"),t.appendChild(e),t},_createRatingOrIconTile:function(){return this.shop.isInternal()?this._createPrivateShopIcon():this.shop.hasExternalPricingCondition()?this._createExternalPricingIcon():this.showRating?this._createRatingTile():void 0},_createPrivateShopIcon:function(){return t.createElement("img",{class:"internal-icon-tile",src:c.getWebappsAssetUrl("MPFShopCardComponent","img/Small_Factory_Img.png")})},_createExternalPricingIcon:function(){return t.createElement("img",{class:"internal-icon-tile",src:c.getWebappsAssetUrl("MPFShopCardComponent","img/external_quotation_icon.png"),alt:"external quotation icon"})},_createRatingTile:function(){const e=this.shop.get(a.Fields.RATING),n=this.shop.get(a.Fields.NUMBER_RATINGS)||0;return t.createElement("div",{class:"rating-stars-tile",html:[new s({rating:e,starSize:"18px"}).render(),t.createElement("span",{class:"number-reviews",text:"("+n+" "+r.get("reviews")+")"})]})},_createInfoBadge:function(){const e=this.shop.hasAutomatedPricing();if(!0===e||"true"===e)return t.createElement("div",{class:"info-badge",text:r.get("directPurchase")})}})})),define("DS/MPFShopCardComponent/SmallShopCardComponent",["UWA/Core","UWA/Class/View","DS/MPFServices/ObjectService","DS/MPFShopModel/ShopModel","DS/MPFView/InitialsDot","DS/UIKIT/Input/Button","i18n!DS/MPFShopCardComponent/assets/nls/ShopCardComponent","css!DS/MPFShopCardComponent/MPFShopCardComponent"],(function(t,e,n,o,s,i,a){"use strict";const c=Object.freeze({MORE_INFORMATION_CLICKED:"onMoreInformationClicked",CUSTOM_BUTTON_CLICKED:"customButtonClicked"}),r=e.extend({className:"mpf-small-shop-card",setup:function(e={}){this._parent(e),n.requiredOfPrototype(e.shop,o,"options.shopModel should be a ShopModel"),this.shop=e.shop,this.displayEMPIcon=!0===e.displayEMPIcon,this.isSelected=!0===e.isSelected,this.doesRouteToLabInfo=!1!==e.doesRouteToLabInfo,t.is(e.button)&&(this.button=this._createButton(e.button)),this.logo=this._createLogo(),this.moreInfoButton=this._createMoreInfoButton(),this.topContainer=this._createTopContainer(),this.bottomContainer=this._createBottomContainer()},render:function(){const e=t.createElement("div",{class:"mpf-shop-content",html:[this.topContainer,this.bottomContainer]});return this.container.setContent([this.logo,e]),this.isSelected&&!this.container.hasClassName("selected")&&(this.container.addClassName("selected"),this.container.addContent(t.createElement("span",{class:"fonticon fonticon-check lab-selected"}))),this},setSelected:function(e){this.isSelected=!1!==e,this.isSelected?this.container.addClassName("selected"):this.container.removeClassName("selected");const n=this.container.getElement("fonticon-check.lab-selected");t.is(n)||this.container.addContent(t.createElement("span",{class:"fonticon fonticon-check lab-selected"}))},_createButton:function(e){return new i({className:"link",value:e.label,events:{onClick:()=>{this.dispatchEvent(c.CUSTOM_BUTTON_CLICKED,this),t.is(e.onClickCallback)&&"function"==typeof e.onClickCallback&&e.onClickCallback()}}})},_createMoreInfoButton:function(){return t.createElement("a",{class:"mpf-link",target:"_blank",text:a.get("moreInformation"),events:{click:()=>{this.dispatchEvent(c.MORE_INFORMATION_CLICKED),window.open("/lab/"+this.shop.get("id")+window.location.search+"&explore=true","_blank")}}})},_createTopContainer:function(){var e,n;return e=t.createElement("span",{text:this.shop.getName()}),this.displayEMPIcon&&(n=this._getIcon()),t.createElement("div",{class:"mpf-small-shop-card-top",html:[e,n]})},_getIcon:function(){return this.shop.isInternal()?t.createElement("div",{class:"factory-icon"}):t.createElement("span",{class:"fonticon fonticon-check"})},_createBottomContainer:function(){return t.createElement("div",{class:"mpf-small-shop-card-bottom",html:[this.moreInfoButton,this.button]})},_createLogo:function(){return new s({title:this.shop.getName(),image:this.shop.getLogo()})},destroy:function(){this.shop=null,this.displayEMPIcon=null,this.isSelected=null,this.button=null,this.logo=null,this.moreInfoButton=null,this.topContainer=null,this.bottomContainer=null,this._parent(),this.container=null}});return r.Events=c,r}));