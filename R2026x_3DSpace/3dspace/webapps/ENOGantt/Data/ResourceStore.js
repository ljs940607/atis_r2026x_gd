define("DS/ENOGantt/Data/ResourceStore",["UWA/Class","DS/Foundation2/FoundationV2Data","DS/ENOGantt/Ven/Bryntum","DS/ENOGantt/URLStore","DS/ENOProjectMgmtModels/Utils/SearchUtil","DS/ENOProjectMgmtModels/Collections/Persons","DS/ENOProjectMgmtModels/Models/Person"],(function(e,t,n,o,a,r,s){"use strict";var l;try{l=e.extend({init:function(e){UWA.clone(e||{},!1).viewCollection;Ext.define("DS.ENOGantt.Data.Resource",{extend:"Ext.data.Model",fields:[{name:"Id",mapping:"Id"},{name:"Name",mapping:"Name"},{name:"Username",mapping:"Username"}]}),Ext.define("DS.ENOGantt.Data.ResourceStore",{extend:"Ext.data.Store",pageSize:10,model:"DS.ENOGantt.Data.Resource",proxy:{type:"memory",reader:{type:"json"}},load:function(e){var t=this,n=e.params.query;let o=new r,a={searchParams:"searchStr="+n+"*&typeStr=Person",isSearch:!0,model:App.Infra.contextInfo,onComplete:function(){o.forEach((function(e){let n=e.get("name")||"",o=e.getFullName();t.add({Id:e.get("id"),Name:o,Username:n})})),t.commitChanges()}};o.fetch(a),this.removeAll(),this.callParent(arguments)},listeners:{load:function(){console.log("========================ResourceStore Loaded==========");var e=Ext.ComponentQuery.query("#dpmresourceutilizationpanel")[0].getResourceStore();this.filterBy((function(t){var n=t.get("Id");return n="resource-"+n,null===(t=e.getModelById(n))}))}}})}})}catch(e){console.log(e)}return l}));