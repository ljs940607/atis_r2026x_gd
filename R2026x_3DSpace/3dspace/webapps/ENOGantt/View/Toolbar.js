define("DS/ENOGantt/View/Toolbar",["UWA/Class","DS/Foundation/FoundationData","DS/ENOGantt/Ven/Ext","DS/ENOGantt/GanttUtil","DS/ENOGantt/GanttConstants","DS/ENOGantt/Controller/MainController"],(function(e,t,n,r,o,a,l){return e.extend({init:function(e){n.define("DS.ENOGantt.View.Toolbar",{extend:"Ext.Toolbar",xtype:"dpmgantttbar",id:"dpmgantttbar",cls:"my-toolbar",enableOverflow:!0,layout:{align:"stretchmax",overflowHandler:"menu"},initComponent:function(){n.apply(this,{defaults:{scale:"medium"}}),this.callParent(arguments)},items:this.getToolBarActionList()})},getToolBarActionList:function(){n.create("Ext.data.Store",{fields:["id","name"],data:App.Nls.durationStore});var e=[],t=enoviaServer.computeUrl("/common/images/"),o={id:"tBarGanttTaskCreation",tooltip:App.Nls["emxProgramCentral.Common.AddTask"],overflowText:App.Nls["emxProgramCentral.Common.AddTask"],hidden:App.Infra.TypeOf.ProjectBaseline||App.Infra.ViewId==App.Infra.Views.VIEW_BASELINE_VERSUS_CURRENT_BASELINE||App.Infra.ViewId==App.Infra.Views.VIEW_BASELINE_VERSUS_CURRENT_BASELINE2||App.Infra.ViewId==App.Infra.Views.VIEW_EXPERIMENT_VERSUS_PROJECT||App.Infra.ViewId==App.Infra.Views.VIEW_BASELINE_WBS||App.Infra.ReadOnly,icon:t+"I_CommonIcon_Add_32.png",iconCls:"tBarIcon",reference:"ganttTaskCreation"},a={id:"tBarActionZoomToFit",tooltip:App.Nls["emxProgramCentral.Gantt.ZoomFit"],overflowText:App.Nls["emxProgramCentral.Gantt.ZoomFit"],icon:t+"I_Reframe32x.png",iconCls:"tBarIcon",enableToggle:!0,reference:"zoomToFit"},l={id:"tBarActionZoomIn",tooltip:App.Nls["emxProgramCentral.Gantt.ZoomIn"],icon:t+"I_ZoomIn32x.png",iconCls:"tBarIcon",reference:"zoomIn",overflowText:App.Nls["emxProgramCentral.Gantt.ZoomIn"]},p={id:"tBarActionZoomOut",tooltip:App.Nls["emxProgramCentral.Gantt.ZoomOut"],icon:t+"I_ZoomOut32x.png",iconCls:"tBarIcon",reference:"zoomOut",overflowText:App.Nls["emxProgramCentral.Gantt.ZoomOut"]},i={id:"tBarActionExpandAll",tooltip:App.Nls["emxProgramCentral.Gantt.ExpandAll"],icon:t+"iconActionExpandAll.png",iconCls:"tBarIcon",reference:"expandAll",overflowText:App.Nls["emxProgramCentral.Gantt.ExpandAll"],hidden:!1},s=n.create("Ext.button.Split",{triggerAction:"all",id:"tBarActionExpandNLevels",tooltip:App.Nls["emxProgramCentral.Gantt.ExpandNLevel"],icon:t+"SetNodeExpansionLevel_it1.png",iconCls:"tBarIcon",showSeparator:!1,cls:"x-btn-default-toolbar-medium",hidden:!1,arrowCls:"",menu:{items:r.getSelectiveItemArray(5,"expandLevel_",this.expandNLevelHandler,this.expandAllLevelHandler)},handler:function(){this.showMenu()},reference:"expandnLevel",overflowText:App.Nls["emxProgramCentral.Gantt.ExpandNLevel"]}),c={id:"tBarActionCriticalPath",tooltip:App.Nls["emxProgramCentral.Gantt.HighlightCriticalPath"],icon:t+"iconActionHighlightCriticalPath.png",iconCls:"tBarIcon",enableToggle:!0,hidden:App.Infra.ReadOnly||App.Infra.TypeOf.ProjectTemplate,reference:"highlightCrit",overflowText:App.Nls["emxProgramCentral.Gantt.HighlightCriticalPath"]};n.define("DS.ENOGantt.View.Toolbar.StatusDatePicker",{extend:"Ext.picker.Date",disableProgressLine:function(){for(var e=n.ComponentQuery.query("panel#dpmprojectgantt")[0].plugins,t=0;t<e.length;t++)if(e[t].ptype&&"gantt_progressline"===e[t].ptype){progressLine=e[t];break}progressLine.disable()},initComponent:function(){me=this,n.apply(this,{listeners:{afterrender:function(){var e=this,t=n.ComponentQuery.query("panel#dpmprojectgantt")[0];if(n.isEmpty(e.clearBtn)){e.clearBtn=new n.Button({text:App.Nls["emxProgramCentral.Common.Clear"],id:"btnClearAction",handler:e.disableProgressLine,ownerCt:e}),e.clearBtn.render(e.todayBtn.container);var r=t.taskStore.getProjectStartDate();e.setMinDate(r)}}}}),this.callParent(arguments)},handler:function(e){var t=n.ComponentQuery.query("panel#dpmprojectgantt")[0],r=e.getValue(),o=t.getTimeAxis().getEnd();r>=o&&(r=o-1);for(var a=t.plugins,l=0;l<a.length;l++)if(a[l].ptype&&"gantt_progressline"===a[l].ptype){progressLine=a[l];break}progressLine.setStatusDate(r),progressLine.enable()}});var m=n.create("DS.ENOGantt.View.Toolbar.StatusDatePicker",{id:"tBarProgressLineStatusDatePicker",reference:"statusDatePicker"}),d={id:"tBarActionProgressLine",tooltip:App.Nls["emxProgramCentral.Gantt.ProgressLine.Action.ProgressLine"],icon:t+"iconActionProgressLine.png",iconCls:"tBarIcon",hidden:App.Infra.Views.VIEW_WBS!==App.Infra.ViewId,overflowText:App.Nls["emxProgramCentral.Gantt.ProgressLine.Action.ProgressLine"],arrowCls:"",menu:{items:[m]}},A={id:"tBarPrint",tooltip:App.Nls["emxProgramCentral.Gantt.Print"],icon:t+"I_Print_32.png",iconCls:"tBarIcon",reference:"print",overflowText:App.Nls["emxProgramCentral.Gantt.Print"]},g={enableToggle:!0,id:"View",icon:t+"I_ShowPlanActual32.png",iconCls:"tBarIcon",hidden:App.Infra.HideView,reference:"viewDropDown",overflowText:App.Nls.viewStore[2].name,tooltip:App.Nls.viewStore[2].name},f={enableToggle:!0,id:"tBarActionRollUpTask",tooltip:App.Nls["emxProgramCentral.Gantt.Toolbar.showRollUpTasks"],overflowText:App.Nls["emxProgramCentral.Gantt.Toolbar.showRollUpTasks"],icon:t+"I_ShowRollupTask32.png",iconCls:"tBarIcon",reference:"showRollUpTask"},C={enableToggle:!0,id:"tBarActionShowHidePercentComplete",tooltip:App.Nls["emxProgramCentral.Gantt.Toolbar.HidePercentComplete"],overflowText:App.Nls["emxProgramCentral.Gantt.Toolbar.HidePercentComplete"],icon:t+"I_TogglePercentageComplete_32.png",iconCls:"tBarIcon",hidden:App.Infra.TypeOf.ProjectTemplate,reference:"showHidePercentComplete"},I={id:"tBarActionRefine",tooltip:App.Nls["emxProgramCentral.gantt.Refinements"],icon:t+"iconActionFilter.png",iconCls:"tBarIcon",reference:"refinement",overflowText:App.Nls["emxProgramCentral.gantt.Refinements"]},x=n.create("Ext.button.Split",{triggerAction:"all",id:"tBarActionGanttConfigurationDD",tooltip:App.Nls["emxProgramCentral.GanttConfig.Configurations"],icon:t+"I_Configurations.png",iconCls:"tBarIcon",showSeparator:!1,cls:"x-btn-default-toolbar-medium",arrowCls:"",overflowText:App.Nls["emxProgramCentral.GanttConfig.Configurations"],hidden:App.Infra.ReadOnly,menu:{items:r.getConfigurationCommnads()},handler:function(){this.showMenu()}}),u={id:"tBarActionSaveAll",xtype:"button",text:App.Nls["emxProgramCentral.Gantt.Save"],enableKeyEvents:!0,style:"border-color:#5FA0BE;background-color:#5FA0BE;color:#FFFFFF !important;font-size:14px;border-radius: 5px;border-width:1px;border-style:solid;box-shadow: inset 0px 2px 0px rgba(255,255,255,.3), inset 0px 0px 8px rgba(255,255,255,.5);",reference:"SaveAll",overflowText:App.Nls["emxProgramCentral.Gantt.Save"]},h={id:"tBarActionUndo",tooltip:App.Nls["emxProgramCentral.Gantt.Undo"],overflowText:App.Nls["emxProgramCentral.Gantt.Undo"],icon:t+"I_Undo32.png",iconCls:"tBarIcon",reference:"undo"},T={id:"tBarActionRedo",tooltip:App.Nls["emxProgramCentral.Gantt.Redo"],overflowText:App.Nls["emxProgramCentral.Gantt.Redo"],icon:t+"I_Redo32.png",iconCls:"tBarIcon",reference:"redo"},P={id:"tBarActionResetAll",xtype:"button",text:App.Nls["emxProgramCentral.Gantt.DependencyEditor.Cancel"],style:"border-color:#000000 !important;background-color:#f1f1f1 !important;color:#000000 !important;",cls:"cancel-button-text",reference:"resetAll",overflowText:App.Nls["emxProgramCentral.Gantt.DependencyEditor.Cancel"]},E={xtype:"textfield",id:"findTextField",width:175,height:30,enableKeyEvents:!0,margin:0,border:0,emptyText:App.Nls["emxProgramCentral.Common.Find"],fieldStyle:"border-left:0;border-right:0;border-bottom:0;background:#fff url("+enoviaServer.computeUrl("/webapps/Bryntum/resources/images/search.png")+") no-repeat 5px center;padding:0px;padding-left:25px;height:100%;",reference:"find",triggers:{clear:{cls:"x-fa fa-times findTextField-trigger-clear",hidden:!0,tooltip:App.Nls["emxProgramCentral.Common.Clear"],scope:"controller",handler:"clear"},prev:{cls:"x-fa fa-chevron-up findTextField-trigger-prev",scope:"this",tooltip:App.Nls["emxProgramCentral.Gantt.Toolbar.FindPrevious"],scope:"controller",handler:"previous"},next:{cls:"x-fa fa-chevron-down findTextField-trigger-next",scope:"controller",tooltip:App.Nls["emxProgramCentral.Gantt.Toolbar.FindNext"],handler:"next"}}},N={id:"tBarActionCollapseChart",icon:t+"I_HideChart_32.png",iconCls:"tBarIcon",tooltip:App.Nls["emxProgramCentral.Gantt.Toolbar.CollapseChart"],reference:"collapseGanttChart",overflowText:App.Nls["emxProgramCentral.Gantt.Toolbar.CollapseChart"],enableToggle:!0},w={id:"tBarActionCalculateFloatAndCriticalPath",tooltip:App.Nls["emxProgramCentral.Gantt.CalculateFloatAndCriticalPath"],icon:t+"I_OverallCriticalPath32.png",iconCls:"tBarIcon",hidden:App.Infra.ReadOnly||App.Infra.TypeOf.ProjectTemplate||App.Infra.TypeOf.ProjectBaseline||App.Infra.ViewId==App.Infra.Views.VIEW_BASELINE_VERSUS_CURRENT_BASELINE||App.Infra.ViewId==App.Infra.Views.VIEW_BASELINE_VERSUS_CURRENT_BASELINE2||App.Infra.ViewId==App.Infra.Views.VIEW_EXPERIMENT_VERSUS_PROJECT||App.Infra.ViewId==App.Infra.Views.VIEW_BASELINE_WBS,enableToggle:!0,reference:"calculateFloatData",overflowText:App.Nls["emxProgramCentral.Gantt.CalculateFloatAndCriticalPath"]},B={id:"tBarActionCalculateForecastValues",tooltip:App.Nls["emxProgramCentral.Gantt.CalculateForecastValues"],hidden:App.Infra.ReadOnly||App.Infra.TypeOf.ProjectTemplate||App.Infra.TypeOf.ProjectBaseline||App.Infra.TypeOf.Experiment||App.Infra.TypeOf.ProjectConcept||App.Infra.ViewId==App.Infra.Views.VIEW_BASELINE_VERSUS_CURRENT_BASELINE||App.Infra.ViewId==App.Infra.Views.VIEW_BASELINE_VERSUS_CURRENT_BASELINE2||App.Infra.ViewId==App.Infra.Views.VIEW_EXPERIMENT_VERSUS_PROJECT||App.Infra.ViewId==App.Infra.Views.VIEW_BASELINE_WBS,icon:t+"I_CalculateForecast_32.png",iconCls:"tBarIcon",enableToggle:!0,reference:"calculateForecastValues",overflowText:App.Nls["emxProgramCentral.Gantt.CalculateForecastValues"]},S={id:"tBarActionPromoteSuccessor",tooltip:App.Nls["emxProgramCentral.Gantt.PromoteSuccessor"],hidden:"true"==App.Infra.projectDataElements.checkIfPromoteReadyTaskCommandVisible||!("TRUE"==App.Infra.projectDataElements.kindOfProjectSpace&&("Active"==App.Infra.projectDataElements.state||"Assign"==App.Infra.projectDataElements.state)&&"TRUE"==App.Infra.projectDataElements.modifyAccess),icon:t+"iconActionMultipleTaskApproval.png",iconCls:"tBarIcon",enableToggle:!0,reference:"promoteSuccessor",overflowText:App.Nls["emxProgramCentral.Gantt.PromoteSuccessor"]},b={requiresTask:!0,id:"tBarOpenCollabTaskAction",tooltip:App.Nls["emxProgramCentral.Common.OpenInCollabTask"]||"Open in Collaborative Task",overflowText:App.Nls["emxProgramCentral.Common.OpenInCollabTask"]||"Open in Collaborative Task",icon:t+"I_CommonIcon_OpenWith_32.png",iconCls:"tBarIcon",reference:"openInCollabTask",hidden:!1},v={requiresTask:!0,id:"tBarOpenTaskAction",tooltip:App.Nls["emxProgramCentral.Common.OpenInNewTab"],overflowText:App.Nls["emxProgramCentral.Common.OpenInNewTab"],icon:t+"I_CommonIcon_OpenInANewWindow_32.png",iconCls:"tBarIcon",reference:"openTask",hidden:!1},_={id:"tBarActionOutdent",tooltip:App.Nls["emxProgramCentral.TaskIndentaion.LeftIndent"],icon:t+"iconLeftIndent.png",iconCls:"tBarIcon",reference:"outdentTask",overflowText:App.Nls["emxProgramCentral.TaskIndentaion.LeftIndent"],hidden:App.Infra.ReadOnly},V={id:"tBarActionIndent",tooltip:App.Nls["emxProgramCentral.TaskIndentaion.RightIndent"],icon:t+"iconRightIndent.png",iconCls:"tBarIcon",reference:"indentTask",overflowText:App.Nls["emxProgramCentral.TaskIndentaion.RightIndent"],hidden:App.Infra.ReadOnly},R={id:"tBarRemove",tooltip:App.Nls["emxProgramCentral.Common.Remove"],icon:t+"I_CommonIcon_Remove_32.png",iconCls:"tBarIcon",reference:"remove",overflowText:App.Nls["emxProgramCentral.Common.Remove"],hidden:App.Infra.ReadOnly},y={id:"tBarDeleteTask",tooltip:App.Nls["emxProgramCentral.Common.Delete"],overflowText:App.Nls["emxProgramCentral.Common.Delete"],hidden:App.Infra.ReadOnly,reference:"remove",icon:t+"I_Delete32x.png",iconCls:"tBarIcon"};return App.Infra.ViewId==App.Infra.Views.VIEW_STATUS_REPORT?(e.push("->"),e.push(g)):(e.push(o),window.isIFWE&&e.push(b),e.push(v),e.push({xtype:"tbseparator"}),e.push(N),e.push(a),e.push(l),e.push(p),e.push(i),e.push(s),e.push(c),e.push(d),e.push(f),e.push(C),e.push(g),e.push(w),e.push(B),e.push({xtype:"tbseparator"}),e.push(I),e.push(E),e.push({xtype:"tbseparator"}),e.push(_),e.push(V),e.push(S),e.push("->"),e.push({xtype:"tbseparator"}),e.push(h),e.push(T),e.push(u),e.push(P),e.push({xtype:"tbseparator"}),e.push(R),e.push(y),e.push({xtype:"tbseparator"}),e.push(x),e.push(A)),e}})}));