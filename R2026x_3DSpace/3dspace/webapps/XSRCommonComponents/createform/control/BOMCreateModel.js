define("DS/XSRCommonComponents/createform/control/BOMCreateModel",["DS/XSRCommonComponents/utils/TypeUtils","DS/TreeModel/TreeDocument","DS/TreeModel/TreeNodeModel","DS/XSRCommonComponents/utils/Constants"],(function(t,e,i,s){"use strict";return class{constructor(){this._id="",this._title="",this._titleDB="",this._policy="",this._policyDB="",this._type="",this._typeDB="",this._created="",this._createdDB="",this._current="",this._currentDB="",this._responsible="",this._responsibleDB="",this._lastModifiedOn="",this._lastModifiedOnDB="",this._description="",this._descriptionDB="",this._name="",this._nameDB="",this._revision="",this._revisionDB="",this._icon="",this._iconDB="",this._dimension=void 0,this._dimensionDB=void 0,this._unit="EA (each)",this._unitDB="EA",this._quantity=1,this._asRequired=!1,this._referenceName="",this.quantityLength=void 0,this.quantityWidth=void 0,this._isMBMF=!1,this._uomList=null,this._uomListTree=null,this._flattenedtaxonomies=[],this._connectCM=!1,this._canConnectCM=!1,this._connectCM_Msg="",this._relationID=null,this._parentID=null,this._coreMaterial=[]}setModel(t){let e=this;return t.id&&(e.id=t.id),t["ds6w:label"]&&(e.title=t["ds6w:label"]),t["ds6w:label_value"]&&(e.titleDB=t["ds6w:label_value"]),t["ds6w:policy"]&&(e.policy=t["ds6w:policy"]),t["ds6w:policy_value"]&&(e.policyDB=t["ds6w:policy_value"]),t["ds6w:type"]&&(e.type=t["ds6w:type"]),t["ds6w:type_value"]&&(e.typeDB=t["ds6w:type_value"]),t["ds6w:created"]&&(e.created=t["ds6w:created"]),t["ds6w:created_value"]&&(e.createdDB=t["ds6w:created_value"]),t["ds6w:status"]&&(e.current=t["ds6w:status"]),t["ds6w:status_value"]&&(e.currentDB=t["ds6w:status_value"]),t["ds6w:responsible"]&&(e.responsible=t["ds6w:responsible"]),t["ds6w:responsible_value"]&&(e.responsibleDB=t["ds6w:responsible_value"]),t["ds6w:modified"]&&(e.lastModifiedOn=t["ds6w:modified"]),t["ds6w:modified_value"]&&(e.lastModifiedOnDB=t["ds6w:modified_value"]),t["ds6w:description"]&&(e.description=t["ds6w:description"]),t["ds6w:description_value"]&&(e.descriptionDB=t["ds6w:description_value"]),t["ds6w:label"]&&(e.name=t["ds6w:label"]),t["ds6w:label_value"]&&(e.nameDB=t["ds6w:label_value"]),t["ds6wg:revision"]&&(e.revision=t["ds6wg:revision"]),t["ds6wg:revision_value"]&&(e.revisionDB=t["ds6wg:revision_value"]),t.type_icon_url&&(e.icon=t.type_icon_url),t.type_icon_url_value&&(e.iconDB=t.type_icon_url_value),t["ds6wg:raw_material.v_dimensiontype"]&&(e.dimension=t["ds6wg:raw_material.v_dimensiontype"]),t["ds6wg:raw_material.v_dimensiontype_value"]&&(e.dimensionDB=t["ds6wg:raw_material.v_dimensiontype_value"]),t.flattenedtaxonomies&&(e.flattenedtaxonomies=t.flattenedtaxonomies),this}processDimensionRelatedData(){let e=this,i=t.getUOMUnits(e.dimensionDB);e.uomList=i,e.uomListTree=i,e.unitDB=void 0,e.unit=void 0,e.dimensionDB===s.RECTANGULAR_DIMENSION?(e.quantityWidth=void 0,e.quantityLength=void 0):e.quantity=void 0}getDefaultUOMDB(){return"mass"===this.dimensionDB.toLowerCase()?"KILOGRAM":"length"===this.dimensionDB.toLowerCase()?"METER":"volume"===this.dimensionDB.toLowerCase()?"METER3":"area"===this.dimensionDB.toLowerCase()?"METER2":void 0}dataToSubmit(){let t={isInheritCoreMaterial:this.connectCM,referenceName:this.referenceName};return this.isMBMF?t.madeFromPID=this.id:t.rawMatID=this.id,this._dimensionDB===s.RECTANGULAR_DIMENSION?(t.asRequired=this.asRequired,t.quantityLength=this.quantityLength?this.quantityLength.toString()+" "+this.unitDB:"",t.quantityWidth=this.quantityWidth?this.quantityWidth.toString()+" "+this.unitDB:"",t.uomType=this.dimensionDB):(t.asRequired=this.asRequired,t.quantity=this.quantity?this.quantity.toString()+" "+this.unitDB:"",t.uomType=this.dimensionDB),t}get copy(){let t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return t.connectCM=!1,t.dimensionDB===s.RECTANGULAR_DIMENSION?(t.unit=void 0,t.unitDB=void 0,t.quantityLength=void 0,t.quantityWidth=void 0):"Mass"===t.dimensionDB||"Area"===t.dimensionDB||"Length"===t.dimensionDB||"Volume"===t.dimensionDB?(t.unit=void 0,t.unitDB=void 0,t.quantity=void 0):(t.unit="EA (each)",t.unitDB="EA",t.quantity=1),t.asRequired=!1,t.connectCM=!1,t.referenceName="",t}getMbmfJsonForEIM(t){let e={madeFromProductTitle:this.title,madeFromProductID:this.id,madeFromRelationId:this.relationID,madeFromProductRevision:"A",treeOrder:t.treeOrder||"0.0",isComputed:this.isComputed,MakeFrom_extensions:t.MakeFrom_extensions||[],other_attributes:t.other_attributes||[],madeFromParentID:this.parentID,madeFromProductType:{dbName:this.typeDB,nlsLabel:this.type},ReferenceName:this.referenceName};return this._dimensionDB&&(e.asRequired=this.asRequired,e.dimensionType={dbName:this.dimensionDB,nlsLabel:this.dimension},this._dimensionDB===s.RECTANGULAR_DIMENSION?(e.quantityLength=this.quantityLength?this.quantityLength.toString():"",e.quantityWidth=this.quantityWidth?this.quantityWidth.toString():""):e.quantity=this.quantity?this.quantity.toString():"",this.unitDB&&(e.unit={dbName:this.unitDB||this.getDefaultUOMDB(),nlsLabel:this.unit||this.uomList[this.getDefaultUOMDB()]})),e}get id(){return this._id}set id(t){this._id=t}get title(){return this._title}set title(t){this._title=t}get titleDB(){return this._titleDB}set titleDB(t){this._titleDB=t}get policy(){return this._policy}set policy(t){this._policy=t}get policyDB(){return this._policyDB}set policyDB(t){this._policyDB=t}get type(){return this._type}set type(t){this._type=t}get typeDB(){return this._typeDB}set typeDB(t){this._typeDB=t}get created(){return this._created}set created(t){this._created=t}get createdDB(){return this._createdDB}set createdDB(t){this._createdDB=t}get current(){return this._current}set current(t){this._current=t}get currentDB(){return this._currentDB}set currentDB(t){this._currentDB=t}get responsible(){return this._responsible}set responsible(t){this._responsible=t}get responsibleDB(){return this._responsibleDB}set responsibleDB(t){this._responsibleDB=t}get lastModifiedOn(){return this._lastModifiedOn}set lastModifiedOn(t){this._lastModifiedOn=t}get lastModifiedOnDB(){return this._lastModifiedOnDB}set lastModifiedOnDB(t){this._lastModifiedOnDB=t}get description(){return this._description}set description(t){this._description=t}get descriptionDB(){return this._descriptionDB}set descriptionDB(t){this._descriptionDB=t}get name(){return this._name}set name(t){this._name=t}get nameDB(){return this._nameDB}set nameDB(t){this._nameDB=t}get revision(){return this._revision}set revision(t){this._revision=t}get revisionDB(){return this._revisionDB}set revisionDB(t){this._revisionDB=t}get icon(){return this._icon}set icon(t){this._icon=t}get iconDB(){return this._iconDB}set iconDB(t){this._iconDB=t}get dimension(){return this._dimension}set dimension(t){this._dimension=t}get dimensionDB(){return this._dimensionDB}set dimensionDB(t){this._dimensionDB=t,this.processDimensionRelatedData()}get unit(){return this._unit}set unit(t){this._unit=t}get unitDB(){return this._unitDB}set unitDB(t){this._unitDB=t}get quantity(){return this._quantity}set quantity(t){this._quantity=t}get _quantityLength(){return this.quantityLength}set _quantityLength(t){this.quantityLength=t}get _quantityWidth(){return this.quantityWidth}set _quantityWidth(t){this.quantityWidth=t}get asRequired(){return this._asRequired}set asRequired(t){this._asRequired=t}get connectCM(){return this._connectCM}set connectCM(t){this._connectCM=t}get canConnectCM(){return this._canConnectCM}set canConnectCM(t){this._canConnectCM=t}get connectCM_Msg(){return this._connectCM_Msg}set connectCM_Msg(t){this._connectCM_Msg=t}get referenceName(){return this._referenceName}set referenceName(t){this._referenceName=t}get isMBMF(){return this._isMBMF}set isMBMF(t){this._isMBMF=t}get coreMaterial(){return this._coreMaterial}set coreMaterial(t){Array.isArray(t)&&(this._coreMaterial=t)}get uomListTree(){return this._uomListTree}set uomListTree(t){this._uomListTree=new e,this._uomListTree.prepareUpdate(),Object.keys(t).forEach((e=>{let s=new i({label:t[e],value:e});this._uomListTree.addChild(s)})),this._uomListTree.pushUpdate()}get uomList(){return this._uomList}set uomList(t){this._uomList=t}get flattenedtaxonomies(){return this._flattenedtaxonomies}set flattenedtaxonomies(t){this._flattenedtaxonomies=[],t.forEach((t=>{this._flattenedtaxonomies.push(t.split("/")[1])}))}get relationID(){return this._relationID}set relationID(t){this._relationID=t}get isComputed(){return!1}get parentID(){return this._parentID}set parentID(t){this._parentID=t}}}));