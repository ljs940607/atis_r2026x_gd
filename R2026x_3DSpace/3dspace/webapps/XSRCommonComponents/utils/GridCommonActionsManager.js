define("DS/XSRCommonComponents/utils/GridCommonActionsManager",["DS/XSRCommonComponents/utils/Constants","DS/XSRCommonComponents/service/XSpecsMenuBuilder","DS/XSRCommonComponents/service/XSpecsCommonMenuBuilder"],(function(e,t,n){"use strict";var o=function(e,n,o){var a,c;e.cellInfos?(a=e.cellInfos.nodeModel.getTreeDocument().getSelectedNodes()[0],c=n||(e.data.windowPosition&&e.data.windowPosition.x?e.data.windowPosition:e.data.target.getBoundingClientRect())):e.context&&(a=e.context.nodeModel,c=n||e.context.cellView.elements.container.getElementsByClassName("wux-controls-button")[0].getBoundingClientRect());var i={data:a};t.getTabActions(i,c,o)};function a(e){}return a.launch=function(t){var n=t.commandId,o=t.selectedNode,a=t.appCore.basicModelEvents;let c=t.selectFacet;"alternateFacet"==c&&""==t.selectedNode.getAttributeValue("Alternate")||("Information"==n&&widget.data&&widget.data.isPerfSpecDeployedAsFacet&&a&&o?a.publish({event:"test-methods-floating-panel",data:n}):a&&o&&(o.getTreeDocument().unselectAll(),o.select(),a.publish({event:e.EVENT_LAUNCH_COMMAND,data:{commandId:n,context:{item:{data:o,selectFacet:c}}}})))},a.getActionMenu=function(e,t){var n;e.data&&(n=event?{x:e.data.event.pageX,y:e.data.event.pageY}:void 0);var a=t||(e&&e.execludeCmds?e.execludeCmds:[]);o(e,n,a)},a.publishActionMenu=function(e,t){e.context.nodeModel.appCore.specViewerModelEvents.publish({event:"grid-action-menu-options-"+e.context.nodeModel.currentTabKey,data:{options:e,execludeCmd:t}})},a.getQuickViewMenu=function(e){!function(e,n){var o,a;e.context&&(e.context.cellView.collectionView.unselectAll(),e.context.nodeModel.select(),o=e.context.nodeModel,a=n||e.context.cellView.elements.container.getElementsByClassName("wux-controls-button")[0].getBoundingClientRect());var c={data:o};t.getQuickViewMenu(c,a)}(e,event?{x:event.pageX,y:event.pageY}:void 0)},a.getMultiActionMenu=function(e,n){var a=event?{x:event.pageX,y:event.pageY}:void 0;if(e.cellInfos.nodeModel.isSelected()){var c={data:e.gridInstance?e.gridInstance.getTreeDocument().getSelectedNodes():e.collectionView.getTreeDocument().getSelectedNodes()};t.getTabActions(c,a,n)}else o(e,a,n)},a.getToolbarActionMenu=function(e,n){var o=e.nodeModel.getSelectedNodes();if(o){e.target;var a=event?{x:event.pageX,y:event.pageY}:void 0,c={data:o};t.getTabActions(c,a,n)}},a.getActionMenu_v1=function(e){var t,o,a=event?{x:e.data.event.pageX,y:e.data.event.pageY}:void 0;e.cellInfos?(t=e.cellInfos.nodeModel.getTreeDocument().getSelectedNodes()[0],o=a||(e.data.windowPosition&&e.data.windowPosition.x?e.data.windowPosition:e.data.target.getBoundingClientRect())):e.context&&(t=e.context.nodeModel,o=a||e.context.cellView.elements.container.getElementsByClassName("wux-controls-button")[0].getBoundingClientRect());var c={data:t};n.getActionMenu(c,o,e.key)},a.getMultiActionMenu_v1=function(e){var t=event?{x:event.pageX,y:event.pageY}:void 0,o={data:e.gridInstance?e.gridInstance.getTreeDocument().getSelectedNodes():e.collectionView.getTreeDocument().getSelectedNodes()};n.getActionMenu(o,t,e.key)},a}));