define("DS/XSRCommonComponents/utils/TypeServicesUtil",["UWA/Class","UWA/Promise","DS/XSRCommonComponents/utils/RequestUtil","DS/XSRCommonComponents/utils/Constants"],(function(e,t,i,n){"use strict";return e.extend({init:function(){this.platFormId=i.getPlatformId(),this.securityToken=i.getSecurityToken(),this.tenantID=i.getPlatformId(),this.SC=i.getSecurityContext()},getHeaders:function(e){var t={"Content-type":"application/json"};return e&&Object.keys(e).forEach((function(i){t[i]=e[i]})),t},getTypesHierarchy:function(e){var n={types:e},r=this;return new t((function(e,t){i.send3DSpaceRequest("resources/enong/dico/gettypeshierarchy","POST",{type:"json",headers:r.getHeaders({SecurityToken:r.securityToken,SecurityContext:r.SC}),data:JSON.stringify(n)},e,t)}))},isValidItemToOpen:function(e){if(!e)return!1;return this.getTypesHierarchy([e]).then((t=>{let i=!1,r=!1,s=!1;return t.types_hierarchies.length>0&&(t.types_hierarchies[0].hierarchy.includes(n.TYPE_VPMREFERENCE)?(i=!0,r=e===n.RAW_MATERIAL_TYPE||t.types_hierarchies[0].hierarchy.includes(n.RAW_MATERIAL_TYPE)):t.types_hierarchies[0].hierarchy.includes(n.TYPE_DOCUMENT)?(i=!0,s=!0):i=!1),{isValidType:i,isDocument:s,isRawM:r}})).catch((e=>console.log("Error getTypesHierarchy! "+e)))}})}));