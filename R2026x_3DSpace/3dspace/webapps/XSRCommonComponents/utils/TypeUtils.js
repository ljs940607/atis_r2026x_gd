define("DS/XSRCommonComponents/utils/TypeUtils",["UWA/Class","DS/XSRCommonComponents/utils/Constants"],(function(t,e){var a=t.singleton({physicalProductList:[],rawMaterialSubtypesList:[],rawMaterialActualSubtypesList:[],physicalProductArr:[],rawMaterialArray:[],techSpecList:[],techSpecArr:[],physicalProductMap:{},rawMaterialMap:{},techSpecMap:{},dimensionsJson:{},FPdimensionsJson:{},uomUnitsMap:new Map,allUomUnits:{},rawMatSubTypeArr:[],rawMatSubtypeList:[],rawMatActualName:[],performanceChar:[e.TYPE_MEASUREMENT_CHAR,e.TYPE_DESCRIPTIVE_CHAR],performanceSpec:[],masterCopyTypeDBNLSMap:new Map,masterCopyNLSTypeList:[],activeLangDBNLSMap:new Map,activeLangNLSList:[],getPhysicalProductList:function(){return this.physicalProductList},getRawMaterialSubtypesList:function(){return this.rawMaterialSubtypesList},getRawMaterialActualSubtypesList:function(){return this.rawMaterialActualSubtypesList},getRawMaterialMap:function(){return this.rawMaterialMap},setPhysicalProductList:function(t){this.physicalProductList=t},setRawMaterialSubtypesList:function(t){this.rawMaterialSubtypesList=t},getPhysicalProductArr:function(){return this.physicalProductArr},getRawMaterialArr:function(){return this.rawMaterialArray},setPhysicalProductArr:function(t){this.physicalProductArr=t,this.setPhysicalProductMap()},setFormulatedProductSet:function(t){this.FormulatedProductSet=t},setDrawingSubTypeSet:function(t){this.drawingSubTypeSet=t},setFPSubTypes:function(t){this.FormulatedSubTypes=t},getFormulatedProductSet:function(){if(this.FormulatedProductSet)return this.FormulatedProductSet},getDrawingSubtypeSet:function(){if(this.drawingSubTypeSet)return this.drawingSubTypeSet},addToPhysicalProduct:function(t){t&&t.length<=0||t.forEach((t=>{let e=t.objectType,a=t.displayType;this.physicalProductMap[e]||(this.physicalProductArr.push({labelItem:a,valueItem:e}),this.physicalProductMap[e]=a)}))},setRawMaterialDataV2:function(t){let e=this;t&&t.forEach((t=>{"FALSE"===t.abstract.toUpperCase()&&(e.rawMatSubTypeArr.push({labelItem:t.nlsLabel,valueItem:t.dbName}),e.rawMatSubtypeList.push(t.nlsLabel),e.rawMatActualName.push(t.dbName))})),this.rawMaterialSubtypesList=this.rawMatSubtypeList,this.rawMaterialActualSubtypesList=this.rawMatActualName,this.rawMaterialArray=this.rawMatSubTypeArr,this.setRawMaterialSubtypesMap()},iterateRawMatData:function(t){var e=this;t.forEach((function(t){if(!t.abstract){var a={labelItem:t.identifier.nlsLabel,valueItem:t.identifier.dbName};e.rawMatSubTypeArr.push(a),e.rawMatSubtypeList.push(t.identifier.dbName),e.rawMatActualName.push(t.identifier.nlsLabel)}e.iterateRawMatData(t.subTypeList)}))},setRawMaterialAdminData:function(t){let e=[];t.forEach((function(t){e.push(t.dbName)}));let a=this,i=[];return Object.keys(a.rawMaterialArray).forEach((t=>{e.indexOf(a.rawMaterialArray[t].valueItem)<0&&i.push(a.rawMaterialArray[t])})),i},setProductAdminData:function(t,e){let a=[];t.forEach((function(t){a.push(t.dbName)}));let i=[];return e&&e.forEach((function(t){a.indexOf(t.valueItem)<0&&"Raw_Material"!=t.valueItem&&i.push(t)})),i},getTechSpecList:function(){return this.techSpecList},setTechSpecList:function(t){this.techSpecList=t},getTechSpecArr:function(){return this.techSpecArr},setTechSpecArr:function(t){this.techSpecArr=t,this.setTechSpecMap()},addToRawMaterial:function(t){t&&t.length<=0||t.forEach((t=>{let e=t.objectType,a=t.displayType;this.rawMaterialSubtypesList.includes(a)||this.rawMaterialActualSubtypesList.includes(e)||(this.rawMaterialSubtypesList.push(a),this.rawMaterialActualSubtypesList.push(e),this.rawMaterialArray.push({labelItem:a,valueItem:e}),this.rawMaterialMap[e]=a)}))},setPhysicalProductMap:function(){let t=this;Object.keys(t.physicalProductArr).forEach((e=>{t.physicalProductMap[t.physicalProductArr[e].valueItem]=t.physicalProductArr[e].labelItem}))},setRawMaterialSubtypesMap:function(){let t=this;Object.keys(t.rawMaterialArray).forEach((e=>{t.rawMaterialMap[t.rawMaterialArray[e].valueItem]=t.rawMaterialArray[e].labelItem})),t.rawMaterialMap.Raw_Material="Raw Material"},setTechSpecMap:function(){let t=this;Object.keys(t.techSpecArr).forEach((e=>{t.techSpecMap[t.techSpecArr[e].valueItem]=t.techSpecArr[e].labelItem}))},isTechSpec:function(t){return JSON.stringify(this.getTechSpecArr()).includes(t)},isTechnicalSpecification:function(t){return this.isTechSpec(t)},isPhyProd:function(t){return this.getPhysicalProductArr().reduce(((t,e)=>(t.add(e.valueItem),t.add(e.labelItem),t)),new Set).has(t)},isRawMaterial:function(t){return this.getRawMaterialArr().reduce(((t,e)=>(t.add(e.valueItem),t.add(e.labelItem),t)),new Set).has(t)},isPhyOrRaw:function(t){return(this.isPhyProd(t)||this.isRawMaterial(t))&&!a.isFormulatedProduct(t)},isPhysicalProduct:function(t){return this.isPhyProd(t)||this.isRawMaterial(t)||this.isFormulatedProduct(t)},isDrawing:function(t){return e.TYPE_DRAWING==t||new Set(this.getDrawingSubtypeSet()).has(t)},isFormulatedProduct:function(t){return e.TYPE_FORMULATEDPRODUCT===t||e.TYPE_FORMULAPRODUCT===t||new Set(this.getFormulatedProductSet()).has(t)},isPerformanceSpecChar:function(t){return this.isPerformanceSpecification(t)||this.isPerformanceCharacteristics(t)},isPerformanceSpecification(t){return e.TYPE_PERFORMANCE_SPEC===t||this.performanceSpec.includes(t)},isPerformanceCharacteristics(t){return this.performanceChar.includes(t)},isDescriptiveCharacteristics:t=>e.TYPE_DESCRIPTIVE_CHAR===t,isMeasurementCharacteristics:t=>e.TYPE_MEASUREMENT_CHAR===t,setDimensionsandUnits:function(t){var e=this;t&&t.forEach((t=>{e.dimensionsJson[t.dbName]=t.nlsLabel,e.setUOMUnits(t.dbName,t.units)}))},setFPDimensions:function(t){var e=this;t&&t.forEach((t=>{e.FPdimensionsJson[t.dbName]=t.nlsLabel}))},getRMDimensions:function(t){return t&&this.dimensionsJson[t]?this.dimensionsJson[t]:this.dimensionsJson},getFPDimensions:function(t){return t&&this.FPdimensionsJson[t]?this.FPdimensionsJson[t]:this.FPdimensionsJson},setUOMUnits:function(t,e){if(t&&e){let a={};e.forEach((t=>a[t.dbName]=t.nlsLabel)),this.uomUnitsMap.set(t,a)}},getUOMUnits:function(t,e){if(t&&this.uomUnitsMap.has(t))return this.uomUnitsMap.get(t);if(e&&this.uomUnitsMap.has(e))return this.getUOMUnits(e);var a={};return this.uomUnitsMap.forEach((t=>{Object.assign(a,t)})),a[t]||a},getKeyMapping:function(t){return t||""!=t||0!=t.length?this.isDrawing(t)?"Drawing":this.isPhyProd(t)||this.isRawMaterial(t)||this.isFormulatedProduct(t)?"PhysicalProduct":this.isTechSpec(t)||"Document"==t?"TechnicalSpec":"notfound":null},getlabelofType:function(t){return this.physicalProductMap[t]||this.techSpecMap[t]||t},getTypeOfLabel:function(t){let e=Object.assign(this.physicalProductMap,this.techSpecMap);for(let a in e)if(e[a].toLowerCase()==t.toLowerCase())return a;return null},addToDocuments:function(t){t&&t.length<=0||t.forEach((t=>{let e=t.objectType,a=t.displayType;this.techSpecMap[e]||(this.techSpecArr.push({labelItem:e,valueItem:e}),this.techSpecMap[e]=a),this.techSpecList.includes(e)||this.techSpecList.push(e)}))},setMasterCopySubtypes:function(t){if(t&&t.length>0){let a=t[0]?t[0].derivatives_NLS:[],i=t[0]?t[0].derivatives:[],s=new Map;for(var e=0;e<i.length;e++)s.set(i[e],a[e]);this.masterCopyTypeDBNLSMap=s,this.masterCopyNLSTypeList=a}},getMasterCopyTypeDBNLSMap:function(){return this.masterCopyTypeDBNLSMap},getMasterCopySubtypesNLSList:function(){return this.masterCopyNLSTypeList},setActiveLangs:function(t){if(t&&t.length>0){let a=[],i=new Map;for(var e=0;e<t.length;e++)"Active"==t[e].state&&(a.push(t[e].name),i.set(t[e].id,t[e].name));this.activeLangDBNLSMap=i,this.activeLangNLSList=a}},getActiveLangsMap:function(){return this.activeLangDBNLSMap},getActiveLangsNLSList:function(){return this.activeLangNLSList}});return a}));