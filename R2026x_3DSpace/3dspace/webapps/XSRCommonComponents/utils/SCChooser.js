define("DS/XSRCommonComponents/utils/SCChooser",["DS/UIKIT/Input/Select","DS/XSRCommonComponents/utils/SCModal","DS/XSRCommonComponents/utils/RequestUtil","i18n!DS/XSRCommonComponents/assets/nls/XSRCommonComponents","css!DS/XSRCommonComponents/SCChooser.css"],(function(t,e,o,n){"use strict";function s(t){this.SCManager=t.SCManager,this.resolve=t.resolve,this.reject=t.reject,this.buildView()}return s.prototype._buildModal=function(){return this.modal=new e({title:n.get("dialog.chooseSC"),className:"xeng-sc-chooser",withFooter:!0}),this.modal},s.prototype._getModalContent=function(){var e=this.SCManager,o=e&&Array.isArray(e.options)?e.options:[];return this.selector=new t({placeholder:n.get("dialog.SC.list"),options:o,events:{onChange:this.onChange.bind(this)}}),this.selector},s.prototype.onChange=function(){console.log(this.selector.getValue()),0===this.selector.getValue()[0].trim().length?this.disableValidateBtn():this.isDisableFooter()&&this.enableValidateBtn()},s.prototype.removeCancelBtn=function(){var t=document.body.querySelector('button[name="cancelButton"]');null!==t.parentNode&&t.parentNode.removeChild(t)},s.prototype.disableValidateBtn=function(){var t=document.body.querySelector('button[name="okButton"]');t&&(t.disabled=!0)},s.prototype.isDisableFooter=function(){var t=document.body.querySelector('button[name="okButton"]');return!!t&&t.disabled},s.prototype.enableValidateBtn=function(){var t=document.body.querySelector('button[name="okButton"]');t&&(t.disabled=!1)},s.prototype.buildView=function(){var t=this;this._getModalContent().inject(this._buildModal().getBody()),this.modal.onValidate((function(e){var o=this.selector.getValue()[0];widget.setValue("Current_security_credentials",o),widget.setValue("SC",o),t.resolve&&t.resolve(o),e()}),this),this.modal.onClose((function(){t.modal.show()}),this),this.modal.show(),this.removeCancelBtn(),this.disableValidateBtn()},s}));