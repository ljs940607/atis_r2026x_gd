define("DS/SampleSocialRichUserTooltip/SampleSocialRichUserTooltip",["UWA/Core","DS/PlatformAPI/PlatformAPI","DS/SocialRichUserTooltip/SocialRichUserTooltipUWAView","css!DS/SampleSocialRichUserTooltip/Styles"],((e,t,l)=>{const o={widget:void 0,view:void 0,init({widget:e}){o.widget=e,o.initPrefs(),e.addEvents({onLoad:o.onLoad,onRefresh:o.onLoad})},initPrefs(){o.widget.setPreferences([{name:"userLogin",type:"text",label:"Login of the user to be displayed",defaultValue:"uxodtmem"},{name:"platformId",type:"text",label:"Platform ID",defaultValue:""},{name:"registryUrl",type:"text",label:"Registry URL",defaultValue:""},{name:"swymUrl",type:"text",label:"Swym URL",defaultValue:""},{name:"passportUrl",type:"text",label:"Passport URL",defaultValue:""},{name:"disableDefaultNavigation",type:"boolean",label:"Disable default navigation",defaultValue:"false"},{name:"disabled",type:"boolean",label:"Disable the tooltip",defaultValue:"false"}])},instanciateSocialRichUserTooltip(){const e=o.widget;o.getRegistryUrl(),o.getPlatformId();const t=document.createElement("div");e.body.setContent(t);const a={template:"<p class='srut_parent-element'>Click me</p>"},r={disabled:e.getValue("disabled"),disableDefaultNavigation:e.getValue("disableDefaultNavigation"),parentElement:a,platformId:o.getPlatformId(),show:!0,userLogin:e.getValue("userLogin"),urls:{registryUrl:o.getRegistryUrl(),swymUrl:e.getValue("swymUrl"),passportUrl:e.getValue("passportUrl")}},i=new l;i.render({props:r}).inject(t),i.listenTo(i,{onGoToConversation(e){console.log("### onGoToConversation ###",e)},onGoToProfile(e){console.log("### onGoToProfile ###",e)}}),o.view=i},getRegistryUrl(){const e=o.widget;if(e.getValue("registryUrl"))return e.getValue("registryUrl");const l=t.getApplicationConfiguration("app.urls.registry");return l&&e.setValue("registryUrl",l),l},getPlatformId(){const e=o.widget;if(e.getValue("platformId"))return e.getValue("platformId");const l=t.getTenant();return l&&e.setValue("platformId",l),l},destroyView(){o.view&&(o.view.destroy(),o.view=void 0)},onError({errorMsg:t}){o.widget.body.empty().append(e.createElement("div",{class:"error-msg msg",text:t}))},async onLoad(){o.destroyView(),o.instanciateSocialRichUserTooltip()}};return o}));