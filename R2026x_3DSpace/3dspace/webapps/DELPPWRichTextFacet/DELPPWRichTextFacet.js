define("DS/DELPPWRichTextFacet/RichTextFacetUI",["UWA/Core","DS/Controls/Expander","DS/DELPPWResourceServices/ResourceUtils","css!DS/DELPPWRichTextFacet/assets/css/RichTextFacet.css"],(function(e,t,n){"use strict";return function(i){var c,r,o=i;return o&&!o.container&&(o.container=e.createElement("div",{id:"rich-text-tab-container",class:"richTextUIContainer"})),{buildView:function(i){var a,s,u,l,h=e.is(i.reference),d=e.is(i.instance),f=h?i.reference.richText:null,x=d?i.instance.richText:null;h&&(e.is(f)?(a=f.indexOf("<body>"),s=f.indexOf("</body>"),f=a>-1&&s>-1?f.slice(a+6,s):f):f="",(c=e.createElement("div",{class:"rich-text-container"})).innerHTML=f),d&&(e.is(x)?(a=x.indexOf("<body>"),s=x.indexOf("</body>"),x=a>-1&&s>-1?x.slice(a+6,s):x):x="",(r=e.createElement("div",{class:"rich-text-container"})).innerHTML=x),h&&d?(u=new t({header:n.getNLSValue("RichTextFacetUI.Reference"),body:c,expandedFlag:!1}),l=new t({header:n.getNLSValue("RichTextFacetUI.Instance"),body:r,expandedFlag:!1}),u.inject(o.container),l.inject(o.container)):h?c.inject(o.container):d&&r.inject(o.container)},clean:function(){o&&o.container&&o.container.empty(),c&&c.empty(),r&&r.empty()},destroy:function(){c&&c.destroy(),r&&r.destroy(),o&&o.container&&o.container.destroy()}}}})),define("DS/DELPPWRichTextFacet/RichTextFacetModel",["UWA/Core","DS/DELPPWWebServices/WebserviceUtils"],(function(e,t){"use strict";return function(n){var i="DELLmiRichText.V_RichText";return{getData:function(c){var r,o;return e.is(c)&&(o=c,r=new Promise((function(c){var r=function(e,n){return new Promise((function(i,c){t.webServiceRequest({url:"dsmfg/private/V0/MfgElement/"+n+"/"+e,method:"GET",onComplete:function(e){i(e)},onFailure:function(e){c(e)}})}))},a={},s=[],u=o.get("objectId");s.push(r(u,"reference")),e.is(n)&&n!==u&&s.push(r(n,"instance")),Promise.allSettled(s).then((t=>{t.forEach((t=>{let c=t.value.attributesValue;c.PID===u?a.reference={richText:c[i]}:e.is(n)&&c.PID===n&&(a.instance={richText:c[i]})})),c(a)}))}))),r}}}})),define("DS/DELPPWRichTextFacet/RichTextFacetController",["UWA/Core","DS/DELPPWRichTextFacet/RichTextFacetUI","DS/DELPPWRichTextFacet/RichTextFacetModel"],(function(e,t,n){"use strict";return function(i){var c=new t(i.elements),r=new n(i.instancePID);return{createUI:function(t){r.getData(t).then((function(t){e.is(t)&&c.buildView(t)}))},clean:function(){c.clean()},destroy:function(){c.destroy()}}}})),define("DS/DELPPWRichTextFacet/DELRichTextFacet",["UWA/Core","UWA/Controls/Abstract","UWA/Class","DS/EditPropWidget/facets/Common/FacetsBase","DS/DELPPWRichTextFacet/RichTextFacetController"],(function(e,t,n,i,c){"use strict";return n.extend(t,i,{init:function(e){this._parent(e),this._instructionFacetController=new c({elements:this.elements,instancePID:e.instancePID})},updateFacet:function(){this._instructionFacetController.clean(),this._instructionFacetController.createUI(this.getModel())},destroyComponent:function(){this._instructionFacetController.destroy()},onRefresh:function(){this.updateFacet()},show:function(){this.getUI().show()},hide:function(){this.getUI().hide()}})}));