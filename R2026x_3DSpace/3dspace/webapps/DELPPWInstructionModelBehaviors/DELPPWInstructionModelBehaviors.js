define("DS/DELPPWInstructionModelBehaviors/DataCollectWKIBehavior",["UWA/Core"],(function(e){"use strict";return{plugins:["DicoPlugin","DatabasePlugin","WebServicePlugin","AttributePlugin","ResourcePlugin","PlatformPlugin"],creator:function(t,a,o,r,n,i,s,l){var u,c,P,f,m,g,V,_,d={},R=!1,N="PLMSpecifyHowToCollectDataCnx",D="PLMSpecifyHowToCollectDataCnx_Custo",S="units",p="parameters",h={},y={},C={},I={},L=l.getMaxIntegerLengthForKF(),b=l.getMaxDecimalLengthToDisplayForKF(),E=l.getMaxDecimalLengthToDatabaseForKF(),A=l.isNoSizeLimitEnabled(),T={m_strFloatValueAsString:"",m_fValue:"",m_fValue_ToDisplay_eg_6dd:"",m_fValue_ToStoreInDB_eg_8dd:"",m_bIsTransformationSuccessful:!1,m_iNumberOfDecimalsToDisplay:6,m_iNumberOfDecimalsForStorageInDB:8,m_fNumberLowerRange_ToDB:1e-8,m_fNumberLowerRange_ToDisplay:1e-6,m_fNumberHigherRange:1e6,Init:function(e,t="",a="",o="",r=!1){this.m_strFloatValueAsString=e,this.m_fValue=t,this.m_fValue_ToDisplay_eg_6dd=a,this.m_fValue_ToStoreInDB_eg_8dd=o,this.m_bIsTransformationSuccessful=r},Init_UpperAndLowerLimits_MaxDigitsBeforDecimal:function(e=6,t=8,a=6){this.m_iNumberOfDecimalsToDisplay=e,this.m_iNumberOfDecimalsForStorageInDB=t,this.m_fNumberLowerRange_ToDisplay=parseFloat("1e-"+e),this.m_fNumberLowerRange_ToDB=parseFloat("1e-"+t),this.m_fNumberHigherRange=parseFloat("1e"+a)},wkiGetFloatNumber_WITHOUT_RemoveTrailingZeroes_InDecimalNotation:function(e,t,a){if(Number.isNaN(t))return NaN;const o=String(t),r=e.indexOf(".");o.indexOf(".");if(-1===r)return e;return e.length-r-1>a?t.toFixed(a):e},wkiGetFloatNumber_AfterRemoveTrailingZeroes_InExponentialNotation:function(e,t,a){let o=t.toExponential(a).split("e");parseFloat(o[0]).toString();return this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InDecimalNotation_v2("",parseFloat(o[0]),a)+"e"+o[1]},wkiGetFloatNumber_AfterRemoveTrailingZeroes_InDecimalNotation_v1:function(e,t,a){return parseFloat(t.toFixed(a)).toString()},wkiGetFloatNumber_AfterRemoveTrailingZeroes_InDecimalNotation_v2:function(e,t,a){return t.toFixed(a).replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,"")},wkiTansformInputFloatValueInto6DDand8DDNotation:function(){const e=this.m_strFloatValueAsString;let t="",a="";const o=e.toLowerCase().includes("e");let r=parseFloat(e);isNaN(r)||r===1/0||r===-1/0?this.m_bIsTransformationSuccessful=!1:(r>=this.m_fNumberLowerRange_ToDB&&r<this.m_fNumberHigherRange?r>=this.m_fNumberLowerRange_ToDB&&r<this.m_fNumberLowerRange_ToDisplay?(t=this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InExponentialNotation(e,r,this.m_iNumberOfDecimalsToDisplay),a=this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InDecimalNotation_v2(e,r,this.m_iNumberOfDecimalsForStorageInDB)):o?(t=this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InDecimalNotation_v2(e,r,this.m_iNumberOfDecimalsToDisplay),a=this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InDecimalNotation_v2(e,r,this.m_iNumberOfDecimalsForStorageInDB)):(t=this.wkiGetFloatNumber_WITHOUT_RemoveTrailingZeroes_InDecimalNotation(e,r,this.m_iNumberOfDecimalsToDisplay),a=this.wkiGetFloatNumber_WITHOUT_RemoveTrailingZeroes_InDecimalNotation(e,r,this.m_iNumberOfDecimalsForStorageInDB)):r?(t=this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InExponentialNotation(e,r,this.m_iNumberOfDecimalsToDisplay),a=this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InExponentialNotation(e,r,this.m_iNumberOfDecimalsForStorageInDB)):"0"===String(r)&&(o?(t=r,a=r):(t=e,a=e)),this.m_fValue_ToDisplay_eg_6dd=t,this.m_fValue_ToStoreInDB_eg_8dd=a,this.m_bIsTransformationSuccessful=!0)},wkiGetValueToDisplayAndDataBase_V0:function(e){this.Init(e);const t=b,a=E,o=L;return this.Init_UpperAndLowerLimits_MaxDigitsBeforDecimal(t,a,o),this.wkiTansformInputFloatValueInto6DDand8DDNotation(),{valToDisplay:this.m_fValue_ToDisplay_eg_6dd,valueToDatabase:this.m_fValue_ToStoreInDB_eg_8dd,bTransformationStatus:this.m_bIsTransformationSuccessful}},wkiGetValueToDisplayAndDataBase:function(e){return this.Init(e),{valToDisplay:e,valueToDatabase:e,bTransformationStatus:!0}},wkiGetOnlyNumericalValueStripSignAndUnit:function(e){let t=String(e);if(e&&t&&t.length){let e=t.match(/^([+-])?(\.*\d+(\.\d+)?([eE][-+]?\d+)?)(\s*\w*.*)?$/);if(e)return{NumericalVal:e[2],SignNotation:e[1]||""}}return{NumericalVal:"",SignNotation:""}},wkiGetSignNotation:function(e){let t=String(e).match(/^([+-])?(.*\d+(\.\d+)?([eE][-+]?\d+)?)(\s*\w*)?$/);return t&&t[1]||""}},M=["True,False","Yes,No","1,0"].map(((e,t)=>{switch(e){case"True,False":return{index:t,possibleValue:{value:e,valueNLS:s.getNLSValue("DCRow.Boolean.PossibleValues.TrueFalse")},conformanceValues:[{index:0,value:"True",valueNLS:s.getNLSValue("PLMSpecifyHowToCollectDataCnx_Custo.V_ConformanceValues.True")},{index:1,value:"False",valueNLS:s.getNLSValue("PLMSpecifyHowToCollectDataCnx_Custo.V_ConformanceValues.False")}]};case"Yes,No":return{index:t,possibleValue:{value:e,valueNLS:s.getNLSValue("DCRow.Boolean.PossibleValues.YesNo")},conformanceValues:[{index:0,value:"Yes",valueNLS:s.getNLSValue("PLMSpecifyHowToCollectDataCnx_Custo.V_ConformanceValues.Yes")},{index:1,value:"No",valueNLS:s.getNLSValue("PLMSpecifyHowToCollectDataCnx_Custo.V_ConformanceValues.No")}]};case"1,0":return{index:t,possibleValue:{value:e,valueNLS:s.getNLSValue("DCRow.Boolean.PossibleValues.OneZero")},conformanceValues:[{index:0,value:"1",valueNLS:s.getNLSValue("PLMSpecifyHowToCollectDataCnx_Custo.V_ConformanceValues.1")},{index:1,value:"0",valueNLS:s.getNLSValue("PLMSpecifyHowToCollectDataCnx_Custo.V_ConformanceValues.0")}]}}}));return d={attributesToFetch:[{type:"PLMEntity",attributes:["PLM_ExternalID","V_description"]},{type:"BusinessType",attributes:["organization","project","reservedby","originated","modified"]},{type:"PLMSpecifyHowToCollectDataCnx",attributes:["V_DCLabel","V_DCMode","V_DCNbSameMeasurement"]},{type:"DELExtTargetValuesInteger",attributes:["V_MaxValue","V_MinValue","V_PossibleValues"]},{type:"DELExtControlLimitsInteger",attributes:["V_MaxControlValue","V_MinControlValue"]},{type:"DELExtTargetValuesText",attributes:["V_PossibleValues","V_UnconformValues"]}],customDCAttributes:["V_DCRichText","V_DCType","V_DCMagnitude","V_DCUnit","V_MinValue","V_MinValue_Inclusive","V_MinControlValue","V_MinControlValue_Inclusive","V_MaxValue","V_MaxValue_Inclusive","V_MaxControlValue","V_MaxControlValue_Inclusive","V_Value","V_DCTimestampFormat","V_DCPerformanceCharac","V_DCRequirementLink","V_DCFormula","V_DCResourceLink","V_PossibleValues","V_ConformanceValues","CustoExtn","V_MinEoFValue","V_MinEoFValue_Inclusive","V_MaxEoFValue","V_MaxEoFValue_Inclusive","V_DCCriticality"],ontoDCAttributes:["OntologyParamWithExtn","OntologyArbitraryUnits","V_DCParameterOnto"]},u=function(t){var a,o=D+"."+t;switch(a={Name:t,NLS:s.getNLSValue(o),Type:"String",Protection:2,MultiValuated:"No",HasRangeDefined:"No",DefaultValue:"",MaxLength:256,Magnitude:"",ManipulationUnit:"",MultiLine:"No",UIAccess:"",HasDefault:"Yes"},t){case"V_DCType":a.AuthorizedValues=[{Name:"Real",NLS:s.getNLSValue("DCType.Real")},{Name:"Integer",NLS:s.getNLSValue("DCType.Integer")},{Name:"Text",NLS:s.getNLSValue("DCType.Text")},{Name:"Boolean",NLS:s.getNLSValue("DCType.Boolean")},{Name:"Timestamp",NLS:s.getNLSValue("DCType.Timestamp")}],a.HasRangeDefined="Yes",a.DefaultValue="Real";break;case"V_DCUnit":a.HasRangeDefined="Yes",a.AuthorizedValues=[];break;case"V_DCTimestampFormat":a.AuthorizedValues=[{Name:"hh:mm:ss",NLS:s.getNLSValue("DCRow.Timestamp.Format.HHMMSS")},{Name:"hh:mm",NLS:s.getNLSValue("DCRow.Timestamp.Format.HHMM")},{Name:"YYYY:MM:DD",NLS:s.getNLSValue("DCRow.Timestamp.Format.YYYYMMDD")}],a.HasRangeDefined="Yes",a.DefaultValue="hh:mm:ss";break;case"V_PossibleValues":a.AuthorizedValues=[{Name:"True,False",NLS:s.getNLSValue("DCRow.Boolean.PossibleValues.TrueFalse")},{Name:"Yes,No",NLS:s.getNLSValue("DCRow.Boolean.PossibleValues.YesNo")},{Name:"1,0",NLS:s.getNLSValue("DCRow.Boolean.PossibleValues.OneZero")}],a.DefaultValue=s.getNLSValue("DCRow.Boolean.PossibleValues.TrueFalse");break;case"V_ConformanceValues":a.AuthorizedValues=[{Name:"True",NLS:s.getNLSValue("PLMSpecifyHowToCollectDataCnx_Custo.V_ConformanceValues.True")},{Name:"False",NLS:s.getNLSValue("PLMSpecifyHowToCollectDataCnx_Custo.V_ConformanceValues.False")}],a.DefaultValue=s.getNLSValue("PLMSpecifyHowToCollectDataCnx_Custo.V_ConformanceValues.True");break;case"V_DCFormula":a.MultiLine="Yes";break;case"CustoExtn":a.MultiValuated="Yes",a.HasRangeDefined="Yes",a.HasDefault="No",a.AuthorizedValues=[],e.is(y[N])&&y[N].forEach((function(e){a.AuthorizedValues.push({Name:e.Name,NLS:e.Nls})}));break;case"V_DCRichText":!1===A&&(a.MaxLength=16e3);break;case"V_DCCriticality":a.AuthorizedValues=[{Name:"",NLS:""},{Name:"NotApplicable",NLS:s.getNLSValue("DCRPPCriticality.NotApplicable")},{Name:"NotCritical",NLS:s.getNLSValue("DCRPPCriticality.ProcessParameter")},{Name:"Key",NLS:s.getNLSValue("DCRPPCriticality.KeyProcessParameter")},{Name:"Critical",NLS:s.getNLSValue("DCRPPCriticality.CriticalProcessParameter")}],a.HasRangeDefined="Yes",a.DefaultValue=""}return a},c=function(t){var a,o=D+"."+t;switch(a={Name:t,NLS:s.getNLSValue(o),Type:"String",Protection:2,MultiValuated:"No",HasRangeDefined:"No",DefaultValue:"",MaxLength:256,Magnitude:"",ManipulationUnit:"",MultiLine:"No",UIAccess:"",HasDefault:"Yes"},t){case"OntologyParamWithExtn":a.MultiValuated="Yes",a.HasRangeDefined="Yes",a.HasDefault="No",a.AuthorizedValues=[],e.is(C[p])&&C[p].forEach((function(e){a.AuthorizedValues.push({Name:e.uri,NLS:e.labelNLS})}));break;case"OntologyArbitraryUnits":a.MultiValuated="Yes",a.HasRangeDefined="Yes",a.HasDefault="No",a.AuthorizedValues=[],e.is(I[S])&&I[S].forEach((function(e){a.AuthorizedValues.push({uri:e.uri,Name:e.label,label:e.label,NLSName:e.symbolNLS})}));break;case"V_DCParameterOnto":a.MultiValuated="No",a.HasRangeDefined="Yes",a.HasDefault="No",a.AuthorizedValues=[],e.is(C[p])&&(C[p].forEach((function(e){a.AuthorizedValues.push({Name:e.uri,NLS:e.labelNLS,uri:e.uri})})),_(a.AuthorizedValues),a.AuthorizedValues.unshift({Name:s.getNLSValue("DCParameterTypeDefault"),NLS:s.getNLSValue("DCParameterTypeDefault"),uri:""}))}return a},P=function(e){"true"===localStorage.getItem("_WI5TEST_PARAMIDENTIFIER_ARBITUNIT")&&(console.log("_WI5TEST_PARAMIDENTIFIER_ARBITUNIT : is TRUE"),e.V_DCMagnitude="ARBITRARYUNIT",e.V_DCUnit="737c22ea-e2c8-4b26-b3d9-b1353479bc83",e.V_DCParameterIdentifier="@CSLID-123456789"),"true"===localStorage.getItem("_WI5TEST_ARBITUNIT")&&(console.log("_WI5TEST_ARBITUNIT : is TRUE"),e.V_DCMagnitude="ArbitraryUnit",e.V_DCUnit="737c22ea-e2c8-4b26-b3d9-b1353479bc83"),"true"===localStorage.getItem("_WI5TEST_PARAMIDENTIFIER")&&(console.log("_WI5TEST_PARAMIDENTIFIER : is TRUE"),e.V_DCParameterIdentifier="@CSLID-123456789")},_=function(e){Array.isArray(e)&&e.length>0&&e.sort(((e,t)=>e.NLS<t.NLS?-1:e.NLS>t.NLS?1:0))},function(e,t){let a=String(e),o=a,r=function(e,t,a){return t.toFixed(a).replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,"")},n=function(e,t,a){let o=t.toExponential(a).split("e");return r(0,parseFloat(o[0]),a)+"e"+o[1]},i=o.toLowerCase().includes("e"),s=parseFloat(a);return o=s>=1e-8&&s<1e6?s>=1e-8&&s<1e-6?n(0,s,t):i?r(0,s,t):function(e,t,a){if(Number.isNaN(t))return NaN;const o=String(t),r=e.indexOf(".");return o.indexOf("."),-1===r?e:e.length-r-1>a?t.toFixed(a):e}(a,s,t):n(0,s,t),o},f=function(){return new Intl.NumberFormat(widget.lang).formatToParts(1000.2).find((e=>"decimal"===e.type)).value},m=function(e,t){let a=String(e);return a?a.replace(/[.,]/,t):a},g=function(e,t){if("Integer"===t)return e;let a=T.wkiGetOnlyNumericalValueStripSignAndUnit(e),o=a.NumericalVal,r=a.SignNotation,n=T.wkiGetValueToDisplayAndDataBase(o),i=n.valToDisplay?r+n.valToDisplay:"",s=f();return m(i,s)},V=async function(t){var o,r,l=[],u=[],c=[];if(h.hasOwnProperty("PLMSpecifyHowToCollectDataCnx")&&(o=h.PLMSpecifyHowToCollectDataCnx,e.is(o)&&o.forEach((function(t){(e.is(t.Attributes)?t.Attributes:[]).forEach((function(e){l.push(t.Name+"."+e)}))}))),y.hasOwnProperty("PLMSpecifyHowToCollectDataCnx")&&(r=y.PLMSpecifyHowToCollectDataCnx,e.is(r)&&r.forEach((function(t){(e.is(t.Attributes)?t.Attributes:[]).forEach((function(e){u.push(t.Name+"."+e)}))}))),c=Array.isArray(l)?c.concat(l):c,c=Array.isArray(u)?c.concat(u):c,e.is(c)&&e.Array.isArray(c)&&e.is(t)){var P=[];if(c.forEach((function(e){if(t.hasOwnProperty(e)){var a=t[e];"Double"===a.Type&&a.hasOwnProperty("Magnitude")&&a.hasOwnProperty("ManipulationUnit")&&""!==a.Magnitude&&""!==a.ManipulationUnit&&a.DefaultValue.length>0&&!a.hasOwnProperty("AuthorizedValues")&&P.push({attrName:e,currentUnit:a.ManipulationUnit,value:a.DefaultValue,magnitude:a.Magnitude})}})),e.is(P)&&P.length>0){var f={attributes:P},m={};a.notify("startProgress",m),n.webServiceRequest({url:"dsmfg/private/V0/invoke/MfgProcess/WKI/DataCollectRow/ConvertValueFromMKSToActualUnit",method:"POST",onComplete:function(o){e.is(o)&&(Object.keys(o).forEach((e=>{t[e]&&t[e].hasOwnProperty("DefaultValue")&&(t[e].DefaultValue=o[e].value)})),i.addAttributeInfo(t)),a.notify("stopProgress",m)},onFailure:function(){a.notify("stopProgress",m),a.warn(s.getNLSValue("DataCollectMgmtDialog.ConvertUnitFailure"))},onTimeout:function(){a.notify("stopProgress",m),a.warn(s.getNLSValue("DataCollectMgmtDialog.ConvertUnitFailure"))},data:e.Json.encode(f)})}}},{listenTo:function(){return{moveDataCollectRow:this.moveDataCollectRow}},onStart:function(){R=!1},onStop:function(){R=!1},fetchDataCollectAttrInfos:function(t){var o,r,l,P,f;P=function(){R=!0,e.is(t,"function")&&t()},R?P():(l=function(e){var t={},a={};d.customDCAttributes.forEach((function(e){var o=D+"."+e,r=u(e);a[o]=r.NLS,t[o]=r})),s.addNlsJSON(a),i.addAttributeInfo(t),e()},r=function(t,o){var r={},l=e.clone(d.attributesToFetch);a.notify("startProgress",r),n.webServiceRequest({url:"dictionary/properties",method:"POST",onComplete:function(e){var o={},n={};e.forEach((function(e){e.info.forEach((function(t){var a=e.type+"."+t.Name;n[a]=t.NLS,o[a]=t}))})),V(o),s.addNlsJSON(n),i.addAttributeInfo(o),a.notify("stopProgress",r),t()},onFailure:function(){a.notify("stopProgress",r),o()},onTimeout:function(){a.notify("stopProgress",r),o()},data:e.Json.encode(l)})},f=function(t,o){var r={};a.notify("startProgress",r),n.webServiceRequest({url:"uom/configuration/parametersandunits",method:"GET",onComplete:function(o){var n=d.ontoDCAttributes,l={},u={};I[S]=o[S],C[p]=o[p];let P=s.getNLSValue("DCPRPPArbitraryUnit");e.is(I[S])&&i.addArbitraryDimensions(I[S],P),n.forEach((function(e){var t=D+"."+e,a=c(e);u[t]=a.NLS,l[t]=a})),s.addNlsJSON(u),i.addAttributeInfo(l),a.notify("stopProgress",r),t()},onFailure:function(){a.notify("stopProgress",r),o()},onTimeout:function(){a.notify("stopProgress",r),o()}})},new Promise((function(t,o){var r={},i={types:[N]};a.notify("startProgress",r),n.webServiceRequest({url:"dsmfg/private/V0/invoke/MfgProcess/WKI/getCustoExtnInfo",method:"POST",data:e.Json.encode(i),onComplete:function(o){if(e.is(o)){h[N]=o[N].DeploymentExtn,y[N]=o[N].CustoExtn;let e=h[N];Array.isArray(e)&&e.length>0&&e.forEach((function(e){d.attributesToFetch.push({type:e.Name,attributes:e.Attributes})}));let t=y[N];Array.isArray(t)&&t.length>0&&t.forEach((function(e){d.attributesToFetch.push({type:e.Name,attributes:e.Attributes})}))}a.notify("stopProgress",r),t()},onFailure:function(){a.notify("stopProgress",r),t()},onTimeout:function(){a.notify("stopProgress",r),t()}})})).then((function(){o=[new Promise(r),new Promise(f),new Promise(l)],Promise.all(o).then(P,P)})))},isDataCollectPlan:function(e){return o.isAKindOf(e,"DELWkiDataCollectPlanReference")},isDataCollectCheckList:function(e){return o.isAKindOf(e,"DELWkiDataCollectChecklistReference")},isDataCollectRow:function(e){return o.isAKindOf(e,"PLMSpecifyHowToCollectDataCnx")},getDataCollectRows:function(t,o,i){var s,l,u={},c=this;e.is(t)&&e.is(o)&&(l={dataCollectPID:t,dataCollectRIRPaths:o},a.notify("startProgress",u),s={url:"dsmfg/private/V0/invoke/MfgProcess/WKI/DataCollectRows/Fetch",method:"POST",context:this,data:e.Json.encode(l),onComplete:function(t){e.is(t)&&e.is(t.rows)&&(t.rows.forEach((function(e){c.replaceDBValueWithNLS(e)})),r.addToCollections({stackedReferences:t.rows,onComplete:function(t){e.is(i)&&e.is(i.onComplete)&&i.onComplete(t.instancesAndReferences),a.notify("stopProgress",u)}}))},onFailure:function(){e.is(i)&&e.is(i.onFailure)&&i.onFailure(),a.notify("stopProgress",u)}},n.webServiceRequest(s))},getDataImportCollectRows:function(t,o){var r,i={};a.notify("startProgress",i),r={url:"v1/modeler/characteristics/product/"+t+"/performancespec",method:"GET",context:this,onComplete:function(t){if(e.is(t)&&e.is(t.data)){let r=[];t.data.specsData.forEach((e=>{let t={maturity:e.current,description:e.description,PID:e.physicalid,revision:e.revision,title:e.title,characteristics:[]};t.characteristics=e.characteristics,r.push(t)})),e.is(o)&&e.is(o.onComplete)&&o.onComplete(r),a.notify("stopProgress",i)}},onFailure:function(){e.is(o)&&e.is(o.onFailure)&&o.onFailure(),a.notify("stopProgress",i)}},n.webServiceRequest(r)},getNodeOptions:function(t){var o,r,n,i,l,u,c,P,f,m={},V=d.customDCAttributes||[],_=a.getPreferenceValue("separator"),R=t.toJSON(),D=["V_DCPerformanceCharac","V_DCMode","V_DCRichText","V_DCLabel","V_DCNbSameMeasurement","V_DCUnit","V_MinValue","V_MinControlValue","V_MaxValue","V_MaxControlValue","V_DCTimestampFormat","PLM_ExternalID","V_description","organization","project","reservedby","originated","modified","V_TreeOrder","V_MinEoFValue","V_MaxEoFValue"],S=["V_MinValue_Inclusive","V_MinControlValue_Inclusive","V_MaxValue_Inclusive","V_MaxControlValue_Inclusive","V_MinEoFValue_Inclusive","V_MaxEoFValue_Inclusive"],p={referencePID:t.get("PID"),grid:m};m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"]={iconPath:"",label:s.getNLSValue("DCParameterTypeDefault"),inconsistencyMsg:""};var h="",y="",C=[],I=[],L=[],b=!1;let E=this.getAttributeInfo("V_DCType"),A=this.getAuthorizedValue(E,R.V_DCType),T=t.get("V_DCMagnitude");if("Real"===A){let t=this.getDimensions(),a=this.getArbitraryDimensions();if(e.is(T))if("ArbitraryUnit"===T)Array.isArray(a)&&a.length>0&&a.forEach((function(e){e.hasOwnProperty("Units")&&Array.isArray(e.Units)&&e.Units.forEach((function(e){C.push(e.uri)}))}));else{let a=t.find((function(e){return e.Name===T}));e.is(a)&&a.hasOwnProperty("Units")&&Array.isArray(a.Units)&&a.Units.forEach((function(e){C.push(e.Name)}))}}let M=t.get("V_DCParameterIdentifier");if(e.is(M)&&M.length>0){b=!0;let t=this.getAttributeInfo("V_DCParameterOnto");if(t.AuthorizedValues.length>0){let a=t.AuthorizedValues.find((e=>e.uri===M));e.is(a)&&(h=this.getOntologyType(M),e.is(h)||(h=""))}}for(r in R)if(Object.prototype.hasOwnProperty.call(R,r)){if(o=r.contains(".")?r.split(".")[1]:r,"Real"===A&&""!==T){let t=r.contains(".")?r.split(".")[0]:r;if(e.is(t)||""!==t){let e=t.contains(T)?t.split(T)[0]:t;"DELRscPrmIORangeValue_"!==e&&"DELRscPrmIODoubleValue"!==e||("V_MinValue"===o?o="V_MinEoFValue":"V_MaxValue"===o&&(o="V_MaxEoFValue"))}}if(f=V.indexOf(o)>-1?"PLMSpecifyHowToCollectDataCnx_Custo."+o:r,D.includes(o))m[f]="V_MinEoFValue"===o||"V_MinControlValue"===o||"V_MinValue"===o||"V_MaxValue"===o||"V_MaxControlValue"===o||"V_MaxEoFValue"===o?g(R[r],R.V_DCType):"NULL"!==R[r]?R[r]:"";else if("V_DCParameterIdentifier"===o){let t=s.getNLSValue("DCParameterTypeDefault");if(e.is(R[r])){let a=R[r];if(a.length>0){b=!0;let o=this.getAttributeInfo("V_DCParameterOnto");if(o.AuthorizedValues.length>0){let r=o.AuthorizedValues.find((e=>e.uri===a));if(e.is(r)){t=r.NLS,""===m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].iconPath&&(m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"]={iconPath:"",label:t,inconsistencyMsg:""});let o=this.getOntologyUnit(a);y=this.getOntologyDimension(a),e.is(y)||(y=""),I=Array.isArray(o)&&o.length>0?o:C,"Text"===A&&(L=this.getOntologyStringValues(a))}else""===m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].iconPath&&(m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"]={iconPath:s.getIconURLFromKey("MarkUp"),label:t,inconsistencyMsg:s.getNLSValue("DataCollectMgmtUI.ParameterDeleted")})}else""===m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].iconPath&&(m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"]={iconPath:s.getIconURLFromKey("MarkUp"),label:t,inconsistencyMsg:s.getNLSValue("DataCollectMgmtUI.ParameterDeleted")})}}}else if("V_Value"===o)m[f]=g(R[r],R.V_DCType);else if("V_PossibleValues"===o)if(e.is(R[r],"array")){let t=[],a=R[r];if("Boolean"===A)Array.isArray(a)&&(t=this.getPossibleValueDBEquivalentNLSForBoolean(a)),e.is(t)&&"NULL"!=t?m["PLMSpecifyHowToCollectDataCnx_Custo.V_Value"]=t:m["PLMSpecifyHowToCollectDataCnx_Custo.V_Value"]=[""];else{let e=[];a.forEach((t=>{t.split("|").forEach((t=>{e.push(t)}))})),Array.isArray(e)&&e.length>0&&Array.isArray(L)&&L.length>0&&e.forEach((function(e){if(!L.includes(e))return""===m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].iconPath&&(m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].iconPath=s.getIconURLFromKey("MarkUp"),m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].inconsistencyMsg=s.getNLSValue("DataCollectMgmtUI.PossibleValueDeleted")),!1})),m["PLMSpecifyHowToCollectDataCnx_Custo.V_Value"]=R[r].join(_)}}else"NULL"===R[r]&&(m["PLMSpecifyHowToCollectDataCnx_Custo.V_Value"]=[""]);else if("V_UnconformValues"===o){let e=[],t=R["DELExtTargetValuesText.V_PossibleValues"],a=[];Array.isArray(R[r])&&(a=R[r]),"NULL"!==t&&("NULL"===a?e=t:"NULL"!==a&&("Boolean"===A?a.length?a.forEach((t=>{e.push(this.getOppositeConfromanceValNLSFromValue(t))})):e.push(s.getNLSValue("PLMSpecifyHowToCollectDataCnx_Custo.V_ConformanceValues."+t[0])):t.forEach((t=>{t.split("|").forEach((t=>{a.includes(t)||e.push(t)}))})))),m["PLMSpecifyHowToCollectDataCnx_Custo.V_ConformanceValues"]="Boolean"===A?e:e.join(_)}else if("V_DCFormula"===o)n=R[r],e.is(n)&&(i=n.match("(?<=<FormulaAsDisplayed>)(.*)(?=</FormulaAsDisplayed>)"),Array.isArray(i)&&(m[f]=i[0]));else if(S.includes(o))"Excluded"===R[r]?m[f]=!1:"Included"===R[r]?m[f]=!0:m[f]="NotSet";else if("V_DCType"===o){let t=this.getAttributeInfo(o),a=this.getAuthorizedValue(t,R[r]);c="DCType."+a,m[f]={iconPath:s.getIconURLFromKey(c),label:s.getNLSValue(c)},"String"===h&&(h="Text"),e.is(h)&&""!==h&&e.is(a)&&""!==a&&b&&h!==a&&""===m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].iconPath&&(m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].iconPath=s.getIconURLFromKey("MarkUp"),m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].inconsistencyMsg=s.getNLSValue("DataCollectMgmtUI.OntologyTypeChanged",{ontoType:a,ontoTypeNew:h}))}else"V_DCMagnitude"===o?(u=R[r],m[f]={iconPath:s.getIconURLFromKey("DCMagnitude."+u),label:s.getNLSValue(u)},e.is(y)&&""!==y&&e.is(u)&&""!==u&&b&&y!==u&&""===m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].iconPath&&(m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].iconPath=s.getIconURLFromKey("MarkUp"),m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].inconsistencyMsg=s.getNLSValue("DataCollectMgmtUI.OntologyDimensionChanged",{ontoMag:u,ontoMagNew:y}))):"V_DCRequirementLink"===o?(l=R[r],m[f]={iconPath:s.getIconURLFromKey("DCLink.Rquirement"),label:l.ReqName+" "+l.ReqRevision}):"V_DCResourceLink"===o?m[f]={iconPath:s.getIconURLFromKey(o),label:m[o]}:"V_DCCriticality"===o&&("undefined"===R[r]?m[f]="":m[f]=s.getNLSValue(R[r]))}if(e.is(u)&&Object.prototype.hasOwnProperty.call(m,"PLMSpecifyHowToCollectDataCnx_Custo.V_DCUnit")){let e=m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCUnit"],t=!0,a=!0;!1===b&&(I=C),t=I.includes(e),a=C.includes(e),"ArbitraryUnit"===u&&a&&(e=this.getArbitraryUnitFromUri(e)),""===m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].iconPath&&("ArbitraryUnit"===u?t||a?!t&&a&&(m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].iconPath=s.getIconURLFromKey("MarkUp"),m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].inconsistencyMsg=s.getNLSValue("DataCollectMgmtUI.ArbitraryUnitRemoved")):(m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].iconPath=s.getIconURLFromKey("MarkUp"),m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].inconsistencyMsg=s.getNLSValue("DataCollectMgmtUI.ArbitraryUnitDeleted")):!t&&a&&(m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].iconPath=s.getIconURLFromKey("MarkUp"),m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCParameterOnto"].inconsistencyMsg=s.getNLSValue("DataCollectMgmtUI.UnitRemoved"))),m["PLMSpecifyHowToCollectDataCnx_Custo.V_DCUnit"]=s.getNLSForUnit(u,e)}S.forEach((function(e){var t=V.indexOf(e)>-1?"PLMSpecifyHowToCollectDataCnx_Custo."+e:e;Object.prototype.hasOwnProperty.call(m,t)||(P=t.replace("_Inclusive",""),delete m[P])}));let U=this.getDeploymentExtnAttr(N,!0),w=this.getCustoExtnAttr(N),v=[];for(r in v=Array.isArray(U)?v.concat(U):v,v=Array.isArray(w)?v.concat(w):v,R)Object.prototype.hasOwnProperty.call(R,r)&&v.includes(r)&&(m[r]="NULL"!==R[r]?R[r]:"");return p},deleteDataCollectRow:function(t,o,i){var s,l,u={};a.notify("startProgress",u),s={dataCollectPID:t,dataCollectRowPID:o},l={url:"dsmfg/private/V0/invoke/MfgProcess/WKI/DataCollectRow",method:"DELETE",context:this,data:e.Json.encode(s),onComplete:function(t){e.is(t)&&e.is(t.deletedObjects)&&(r.removeReference(t.deletedObjects[0]),e.is(i)&&e.is(i.onComplete)&&i.onComplete(t.deletedObjects[0])),a.notify("stopProgress",u)},onFailure:function(){e.is(i)&&e.is(i.onFailure)&&i.onFailure(),a.notify("stopProgress",u)}},n.webServiceRequest(l)},fetchDataCollectRow:function(t,o,i,l){var u,c,P={},f=this;e.is(t)&&e.is(o)&&e.is(i)&&(c={dataCollectPID:t,dataCollectRowPID:o,dataCollectRIRPaths:i},a.notify("startProgress",P),u={url:"dsmfg/private/V0/invoke/MfgProcess/WKI/DataCollectRow/Fetch",method:"POST",data:e.Json.encode(c),onComplete:function(t){e.is(t)&&(f.replaceDBValueWithNLS(t),r.addToCollections({stackedReferences:[t],silentMode:!1,onComplete:function(){a.notify("stopProgress",P),e.is(l)&&e.is(l.onComplete)&&l.onComplete()}}))},onFailure:function(){a.notify("stopProgress",P),a.warn(s.getNLSValue("DataCollectMgmtDialog.RetrieveDataFailure")),e.is(l)&&e.is(l.onFailure)&&l.onFailure()}},n.webServiceRequest(u))},getObjectAndAttributeInfos:function(e){return i.getObjectAndAttributeInfos(e)},getAttributeInfo:function(e,t){return i.getAttributeInfo(e,t)},getDimensions:function(){let e=i.getDimensions();return Array.isArray(e)&&e.length>0&&_(e),e},getAuthorizedValueIndex:function(e,t,a){return i.getAuthorizedValueIndex(e,t,a)},getAuthorizedValueDB:function(e,t){return i.getAuthorizedValueDB(e,t)},getDeploymentExtnInfo:function(t,a){var o=[];return h.hasOwnProperty(t)&&(o=e.is(a)?h[t].filter((function(e){return e.isAutoDeployIntf===a})):h[t]),e.clone(o)},getCustoExtnInfo:function(t){return e.clone(y[t])},getDeploymentExtn:function(t,a){var o=this.getDeploymentExtnInfo(t,a),r=[];return e.is(o)&&o.forEach((function(e){r.push({Name:e.Name,Nls:e.Nls})})),r},getCustoExtn:function(t){var a=this.getCustoExtnInfo(t),o=[];return e.is(a)&&a.forEach((function(e){o.push({Name:e.Name,Nls:e.Nls})})),o},getDeploymentExtnAttr:function(t,a){var o=this.getDeploymentExtnInfo(t,a),r=[];return e.is(o)&&o.forEach((function(t){(e.is(t.Attributes)?t.Attributes:[]).forEach((function(e){r.push(t.Name+"."+e)}))})),r},getCustoExtnAttr:function(t){var a=this.getCustoExtnInfo(t),o=[];return e.is(a)&&a.forEach((function(t){(e.is(t.Attributes)?t.Attributes:[]).forEach((function(e){o.push(t.Name+"."+e)}))})),o},getOntologyExtnInfo:function(){return e.clone(C[p])},getOntologyArbitraryUnitsInfo:function(){return this.getAttributeInfo("OntologyArbitraryUnits")},updateAttributeInfoForTextOnto:function(e){i.addAttributeInfo(e)},getArbitraryDimensions:function(){return i.getArbitraryDimensions()},getOntologyType:function(t){var a,o=this.getOntologyExtnInfo();return e.is(o)&&""!=t&&o.forEach((function(e){e.uri===t&&""!==a&&(a=e.type)})),a},getOntologyLabel:function(t){var a,o=this.getOntologyExtnInfo();return e.is(o)&&""!=t&&o.forEach((function(e){e.uri===t&&""!==a&&(a=e.labelNLS)})),a},getOntologyDescription:function(t){var a,o=this.getOntologyExtnInfo();return e.is(o)&&""!=t&&o.forEach((function(e){e.uri===t&&""!==a&&(a=e.descriptionNLS)})),a},getOntologyDimension:function(t){var a,o=this.getOntologyExtnInfo();return e.is(o)&&""!=t&&o.forEach((function(e){e.uri===t&&""!==a&&(a=e.dimension)})),a},getOntologyUnit:function(t){var a=this.getOntologyExtnInfo(),o=[];return e.is(a)&&""!=t&&a.forEach((function(e){e.uri===t&&""!==o&&(o=e.unit)})),o},getOntologyStringValues:function(t){var a,o=this.getOntologyExtnInfo();return e.is(o)&&""!=t&&o.forEach((function(e){e.uri===t&&""!==a&&(a=e.possibleValues)})),a},getOntologyExtensions:function(){var t=this.getOntologyExtnInfo(),a=[],o=[];return e.is(t)&&t.forEach((function(e){Object.prototype.hasOwnProperty.call(e,"extension")&&(o=e.extension).length>0&&o.forEach((function(e){a.push(e)}))})),a},getOntologyExtensionsOfParameter:function(t){var a=this.getOntologyExtnInfo(),o=[],r=[];return e.is(a)&&a.forEach((function(e){e.uri===t&&Object.prototype.hasOwnProperty.call(e,"extension")&&(r=e.extension).length>0&&r.forEach((function(e){o.push(e)}))})),o},getDecodedArbitraryUnitsList:function(t){var a=this.getOntologyArbitraryUnitsInfo(),o=[];return e.is(a)&&Array.isArray(a.AuthorizedValues)&&a.AuthorizedValues.length>0&&Array.isArray(t)&&t.length>0&&a.AuthorizedValues.forEach((function(e){t.forEach((function(t){e.uri===t&&o.push(e)}))})),o},getUriFromArbitraryUnit:function(t){var a=this.getOntologyArbitraryUnitsInfo(),o="";return e.is(a)&&Array.isArray(a.AuthorizedValues)&&a.AuthorizedValues.length>0&&a.AuthorizedValues.forEach((function(e){e.NLSName===t&&(o=e.uri)})),o},getArbitraryUnitFromUri:function(t){var a=this.getOntologyArbitraryUnitsInfo(),o="";return e.is(a)&&Array.isArray(a.AuthorizedValues)&&a.AuthorizedValues.length>0&&a.AuthorizedValues.forEach((function(e){e.uri===t&&(o=e.Name)})),o},getWidgetPreferenceValue:function(e){return widget.getValue(e)},setWidgetPreferenceValue:function(e,a){t.getService("ConfigService").setPreference(e,a)},convertValuesBetweenUnits:function(t){var o={};return a.notify("startProgress",o),new Promise((function(r,i){var l={Dimension:t.dimension,UnitFrom:t.fromUnit,UnitTo:t.toUnit,Value:t.valuesToConvert.join(";")},u=function(){a.notify("stopProgress",o),a.warn(s.getNLSValue("DataCollectMgmtDialog.ConvertUnitFailure")),i()};n.webServiceRequest({url:"dsmfg/private/V0/invoke/MfgProcess/WKI/DataCollectRow/ConvertValueUtil",method:"POST",onComplete:function(e){a.notify("stopProgress",o),r(e)},onFailure:u,onTimeout:u,data:e.Json.encode(l)})}))},replaceDBValueWithNLS:function(t){var a=this.getDeploymentExtnAttr(N),o=this.getCustoExtnAttr(N);a.concat(o).forEach((function(a){var o=i.getAttributeInfo(a);if(i.hasRangeDefined(o)&&e.is(t[a])&&"NULL"!==t[a]){let e,r,n,s=t[a];Array.isArray(s)?n=s.map((function(t){return e=o.AuthorizedValues.findIndex((e=>e.Name===t)),r=i.getAuthorizedValueNLS(o,e),r})):(e=o.AuthorizedValues.findIndex((e=>e.Name===s)),n=i.getAuthorizedValueNLS(o,e)),t[a]=n}}))},replaceNLSValueWithDB:function(e){var t=this.getDeploymentExtnAttr(N),a=this.getCustoExtnAttr(N),o=t.concat(a),r=this;o.forEach((function(t){var a=i.getAttributeInfo(t);if(i.hasRangeDefined(a)&&Array.isArray(e[t])){let o;o=e[t].map((function(e){return r.getAuthorizedValue(a,e)})),e[t]=o}}))},updateDataCollectRow:function(t,o,i,l,u){var c,P,f={},m=this;e.is(t)&&e.is(o)&&e.is(i)&&e.is(l)&&(c={dataCollectPID:t,dataCollectRowPID:o,dataCollectRowAttrs:i,dataCollectRIRPaths:l},a.notify("startProgress",f),P={data:e.Json.encode(c),url:"dsmfg/private/V0/invoke/MfgProcess/WKI/DataCollectRow",method:"PUT",onComplete:function(t){e.is(t)&&(m.replaceDBValueWithNLS(t),r.addToCollections({stackedReferences:[t],silentMode:!1,onComplete:function(t){a.notify("stopProgress",f),a.info(s.getNLSValue("DataCollectMgmtDialog.UpdateSuccess")),e.is(u)&&e.is(u.onComplete)&&u.onComplete(t.instancesAndReferences[0])}}))},onFailure:function(){a.notify("stopProgress",f),a.warn(s.getNLSValue("DataCollectMgmtDialog.UpdateFailure")),e.is(u)&&e.is(u.onFailure)&&u.onFailure()}},n.webServiceRequest(P))},moveDataCollectRow:function(t,o,i,l){var u,c,P={},f=this;e.is(t)&&e.is(o)&&e.is(i)&&(u={dataCollectPID:t,dataCollectRowPID:o,newIndex:i},a.notify("startProgress",P),c={url:"dsmfg/private/V0/invoke/MfgProcess/WKI/DataCollectRow/Move",method:"POST",context:this,data:e.Json.encode(u),onComplete:function(t){f.replaceDBValueWithNLS(t),e.is(t)&&Array.isArray(t.rows)&&r.addToCollections({stackedReferences:t.rows,silentMode:!1,onComplete:function(){a.notify("stopProgress",P),e.is(l)&&e.is(l.onComplete)&&l.onComplete()}})},onFailure:function(){a.notify("stopProgress",P),a.warn(s.getNLSValue("WUXDataCollectRowDragDrop.ReorderFailure")),e.is(l)&&e.is(l.onFailure)&&l.onFailure()}},n.webServiceRequest(c))},createDataCollectRow:function(t,o,i){var l,u,c={},f=this;e.is(t)&&e.is(o)&&(l={dataCollectPID:t,dataCollectRowAttrs:o},P(o),a.notify("startProgress",c),u={data:e.Json.encode(l),url:"dsmfg/private/V0/invoke/MfgProcess/WKI/DataCollectRow",method:"POST",onComplete:function(t){e.is(t)&&(f.replaceDBValueWithNLS(t),r.addToCollections({stackedReferences:[t],silentMode:!1,onComplete:function(){a.notify("stopProgress",c),a.info(s.getNLSValue("DataCollectMgmtDialog.CreateSuccess")),e.is(i)&&e.is(i.onComplete)&&i.onComplete()}}))},onFailure:function(){a.notify("stopProgress",c),a.warn(s.getNLSValue("DataCollectMgmtDialog.CreateFailure")),e.is(i)&&e.is(i.onFailure)&&i.onFailure()}},n.webServiceRequest(u))},generateDataCollectRows:function(t,o,i,l,u){var c,P,f={};e.is(t)&&e.is(o)&&e.is(i)&&e.is(l)&&(c={dataCollectPID:o,characsPIDList:t,parentOpePID:l,dataCollectAbsPath:i},a.notify("startProgress",f),P={data:e.Json.encode(c),url:"dsmfg/private/V0/invoke/MfgProcess/WKI/DataCollectRow/Generate",method:"POST",onComplete:function(t){e.is(t.dataCollectRows,"array")&&r.addToCollections({stackedReferences:t.dataCollectRows,silentMode:!1,onComplete:function(){a.notify("stopProgress",f),a.info(s.getNLSValue("DataCollectMgmtDialog.CreateSuccess")),e.is(u)&&e.is(u.onComplete)&&u.onComplete()}})},onFailure:function(){a.notify("stopProgress",f),a.warn(s.getNLSValue("DataCollectMgmtDialog.CreateFailure")),e.is(u)&&e.is(u.onFailure)&&u.onFailure()}},n.webServiceRequest(P))},changeDataFormatToKF:function(t){var a=l.isUsingInputValueKF();e.is(a)&&!0===a&&t.DELWkiDataCollectPlanReferenceReal&&t.DELWkiDataCollectPlanReferenceReal.Attribute.forEach((e=>{"inclusiveEditor"===e.displayType&&(e.displayType="LineEditorGroupForKF",e.type="LineEditorGroupForKF"),"UnitsSpinEditor"===e.displayType&&(e.displayType="UnitsLineEditorForKF",e.type="UnitsLineEditorForKF")}))},getAuthorizedValue:function(e,t){return i.getAuthorizedValue(e,null,t)},getAuthorizedValueNLS:function(e,t){return i.getAuthorizedValueNLS(e,t)},isNoSizeLimitEnabled:function(){return A},getPossibleValueDBEquivalentNLSForBoolean:function(e){if(Array.isArray(M))for(const t of M){const a=t.conformanceValues.map((e=>e.value));if(e.length===a.length&&e.every(((e,t)=>e===a[t])))return t.possibleValue.valueNLS}return null},getPossibleValueInArrayFromNLSForBoolean:function(e){if(Array.isArray(M))for(const t of M){const a=t.possibleValue.valueNLS;if(e.length===a.length&&e===a)return t.conformanceValues.map((e=>e.value))}return null},getOppositeConfromanceValFromValueNLS:function(e){if(Array.isArray(M)){for(const t of M){const a=t.conformanceValues;if(2===a.length){if(a[0].valueNLS===e)return[a[1].value];if(a[1].valueNLS===e)return[a[0].value]}}return null}},getConformanceAuthValueFromIndex:function(e){if(Array.isArray(M)){let t=[];return t.push({Name:M[e].conformanceValues[0].value,NLS:M[e].conformanceValues[0].valueNLS}),t.push({Name:M[e].conformanceValues[1].value,NLS:M[e].conformanceValues[1].valueNLS}),t}return null},getOppositeConfromanceValNLSFromValue:function(e){if(Array.isArray(M)){for(const t of M){const a=t.conformanceValues;if(2===a.length){if(a[0].value===e)return a[1].valueNLS;if(a[1].value===e)return a[0].valueNLS}}return null}}}}}})),define("DS/DELPPWInstructionModelBehaviors/ResourceParameterPlanBehavior",["UWA/Core","DS/DELWebInfrastructureControls/DELWebResourceParameter/DELWebResourceParameterModel"],(function(e,t){"use strict";return{plugins:["DicoPlugin","DatabasePlugin","WebServicePlugin","AttributePlugin","ResourcePlugin","PlatformPlugin"],creator:function(a,o,r,n,i,s,l,u){const c=Object.freeze({VALID:-1,DISPLAY_WARNING_MESSAGE_WITH_CHECKBOX:0,DISPLAY_WARNING_MESSAGE:1});var P,f,m,g,V,_={},d=!1,R="DELResourcePrmPlanSET",N="DELResourcePrmPlanGET",D=[R,N],S={},p={},h={},y={},C="units",I="parameters",L="PLMSpecifyHowToResourcePlanCnx_Custo",b=u.getMaxIntegerLengthForKF(),E=u.getMaxDecimalLengthToDisplayForKF(),A=u.getMaxDecimalLengthToDatabaseForKF(),T=u.isNoSizeLimitEnabled(),M={m_strFloatValueAsString:"",m_fValue:"",m_fValue_ToDisplay_eg_6dd:"",m_fValue_ToStoreInDB_eg_8dd:"",m_bIsTransformationSuccessful:!1,m_iNumberOfDecimalsToDisplay:6,m_iNumberOfDecimalsForStorageInDB:8,m_fNumberLowerRange_ToDB:1e-8,m_fNumberLowerRange_ToDisplay:1e-6,m_fNumberHigherRange:1e6,Init:function(e,t="",a="",o="",r=!1){this.m_strFloatValueAsString=e,this.m_fValue=t,this.m_fValue_ToDisplay_eg_6dd=a,this.m_fValue_ToStoreInDB_eg_8dd=o,this.m_bIsTransformationSuccessful=r},Init_UpperAndLowerLimits_MaxDigitsBeforDecimal:function(e=6,t=8,a=6){this.m_iNumberOfDecimalsToDisplay=e,this.m_iNumberOfDecimalsForStorageInDB=t,this.m_fNumberLowerRange_ToDisplay=parseFloat("1e-"+e),this.m_fNumberLowerRange_ToDB=parseFloat("1e-"+t),this.m_fNumberHigherRange=parseFloat("1e"+a)},wkiGetFloatNumber_WITHOUT_RemoveTrailingZeroes_InDecimalNotation:function(e,t,a){if(Number.isNaN(t))return NaN;const o=String(t),r=e.indexOf(".");o.indexOf(".");if(-1===r)return e;return e.length-r-1>a?t.toFixed(a):e},wkiGetFloatNumber_AfterRemoveTrailingZeroes_InExponentialNotation:function(e,t,a){let o=t.toExponential(a).split("e");parseFloat(o[0]).toString();return this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InDecimalNotation_v2("",parseFloat(o[0]),a)+"e"+o[1]},wkiGetFloatNumber_AfterRemoveTrailingZeroes_InDecimalNotation_v1:function(e,t,a){return parseFloat(t.toFixed(a)).toString()},wkiGetFloatNumber_AfterRemoveTrailingZeroes_InDecimalNotation_v2:function(e,t,a){return t.toFixed(a).replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,"")},wkiTansformInputFloatValueInto6DDand8DDNotation:function(){const e=this.m_strFloatValueAsString;let t="",a="";const o=e.toLowerCase().includes("e");let r=parseFloat(e);isNaN(r)||r===1/0||r===-1/0?this.m_bIsTransformationSuccessful=!1:(r>=this.m_fNumberLowerRange_ToDB&&r<this.m_fNumberHigherRange?r>=this.m_fNumberLowerRange_ToDB&&r<this.m_fNumberLowerRange_ToDisplay?(t=this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InExponentialNotation(e,r,this.m_iNumberOfDecimalsToDisplay),a=this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InDecimalNotation_v2(e,r,this.m_iNumberOfDecimalsForStorageInDB)):o?(t=this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InDecimalNotation_v2(e,r,this.m_iNumberOfDecimalsToDisplay),a=this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InDecimalNotation_v2(e,r,this.m_iNumberOfDecimalsForStorageInDB)):(t=this.wkiGetFloatNumber_WITHOUT_RemoveTrailingZeroes_InDecimalNotation(e,r,this.m_iNumberOfDecimalsToDisplay),a=this.wkiGetFloatNumber_WITHOUT_RemoveTrailingZeroes_InDecimalNotation(e,r,this.m_iNumberOfDecimalsForStorageInDB)):r?(t=this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InExponentialNotation(e,r,this.m_iNumberOfDecimalsToDisplay),a=this.wkiGetFloatNumber_AfterRemoveTrailingZeroes_InExponentialNotation(e,r,this.m_iNumberOfDecimalsForStorageInDB)):"0"===String(r)&&(o?(t=r,a=r):(t=e,a=e)),this.m_fValue_ToDisplay_eg_6dd=t,this.m_fValue_ToStoreInDB_eg_8dd=a,this.m_bIsTransformationSuccessful=!0)},wkiGetValueToDisplayAndDataBase_V0:function(e){this.Init(e);const t=E,a=A,o=b;return this.Init_UpperAndLowerLimits_MaxDigitsBeforDecimal(t,a,o),this.wkiTansformInputFloatValueInto6DDand8DDNotation(),{valToDisplay:this.m_fValue_ToDisplay_eg_6dd,valueToDatabase:this.m_fValue_ToStoreInDB_eg_8dd,bTransformationStatus:this.m_bIsTransformationSuccessful}},wkiGetValueToDisplayAndDataBase:function(e){return this.Init(e),{valToDisplay:e,valueToDatabase:e,bTransformationStatus:!0}},wkiGetOnlyNumericalValueStripSignAndUnit:function(e){let t=String(e);if(e&&t&&t.length){let e=t.match(/^([+-])?(\.*\d+(\.\d+)?([eE][-+]?\d+)?)(\s*\w*.*)?$/);if(e)return{NumericalVal:e[2],SignNotation:e[1]||""}}return{NumericalVal:"",SignNotation:""}},wkiGetSignNotation:function(e){let t=String(e).match(/^([+-])?(.*\d+(\.\d+)?([eE][-+]?\d+)?)(\s*\w*)?$/);return t&&t[1]||""}};return _={attributesToFetch:[{type:"PLMEntity",attributes:["PLM_ExternalID","V_description"]},{type:"BusinessType",attributes:["organization","project","reservedby","originated","modified"]},{type:"DELExtTargetValuesInteger",attributes:["V_RPPMaxValue","V_RPPMinValue","V_PossibleValues","V_RPPRscMinValue","V_RPPRscMaxValue"]},{type:"DELExtControlLimitsInteger",attributes:["V_RPPMaxControlValue","V_RPPMinControlValue"]},{type:"DELExtTargetValuesText",attributes:["V_PossibleValues"]}],customRPPAttributes:["V_RPPMode","V_RPPMagnitude","V_RPPValue","V_RPPMinValue","V_RPPMaxValue","V_RPPRscMinValue","V_RPPRscMaxValue","V_RPPRichText","V_RPPTitle","V_RPPMaxValue_Inclusive","V_RPPMinValue_Inclusive","V_RPPMinControlValue","V_RPPMinControlValue_Inclusive","V_RPPMaxControlValue","V_RPPMaxControlValue_Inclusive","V_PossibleValues","GETCustoExten","SETCustoExten","V_RPPMinEoFValue","V_RPPMaxEoFValue","V_RPPMinEoFValue_Inclusive","V_RPPMaxEoFValue_Inclusive","V_RPPCriticality","V_RPPRLinkedCapableResouce"],ontoDCAttributes:["OntologyParamWithExtn","OntologyArbitraryUnits"]},P=function(t){var a,o=L+"."+t;switch(a={Name:t,NLS:l.getNLSValue(o),Type:"String",Protection:2,MultiValuated:"No",HasRangeDefined:"No",DefaultValue:"",MaxLength:256,Magnitude:"",ManipulationUnit:"",MultiLine:"No",UIAccess:"",HasDefault:"Yes"},t){case"GETCustoExten":a.MultiValuated="Yes",a.HasRangeDefined="Yes",a.HasDefault="No",a.AuthorizedValues=[],e.is(p[N])&&p[N].forEach((function(e){a.AuthorizedValues.push({Name:e.Name,NLS:e.Nls})}));break;case"SETCustoExten":a.MultiValuated="Yes",a.HasRangeDefined="Yes",a.HasDefault="No",a.AuthorizedValues=[],e.is(p[R])&&p[R].forEach((function(e){a.AuthorizedValues.push({Name:e.Name,NLS:e.Nls})}));break;case"V_RPPRichText":!1===T&&(a.MaxLength=16e3);break;case"V_RPPCriticality":a.AuthorizedValues=[{Name:"",NLS:""},{Name:"NotApplicable",NLS:l.getNLSValue("DCRPPCriticality.NotApplicable")},{Name:"NotCritical",NLS:l.getNLSValue("DCRPPCriticality.ProcessParameter")},{Name:"Key",NLS:l.getNLSValue("DCRPPCriticality.KeyProcessParameter")},{Name:"Critical",NLS:l.getNLSValue("DCRPPCriticality.CriticalProcessParameter")}],a.HasRangeDefined="Yes",a.DefaultValue=""}return a},f=function(t){var a,o=L+"."+t;switch(a={Name:t,NLS:l.getNLSValue(o),Type:"String",Protection:2,MultiValuated:"No",HasRangeDefined:"No",DefaultValue:"",MaxLength:256,Magnitude:"",ManipulationUnit:"",MultiLine:"No",UIAccess:"",HasDefault:"Yes"},t){case"OntologyParamWithExtn":a.MultiValuated="Yes",a.HasRangeDefined="Yes",a.HasDefault="No",a.AuthorizedValues=[],e.is(y[I])&&y[I].forEach((function(e){a.AuthorizedValues.push({Name:e.uri,NLS:e.labelNLS})}));break;case"OntologyArbitraryUnits":a.MultiValuated="Yes",a.HasRangeDefined="Yes",a.HasDefault="No",a.AuthorizedValues=[],e.is(h[C])&&h[C].forEach((function(e){a.AuthorizedValues.push({uri:e.uri,Name:e.label,label:e.label,NLSName:e.symbolNLS})}))}return a},function(e,t){let a=String(e),o=a,r=function(e,t,a){return t.toFixed(a).replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,"")},n=function(e,t,a){let o=t.toExponential(a).split("e");return r(0,parseFloat(o[0]),a)+"e"+o[1]},i=o.toLowerCase().includes("e"),s=parseFloat(a);return o=s>=1e-8&&s<1e6?s>=1e-8&&s<1e-6?n(0,s,t):i?r(0,s,t):function(e,t,a){if(Number.isNaN(t))return NaN;const o=String(t),r=e.indexOf(".");return o.indexOf("."),-1===r?e:e.length-r-1>a?t.toFixed(a):e}(a,s,t):n(0,s,t),o},m=function(){return new Intl.NumberFormat(widget.lang).formatToParts(1000.2).find((e=>"decimal"===e.type)).value},g=function(e,t){let a=String(e);return a?a.replace(/[.,]/,t):a},V=function(e){let t=M.wkiGetOnlyNumericalValueStripSignAndUnit(e),a=t.NumericalVal,o=t.SignNotation,r=M.wkiGetValueToDisplayAndDataBase(a),n=r.valToDisplay?o+r.valToDisplay:"",i=m();return g(n,i)},{listenTo:function(){return{moveResourceParameterRow:this.moveResourceParameterRow}},onStart:function(){d=!1},onStop:function(){d=!1},deleteResourceParameterRows:function(t,a,r){var s,u,c={};o.notify("startProgress",c),s={resourceParameterPlanPID:t,resourceParameterPlanRowPID:a},u={url:"dsmfg/private/V0/invoke/MfgProcess/WKI/ResourceParameterPlanRow",method:"DELETE",context:this,data:e.Json.encode(s),onComplete:function(t){e.is(t)&&e.is(t.deletedObjects)&&(n.removeReference(t.deletedObjects[0]),e.is(r)&&e.is(r.onComplete)&&r.onComplete(t.deletedObjects[0])),o.notify("stopProgress",c)},onFailure:function(){e.is(r)&&e.is(r.onFailure)&&r.onFailure(),o.notify("stopProgress",c),o.info(l.getNLSValue("ResourceParametertMgmtUI.RPRowDelete.Success"))}},i.webServiceRequest(u)},fetchRPPAttrInfos:function(t){var a,r,n,u,c;u=function(){d=!0,e.is(t,"function")&&t()},d?u():(n=function(e){var t={},a={};_.customRPPAttributes.forEach((function(e){var o=L+"."+e,r=P(e);a[o]=r.NLS,t[o]=r})),l.addNlsJSON(a),s.addAttributeInfo(t),e()},r=function(t,a){var r={},n=e.clone(_.attributesToFetch);o.notify("startProgress",r),i.webServiceRequest({url:"dictionary/properties",method:"POST",onComplete:function(e){var a={},n={};e.forEach((function(e){e.info.forEach((function(t){var o=e.type+"."+t.Name;n[o]=t.NLS,a[o]=t}))})),l.addNlsJSON(n),s.addAttributeInfo(a),o.notify("stopProgress",r),t()},onFailure:function(){o.notify("stopProgress",r),a()},onTimeout:function(){o.notify("stopProgress",r),a()},data:e.Json.encode(n)})},c=function(t,a){var r={};o.notify("startProgress",r),i.webServiceRequest({url:"uom/configuration/parametersandunits",method:"GET",onComplete:function(a){var n=_.ontoDCAttributes,i={},u={};h[C]=a[C],y[I]=a[I];let c=l.getNLSValue("DCPRPPArbitraryUnit");e.is(h[C])&&s.addArbitraryDimensions(h[C],c),n.forEach((function(e){var t=L+"."+e,a=f(e);u[t]=a.NLS,i[t]=a})),l.addNlsJSON(u),s.addAttributeInfo(i),o.notify("stopProgress",r),t()},onFailure:function(){o.notify("stopProgress",r),t()},onTimeout:function(){o.notify("stopProgress",r),t()}})},new Promise((function(t,a){var r={},n={types:D};o.notify("startProgress",r),i.webServiceRequest({url:"dsmfg/private/V0/invoke/MfgProcess/WKI/getCustoExtnInfo",method:"POST",data:e.Json.encode(n),onComplete:function(a){e.is(a)&&Object.keys(a).forEach((function(e){S[e]=a[e].DeploymentExtn,p[e]=a[e].CustoExtn,Array.isArray(S[e])&&S[e].length>0&&S[e].forEach((function(e){_.attributesToFetch.push({type:e.Name,attributes:e.Attributes})})),Array.isArray(p[e])&&p[e].length>0&&p[e].forEach((function(e){_.attributesToFetch.push({type:e.Name,attributes:e.Attributes})}))})),o.notify("stopProgress",r),t()},onFailure:function(){o.notify("stopProgress",r),t()},onTimeout:function(){o.notify("stopProgress",r),t()}})})).then((function(){a=[new Promise(r),new Promise(c),new Promise(n)],Promise.all(a).then(u,u)})))},getObjectAndAttributeInfos:function(e){return s.getObjectAndAttributeInfos(e)},getAttributeInfo:function(e,t){return s.getAttributeInfo(e,t)},getResourceParameterLists:function(e){return t.getResourceParameterLists(e)},getResourceParameterRows:function(t,a,r){var s,l,u={};o.notify("startProgress",u),l={resourceParameterPlanPID:t,resourceParameterPlanRIRPath:n.transformToRIROccurrencePath(a.rppPath),resourceParameterLists:e.is(a.resourceParameterListIds)?a.resourceParameterListIds:"",resourceParameterObj:e.is(a.resourceParameterListObj)?a.resourceParameterListObj:"",resourcePID:e.is(a.resourceRefs)?a.resourceRefs:""},s={data:e.Json.encode([l]),url:"dsmfg/private/V0/invoke/MfgProcess/WKI/GetResourceParameterPlanRows",method:"POST",context:this,onComplete:function(t){e.is(t)&&e.is(t.rows)&&t.rows.length>0?(t.rows.forEach((e=>{"NotSet"===e.V_RPPMinControlValue_Inclusive&&(e.V_RPPMinControlValue=""),"NotSet"===e.V_RPPMaxControlValue_Inclusive&&(e.V_RPPMaxControlValue=""),"NotSet"===e.V_RPPMinValue_Inclusive&&(e.V_RPPMinValue=""),"NotSet"===e.V_RPPMaxValue_Inclusive&&(e.V_RPPMaxValue=""),"NotSet"===e.V_RPPMinEoFValue_Inclusive&&(e.V_RPPMinEoFValue=""),"NotSet"===e.V_RPPMaxEoFValue_Inclusive&&(e.V_RPPMaxEoFValue=""),!1===e.V_RPPValueStatus&&(e.V_RPPValue="")})),n.addToCollections({stackedReferences:t.rows,onComplete:function(t){e.is(r)&&e.is(r.onComplete)&&r.onComplete(t.instancesAndReferences)}})):e.is(r)&&e.is(r.onComplete)&&r.onComplete(t.rows),o.notify("stopProgress",u)},onFailure:function(){e.is(r)&&e.is(r.onFailure)&&r.onFailure(),o.notify("stopProgress",u)}},i.webServiceRequest(s)},isResourceParameterRow:function(e){var t=e.get("type");return["DELResourcePrmPlanSET","DELResourcePrmPlanGET"].includes(t)},isResourceParameterPlan:function(e){return r.isAKindOf(e,"DELResourceParameterPlanReference")},getAuthorizedValueIndex:function(e,t,a){return s.getAuthorizedValueIndex(e,t,a)},getAuthorizedValueDB:function(e,t){return s.getAuthorizedValueDB(e,t)},getAuthorizedValue:function(e,t,a){return s.getAuthorizedValue(e,t,a)},getAuthorizedValueNLS:function(e,t){return s.getAuthorizedValueNLS(e,t)},getDeploymentExtnInfo:function(t,a){var o=[];return S.hasOwnProperty(t)&&(o=e.is(a)?S[t].filter((function(e){return e.isAutoDeployIntf===a})):S[t]),e.clone(o)},getCustoExtnInfo:function(t){return e.clone(p[t])},getDeploymentExtn:function(t,a){var o=this.getDeploymentExtnInfo(t,a),r=[];return e.is(o)&&o.forEach((function(e){r.push({Name:e.Name,Nls:e.Nls})})),r},getCustoExtn:function(t){var a=this.getCustoExtnInfo(t),o=[];return e.is(a)&&a.forEach((function(e){o.push({Name:e.Name,Nls:e.Nls})})),o},getDeploymentExtnAttr:function(t,a){var o=this.getDeploymentExtnInfo(t,a),r=[];return e.is(o)&&o.forEach((function(t){(e.is(t.Attributes)?t.Attributes:[]).forEach((function(e){r.push(t.Name+"."+e)}))})),r},getCustoExtnAttr:function(t){var a=this.getCustoExtnInfo(t),o=[];return e.is(a)&&a.forEach((function(t){(e.is(t.Attributes)?t.Attributes:[]).forEach((function(e){o.push(t.Name+"."+e)}))})),o},getWidgetPreferenceValue:function(e){return widget.getValue(e)},setWidgetPreferenceValue:function(e,t){a.getService("ConfigService").setPreference(e,t)},moveResourceParameterRow:function(t,a,r,s){var u,c,P={};e.is(t)&&e.is(a)&&e.is(r)&&(u={resourceParameterPlanPID:String(t),resourceParameterPlanRowPID:String(a),newIndex:r},o.notify("startProgress",P),c={url:"dsmfg/private/V0/invoke/MfgProcess/WKI/ResourceParameterPlanRow/Move",method:"POST",context:this,data:e.Json.encode(u),onComplete:function(t){e.is(t)&&Array.isArray(t.rows)&&n.addToCollections({stackedReferences:t.rows,silentMode:!1,onComplete:function(){o.notify("stopProgress",P),e.is(s)&&e.is(s.onComplete)&&s.onComplete()}})},onFailure:function(){o.notify("stopProgress",P),o.warn(l.getNLSValue("WUXResourceParameterRowDragDrop.ReorderFailure")),e.is(s)&&e.is(s.onFailure)&&s.onFailure()}},i.webServiceRequest(c))},updateResourceParameterRow:function(t,a,r){var s,u,c,P={};e.is(t)&&e.is(a)&&(e.is(a.V_RPPValue)?a.V_RPPValue=Array.isArray(a.V_RPPValue)?a.V_RPPValue[0]:""===a.V_RPPValue?null:a.V_RPPValue:a.V_RPPValue=null,s=e.is(t.rppPath)?n.transformToRIROccurrencePath(t.rppPath):"",u={resourceParameterPlanPID:e.is(t.resourceParameterPlanPID)?t.resourceParameterPlanPID:"",resourceParameterPlanRowPID:e.is(t.resourceParameterRowPID)?t.resourceParameterRowPID:"",resourcePID:e.is(t.resourcePID)?t.resourcePID:"",resourceParameterListPID:e.is(t.resourceParameterListPID)?t.resourceParameterListPID:"",resourceParameterPID:e.is(t.resourceParameterPID)?t.resourceParameterPID:"",resourceParameterPlanRowAttrs:e.is(a)?a:"",resourceParameterPlanRIRPath:s},o.notify("startProgress",P),c={data:e.Json.encode(u),url:"dsmfg/private/V0/invoke/MfgProcess/WKI/ResourceParameterPlanRow",method:"PUT",onComplete:function(t){e.is(t)&&("NotSet"===t.V_RPPMaxControlValue_Inclusive&&(t.V_RPPMaxControlValue=null),"NotSet"===t.V_RPPMinControlValue_Inclusive&&(t.V_RPPMinControlValue=null),"NotSet"===t.V_RPPMaxValue_Inclusive&&(t.V_RPPMaxValue=null),"NotSet"===t.V_RPPMinValue_Inclusive&&(t.V_RPPMinValue=null),"NotSet"===t.V_RPPMinEoFValue_Inclusive&&(t.V_RPPMinEoFValue=null),"NotSet"===t.V_RPPMaxEoFValue_Inclusive&&(t.V_RPPMaxEoFValue=null),e.is(t.V_RPPValueStatus)&&!1===t.V_RPPValueStatus&&(t.V_RPPValue=""),n.addToCollections({stackedReferences:[t],silentMode:!1,onComplete:function(t){o.notify("stopProgress",P),o.info(l.getNLSValue("ResourceParametersMgmtDialog.UpdateSuccess")),e.is(r)&&e.is(r.onComplete)&&r.onComplete(t.instancesAndReferences[0])}}))},onFailure:function(){o.notify("stopProgress",P),o.warn(l.getNLSValue("ResourceParametersMgmtDialog.UpdateFailure"))}},i.webServiceRequest(c))},createResourceParameterRow:function(t,a,r){var s,u,c,P={};c=n.transformToRIROccurrencePath(r.rppPath),e.is(t)&&e.is(a)&&(a.forEach((t=>{e.is(t.V_RPPMagnitude)&&(t.V_RPPMagnitude=t.V_RPPMagnitude.labelValue),e.is(t.V_RPPMagnitude)&&e.is(t.V_RPPUnit)&&(t.unit=l.getLabelForUnit(t.V_RPPMagnitude,t.V_RPPUnit)),!e.is(t.V_PossibleValues)||"Text"!==t.V_RPPMagnitude&&"Integer"!==t.V_RPPMagnitude||"SET"===t.V_RPPMode&&(t.V_RPPValue=t.V_PossibleValues.length>0?t.V_PossibleValues[0]:null)})),s={resourceParameterPlanPID:t,resourceParameterPlanRIRPath:c,resourceParameterPlanParameters:a},o.notify("startProgress",P),u={data:e.Json.encode([s]),url:"dsmfg/private/V0/invoke/MfgProcess/WKI/ResourceParameterPlanRow",method:"POST",onComplete:function(t){e.is(t)&&e.is(t.rows)&&t.rows.length>0&&(t.rows.forEach((e=>{"NotSet"===e.V_RPPMinControlValue_Inclusive&&"NotSet"===e.V_RPPMaxControlValue_Inclusive&&(e.V_RPPMinControlValue="",e.V_RPPMaxControlValue="",e.V_RPPValue=null),"NotSet"===e.V_RPPMinValue_Inclusive&&"NotSet"===e.V_RPPMaxValue_Inclusive&&(e.V_RPPMinValue="",e.V_RPPMaxValue="",e.V_RPPValue=null),"NotSet"===e.V_RPPMinEoFValue_Inclusive&&"NotSet"===e.V_RPPMaxEoFValue_Inclusive&&(e.V_RPPMinEoFValue="",e.V_RPPMaxEoFValue="",e.V_RPPValue=null)})),n.addToCollections({stackedReferences:t.rows,silentMode:!1,onComplete:function(e){o.info(l.getNLSValue("ResourceParametersMgmtDialog.CreateSuccess")),o.notify("addResourceParamRef",[e.instancesAndReferences])}})),o.notify("stopProgress",P)},onFailure:function(){o.notify("stopProgress",P),o.warn(l.getNLSValue("ResourceParametersMgmtDialog.CreateFailure")),e.is(r)&&e.is(r.onFailure)&&r.onFailure()}},i.webServiceRequest(u))},getNLSForUnit:function(e,t){return l.getNLSForUnit(e,t)},getLabelForUnit:function(e,t){return l.getLabelForUnit(e,t)},getNodeOptions:function(t,a){var r,n,i,s,u={},P=_.customRPPAttributes||[],f=t.V_RPPMagnitude,m=o.getPreferenceValue("separator"),g=t,d=["V_RPPMode","V_RPPRichText","V_RPPUnit","V_TreeOrder","V_MinControlValue_Inclusive","V_MaxControlValue","V_MaxControlValue_Inclusive","V_MinControlValue","V_RPPRLinkedCapableResouce"],R=["V_RPPMinValue_Inclusive","V_RPPMaxValue_Inclusive"],N={referencePID:t.PID,grid:u};for(n in g)if(Object.prototype.hasOwnProperty.call(g,n))if(r=n.contains(".")?n.split(".")[1]:n,i=P.indexOf(r)>-1?"PLMSpecifyHowToResourcePlanCnx_Custo."+r:n,d.includes(r))u[i]="NULL"!==g[n]?g[n]:"";else if("V_RPPMinValue"===r||"V_RPPMaxValue"===r||"V_RPPMinControlValue"===r||"V_RPPMaxControlValue"===r||"V_RPPValue"===r||"V_RPPRscMinValue"===r||"V_RPPRscMaxValue"===r||"V_RPPMinEoFValue"===r||"V_RPPMaxEoFValue"===r){let t=g[n];if("Text"===f)u["PLMSpecifyHowToResourcePlanCnx_Custo."+r]=g[n];else if("Integer"!==f)if(e.is(t)&&t.length){let e=t.split(" ")[0],a=V(e);u["PLMSpecifyHowToResourcePlanCnx_Custo."+r]=a}else u["PLMSpecifyHowToResourcePlanCnx_Custo."+r]=""}else if("V_RPPMinControlValue_Inclusive"===r||"V_RPPMaxControlValue_Inclusive"===r)"Excluded"===g[n]?u["PLMSpecifyHowToResourcePlanCnx_Custo."+r]=!1:"Included"===g[n]?u["PLMSpecifyHowToResourcePlanCnx_Custo."+r]=!0:u["PLMSpecifyHowToResourcePlanCnx_Custo."+r]=!1;else if("V_RPPMinEoFValue_Inclusive"===r||"V_RPPMaxEoFValue_Inclusive"===r)"Excluded"===g[n]?u["PLMSpecifyHowToResourcePlanCnx_Custo."+r]=!1:"Included"===g[n]?u["PLMSpecifyHowToResourcePlanCnx_Custo."+r]=!0:u["PLMSpecifyHowToResourcePlanCnx_Custo."+r]=!1;else if("V_RPPMagnitude"===r){let e="";e="Text"===(f=g[n])||"Integer"===f?l.getNLSValue("DCType."+f):l.getNLSValue(f),u[i]={iconPath:l.getIconURLFromKey("DCMagnitude."+f),label:e}}else if("V_RPPTitle"===r)if(t.validResourceLinkExists)if(g.hasOwnProperty("RPP_ParameterIdentifier")){let e=this.isValidParamId(g);e.isValid!==c.VALID?u["PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPTitle"]={iconPath:l.getIconURLFromKey("MarkUp"),label:"NULL"!==g[n]?g[n]:"",value:e.msgTobeDisplayed}:u["PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPTitle"]={iconPath:"",label:"NULL"!==g[n]?g[n]:""}}else u["PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPTitle"]={iconPath:"",label:"NULL"!==g[n]?g[n]:""};else u["PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPTitle"]={iconPath:l.getIconURLFromKey("MarkUp"),label:g[n]};else"V_PossibleValues"===r||"V_PSValue"===r?"DELExtTargetValuesText.V_PossibleValues"===n||"DELExtTargetValuesInteger.V_PossibleValues"===n?u["PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPValue"]=Array.isArray(g[n])?g[n].join(m):[]:"DELExtPrmSetIntegerValue.V_PSValue"!==n&&"DELExtPrmSetTextValue.V_PSValue"!==n||(u["PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPValue"]=g[n]?g[n]:""):"V_RPPCriticality"===r?"undefined"===g[n]?u[i]="":u[i]=l.getNLSValue(g[n]):R.includes(r)&&("Excluded"===g[n]?u[i]=!1:"Included"===g[n]?u[i]=!0:u[i]=!1);if(e.is(f)&&Object.prototype.hasOwnProperty.call(u,"V_RPPUnit")){let e=u.V_RPPUnit;"ArbitraryUnit"===f&&(e=this.getArbitraryUnitFromUri(e)),u.V_RPPUnit=this.getNLSForUnit(f,e)}["PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMinValue_Inclusive","PLMSpecifyHowToResourcePlanCnx_Custo.V_RPPMaxValue_Inclusive"].forEach((function(e){Object.prototype.hasOwnProperty.call(u,e)||(s=e.replace("_Inclusive",""),delete u[s])}));let D=g.type,S=this.getDeploymentExtnAttr(D,!0),p=this.getCustoExtnAttr(D),h=[];for(n in h=Array.isArray(S)?h.concat(S):h,h=Array.isArray(p)?h.concat(p):h,g)Object.prototype.hasOwnProperty.call(g,n)&&h.includes(n)&&(u[n]="NULL"!==g[n]?g[n]:"");return N},getOntologyStringValues:function(t){var a,o=this.getOntologyParamInfo();return e.is(o)&&""!=t&&o.forEach((function(e){e.uri===t&&""!==a&&(a=e.possibleValues)})),a},getOntologyType:function(t){var a,o=this.getOntologyParamInfo();return e.is(o)&&""!=t&&o.forEach((function(e){e.uri===t&&""!==a&&(a=e.type)})),a},getOntologyDimension:function(t){var a,o=this.getOntologyParamInfo();return e.is(o)&&""!=t&&o.forEach((function(e){e.uri===t&&""!==a&&(a=e.dimension)})),a},getOntologyParamInfo:function(){return e.clone(y[I])},getArbitraryUnitsInfo:function(){if(e.is(h[C]))return e.clone(h[C]);{let t=this.getAttributeInfo("PLMSpecifyHowToResourcePlanCnx_Custo.OntologyArbitraryUnits");if(e.is(t)&&Array.isArray(t.AuthorizedValues)&&t.AuthorizedValues.length>0)return t.AuthorizedValues}},getArbitraryUnitFromUri:function(t){var a=this.getArbitraryUnitsInfo(),o="";return e.is(a)&&a.forEach((function(e){e.uri===t&&(o=e.label)})),o},manageInconsistencyForParameterWithOOTB:function(t,a,o){let r=c.VALID,n=l.getNLSValue("ResourceParameterPlanEditUI.VALID"),i=(t.V_RPPMagnitude,t.RP_Unit),s=t.V_RPPUnit,u=t.RP_ParameterIdentifier,P=t.RPP_ParameterIdentifier;if(e.is(P)&&e.is(u))if(e.is(a))if(!o.includes(P)&&P.length)n=l.getNLSValue("ResourceParameterPlanEditUI.RPP_WithObsoleteParameterWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE_WITH_CHECKBOX;else if(!o.includes(P)&&u.length)n=l.getNLSValue("ResourceParameterPlanEditUI.RP_WithObsoleteParameterWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE;else if(o.includes(P)){let t=o.indexOf(P),u=[];e.is(a)&&(u=a[t].unit),e.is(u)&&!u.includes(s)?(n=l.getNLSValue("ResourceParameterPlanEditUI.RP_RPP_WithRemovedOOTBUnitWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE):s!==i&&(n=l.getNLSValue("ResourceParameterPlanEditUI.RP_RPP_WithDifferentOOTBUnitWarningMessage",{oldUnitName:s,newUnitName:i})+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE)}else e.is(s)&&e.is(i)&&s!==i&&(n=l.getNLSValue("ResourceParameterPlanEditUI.RP_RPP_WithDifferentOOTBUnitWarningMessage",{oldUnitName:s,newUnitName:i})+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE);else P.length?(n=l.getNLSValue("ResourceParameterPlanEditUI.RPP_WithObsoleteParameterWarningMessage"),r=c.DISPLAY_WARNING_MESSAGE_WITH_CHECKBOX):!P.length&&u.length?(n=l.getNLSValue("ResourceParameterPlanEditUI.RP_WithObsoleteParameterWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE):e.is(s)&&e.is(i)&&s!==i&&(n=l.getNLSValue("ResourceParameterPlanEditUI.RP_RPP_WithDifferentOOTBUnitWarningMessage",{oldUnitName:s,newUnitName:i})+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE);return{isValid:r,msgTobeDisplayed:n}},manageInconsistencyForOnlyArbitraryUnit:function(t,a,o){let r=c.VALID,n=l.getNLSValue("ResourceParameterPlanEditUI.VALID"),i=(t.V_RPPMagnitude,t.RP_Unit),s=t.V_RPPUnit;return e.is(a)?o.includes(s)?o.includes(i)?s!==i&&(n=l.getNLSValue("ResourceParameterPlanEditUI.RP_RPP_WithDifferentArbitraryUnitWarningMessage",{oldUnitName:s,newUnitName:i})+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE):(n=l.getNLSValue("ResourceParameterPlanEditUI.RP_WithObsoleteArbitraryUnitWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE):(n=l.getNLSValue("ResourceParameterPlanEditUI.RPP_WithObsoleteArbitraryUnitWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE):e.is(i)&&e.is(s)&&i.length>0&&(n=l.getNLSValue("ResourceParameterPlanEditUI.RPP_WithObsoleteArbitraryUnitWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE),{isValid:r,msgTobeDisplayed:n}},manageInconsistencyForParameterWithArbitraryUnit:function(t,a,o,r,n){let i=c.VALID,s=l.getNLSValue("ResourceParameterPlanEditUI.VALID"),u=(t.V_RPPMagnitude,t.RP_Unit),P=t.V_RPPUnit,f=t.RP_ParameterIdentifier,m=t.RPP_ParameterIdentifier;if(e.is(m)&&e.is(f))if(e.is(a))if(e.is(r))if(!o.includes(m)&&m.length)s=l.getNLSValue("ResourceParameterPlanEditUI.RPP_WithObsoleteParameterWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),i=c.DISPLAY_WARNING_MESSAGE_WITH_CHECKBOX;else if(!o.includes(m)&&f.length)s=l.getNLSValue("ResourceParameterPlanEditUI.RP_WithObsoleteParameterWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),i=c.DISPLAY_WARNING_MESSAGE;else if(n.includes(P))if(n.includes(u)){if(o.includes(m)){let t=o.indexOf(m),r=[];e.is(a)&&(r=a[t].unit),e.is(r)&&!r.includes(P)?(s=l.getNLSValue("ResourceParameterPlanEditUI.RP_RPP_WithRemovedArbitraryUnitWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),i=c.DISPLAY_WARNING_MESSAGE):P!==u&&(s=l.getNLSValue("ResourceParameterPlanEditUI.RP_RPP_WithDifferentArbitraryUnitWarningMessage",{oldUnitName:P,newUnitName:u})+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),i=c.DISPLAY_WARNING_MESSAGE)}}else s=l.getNLSValue("ResourceParameterPlanEditUI.RP_WithObsoleteArbitraryUnitWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),i=c.DISPLAY_WARNING_MESSAGE;else s=l.getNLSValue("ResourceParameterPlanEditUI.RPP_WithObsoleteArbitraryUnitWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),i=c.DISPLAY_WARNING_MESSAGE;else e.is(P)&&P.length?(s=l.getNLSValue("ResourceParameterPlanEditUI.RPP_WithObsoleteArbitraryUnitWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),i=c.DISPLAY_WARNING_MESSAGE):e.is(u)&&u.length&&(s=l.getNLSValue("ResourceParameterPlanEditUI.RP_WithObsoleteArbitraryUnitWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),i=c.DISPLAY_WARNING_MESSAGE);else m.length?(s=l.getNLSValue("ResourceParameterPlanEditUI.RPP_WithObsoleteParameterWarningMessage"),i=c.DISPLAY_WARNING_MESSAGE_WITH_CHECKBOX):!m.length&&f.length?(s=l.getNLSValue("ResourceParameterPlanEditUI.RP_WithObsoleteParameterWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),i=c.DISPLAY_WARNING_MESSAGE):e.is(r)||(e.is(P)&&P.length?(s=l.getNLSValue("ResourceParameterPlanEditUI.RPP_WithObsoleteArbitraryUnitWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),i=c.DISPLAY_WARNING_MESSAGE):e.is(u)&&u.length&&(s=l.getNLSValue("ResourceParameterPlanEditUI.RP_WithObsoleteArbitraryUnitWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),i=c.DISPLAY_WARNING_MESSAGE));return{isValid:i,msgTobeDisplayed:s}},manageInconsistencyForTypeChange:function(t){let a=c.DISPLAY_WARNING_MESSAGE,o="";return e.is(t)&&t.length>0&&(o=l.getNLSValue("ResourceParameterPlanEditUI.ParameterTypeIsDifferentWarningMessage",{oldUnitName:t})),{isValid:a,msgTobeDisplayed:o}},manageInconsistencyForDimensionChange:function(t){let a=c.DISPLAY_WARNING_MESSAGE,o="";return e.is(t)&&t.length>0&&(o=l.getNLSValue("ResourceParameterPlanEditUI.ParameterDimensionIsDifferentWarningMessage",{oldDimensionName:t})),{isValid:a,msgTobeDisplayed:o}},manageInconsistencyForTextType:function(t,a,o){let r=c.VALID,n=l.getNLSValue("ResourceParameterPlanEditUI.VALID"),i=(t.V_RPPMagnitude,t.RP_Unit,t.V_RPPUnit,t.RP_ParameterIdentifier),s=t.RPP_ParameterIdentifier,u=[];if(t.hasOwnProperty("DELExtTargetValuesText.V_PossibleValues")&&"NULL"!==t["DELExtTargetValuesText.V_PossibleValues"]&&(u=t["DELExtTargetValuesText.V_PossibleValues"].sort()),e.is(s)&&e.is(i))if(e.is(a)){if(!o.includes(s)&&s.length)n=l.getNLSValue("ResourceParameterPlanEditUI.RPP_WithObsoleteParameterWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE_WITH_CHECKBOX;else if(!o.includes(s)&&i.length)n=l.getNLSValue("ResourceParameterPlanEditUI.RP_WithObsoleteParameterWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE;else if(o.includes(s)){let t=[];if(t=this.getOntologyStringValues(s),u.length>0&&e.is(t)&&e.is(t,"array")){t.sort(),u.every((e=>t.includes(e)))||(n=l.getNLSValue("ResourceParameterPlanEditUI.RPP_WithDifferentPossibleValueWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE)}}}else s.length?(n=l.getNLSValue("ResourceParameterPlanEditUI.RPP_WithObsoleteParameterWarningMessage"),r=c.DISPLAY_WARNING_MESSAGE_WITH_CHECKBOX):i.length&&(n=l.getNLSValue("ResourceParameterPlanEditUI.RP_WithObsoleteParameterWarningMessage")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserNotAbleToEditRPP_Row")+"<br>"+l.getNLSValue("ResourceParameterPlanEditUI.UserRecommendationToDelete_RPP_Row"),r=c.DISPLAY_WARNING_MESSAGE);return{isValid:r,msgTobeDisplayed:n}},isValidParamId:function(t){let a={isValid:c.VALID,msgTobeDisplayed:l.getNLSValue("ResourceParameterPlanEditUI.VALID")},o=t.V_RPPMagnitude,r="Text";if("Integer"!==o){let n=this.getOntologyParamInfo(),i=this.getArbitraryUnitsInfo(),s=(t.RP_Unit,t.V_RPPUnit,t.RP_ParameterIdentifier),l=t.RPP_ParameterIdentifier,u=[];e.is(n)&&n.forEach((e=>u.push(e.uri)));let c=[];e.is(i)&&i.forEach((e=>c.push(e.uri)));let P=!1;if(e.is(l)&&l.length){let t=this.getOntologyType(l),n="Real",i="String",s=this.getOntologyDimension(l);if(e.is(t)){if(t===i?t=r:t===n&&(t=n),o===r&&o!==t)a=this.manageInconsistencyForTypeChange(o),P=!0;else if(o!==r){let e=n;e!==t&&(a=this.manageInconsistencyForTypeChange(e),P=!0)}!P&&e.is(s)&&o!==s&&(a=this.manageInconsistencyForDimensionChange(o),P=!0)}}P||(o===r?a=this.manageInconsistencyForTextType(t,n,u):"ArbitraryUnit"!==o?a=this.manageInconsistencyForParameterWithOOTB(t,n,u):"ArbitraryUnit"===o&&e.is(l)&&!l.length&&e.is(s)&&!s.length?a=this.manageInconsistencyForOnlyArbitraryUnit(t,i,c):"ArbitraryUnit"===o&&(e.is(l)&&l.length||e.is(s)&&s.length)&&(a=this.manageInconsistencyForParameterWithArbitraryUnit(t,n,u,i,c)))}return{isValid:a.isValid,msgTobeDisplayed:a.msgTobeDisplayed}},changeDataFormatToKF:function(t){var a=u.isUsingInputValueKF();e.is(a)&&!0===a&&(t.DELResourceParameterPlanReferenceGET||t.DELResourceParameterPlanReferenceSET)&&(t.DELResourceParameterPlanReferenceGET.Attribute.forEach((e=>{"inclusiveEditor"===e.displayType&&(e.displayType="LineEditorGroupForKF",e.type="LineEditorGroupForKF"),"UnitsSpinEditor"===e.displayType&&(e.displayType="UnitsLineEditorForKF",e.type="UnitsLineEditorForKF")})),t.DELResourceParameterPlanReferenceSET.Attribute.forEach((e=>{"inclusiveEditor"===e.displayType&&(e.displayType="LineEditorGroupForKF",e.type="LineEditorGroupForKF"),"UnitsSpinEditor"===e.displayType&&(e.displayType="UnitsLineEditorForKF",e.type="UnitsLineEditorForKF")})))},isNoSizeLimitEnabled:function(){return T}}}}}));