define("DS/CAT3DPlayMUCScenario/LoadAssetInfos",["UWA/Class","UWA/Controls/Abstract"],(function(e,i){"use strict";return i.singleton({init:function(){this._AssetInfos=""},_getAssetInfos:function(){return this._AssetInfos},_setAssetInfos:function(e){this._AssetInfos=e}})})),define("DS/CAT3DPlayMUCScenario/CAT3DPlayMUCScenario",["DS/3DPlay/3DPlayScenario","DS/ApplicationFrame/CommandsManager"],(function(e,i){"use strict";return e.extend({init:function(e){this._parent(e),e.scenarioManager&&(this._experience=e.scenarioManager.getExperience()),this.setScenarioResetActionBarPolicy(!0)},isMobileCompatible:function(){return!0},launch:function(){if(this.loadWorkbench({module:"CAT3DPlayMUCScenario",name:"CAT3DPlayMUCScenario"},!0),this._experience){let e=this._experience.frmWindow.getActionBar();this.token_launch=e.onActionBarReady((()=>{let n=i.getCommand("CAT3DPlayMUCCmd",this._experience.ctx);n&&!n.isRunning()&&(n.begin(),this.token_launch&&(e.removeCallback(this.token_launch),this.token_launch=void 0))}))}},stop:function(){if(this._experience&&this._experience.frmWindow){if(this.token_launch){let e=this._experience.frmWindow.getActionBar();e&&(e.removeCallback(this.token_launch),this.token_launch=void 0)}if(this._experience){let e=i.getCommand("CAT3DPlayMUCCmd",this._experience.ctx);e&&e.isRunning()&&e.end()}}else console.error("3DPlay : Navigation Scenario --\x3e Cound not stop.")}})})),define("DS/CAT3DPlayMUCScenario/CAT3DPlayMUCRegister",["DS/3DPlay/3DPlayRegister","DS/CAT3DPlayMUCScenario/CAT3DPlayMUCScenario"],(function(e,i){"use strict";return e.extend({init:function(e){this._parent(e),this._initScenarios();var i=this;this._experience=this.scenarioManager.getExperience(),this._experience&&(this._experience.EventDisposer.add(this._experience.subscribe("ASSET/LOADINGFINISHED",(e=>{"EV6"===e.loadAssetInfo.provider?window.is3dxml=!1:(window.is3dxml=!0,function(e){let n=e&&""!==e;i.scenarioManager.setAvailability(n,{iRegisterID:i.registerID,iScenarioID:i.scenarioID}),!window.cdsJSON&&e&&(window.cdsJSON=e),!n||"MUC"!==i.scenarioManager.currentScenarioName&&"Explore"!==i.scenarioManager.currentScenarioName||i.scenarioManager.changeScenario(i.registerID,i.scenarioID,i.subScenarioId,!0,void 0,!1)}(window.cdsJSON))}))),this._experience.EventDisposer.add(this._experience.subscribe("ASSET/LOADINGSTARTED",(e=>{window.is3dxml=void 0,window.cdsJSON=void 0}))))},_initScenarios:function(){this.scenarioID=this.scenarioManager.addScenario({registerID:this.registerID,scenario:i,available:!0,name:"MUC"})}})}));