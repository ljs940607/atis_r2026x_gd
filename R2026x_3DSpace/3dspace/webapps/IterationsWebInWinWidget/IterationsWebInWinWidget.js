define("DS/IterationsWebInWinWidget/IterationsWebInWinWidget",["UWA/Controls/Abstract","DS/ENOjquery/ENOjquery","DS/WAFData/WAFData","DS/LifecycleServices/LifecycleServices","DS/WebInWinHelper/WebInWinHelper","DS/IterationsWidget/IterationsWidget","DS/LifecycleServices/LifecycleServicesSettings"],(function(e,t,i,n,o,s,a){"use strict";return e.extend({defaultOptions:{wintop:!1,addinmode:null},webToWinCom_Socket:null,ContextualMenus:null,context:null,init:function(e,t,i){this.widget=e,this.context=this,this.options=i,this.isWebInWinODTMode=!!i.isWebInWinODTMode,i.isWebInWinODTMode&&(window.iterationlistResult=i.IterationsWebInWinPayload),o.initTenant(this),o.getServices(this),this.contextMenuObject=null,1==this.options.wintop&&(this.webToWinCom_Socket=o.createWebInWinSocket("webinwiniteration_socket_")),this.options.webToWinComSocket=this.webToWinCom_Socket,window._webinwincom_socket=this.webToWinCom_Socket,this.parentWidget=t,this._parent(i);var n=UWA.createElement("div",{class:"webinwin_iteration_frame",id:"webinwiniteration"});this.elements.container=n,n.style.width="100%",n.style.height="100%",n.dataset.webinwinSocket=this.options.webToWinComSocket,console.log("options.addinmode: "+i.addinmode),this.addinmode=null,i.addinmode&&(this.addinmode=i.addinmode),this.iterationWidget=new s(this.widget,this.parentWidget,this.options)},initDatafromWin:function(e){var t=this,i=[];o.setCSOSelectionIteration(t.webToWinCom_Socket,e),e.forEach((function(e){var n={physicalid:e.physicalId,name:e.name,tenant:t.tenant};i.push(n)})),i.length>0&&(t.selectedObj=i[0]);var s=t.elements.container;if(s)for(;s.hasChildNodes();)s.removeChild(s.lastChild);t.addinmode&&"catiav5"===t.addinmode.toLowerCase()?a.app_initialization((function(){n.getSecurityContextPromise(t.tenant).then((function(e){t.options.securityContext=e,t.iterationWidget.buildWebInWinUI(t.webToWinCom_Socket,t.isWebInWinODTMode,t.addinmode),t.iterationWidget.setObject(t.selectedObj),t.iterationWidget.inject(t.elements.container)}))})):o.sendGetLicenseNotif(t.webToWinCom_Socket)},onLicenseList:function(e){var t=this,i=[];if(0!=e.length)for(var o=0;o<e.length;o++){var s={license:e[o].license,authorized:e[o].authorized};i.push(s)}i.length>0&&(window._licenseList=i),n.getSecurityContextPromise(t.tenant).then((function(e){t.options.securityContext=e,t.iterationWidget.buildWebInWinUI(t.webToWinCom_Socket,t.isWebInWinODTMode,t.addinmode),t.iterationWidget.setObject(t.selectedObj),t.iterationWidget.inject(t.elements.container)}))},onResize:function(){},onRefresh:function(){},initEnvfromWin:function(e){}})}));