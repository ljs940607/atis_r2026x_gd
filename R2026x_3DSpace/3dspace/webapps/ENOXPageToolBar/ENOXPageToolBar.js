define("DS/ENOXPageToolBar/js/PageToolBar",["UWA/Class/View","DS/Handlebars/Handlebars","DS/CoreEvents/ModelEvents","DS/Controls/TooltipModel","text!DS/ENOXPageToolBar/html/PageToolBar.html","i18n!DS/ENOXPageToolBar/assets/nls/PageToolBar","css!DS/ENOXPageToolBar/css/PageToolBar","css!DS/UIKIT/UIKIT.css"],(function(e,t,n,i,o,l,a,s){"use strict";var c=t.compile(o),r=!1,m=!1,d="fonticon-expand-left",p="fonticon-expand-right";return e.extend({name:"page-toolbar-view",className:function(){return this.getClassNames("-container")},tagName:"div",domEvents:{"click .welcome-panel":"welcomePanelIconClick","click .information-panel":"informationIconClick","click .mobile-menu":"mobileMenuClick","click .fonticon-chevron-left":"navigateBackward","click .fonticon-chevron-right":"navigateForward"},init:function(e){for(var t in e._self=this,e.withInformationButton=!1!==e.withInformationButton&&!0!==e.withInformationButton||e.withInformationButton,e.withWelcomePanelButton=!!e.withWelcomePanelButton&&e.withWelcomePanelButton,e.isWelcomePanelCollapsed=!!e.isWelcomePanelCollapsed&&e.isWelcomePanelCollapsed,this._informationOpen=!(!e.informationOriginalState||"open"!==e.informationOriginalState),e._informationOpen=this._informationOpen,this._welcomePanelCollapsed=e.isWelcomePanelCollapsed,this._withWelcomePanelMenuMobile=e.withWelcomePanelButton,e.withWelcomePanelMenuMobile=this._withWelcomePanelMenuMobile,this._modelEvents=e.modelEvents?e.modelEvents:new n,this._enableNavigation=!!e.enableNavigation&&e.enableNavigation,this.withWebUXTooltip=e.withWebUXTooltip,e)this[t]=e[t];this._parent(e),r=!!e.isWelcomePanelCollapsed&&e.isWelcomePanelCollapsed},setup:function(e){var t=this;UWA.is(e.className)&&this.container.addClassName(e.className),e.collapse_nls_name=l.collapse,e.expand_nls_name=l.expand,e.information_nls_name=l.information,this.container.setHTML(c(e)),e.withWebUXTooltip&&t.updateWebUXTooltips(e),this._collaspe_expander=t.container.getElement(".welcome-panel"),this._modelEvents.subscribe({event:"top-toolbar-update-body"},(function(){})),this._modelEvents.subscribe({event:"welcome-panel-expanded"},(function(){var e=t.container.getElement(".welcome-panel");e&&((e=e.getElement(".fonticon")).classList.add(d),e.classList.remove(p),e.setAttribute("title",l.collapse))})),this._modelEvents.subscribe({event:"welcome-panel-collapsed"},(function(){var e=t.container.getElement(".welcome-panel");e&&((e=e.getElement(".fonticon")).classList.remove(d),e.classList.add(p),e.setAttribute("title",l.expand))})),this._modelEvents.subscribe({event:"information-panel-visible"},(function(){var e=t.container.getElement(".information-panel");e&&(e=e.getElement(".fonticon")).classList.add("selected")})),this._modelEvents.subscribe({event:"information-panel-hidden"},(function(){var e=t.container.getElement(".information-panel");e&&(e=e.getElement(".fonticon")).classList.remove("selected")})),this._modelEvents.subscribe({event:"hide-welcomepanel-icon"},(function(){var e=t.container.getElement(".welcome-panel"),n=t.container.getElement(".body-content");e&&(e.classList.add("displaynone"),n.classList.add("noleftshift"));var i=t.container.getElement(".mobile-menu");i&&(i.classList.add("displaynone"),n.classList.add("noleftshift"))})),this._modelEvents.subscribe({event:"show-welcomepanel-icon"},(function(){var e=t.container.getElement(".welcome-panel"),n=t.container.getElement(".body-content");e&&(e.classList.remove("displaynone"),n.classList.remove("noleftshift"));var i=t.container.getElement(".mobile-menu");i&&(i.classList.remove("displaynone"),n.classList.remove("noleftshift"))}))},render:function(e){return this},welcomePanelIconClick:function(){var e=this.container.getElement(".welcome-panel");e&&(e=e.getElement(".fonticon"),r=!e.classList.contains(d)),r?this._modelEvents.publish({event:"welcome-panel-expand"}):this._modelEvents.publish({event:"welcome-panel-collapse"})},informationIconClick:function(){var e=this.container.getElement(".information-panel");e&&((e=e.getElement(".fonticon")).classList.contains("selected")?(m=!0,e.classList.remove("selected")):(m=!1,e.classList.add("selected"))),m?this._modelEvents.publish({event:"information-panel-close"}):this._modelEvents.publish({event:"information-panel-open"})},mobileMenuClick:function(){this._modelEvents.publish({event:"welcome-panel-expand"})},getBodyContent:function(){return this.container.getElement(".body-content")},enableAction:function(e){let t=this.container.getElement("."+e);t.classList.contains("disabled")&&t.classList.remove("disabled")},disableAction:function(e){let t=this.container.getElement("."+e);t.classList.contains("disabled")||t.classList.add("disabled")},navigateForward:function(e){e.target.classList.contains("disabled")||this._modelEvents.publish({event:"navigate-forward"})},navigateBackward:function(e){e.target.classList.contains("disabled")||this._modelEvents.publish({event:"navigate-backward"})},hideNavigationPanel:function(){this.container.getElement(".navigate").style.display="none",this.container.getElement(".body-content").classList.remove("withNavigationPanel")},showNavigationPanel:function(){this.container.getElement(".navigate").style.display="",this.container.getElement(".body-content").classList.add("withNavigationPanel")},updateWebUXTooltips:function(e){let t=this;if(e.withInformationButton){let e=t.container.getElement(".information-panel");e.tooltipInfos=new i({title:l.information}),e.title=""}if(e.withWelcomePanelButton){let e,n,o=t.container.getElement(".fonticon-expand-right"),a=t.container.getElement(".fonticon-expand-left");o?(e=o,n=l.expand):(e=a,n=l.collapse),e.tooltipInfos=new i({title:n}),e.setAttribute("title","")}if(e.enableNavigation){let n=t.container.getElement(".fonticon-chevron-right"),o=t.container.getElement(".fonticon-chevron-left");if(n.tooltipInfos=new i({title:l.forward}),o.tooltipInfos=new i({title:l.back}),e.withInformationButton){let e=document.createElement("div");e.classList.add("navigate-divider"),t.container.querySelector(".navigate").appendChild(e)}}},updateTooltip:function(e,t){let n=this.container.getElement("."+e);this.withWebUXTooltip?(n.tooltipInfos=new i({title:t}),n.setAttribute("title","")):n.setAttribute("title",t)}})}));