define("DS/ENOProjectMgmtModels/Models/RelatedData",["UWA/Class/Model"],(function(e){"use strict";return e.extend({_uwaClassName:"RelatedData"})})),define("DS/ENOProjectMgmtModels/Models/CSRFDataModel",["UWA/Class/Model"],(function(e){"use strict";return e.extend({_uwaClassName:"CSRFDataModel",tokenName:"ENO_CSRF_TOKEN",csrfValue:"",setCSRF:function(e){this.csrfValue=e},getCSRF:function(){let e={};return e.name=this.tokenName,e.value=this.csrfValue,e}})})),define("DS/ENOProjectMgmtModels/Models/SecurityContext",["UWA/Class/Model"],(function(e){"use strict";return e.extend({_uwaClassName:"SecurityContext"})})),define("DS/ENOProjectMgmtModels/Models/RequestData",["UWA/Class/Model"],(function(e){"use strict";return e.extend({_uwaClassName:"RequestData",csrf:void 0,data:[],dataObject:void 0})})),define("DS/ENOProjectMgmtModels/Utils/StorageDataUtil",["UWA/Class","UWA/Storage","UWA/Storage/Adapter/Object"],(function(e,t,i){"use strict";let s=e.extend({storage:void 0,init:function(){this.storage=new t({adapter:"Object",database:"ENOProjectMgmtWidgetStorage"})},clear:function(){let e=this,t=this.storage.getAll();if(t)for(let i in t)e.remove(i)},safeStore:function(e,t){try{let i=this.storage.safeStore(t);this.storage.set(e,i)}catch(e){console.error(e)}},set:function(e,t){try{this.storage.set(e,t)}catch(e){console.error(e)}},remove:function(e){try{this.storage.remove(e)}catch(e){console.error(e)}},get:function(e){return this.storage.get(e)},getSafeStoreData:function(e){return this.storage.safeResurrect(this.storage.get(e))}});return s._instance=s._instance||new s,s._instance})),define("DS/ENOProjectMgmtModels/Models/AppSettings",["UWA/Class/Model"],(function(e){"use strict";let t=e.extend({_uwaClassName:"AppSettings",setup:function(){let e={params:"",url:"",myAppsUrl:"",showSpace:"",objectId:"",widgetId:"",widgetName:"",taggerContextId:"auto",appName:"",tenant:"",space:null,rows:null,preferences:{},language:"",timezone:"",user:"",isStandaloneWidget:!1,contextInfo:void 0};this.set(e)},setSelectedViewName:function(e){let t=this.getTenantInfo();UWA.extend(t,{viewName:e}),this.setTenantInfo(t)},getSelectedViewName:function(e){return e||(e=this.getTenantInfo()),e&&e.viewName},getViews:function(e){if(e)return e.views||(e.views={}),e.views},getViewNameInfo:function(e,t){let i=this.getViews(e),s=t||e.viewName;return i[s]||(i[s]={}),i[s]},setSelectedSwitchViewOption:function(e,t){let i=this.getTenantInfo(),s=this.getViewNameInfo(i,e);UWA.extend(s,{switchView:t}),this.setTenantInfo(i)},getSwitchViewOption:function(e){if(!window.widget)return;let t=this.getTenantInfo();return e||(e=this.getSelectedViewName(t)),this.getViewNameInfo(t,e).switchView},getCurrentViewName:function(){if(!window.widget)return;let e=this.getTenantInfo(),t=this.getSelectedViewName(e),i=this.getViewNameInfo(e,t);return i&&i.switchView?i.switchView:t},setSelectedFilterOption:function(e){let t=this.getTenantInfo();if(this.getAlwaysLoadDefault())UWA.extend(t,{filter:e});else{let i=this.getViewNameInfo(t);i&&i.switchView?i[i.switchView]={filter:e}:UWA.extend(i,{filter:e})}this.setTenantInfo(t)},getSelectedFilterOption:function(){if(!window.widget)return;let e=this.getTenantInfo(),t=this.getViewNameInfo(e);return(t&&t.switchView&&t[t.switchView]?t[t.switchView].filter:void 0)||t&&t.filter||e&&e.filter},setSelectedSubFilterOption:function(e){let t=this.getTenantInfo();if(this.getAlwaysLoadDefault())UWA.extend(t,{subFilter:e});else{let i=this.getViewNameInfo(t);UWA.extend(i,{subFilter:e})}this.setTenantInfo(t)},getSelectedSubFilterOption:function(){if(!window.widget)return;let e=this.getTenantInfo(),t=this.getViewNameInfo(e);return t&&t.subFilter||e&&e.subFilter},setFilterSearchString:function(e){this._filterSearchString=e},getFilterSearchString:function(){return this._filterSearchString},setAlwaysLoadDefault:function(e){this._alwaysLoadDefault=e},getAlwaysLoadDefault:function(){return this._alwaysLoadDefault},setTenantInfo:function(e){let t=this.get("tenant");widget.deleteValue(t),widget.setValue(t,e)},getTenantInfo:function(){if(!window.widget)return;let e=this.get("tenant");return widget.getValue(e)||{}},setContextInfo:function(e){let t=this.getTenantInfo();t&&(t.context=e),this.setTenantInfo(t)},getContextInfo:function(){let e=this.getTenantInfo();return e&&e.context},getContextId:function(){let e=this.getContextInfo();return e&&e.id},isValidCollabspace:function(){return this.get("collabspace")},clearFilterOptions:function(){let e=this.getTenantInfo(),t=this.getViews(e);for(let i in t)i!==e.viewName&&delete e.views[i];this.setTenantInfo(e)},setLastSelectedContextCache:function(){let e=this.getTenantInfo();e&&(e.lastSelectedContextCache=this.getContextInfo()),this.setTenantInfo(e),this.setLastSelectedViewName()},getLastSelectedContextCache:function(){let e=this.getTenantInfo();return e&&e.lastSelectedContextCache},setLastSelectedViewName:function(){let e=this.getTenantInfo();e&&(e.lastSelectedViewName=this.getSelectedViewName()),this.setTenantInfo(e)},getLastSelectedViewName:function(){let e=this.getTenantInfo();return e&&e.lastSelectedViewName},clearLastSelectedContextCache:function(){let e=this.getTenantInfo();e&&(delete e.lastSelectedContextCache,delete e.lastSelectedViewName)},checkNodeForExpansion:function(e){if(e.model.isPassiveTask())return!1;let t=this.getContextInfo(),i=t&&t.expansions;return i&&i.includes(e.id)},isLeaderInCollabSpace:function(){let e=this.get("collabspace"),t=e&&e.substring(e.indexOf("::")+2,e.indexOf("."));return"VPLMProjectLeader"===t||"3DSRestrictedLeader"===t}});return t._instance=t._instance||new t,t._instance})),define("DS/ENOProjectMgmtModels/Constants/Constants",["UWA/Core","DS/ENOProjectMgmtModels/Models/AppSettings"],(function(e,t){"use strict";let i={ACCEPT_APPLICATION_JSON:"application/json",COMTENT_TYPE_FORM_URL_ENCODED:"application/x-www-form-urlencoded",CHARSET_UTF8:"charset=utf-8",APP_NAME:"3DSpace",GET:"GET",POST:"POST",PUT:"PUT",PATCH:"PATCH",DELETE:"DELETE",CONTENT_TYPE:"Content-Type",PASSPORT:"passport",RESOURCES:"/resources/",APPLICATIONS:{RISK:"risks",DUPLICATE:"duplicate",OPPORTUNITY:"opportunities",LIBRARIES:"dslib",LIBRARY:"dslib:Library",CLASSFIEDITEM:"dslib:ClassifiedItem",CLASS:"dslib:Class",PROJECT:"projects",PROJECT_TEMPLATE:"projecttemplates",EXPERIMENT:"experiments",BASELINE:"baselines",TASK:"tasks",OBJECT_INFO:"ObjectInfo",CONTEXT_INFO:"RiskContextInfo",MATRIX_CONFIGURATION:"riskconfigurations",ASSESSMENT:"assessments",WORK_CALENDARS:"workcalendars",ALL_WORK_CALENDARS:"workcalendars/all",CHAT_PROMPT:"CHAT_PROMPT",IMPORTER:"Importer",PROFILE:"riskprofiles",LINKS:"favorites"},TYPENAMES:{RISK:"Risk",OPPORTUNITY:"Opportunity",TASK:"Task",GATE:"Gate",PHASE:"Phase",MILESTONE:"Milestone",PROJECT:"Project",PROGRAM:"Program",PROJECT_SPACE:"Project Space",PROJECT_TEMPLATE:"Project Template",XPROJECT:"dsplan:xProject",MATRIX_CONFIGURATION:"RiskMatrixConfiguration",ASSESSMENT:"Assessment",EXPERIMENT:"Experiment",PROJECTBASELINE:"Project Baseline",RISK_PROFILE:"Risk Profile",URL:"URL",PERSON:"Person"},RISK:"Risk",PARAMS:{DEBUG:"&$debug=",TYPE:"&$type=",OWNED:"&owned=",ASSIGNED:"&assigned=",CANDIDATE_ASSIGNED:"&candidateAssignee=",ORGANIZATION:"&organization=",CONTEXTID:"&contextId=",COMPLETED:"&completed=",FORCE:"&force=",FIELDS:"&$fields=",INCLUDE:"&$include=",DEFINITION:"&$definition=",SUBPROJECTRISKS:"&subprojectRisks=",SUB_PROJECT_OPPORTUNITIES:"&subprojectOpportunities=",MASK:"&$mask=",DEPTH:"&$depth=",SERVICE:"&$serviceId=",NONPUBLICRESOURCE:"&$nonPublicResource=",TOP:"&$top=",RMCTYPE:"&rmcType=",ACCESSIBLE:"&accessible=",COPYCONTEXT:"&copyContext=",LEVEL:"&level=",SIMPLE_JSON:"&$simpleJSON=true"},UPDATE_ACTION:{COPY:"COPY",NONE:"NONE",CREATE:"CREATE",DELETE:"DELETE",MODIFY:"MODIFY",CONNECT:"CONNECT",DISCONNECT:"DISCONNECT"},CONTEXT_ATTR:"context",IMPACT_ATTR:"impact",PROBABILITY_ATTR:"probability",COMMENTS_ATTR:"comments",RPN_ATTR:"rpnValue",RESOLVED_BY_ATTR:"resolvedBy",AFFECTED_ITEMS_ATTR:"affectedItems",ASSOCIATED_RISKS_ATTR:"associatedRisks",CAN_EDIT_ATTR:"canEdit",CREATE_DATA:"riskCreateAccess",MODIFY_DATA:"modifyAccess",DELETE_DATA:"deleteAccess",CAN_DELETE_DATA:"canDelete",CAN_MODIFY_DATA:"canModify",FROM_CONNECT_DATA:"fromConnectAccess",TO_CONNECT_DATA:"toConnectAccess",PROMOTE_DATA:"promoteAccess",DEMOTE_DATA:"demoteAccess",IS_SIMPLE_TASK:"isSimpleTask",CLASS_BASE_URL:"resources/v1/modeler/dslib/dslib:Class",CSRF_TOKEN:"ENO_CSRF_TOKEN",COMPLETE_STATE:"Complete",CAN_RMC_CONNECT:"RMCConnectAccess",CAN_CHANGE_OWNER:"changeOwnerAccess",CAN_SELF_ASSIGN:"canSelfAssign",XPLAN_SOURCE:"3dplan",PORTFOLIO_SOURCE:"3dportfolio",SUPPLIER_SOURCE:"3dnetwork",SPACE_SOURCE:"3DSpace",DRIVE_SOURCE:"drive",PROJECT_LABEL:"dsxplan:label",PROJECT_TYPE:"dsplan:projectType",CAN_READ_ACCESS:"readAccess",NO_ACCESS:"No Access",HAS_CONTEXT:"hasContext",NO_CONTEXT:"No Context",DEBUG:"false",OBJECT_TYPE:"objectType",XPROJECT_COLLAB_SPACE:"dsplan:hasCollaborativeSpace",ALL_ITEMS:"all",STATE_ATTR:"state",PASSIVE_TASKS_ATTR:"passiveTasks",SEQUENCEORDER_ATTR:"sequenceOrder",PREDTASKSEQNUMBER_ATTR:"predTaskSeqNumber",PREDECESSORS_ATTR:"predecessors",ESTIMATED_BENEFIT_ATTR:"estimatedBenefit",ESTIMATED_BENEFIT_UNIT_ATTR:"estimatedBenefitInputUnit",PROJECT_CONSTANTS:{EXPERIMENTS:"experiments",BASELINES:"baselines",OWNER_INFO:"ownerInfo",CALENDAR:"calendar",WORK_CALENDAR:"Work Calendar",TASKS:"tasks",PREDECESSORS:"predecessors",QUESTIONS:"questions",PROJECT_TEMPLATE:"Project Template",MEMBERS:"members",PERMISSIONS:"permissions"},TASK_CONSTANTS:{STATE_CREATE:"Create",STATE_ASSIGN:"Assign",STATE_ACTIVE:"Active"},PROJECT_GANTT_HAS_CHILDREN_ATTR:"hasExperimentOrBaseline",HAS_TASK_CHILDREN:"isSummaryTask",IS_PASSIVE_TASK:"warningLevel",HAS_ACTIVE_TEMPLATE:"hasActiveTemplate",MBSE_I3DX:"i3dx:MBSE!",MAGIC_I3DX:"i3dx:Magic!"};return i["6WURL_V2"]=i.RESOURCES+"v2/e6w/service/",i["6WURL_V3"]=i.RESOURCES+"v3/e6w/service/",i[i.XPLAN_SOURCE]="/v1"+i.RESOURCES,i._getDefaultParams=function(){return"?tenant="+t.get("tenant")},i.getDefaultHeaders=function(){let i=t.get("collabspace"),s={"Accept-Language":t.get("language")};return i&&e.extend(s,{SecurityContext:i}),s},i.getUrl=function(){return t.get("3DSpace")},i.getXPlanUrl=function(){return t.get("3dplan")},i.getSearchUrl=function(){return i.getUrl()+i["6WURL_V3"]+"PersonSearch"+i._getDefaultParams()+"&"},i.getPersonSearchByName=function(){return i.getUrl()+i["6WURL_V3"]+"PersonSearchByName"+i._getDefaultParams()+"&"},i.getObjectSearchUrl=function(){return i.getUrl()+i["6WURL_V3"]+"ObjectSearch"+i._getDefaultParams()},i.getObjectInfoUrl=function(e){return i.getUrl()+i["6WURL_V3"]+"ObjectInfo/"+e+i._getDefaultParams()},i.getContextInfoUrl=function(e){return i.getUrl()+i["6WURL_V3"]+"RiskContextInfo/"+e+i._getDefaultParams()},i.getObjectInfoUrlForXPlan=function(e){return i.getXPlanUrl()+i[i.XPLAN_SOURCE]+e+"?$mask=dsplan:MVMask.WorkPackage.Basic"},i.getImportUrlForXPlan=function(){return i.getXPlanUrl()+"/v1/invoke/dsxplan:importCSV"},i.getTaggerUrl=function(){return i.getUrl()+i["6WURL_V2"]+"Tags"+i._getDefaultParams()+i.PARAMS.SIMPLE_JSON},i.getSecurityContextUrl=function(){return i.getUrl()+i.RESOURCES+"bps/cspaces"+i._getDefaultParams()+i.PARAMS.SIMPLE_JSON},i._getResourcesUrl=function(e){return e?i.getUrl()+"/resources/":i.getUrl()+"/resources/v1/modeler/"},i.getAppUrl=function(e,t,s,n,r){let o;return o=t?i._getResourcesUrl(n)+e+"/"+t:i._getResourcesUrl(n)+e,r||(o+=i._getDefaultParams()),s||(o+=i.PARAMS.SIMPLE_JSON),o},i.getXProjectImageURL=function(){return t.get("3dplan")+"/common/images/T_dsxplan_xProject.png"},i.getUsersGroupImageURL=function(){return t.get("usersgroup")+"/3drdfpersist/common/images/T_dsaccess_Group.png"},i.getExpresssionSearchUrl=function(){return i.getUrl()+i.RESOURCES+"v3/e6w/service/ExpresssionSearch"+i._getDefaultParams()+i.PARAMS.SIMPLE_JSON},i.getLinkURL=function(e){return i.getAppUrl(i.APPLICATIONS.LINKS,e)},i.getSupplierCompaniesInformationURL=function(){return t.get("3dnetwork")+"/3drdfpersist/dsvnc/resources/v2/company/getSupplierCompaniesInformation?tenant="+t.get("tenant")},i})),define("DS/ENOProjectMgmtModels/Models/FieldsDefinition",["UWA/Class/Model","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils"],(function(e,t,i){"use strict";let s=e.extend({_uwaClassName:"FieldsDefinition",setFieldsDefinition:function(e,t,i){let s=this,n=this.get(e);(t=UWA.extend(t,n))&&!t.fieldDefinitionColumns&&(t.fieldDefinitionColumns={},t.fieldCompositionServiceColumns={},t.fieldCustomColumns={},t.fieldServiceColumns={},t.forEach&&t.forEach((i=>{if("field"===i.itemType){if(i.range){let e={};for(let t=0;t<i.range.item.length;t++)t=s._addFieldDefinitionRangeItem(i,e,t);i.fieldDefinitionRangeItem=e}if(i.sixw){let t=this.getFieldTaggerMap(e);t&&(t[i.sixw]=i.name)}t.fieldDefinitionColumns[i.name]=i}else if("service"===i.itemType&&"dpm.basicFields"===i.name)i.items.forEach((i=>{if(i.range){let e={};for(let t=0;t<i.range.item.length;t++)t=s._addFieldDefinitionRangeItem(i,e,t);i.fieldDefinitionRangeItem=e}if(i.sixw){let t=this.getFieldTaggerMap(e);t&&(t[i.sixw]=i.name)}t.fieldDefinitionColumns[i.name]=i}));else if("service"===i.itemType&&"dpm.accessFields"===i.name)i.items.forEach((i=>{if(i.range){let e={};for(let t=0;t<i.range.item.length;t++)t=s._addFieldDefinitionRangeItem(i,e,t);i.fieldDefinitionRangeItem=e}if(i.sixw){let t=this.getFieldTaggerMap(e);t&&(t[i.sixw]=i.name)}t.fieldDefinitionColumns[i.name]=i}));else if("service"===i.itemType&&!0===i.custom){if(t.fieldCustomColumns["custom-fields"]=i,i.items.length>0){let n=t.fieldCustomColumns["custom-fields"]={};n.typeExtensions={},n.autoExtensions={},n.extensionAttributes={},n.genericAttributes={},i.items.forEach((t=>{"extensions"===t.name?s._addTypeExtensions(n.typeExtensions,n.autoExtensions,t):t.extension?s._addtypeAttributes(e,n.extensionAttributes,t):s._addGenericAttributes(e,n.genericAttributes,t)}))}}else if("service"===i.itemType&&"permissions"===i.name)t.fieldDefinitionColumns[i.name]=i,t.fieldServiceColumns[i.name]={},i.items.forEach((e=>{if(e.range){let i={};e.range.item.forEach((function(e){i[e.value]=e})),e.fieldDefinitionRangeItem=i,t.fieldDefinitionColumns[e.name]=e}t.fieldServiceColumns[i.name][e.name]=e}));else if("service"===i.itemType){if(t.fieldDefinitionColumns[i.name]=i,i.items.length>0){let s=t.fieldServiceColumns[i.name]={};i.items.forEach((t=>{if(t.range){let e={};t.range.item.forEach((function(t){e[t.value]=t})),t.fieldDefinitionRangeItem=e}if(t.sixw){let s=this.getFieldTaggerMap(e);s&&(s[t.sixw]=i.name+"."+t.name)}s[t.name]=t}))}}else if("composition-service"===i.itemType&&(t.fieldCompositionServiceColumns[i.name]=i,i.items.length>0)){if(i.sixw){let t=this.getFieldTaggerMap(e);t&&(t[i.sixw]=i.name)}t.fieldCompositionServiceColumns[i.name]=i}}))),this.set(e,t),this.createRelatedFieldsDefinitions(i)},_addFieldDefinitionRangeItem:function(e,t,i){let s,n=e.range.item[i];return t[n.value]?s=t[n.value]:(s=n,t[n.value]=n),n.helpinfo&&(s.helpInfos||(s.helpInfos={}),s.helpInfos[n.helpinfo]={display:n.display,value:n.value,helpinfo:n.helpinfo,default:n.default},Object.keys(s.helpInfos).length>1&&(e.range.item.splice(i,1),i--)),i},_addGenericAttributes:function(e,t,i){if(i.range){let e={};i.range.item.forEach((function(t){e[t.value]=t})),i.fieldDefinitionRangeItem=e}if(i.sixw){let t=this.getFieldTaggerMap(e);t&&(t[i.sixw]=i.name)}t[i.name]||(t[i.name]=i)},_addtypeAttributes:function(e,t,i){let s=i.extension||"generic",n=t[s];if(t[s]||(n=t[s]={}),i.range){let e={};i.range.item.forEach((function(t){e[t.value]=t})),i.fieldDefinitionRangeItem=e}if(i.sixw){let t=this.getFieldTaggerMap(e);t&&(t[i.sixw]=i.name)}n[i.name]||(n[i.name]=i)},_addTypeExtensions:function(e,t,i){i.range&&i.range.item.forEach((function(i){let s;"IPML.Automatic"!==i.value&&("IPML.NonAutomatic"!=i.value&&(e[i.value]?s=e[i.value]:(s={},e[i.value]=s)),i.display.split(",").forEach((e=>{"IPML.NonAutomatic"!=i.value?s[e]=!0:t[e]=!0})))}))},createRelatedFieldsDefinitions:function(e){e&&e.length&&e.forEach((e=>{let t=e&&e.split(".");t&&t.forEach(((e,s)=>{let n=this.get(e);n||(n=i.findObject(this.get(t[s-1]),"name",e),n.items.push(n),this.setFieldsDefinition(e,n.items))}))}))},setFieldTaggerMap:function(e,t){let i=UWA.clone(e||{},!1),s=this.get(t);s&&(s.fieldTaggerMap=i),this.set(t,s)},getFieldsDefinition:function(e){let t=this.get(e);return t&&t.items||t},getFieldTaggerMap:function(e){let t=this.get(e);return t&&t.fieldTaggerMap},getFieldDefinitionColumn:function(e,t,i){let s=i||this.getFieldsDefinition(e);if(s)return s.fieldDefinitionColumns[t]},getFieldServiceColumn:function(e,t,s){let n=this.getFieldsDefinition(e);if(!n)return;if(e===t||s===t)return i.findObject(n,"name",s);let r,o=n.fieldServiceColumns;return o?(r=o[t],r?n.fieldServiceColumns[t][s]:void 0):(r=i.findObject(n,"name",t),r?i.findObject(r.items||r,"name",s):void 0)},getFieldCompositionServiceColumnn:function(e,t){let i=this.getFieldsDefinition(e);if(i)return i.fieldCompositionServiceColumns[t]},getFieldRangeItems:function(e,t){let i=this.getFieldDefinitionColumn(e,t),s=i&&i.range&&i.range.item;return s&&s.filter((e=>Boolean(Object.keys(e).length)))},getFieldRangeItemsForHelpInfo:function(e,t,i){let s=[],n=this.getFieldRangeItems(e,t);return n&&n.forEach((e=>{(e.helpInfos&&e.helpInfos[i]||e.helpinfo===i)&&s.push(e)})),s},getFieldRangeItemActualValue:function(e,t,i){let s=this.getFieldRangeItems(e,t);return s&&s[i]&&s[i].value},getFieldRangeItemObject:function(e,t,i){return this.getFieldDefinitionColumn(e,t).fieldDefinitionRangeItem[i]},getFieldCustomColumn:function(e,t,i,s){let n,r=this._getFieldCustomColumnFields(e);if(r&&r.typeExtensions){let e=r.typeExtensions[t];e&&(n={},n=this._getCustomColumnForTypeExtension(void 0,i,r,e,s))}if(r&&r.genericAttributes){let e=r&&r.genericAttributes[i];!n&&(n={}),e&&UWA.merge(n,e)}return n},_getFieldCustomColumnsFromGeneric:function(e,t){let i={},s=this._getFieldCustomColumnFields(e);if(s&&s.genericAttributes)for(let e in s.genericAttributes)if(s.genericAttributes.hasOwnProperty(e)){let n=s.genericAttributes[e];t.has(n.name)&&(i[n.name]=n)}return i},getFieldCustomColumns:function(e,t,i,s){let n={},r=this._getFieldCustomColumnFields(e);if(r&&r.typeExtensions){let e;if(t)e=r.typeExtensions[t],e&&this._getCustomColumnForTypeExtension(n,void 0,r,e,i);else for(let t in r.typeExtensions)e=r.typeExtensions[t],e&&this._getCustomColumnForTypeExtension(n,void 0,r,e,i)}if(s){let t=this._getFieldCustomColumnsFromGeneric(e,s);t&&UWA.merge(n,t)}return n},getFieldCustomColumnsForTypes:function(e,t,i){let s={},n=this._getFieldCustomColumnFields(e);if(n&&n.typeExtensions){let e;t.forEach((t=>{t&&(e=n.typeExtensions[t],e&&this._getCustomColumnForTypeExtension(s,void 0,n,e,i))}))}return s},isProjectType:function(e){if(!this.projectTypes){let e=this.getFieldDefinitionColumn("tasks","projectTypesForSearch");e&&(this.projectTypes=e.fieldDefinitionRangeItem[t.TYPENAMES.PROJECT_SPACE].display)}return Boolean(this.projectTypes&&-1!==this.projectTypes.indexOf(e))},isTaskType:function(e){this.taskTypes||(this.taskTypes=this.getFieldDefinitionColumn("tasks","taskTypes"));let t=this.taskTypes.fieldDefinitionRangeItem[e];return Boolean(t&&"isatask"===t.helpinfo)},isKindOfProjectTemplate:function(e){if(!this.projectTemplateTypes){let e=[],t=this.getFieldDefinitionColumn("projects","createFromProjectTemplate");t&&t.items.forEach((t=>{"typesForSearch"===t.name&&t.range.item.forEach((t=>{e.push(t.value)}))})),this.projectTemplateTypes=e}return Boolean(this.projectTemplateTypes&&-1!==this.projectTemplateTypes.indexOf(e))},_getCustomColumnForTypeExtension:function(e,t,i,s,n){for(let r in s){if(!s.hasOwnProperty(r))continue;if(n&&i.autoExtensions[r])continue;let o=i.extensionAttributes[r];if(o)if(e)UWA.merge(e,o);else if(t){let e=o[t];if(e&&e.name===t)return e}}},_getFieldCustomColumnFields:function(e){let t=this.getFieldsDefinition(e);if(!t)return;let i=t.fieldCustomColumns;return i&&i["custom-fields"]}});return s._instance=s._instance||new s,s._instance})),define("DS/ENOProjectMgmtModels/Utils/SearchUtil",["UWA/Core","UWA/Class/Events","DS/E6WCommonUI/Search","DS/ENOProjectMgmtModels/Models/AppSettings"],(function(e,t,i,s){"use strict";let n=t.extend({pictureAPIConfig:{pictureAPIPrefix:"/api/user/getpicture/login/",pictureAPISuffixMini:"/format/mini",pictureAPISuffixNormal:"/format/normal"},userPictureURL:function(e,t,i){let n="";if(!i||"Group"!==i.type&&"Group Proxy"!==i.type){if(e){let i=this.pictureAPIConfig.pictureAPISuffixMini,r=s.get("3DSwym");"normal"===t&&(i=this.pictureAPIConfig.pictureAPISuffixNormal),n=r?r+this.pictureAPIConfig.pictureAPIPrefix+e+i:require.toUrl("DS/ENOProjectMgmtCommonComponents/assets/images/defaultProfile.png")}}else n=i.imageUrl;return n},computeSourceParameters:function(t){let s=i.computeSourceParameters.apply(this,arguments);if(t.specificSourceParameter){let i=Object.keys(t.specificSourceParameter),n=i.length;for(let r=0;r<n;r++){let n=i[r];e.merge(s[n],t.specificSourceParameter[n])}}if(t.additionalQuery){let e=Object.keys(s),i=e.length;for(let n=0;n<i;n++){let i=e[n];t.additionalQuery[i]&&s[i].additional_query&&(s[i].additional_query+=t.additionalQuery[i])}}return s}});return n.implement(i),n.prototype})),define("DS/ENOProjectMgmtModels/Models/NoAccessModel",["UWA/Core","UWA/Utils","UWA/Class/Model","DS/ENOProjectMgmtModels/Constants/Constants","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents"],(function(e,t,i,s,n){"use strict";return i.extend({_uwaClassName:"NoAccessModel",idAttribute:"physicalId",init:function(i,r){let o,l="noAccessModelId_"+t.getUUID();o=r&&!r.hasContext?e.extend(i||{},{name:s.NO_CONTEXT,title:n.NO_CONTEXT,image:require.toUrl("DS/ENOProjectMgmtCommonComponents/assets/images/NoAccess.png")}):e.extend(i||{},{name:s.NO_ACCESS,title:n.NO_ACCESS,image:require.toUrl("DS/ENOProjectMgmtCommonComponents/assets/images/NoAccess.png")}),this._parent(o,r),this.set("physicalId",l),this._changed={}},canReadAccess:function(){return!1},dataForRendering:function(){return{title:this.get("title"),image:this.get("image")}},sync:Function.prototype,convertToRequestData:Function.prototype})})),define("DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel",["UWA/Core","UWA/Utils","UWA/Class/Model","DS/WAFData/WAFData","DS/ENOProjectMgmtModels/Models/AppSettings","DS/ENOProjectMgmtModels/Models/RequestData","DS/ENOProjectMgmtModels/Models/CSRFDataModel","DS/ENOProjectMgmtModels/Models/NoAccessModel","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Utils/SearchUtil","DS/ENOProjectMgmtModels/Utils/StorageDataUtil","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtCommonComponents/utils/Constants","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils"],(function(e,t,i,s,n,r,o,l,a,c,d,u,g,f){"use strict";let h=function(e){return e&&e.hasOwnProperty("actualValue")&&(e=e.actualValue),e},p=i.extend({_uwaClassName:"ENOProjectMgmtBaseModel",init:function(){this._parent.apply(this,arguments),this.listenTo(this,{onSync:this.resetChangedAttrs,onDestroy:this.destroyModelFromCollection})},getUrl:function(){return this.url},getCustomParams:function(t){if(!e.is(t,"string")){let e="";for(var i in t)t.hasOwnProperty(i)&&(e+="&"+i+"="+t[i]);t=e}return t},parse:function(e,t){let i;try{if(!e)return;let s=!t.idList&&t.method;if(e.csrf&&(o.prototype.setCSRF(e.csrf.value),delete e.csrf),this._setFieldDefinition(e),i=this._validateData(e,t),!i)return;for(let e in i)if(i.hasOwnProperty(e))if(e===i.csrf)o.prototype.setCSRF(i.csrf.value),delete i.csrf;else{if(i.member&&i.member.length>0)return i.member;{let n,r;t.fieldDefinition?(r=t.fieldDefinitionSource,n=a.getFieldServiceColumn(r,t.fieldDefinition.name,e),n||r===this.getFieldDefinitionSource()||(r=this.getFieldDefinitionSource(),n=a.getFieldServiceColumn(r,t.fieldDefinition.name,e))):this.getFieldDefinitionSource&&a.getFieldDefinitionColumn(this.getFieldDefinitionSource(),e)?(r=this.getFieldDefinitionSource(),n=a.getFieldDefinitionColumn(r,e)):this.getFieldDefinitionSource&&a.getFieldCompositionServiceColumnn(this.getFieldDefinitionSource(),e)?(r=this.getFieldDefinitionSource(),n=a.getFieldCompositionServiceColumnn(this.getFieldDefinitionSource(),e)):(r=this.getCustAttrFieldDefinitionSource(),r&&(n=a.getFieldCustomColumn(r,this.get("type")||i.type,e))),this._parseFields(i,e,n,r,s,t)}}}catch(e){throw t.onFailure&&t.onFailure(e),e}return i},_getHeaders:function(t){let i=u.getDefaultHeaders(),s=t&&t.headers;return s&&e.extend(i,s),i},getCachedData:function(e,t){return d.get(t.storageKey||e)},sync:function(e,t,i){if(i&&i.noServer)return i&&i.onComplete&&("delete"===e&&this.dispatchEvent("onDestroy",[this,this.collection,i]),i.onComplete()),{cancel:Function.prototype};if(i.externalService?i.ajax=s.request:(i.proxy=u.PASSPORT,i.ajax=s.authenticatedRequest),i.headers=this._getHeaders(i),i.timeout=25e4,"read"===e){let s;if(i.model=t,i.url=this.getUrl(e,i),delete i.type,i.isDataAvailable?s=t.dataForRendering():!i.refresh&&t.get("id")&&(s=this.getCachedData(t.id,i)),!s)return i.headers[u.CONTENT_TYPE]?(i.method=u.POST,i.data=this.convertToRequestData(e,void 0,i),this._parent(e,t,i)):this._parent(e,t,i);i.onComplete(s)}else{if("create"===e){let t;return i.url=this.getUrl(e,i),i.wait=!0,i.method=u.POST,i.headers[u.CONTENT_TYPE]||(i.headers[u.CONTENT_TYPE]=u.ACCEPT_APPLICATION_JSON),i.no3DSpace&&(i.headers["x-requested-with"]="XMLHttpRequest"),t=this.convertToRequestData(e,void 0,i),this._parent("update",t,i)}if("update"===e||"patch"===e){let t;if(i.url=this.getUrl(e,i),i.wait=!0,i.method=u.PUT,i.headers[u.CONTENT_TYPE]||(i.headers[u.CONTENT_TYPE]=u.ACCEPT_APPLICATION_JSON),t=this.convertToRequestData(e,void 0,i),t)return this._parent("update",t,i);i.onComplete&&i.onComplete()}else if("delete"===e){i.url=this.getUrl(e,i),i.wait=!0,i.method=u.PUT,i.headers[u.CONTENT_TYPE]||(i.headers[u.CONTENT_TYPE]=u.ACCEPT_APPLICATION_JSON);let t=this.convertToRequestData(e,void 0,i);return this._parent("update",t,i)}}},createRelatedDataItems:function(e,t){return new(require("DS/ENOProjectMgmtModels/Collections/RelatedDataItems"))(e,t)},_setFieldDefinition:function(e){if(e.definitions&&e.definitions.length){if(this.getFieldDefinitionSource()===u.APPLICATIONS.RISK){let t=e.definitions.find((e=>e.name===u.APPLICATIONS.RISK));a.setFieldsDefinition(this.getFieldDefinitionSource(),t.items)}else if(this.getFieldDefinitionSource()===u.APPLICATIONS.OPPORTUNITY){let t=e.definitions.find((e=>e.name===u.APPLICATIONS.OPPORTUNITY));a.setFieldsDefinition(this.getFieldDefinitionSource(),t.items)}else a.setFieldsDefinition(this.getFieldDefinitionSource(),e.definitions,this.getRelatedFieldDefinitionSources());delete e.definitions}},existsInOriginalList:function(e,t){let i=!1;return e.forEach((e=>{if(e.name.split(" ").join("")===t)return i=e.name,!0})),i},_validateData:function(e,t){let i;if(e.data&&e.data.length>0&&!0===e.success&&(200===e.statusCode||207===e.statusCode))this.unset("canEdit",t),delete e.success,delete e.statusCode,i=e.data[0],e=e.data;else if(e.member&&e.member.length>0){if(e.member[0].ChildClasses||e.member[0].ParentClassification||e.member[0].ClassificationAttributes||e.member[0].ClassAttributes||"dslib:ClassifiedItemBaseMask"===t.mask)i=e.member[0];else if("dslib:ReverseClassificationMask"===t.mask)return}else i=e;return i&&i.tempId&&delete i.tempId,i},_parseFields:function(t,i,s,n,r,o){if(s){if("service"===s.itemType&&"subTypesInfo"!==i){let l,a={parse:!0,add:!0,remove:!1,merge:!0,parentId:t.id,url:this.getUrl(void 0,{id:t.id}),fieldDefinition:s,fieldDefinitionSource:n,silent:!0,idList:o.idList,method:o.method};l=this.get(i),!e.is(t[i],"object")||t[i]instanceof e.Class.Collection||(t[i]=[t[i]]),(o.relatedDataItemFieldToRefresh&&o.relatedDataItemFieldToRefresh===i||!o.refresh)&&l&&l.resetOperationFlags?(!r&&l.reset(),l.isModelsAddedOrRemoved()||!l.length||o.refresh?(l.resetOperationFlags(),l.set(t[i],a)):l.updateExistingRelatedDataItems(t[i],a),t[i]=l):t[i]=this.createRelatedDataItems(t[i],a)}else if("UTC"===s.format&&t[i]){let n=s.name;if(e.is(t[i],"array")){let e=[];t[i].forEach((t=>{e.push(this.convertDate(n,t,!0))})),t[i]=e}else t[i]=this.convertDate(n,t[i],!0)}}else"ClassID"!==i||t.id?"cestamp"===i&&(t[i]=t[i]):t.id=t[i]},getUpdateAction:function(e,t){let i=this.isNew(),s=u.UPDATE_ACTION.NONE;switch(e){case"create":s=t&&!i?u.UPDATE_ACTION.CONNECT:u.UPDATE_ACTION.CREATE;break;case"patch":case"update":s=!t||!i&&this.id?this.hasChanged()?u.UPDATE_ACTION.MODIFY:u.UPDATE_ACTION.NONE:u.UPDATE_ACTION.CONNECT;break;default:s=t?this.performDeleteOnDisconnect?u.UPDATE_ACTION.DELETE:u.UPDATE_ACTION.DISCONNECT:u.UPDATE_ACTION.DELETE}return s},convertToRequestData:function(t,i,s){let n=e.clone(s||{},!1),l=this,c=new r,d=[],g={},f=this.get("id"),p=this.get("type"),m=this.get("tempId"),S=this.serviceId,A=this.get("i3dx");if(f&&(g.id=f),p&&(g.type=p),m&&(g.tempId=m),S&&(g.serviceId=S),A&&(g.i3dx=A),n.externalService||n.no3DSpace||(g.updateAction=this.getUpdateAction(t,n.fieldDefinition)),"delete"!==t){let i,s,r=this.previousAttributes(),o=this.changedAttributes();this.keys().forEach((function(c){if("canEdit"!==c){if(n.fieldDefinition?(s=n.fieldDefinitionSource,i=a.getFieldServiceColumn(s,n.fieldDefinition.name,c),i||s!==c||n.fieldDefinition.name!==c||(i=a.get(c))):(s=l.getFieldDefinitionSource(),i=a.getFieldDefinitionColumn(s,c),i||(i=a.getFieldCompositionServiceColumnn(s,c))),!i){let e=l.getCustAttrFieldDefinitionSource();e&&(i=a.getFieldCustomColumn(e,l.get("type"),c))}if(n.ignoreFieldDefinitions||i)if(l.performCreateAndConnect||i&&"service"===i.itemType){n.fieldDefinition=i,n.fieldDefinitionSource=l.getFieldDefinitionSource(),n.key=c;let e=l.get(c);if(e&&e.convertRelatedDataToRequestData){let i=e.convertRelatedDataToRequestData(t,g,n);n.fieldDefinition&&delete n.fieldDefinition,i&&g.updateAction===u.UPDATE_ACTION.NONE&&(g.updateAction=u.UPDATE_ACTION.MODIFY)}else delete n.fieldDefinition}else if(o&&void 0!==o[c]&&null!==o[c]){if(void 0!==r[c]?g[c]=h(o[c]):g[c]=h(l.get(c)),i&&"UTC"===i.format){let t=i.name;if(e.is(g[c],"array")){let e=[];g[c].forEach((i=>{e.push(l.convertDate(t,i))})),g[c]=e}else g[c]=l.convertDate(t,g[c])}}else"create"!==t||"CREATE"!==g.updateAction&&!l.get("connectWithAttributes")||(g[c]=h(l.get(c)),i&&"uom"===i.format&&(g[c]=a.getFieldRangeItemActualValue(l.getFieldDefinitionSource(),c,g[c])))}}))}if(n.ignoreFields&&n.ignoreFields.forEach((e=>{delete g[e]})),n.externalService||n.no3DSpace)return c.set(g),c;{if(d.push(g),c.set("data",d),c.set("csrf",o.prototype.getCSRF()),i)return g;let s=!1,n=c.get("data");if(e.is(n,"array")&&Object.keys(n[0]).length>3&&(s=!0),s||"delete"===t)return c}},clone:function(t){let i=this._parent.apply(this,arguments),s={ownerInfo:!0,rmcGoverning:!0},n=Object.keys(i.getAttributes()),r=n.length;for(let t=0;t<r;t++){let r=n[t];if(s[r]){i.unset(r);continue}let o=i.get(r);if(o instanceof e.Class.Collection){let e=o.clone();e.setRelatedDataItemsCount(),i.set(r,e)}}return i},setTempId:function(){this.set("tempId",t.getUUID())},dataForRendering:function(){let e=this.toJSON();return this.convertToJSON(e)},convertToJSON:function(t){let i=Object.keys(t),s=i.length;for(let n=0;n<s;n++){let s=i[n],r=t[s];if(r instanceof e.Class.Collection){let e=[],i=r.length;if(i)for(let t=0;t<i;t++)e.push(r.at(t).dataForRendering());t[s]=e}}return t.name=t.path||t.name||t.title,t.physicalId=t.id,t.canEdit=this.get("canEdit"),t},convertDate:function(e,t,i){if("Invalid Date"!==(t=new Date(t)).toString()){if("effectiveDate"!=e){let s=0,n=0,r=0,o=0;if(i)return t;let l=this.startDateAttrs,a=this.endDateAttrs,c=l&&-1!==l.indexOf(e),d=!c&&a&&-1!==a.indexOf(e),u=t.getDate(),g=t.getMonth(),f=t.getFullYear();c?s=8:d&&(s=17),t.setUTCHours(s,n,r,o),t.setMonth(g,u),t.setFullYear(f)}return t.toISOString()}},canCreate:function(){return"TRUE"===this.get(u.CREATE_DATA)},isSimpleTask:function(){return"TRUE"===this.get(u.IS_SIMPLE_TASK)},getOwnerUrl:function(){let e=this.get("owner"),t=this.get("ownerName");if(e||t)return c.userPictureURL(e||t,"normal")},getTransferObject:function(e){let t=this.get("type"),i=this.get("name"),s=this.get("physicalId")||this.id,r=this.serviceId||u.SPACE_SOURCE,o=n.get("3DSwym");"Person"===t&&o&&(t="pno:Person",s="iam:"+i,r="3DSwym");let l={objectId:s,objectType:t,serviceId:r,image:this.get("image"),objectType_Internal:t,displayName:this.title,i3dx:f.i3dx(this),displayType:f.translateType(t),source:window.widget.getValue("appId")||"X3DCSMA_AP",envId:n.get("tenant")||window.widget.getValue("x3dPlatformId")},a=this.get("ds6w:kind");return a&&t&&(l.objectTaxonomies=e&&e.objectTaxonomies||[t],l.objectTaxonomies.push(a)),e=f.concatTransferObject(l,e)},getTransferObjectsForRelatedData:function(t){let i,s=this.get(t);return s&&s instanceof e.Class.Collection&&s.forEach((function(e){i=e.getTransferObject(i)})),i},isPersonType:function(){let e=this.get("type");return"Person"===e||"pno:Person"===e||g.TYPE_GROUP.includes(e)},set:function(){let t=e.clone(arguments[1]||{},!1),i=this._parent.apply(this,arguments);return t.parse&&this.resetChangedAttrs(),i},get:function(e){switch(e){case"canEdit":return this.isNew()||this.canModify();case"image":let e=this._parent.apply(this,arguments),t=this.get("thumbnail")||this.get("typeicon");return!e||e.toLowerCase().includes("default")&&t?t:e}return this._parent.apply(this,arguments)},getImage:function(e,i,s){return i=i||this.serviceId,e&&!t.isAbsoluteUrl(e)&&i===u.XPLAN_SOURCE?n.get(u.XPLAN_SOURCE)+e:n.get("usersgroup")&&g.TYPE_GROUP.includes(s)?u.getUsersGroupImageURL():e},getCollabSpace:function(){let e=this.getContextModel();return e&&e.get("project")},getFieldDefinitionSource:function(){return this._fieldDefinitionSource},getCustAttrFieldDefinitionSource:function(){return this._custAttrFieldDefinitionSource||this.getFieldDefinitionSource()},getRelatedFieldDefinitionSources:function(){return this._relatedFieldDefinitionSources},isComplete:function(e){return(e=e||this.get("state"))===u.COMPLETE_STATE},canEdit:function(){return this.get("canEdit")},canModify:function(){return"TRUE"===this.get(u.MODIFY_DATA)},canReadAccess:function(){return"TRUE"===this.get(u.CAN_READ_ACCESS)},canDelete:function(){return"TRUE"===this.get(u.DELETE_DATA)},canPromote:function(){return"TRUE"===this.get(u.PROMOTE_DATA)},canDemote:function(){return"TRUE"===this.get(u.DEMOTE_DATA)},canFromConnect:function(){return"TRUE"===this.get(u.FROM_CONNECT_DATA)},canToConnect:function(){return"TRUE"===this.get(u.TO_CONNECT_DATA)},canRMCConnect:function(e){return"TRUE"===(e=e||this.get(u.CAN_RMC_CONNECT))},canChangeOwner:function(){return"TRUE"===this.get(u.CAN_CHANGE_OWNER)},canSelfAssign:function(){return"TRUE"===this.get(u.CAN_SELF_ASSIGN)},getModelAccessMap:function(){return{canModify:this.canModify(),canDelete:this.canDelete(),canDemote:this.canDemote(),canPromote:this.canPromote(),canToConnect:this.canToConnect(),canFromConnect:this.canFromConnect(),canChangeOwner:this.canChangeOwner()}},getCESStamp:function(){return this.get("cestamp")},resetChangedAttrs:function(){this._changed={}},getContextModel:function(){let e=this.get(u.CONTEXT_ATTR);return e&&e.length&&e.at(0)},getActionsAttrsAccessMap:function(){let t=this.getModelAccessMap();return e.merge(t,{isComplete:this.isComplete()})},iterateRelatedItemsForViewAccess:function(e,t,i){if(!this.isNew()){let s,n,r;t&&t.length?t.forEach(((e,o)=>{n=e.get("name"),n!==u.NO_ACCESS&&(r=e.canReadAccess()||this.isNew()&&e.canCreate(),r||(t.remove(e),t.add(new l(void 0,i),{at:o}),s=!0))})):e===u.CONTEXT_ATTR&&(t.add(new l(void 0,i)),s=!0),s&&t.resetOperationFlags()}return t},isPassiveTask:function(){return Boolean(this.get(u.IS_PASSIVE_TASK))},isMember:function(){let e=this.get("type");return"Person"===e||"Group"===e||"Group Proxy"===e||"Security Context"===e},isSpaceObject:function(){return this.serviceId===u.SPACE_SOURCE||this.serviceId===u.SPACE_SOURCE.toLowerCase()},isXPlanObject:function(){return this.serviceId===u.XPLAN_SOURCE},canPromoteDemote:function(){return!0},destroyModelFromCollection:function(){let t=e.clone(arguments[2]||{},!1);d.remove(this.id),this.collection&&this.collection.remove(this.id,t)},getModelForRelations:function(){return new i({source:u.SPACE_SOURCE,tenant:n.get("tenant"),objectId:this.id})},getParentModel:function(){let e=this.get("dpmParent");return e&&e.first()},hasParent:function(){return Boolean(this.getParentModel())},hasChildren:function(){return"TRUE"===this.get(this.HAS_CHILDREN_ATTR)},getModelConstructorBasedOnType:function(e){return f.getModelConstructorBasedOnType(e)},handleParseForResult:function(e,t){this.parse(e,t),this.set(e,t),this.resetChangedAttrs()},getAttributes:function(){return this._attributes},canAssign:function(){return!(a.isProjectType(this.get("type"))||this.isPassiveTask())},canModifyTask:function(e){if(e){let t=!1,i=this.get("modifyAccess");if(i&&"true"==i.toLowerCase()){let i=e;if(this&&this.get("taskProjectId")&&this.get("taskProjectId")!=e.get("id")){i=e.getAllTasks().get(this.get("taskProjectId"))}t=i&&"TRUE"===i.get("modifyAccess");let s=this.get("restrictAssigneeAccess");return!(!t&&s&&"yes"==s.toLowerCase())}return!1}},getRelatedModelById:Function.prototype,getChildRelationsNames:Function.prototype});return Object.defineProperty(p.prototype,"title",{get:function(){return this.get("title")||this.get("name")||""}}),Object.defineProperty(p.prototype,"type",{get:function(){return this.get("type")||this.get("objectType")}}),Object.defineProperty(p.prototype,"state",{get:function(){return this.get("state")}}),Object.defineProperty(p.prototype,"serviceId",{get:function(){return this.get("serviceId")||this.get("service")||u.SPACE_SOURCE}}),p})),define("DS/ENOProjectMgmtModels/Models/Importer",["UWA/Core","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel"],(function(e,t,i){"use strict";return i.extend({_uwaClassName:"Importer",_fieldDefinitionSource:t.APPLICATIONS.IMPORTER,getUrl:function(e,i){return i||(i={}),t.getImportUrlForXPlan()}})})),define("DS/ENOProjectMgmtModels/Models/ChatPromptParser",["UWA/Core","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel"],(function(e,t,i){"use strict";return i.extend({_uwaClassName:"ChatPromptParser",_fieldDefinitionSource:t.APPLICATIONS.CHAT_PROMPT,getUrl:function(e,t){return t||(t={}),this.isNew()?this.getChatPromptParserUrl(void 0,e,t):("delete"===e&&(t.force=!0),this.getChatPromptParserUrl(this.get("id"),e,t))},getChatPromptParserUrl:function(e,t,i){return i.headers.Authorization="Bearer MFmzEM92W3nhR4pCATSlBhOsdtk6c2cPDmzXof9UJTU=","https://px101.prod.exalead.com/v1/chat/completions"},parse:function(e,t){let i;try{if(e.choices&&e.choices.length>0&&e.choices[0].message&&e.choices[0].message.content){let t={},s=e.choices[0].message.content.replaceAll(/\\n/g,"\\n"),n=s.indexOf("{",0),r=s.lastIndexOf("}");s=s.substr(n,r-n+1),t.responseInfo=JSON.parse(s),i=t}else i=e}catch(e){throw t.onFailure&&t.onFailure(e),e}return this._parent(i,t)}})})),define("DS/ENOProjectMgmtModels/Models/RelatedDataItem",["UWA/Core","DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtCommonComponents/utils/Constants"],(function(e,t,i,s){"use strict";let n=t.extend({_uwaClassName:"RelatedDataItem",idAttribute:"id",supportedDocuments:["MS Word Document","MS Excel Document","MS Powerpoint Document","MS Outlook Document","MS Word Template","MS Excel Template","MS Powerpoint Template","MS Outlook Template","Document"],setup:function(e,t){this.get("type")&&"Person"===this.get("type")&&this.get("name")&&(this.set({"dsaccess:accountName":this.get("name")},{silent:!0}),this.resetChangedAttrs()),this._parent.apply(arguments)},getUrl:function(e,t){if(t){let e=this.get("id");t.fetchSource===i.APPLICATIONS.CONTEXT_INFO||"ContextInfo"===t.fetchSource?this.url=i.getContextInfoUrl(e):t.fetchSource===i.APPLICATIONS.OBJECT_INFO?this.url=i.getObjectInfoUrl(e):t.fetchSource===i.APPLICATIONS.LIBRARIES?this.url=i.getAppUrl(t.fetchSource,t.subType+"/"+e,!0):t.fetchSource===i.APPLICATIONS.PROFILE?this.url=i.getAppUrl(t.fetchSource,e):this.performCreateOrEdit?this.url=i.getLinkURL(e):this.performCreateAndConnect&&(this.url=i.getUrl()+this.resourceURL+i._getDefaultParams()+i.PARAMS.SIMPLE_JSON),this.addParams(t)}return this.url},addParams:function(e){"true"===i.DEBUG&&(this.url+=i.PARAMS.DEBUG+i.DEBUG),e.owned&&(this.url+=i.PARAMS.OWNED+e.owned),e.fields&&(this.url+=i.PARAMS.FIELDS+e.fields),e.include?this.url+=i.PARAMS.INCLUDE+e.include:this.url+=i.PARAMS.INCLUDE+"none",e.definition&&(this.url+=i.PARAMS.DEFINITION+e.definition),e.rmcType===i.TYPENAMES.OPPORTUNITY&&(this.url+=i.PARAMS.RMCTYPE+i.TYPENAMES.OPPORTUNITY),e.type&&(this.url+=i.PARAMS.TYPE+e.type),e.mask&&(this.url+=i.PARAMS.MASK+e.mask),e.depth&&(this.url+=i.PARAMS.DEPTH+e.depth),e.serviceId&&(this.url+=i.PARAMS.SERVICE+e.serviceId)},toJSON:function(){let e=this._parent.apply(this,arguments),t=this.get("image");return t&&(e.image=t),e},parse:function(t,i){i.url&&(this.url=i.url),e.is(t,"string")&&(t=JSON.parse(t)),(t=this._parent(t,i)).hasfiles=this.supportedDocuments.includes(t.type),(t.title||t.name)&&(t.title=t.title||t.name);let s=t.image,n=this.id||t.id;return t.id=n,t.physicalId=t.actualId||n,s&&(t.image=this.getImage(s,t.serviceId,t.type)),"Person"===t.type&&t.name&&(t["dsaccess:accountName"]=t.name),"URL"===t.type&&t.revision&&t.revision.length>10&&(t.revision=""),t},createRelatedDataItems:function(e,t){return this.collection&&new this.collection.__proto__.constructor(e,t)||this._parent.apply(this,arguments)},isNew:function(){return!this.get("id")},canShowProperties:function(){return!s.TYPE_GROUP.includes(this.type)},convertToRequestData:function(e,t,s){let n=this._parent(e,t,s);return s.key===i.PROJECT_CONSTANTS.PERMISSIONS&&("create"===e?n.projectAccess=this.get("projectAccess"):"delete"!==e&&"update"!==e||(n.name=this.get("title"),n.comment=this.get("comment"))),n}});return n})),define("DS/ENOProjectMgmtModels/Models/Calendar",["UWA/Core","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Models/RelatedDataItem"],(function(e,t,i,s){"use strict";return s.extend({_uwaClassName:"Calendar",_fieldDefinitionSource:t.APPLICATIONS.WORK_CALENDARS,getUrl:function(e,i){let s=this.get("relativePath");return this.isNew()?this.getCalendarUrl(void 0,e,i):s?(this.url=t.getUrl()+s+"?",i&&(i.type&&(this.url+=t.PARAMS.TYPE+i.type),i.debug&&(this.url+=t.PARAMS.DEBUG+i.debug),i.fields&&(this.url+=t.PARAMS.FIELDS+i.fields),i.include&&(this.url+=t.PARAMS.INCLUDE+i.include),i.force&&(this.url+=t.PARAMS.FORCE+i.force)),this.url):this.getCalendarUrl(this.get("id"),e,i)},getCalendarUrl:function(e,s,n){let r=!1;if(e?(this.url+="/"+e,this.url=t.getAppUrl(t.APPLICATIONS.WORK_CALENDARS,e)):this.url=t.getAppUrl(t.APPLICATIONS.WORK_CALENDARS),n&&(n.type&&(this.url+=t.PARAMS.TYPE+n.type),n.debug&&(this.url+=t.PARAMS.DEBUG+n.debug),n.owned&&(this.url+=t.PARAMS.OWNED+n.owned),n.fields&&(this.url+=t.PARAMS.FIELDS+n.fields),n.include&&(this.url+=t.PARAMS.INCLUDE+n.include),n.force&&(this.url+=t.PARAMS.FORCE+n.force),r=n.ignoreFieldDefinition),!r){let e=i.getFieldsDefinition(this.getFieldDefinitionSource());e&&e.fieldDefinitionColumns||(this.url+=t.PARAMS.DEFINITION+"true")}return this.url},parse:function(t,i){i.url&&(this.url=i.url),e.is(t,"string")&&(t=JSON.parse(t)),(t=this._parent(t,i)).hasfiles="Document"===t.type;let s=t.image||t.typeicon,n=this.id||t.id;return t.id=n,t.physicalId=n,s&&(t.image=this.getImage(s,t.serviceId)),t}})})),define("DS/ENOProjectMgmtModels/Models/Person",["UWA/Core","DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel","DS/ENOProjectMgmtModels/Utils/SearchUtil","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t,i,s){"use strict";let n=t.extend({idAttribute:"id",_uwaClassName:"Person",setup:function(){this.get("type")||this.set("type","Person"),this.get("name")&&(this.set({"dsaccess:accountName":this.get("name")},{silent:!0}),this.resetChangedAttrs())},getUrl:function(e,t){if(t){let e=t.model;if(t.isSearch)this.url=s.getSearchUrl()+t.term+"*";else if("ObjectInfo"!==t.fetchSource||e.get("isSearchStr")){if(e&&(e.serviceId||e.get("isSearchStr")))return s.getSearchUrl()+"searchStr="+e.id}else this.url=s.getObjectInfoUrl(this.get("id"));"true"===s.DEBUG&&(this.url+=s.PARAMS.DEBUG+s.DEBUG),t.owned&&(this.url+=s.PARAMS.OWNED+t.owned),t.fields&&(this.url+=s.PARAMS.FIELDS+t.fields),t.include?this.url+=s.PARAMS.INCLUDE+t.include:this.url+=s.PARAMS.INCLUDE+"none",t.definition&&(this.url+=s.PARAMS.DEFINITION+t.definition)}return this.url},parse:function(t){return t=this._parent.apply(this,arguments),e.is(t,"array")&&(t=t[0]),t.image=i.userPictureURL(t.name,"normal"),t.fullName=this.getFullName(t)||t.fullname,t.title=t.fullName,t.physicalId=t.id,t.hasfiles="Document"===t.type,t.name&&(t["dsaccess:accountName"]=t.name),t.fullNameAndUsername=t.fullName+` (${t.name})`,t},isNew:function(){return!this.get("id")},getFullName:function(e){let t=this.get("firstname")||e&&e.firstname,i=this.get("lastname")||e&&e.lastname;return t&&i&&t+" "+i},get:function(e){let t;switch(e){case"fullname":case"fullName":case"title":t=this.getFullName()}return t||this._parent.apply(this,arguments)}});return n})),define("DS/ENOProjectMgmtModels/Utils/DataUtils",["UWA/Core","UWA/Utils","UWA/Class/Events","DS/E6WCommonUI/UIHelper","DS/E6WCommonUI/Models/DropValidator","DS/ENOProjectMgmtModels/Models/Person","DS/ENOProjectMgmtModels/Models/AppSettings","DS/ENOProjectMgmtModels/Models/RelatedDataItem","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Utils/StorageDataUtil","DS/ENOProjectMgmtModels/Constants/Constants","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents"],(function(e,t,i,s,n,r,o,l,a,c,d,u){"use strict";var g=new Intl.DateTimeFormat(window.widget&&window.widget.lang,{weekday:"short",year:"numeric",month:"short",day:"numeric"});let f=new Intl.DateTimeFormat(window.widget&&window.widget.lang,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}),h=new Intl.DateTimeFormat(window.widget&&window.widget.lang,{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}),p={objectMap:{},getObjectForAdding:function(i,s){let n,r={},o=e.clone(s||{},!1);o.isNew?e.extend(r,{tempId:t.getUUID()}):e.extend(r,{id:p.removeBracketLongURI(i||t.getUUID())});let l=o.attrs,a=o.fetchOptions,d=o.sourceInfo,g=o.modelConstructor;l&&e.merge(r,l);let f=new g(r,d);if(a){let e=a.onComplete,t=a.onFailure;a.onComplete=function(){a.doNotCache||(c.set(f.id,f),p.objectMap[f.id]=f,n=f.get("type"),"Person"===n&&c.set(f.get("name"),f)),e&&e.apply(this,arguments)},a.onFailure=function(e,i){let s=p.getErrorMessage(e,i);p.dispatchEvent("showNotification",[{message:s||u.FAILED_TO_RETRIEVE_OR_ACCESS},"error"]),t&&t.apply(this,arguments)},f.fetch(a)}return f},getModelConstructorBasedOnType:function(e){return"Person"===e||"pno:Person"===e?r:l},getDetailedObject:function(e,t){let i;if(t){let s=t.length;for(let n=0;n<s;n++){let s=t[n];if(s.id===e){i=s;break}}}return i},getObjectDataFromDropData:function(e){let t=e.objectId,i=e.objectType,s=e.serviceId,n=!1;"3DSwym"===s&&"pno:Person"===i&&(t.contains(":")&&(n=!0),t=t.split(":")[1],i=i.split(":")[1]);let r={id:t,physicalId:t,name:e.displayName,title:e.title||e.displayName,serviceId:s,tenant:e.envId,image:e.image||e.displayPreview,type:i,path:e.path,isSearchStr:n};return"Person"===i&&"3DSpace"!=s&&(r.name=t),p.handleCSLObject(e,r),r},handleCSLObject:function(e,t){let i=e.i3dx||e["ds6w:i3dx"];i&&(i.startsWith(d.MBSE_I3DX)||i.startsWith(d.MAGIC_I3DX))&&(t.id=i,t.i3dx=i,t.title=e.displayName),e.sycdata&&(t.image=e.sycdata.icon)},getObjectDataFromFedSearchOrTypeAheadData:function(e){let t=e.id,i=e["ds6w:type_value"]||e["ds6w:type"]||e.type,s=e.serviceId,n=!1;"3DSwym"===s&&"pno:Person"===i&&(t.contains(":")&&(n=!0),t=t.split(":")[1],i=i.split(":")[1]);let r=e.label||e["ds6w:label"]||e.name,l={id:t,physicalId:t,name:r,title:e.title||r,serviceId:this._getServiceId(e),tenant:o.get("tenant"),image:e.image||e.preview_url||e.type_icon_url,type:i,proxyId:e.proxyId,path:e.path,isSearchStr:n};return p.handleCSLObject(e,l),e.additionalData&&e.additionalData.forEach((e=>{l[e.dataName]=e.dataValue})),"Person"===i&&(l.name=e.login||e.name,l.name||"3DSpace"==s||(l.name=t)),l},getObjectDataFromDropSearchOrTypeAhead:function(e){let t,i=e.dropObj,s=e.detailedObject,n=e.context;return i?t=this.getObjectDataFromDropData(i):s?t=this.getObjectDataFromFedSearchOrTypeAheadData(s):n&&(t={},t.id=n.id),t},getISODateFormat:function(e,t){let i=e;const s={};return h.formatToParts(e).forEach((e=>!s[e.type]&&(s[e.type]=e.value))),i=s.year+"-"+s.month+"-"+s.day,t&&(i+=" "+s.hour+":"+s.minute+":"+s.second),i},isISODateAndTime:()=>"true"===o.get("UseISO8601ForDateAndTime"),getIntlDateFormat:function(e,t){let i=e;return"Invalid Date"!==(e=new Date(e)).toString()&&(i=this.isISODateAndTime()?{actualValue:e,displayValue:isNaN(e.getTime())?i:this.getISODateFormat(e,!0)}:{actualValue:e,displayValue:isNaN(e.getTime())?i:t?f.format(e):g.format(e)}),i},getFormattedDate:function(e){return new Date(e)},validateModificationsPending:function(t,i){let s=e.clone(t||{},!1),n=s.isReload,r=s.parentView,o=s.yesEventFunc,l=s.noEventFunc,a="deleteButton"!==(i&&i.dsModel&&i.dsModel.domId)&&p.isGridViewSelectedAndGetCurrentModel(r);if(a&&!n&&a.saving)p.dispatchEvent("showNotification",[{message:u.SAVE_IN_PROCESS},"warning"]),l&&l.apply(CustomAlert,arguments);else if(a&&a.modificationsPending){let t=a.get("title"),i=n&&u.SAVE_CONFIRM_MSG||u.CANCEL_CONFIRM_MSG,r=(n?u.UN_SAVED_CHANGES:u.CANCEL_CHANGES)+' "'+t+'"';e.extend(s,{title:r,message:i,yesLabel:u.YES,noLabel:u.NO}),arguments[0]=s,p.dispatchEvent("showConfirmDialog",arguments)}else{let e=Array.prototype.slice.call(arguments,1);o&&o.apply(void 0,e)}},isGridViewSelectedAndGetCurrentModel:function(e){return e&&e.getSelectedCurrentModel&&e.getSelectedCurrentModel()},getLoggedInUserFullName:function(){return o.get("firstName")+" "+o.get("lastName")},isLoggedInUserSelected:function(e){return e&&e.get("name")===o.get("user")},getPersonObjectInfo:function(t,i){let s=e.clone(i||{},!1).fetchOptions;s=e.clone(s||{},!1);let n=o.get("3DSwym");return p.getObjectForAdding(t,{attrs:{type:"Person",serviceId:n?"3DSwym":"3DSpace"},fetchOptions:s,modelConstructor:r})},isSelfAssigned:function(t){let i=t.get("assignees");if(t instanceof e.Class.Model){let e=c.get(t.id);e&&(i=e.assignees)}return Boolean(i&&i.length&&p.findObject(i,"name",o.get("user")))},validateDroppedObjects:function(e,t,i){let s=e&&e.length;if(s){let r,o;for(var n=0;n<s;n++)if(r=e[n],o=p.validateDroppedObject(r,t),o)return p.dispatchEvent("showNotification",[{message:o},"error"]),i&&i(),o}},validateDroppedObject:function(e,t){return n.validateDroppedObject(e,t)},alreadyHasObjectInRelatedData:function(e,t){t=p.removeBracketLongURI(t);let i=e&&e.length&&e._alreadyHasObjectInRelatedData(t);if(i){let e=i.getTransferObject();return e&&e.data.items[0]}},getObjectById:function(e){return p.objectMap[e]},removeBracketLongURI:function(t){return t&&e.is(t,"string")&&t.startsWith("<")&&t.endsWith(">")&&(t=t.substr(1,t.length-2)),t},concatTransferObject:function(t,i){let s=e.clone(t||{},!1);s.serviceId=s.serviceId||"3DSpace";let n=s.i3dx?"2.1":"1.0";return i&&i.data?i.data.items.push(s):i={protocol:"3DXContent",version:n,source:s.source,data:{items:[s]}},i},findIndex:function(t,i,s){return t instanceof e.Class.Collection&&(t=t.toArray()),t.findIndex((e=>e[i]===s))},findObject:function(t,i,s){return t&&t.length&&t.find((function(t){let n=t[i]||t.get&&t.get(i);return e.is(s,"array")?-1!==s.indexOf(n):n===s}))},filterObjects:function(t,i,s){return t&&t.length&&t.filter((function(t){let n=t[i]||t.get&&t.get(i);return e.is(s,"array")?-1!==s.indexOf(n):n===s}))},getAttributeValues:function(t,i){return t instanceof e.Class.Collection?t.pluck(i):t&&t.length&&t.map((function(e){return e[i]}))},cloneJSONObject:function(e){return e&&JSON.parse(JSON.stringify(e))},getRangeValueFromFieldDefinition:function(e,t,i){return a.getFieldDefinitionColumn(i,e).fieldDefinitionRangeItem[t]},getErrorMessage:function(t,i){return e.is(t,"string")&&(t=p.parseJSONString(t)),e.is(i,"string")&&(i=p.parseJSONString(i)),i&&i.internalError||i&&i.error||i&&i.message||i&&i.msg||t&&t.error||t&&t.err&&t.err.message||t&&t.err||t&&t.message||i||u.ERROR},parseJSONString:function(t){let i;try{i=JSON.parse(t)}catch(s){i=t||u.ERROR,e.log(s)}return i},getDragDataKey:function(){return this.isIE()||this.isEdge()?"text":"text/searchitems"},getSeverityItem:function(e){let t=e.riskLevel;return{severityIndex:e.severityIndex,backgroundColor:e.backgroundColor,textColor:e.textColor,actualValue:t,displayValue:t+"-"+(e.nls[widget.lang]||e.name)}},_getServiceId:function(e){let t=e.serviceId||e.sourceId;return t||(t="dsplan:xProject"===e.objectType?"3dplan":"dsxpfl:PortfolioVersion"===e.objectType?"3dportfolio":"3DSpace"),t},getNLS:function(e,t,i){let s=((i=i?i+"_":"")+t).toUpperCase().replace(" ","_");return e&&e.get(s)},getURLParameter:function(e,t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(e)||[null,""])[1].replace(/\+/g,"%20"))||null},i3dx:function(e){return e.get("i3dx")||"i3dx:"+e.serviceId+"!"+e.id}};return e.merge(p,s),p.properties=Object.keys(p),p=i.extend(p),p=p._instance||new p,p})),define("DS/ENOProjectMgmtModels/Collections/ENOProjectMgmtBaseCollection",["UWA/Core","UWA/Class/Collection","DS/WAFData/WAFData","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Models/CSRFDataModel","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Utils/DataUtils"],(function(e,t,i,s,n,r,o){"use strict";return t.extend({_uwaClassName:"ENOProjectMgmtBaseCollection",setup:function(e){return this.resetOperationFlags(),this.listenTo(this,{onError:this.removeModelFromCollection}),e&&e.isRelatedData&&this.listenTo(this,{onAdd:this.relatedDataAdded,onRemove:this.relatedDataRemoved}),this._parent.apply(this)},sync:function(e,t,n){if(n.proxy=s.PASSPORT,n.ajax=i.authenticatedRequest,n.headers=s.getDefaultHeaders(),"read"===e)return n.url=this.getUrl(e,n),Object.assign({ajax:i.authenticatedRequest},n),n.headers[s.CONTENT_TYPE]?(n.method=s.POST,n.data=this.convertToRequestData(e,void 0,n),this._parent(e,t,n)):this._parent(e,t,n)},convertToRequestData:function(e,t,i){return"$ids="+i.idList},parse:function(e){let t,i=e.csrf&&e.csrf.value;return i&&n.prototype.setCSRF(i),e.definitions&&e.definitions.length&&r.setFieldsDefinition(this.getFieldDefinitionSource(),e.definitions,this.getRelatedFieldDefinitionSources()),e.data&&e.data.length>0?t=e.data[0].history?e.data[0].history:e.data:e.cspaces&&e.cspaces.length>0?t=e.cspaces:e.member?t=e.member:e.length>0&&(t=e),t},getFieldDefinitionSource:function(){return this._fieldDefinitionSource},relatedDataAdded:function(t,i,s){let n=e.clone(s||!1);n.noServer||(this._alreadyHasObjectInRelatedData(t.id,this.relatedDataToDelete)?this._removeModelFromArray(this.relatedDataToDelete,t):!n.ignoreAddref&&this.relatedDataToAdd.push(t))},relatedDataRemoved:function(t,i,s){let n=e.clone(s||!1);n.noServer||(this._alreadyHasObjectInRelatedData(t.id,this.relatedDataToAdd)?this._removeModelFromArray(this.relatedDataToAdd,t):!n.ignoreAddref&&this.relatedDataToDelete.push(t))},_removeModelFromArray:function(e,t){for(let i=0;i<=e.length;i++)if(e[i].get("id")===t.get("id")){e.splice(i,1);break}},_alreadyHasObjectInRelatedData:function(t,i){return(i=i||this).length&&i.find((i=>{let s=i.get("groupURI");return s=s&&o.removeBracketLongURI(s),e.equals(i.id,t)||i.get("physicalId")===t||s===t||i.get("name")===t||i.get("tempId")===t||"iam:"+i.get("name")===t}))},convertRelatedDataToRequestData:function(t,i,s){let n=!1,r=[],o=e.clone(s||{},!1);return this._processRelatedData(t,r,o),r.length>0&&(i[s.key]=r,n=!0),n},_processRelatedData:function(t,i,n){let r,o,l=this,a=[],c=e.clone(n||{},!1);this.forEach((function(e){if(r=l.relatedDataToAdd.includes(e)?"create":t,e){let t=e.convertToRequestData(r,!0,c);t&&(o=t.updateAction,o!==s.UPDATE_ACTION.NONE&&(e.isXPlanObject()&&delete t.image,i.push(t)),o===s.UPDATE_ACTION.CREATE&&a.push(e))}})),a.length&&this.remove(a,{noServer:!0}),this.relatedDataToDelete&&this.relatedDataToDelete.forEach((function(e){let t=e.convertToRequestData("delete",!0,n);t&&i.push(t)}))},isModelsAddedOrRemoved:function(){return Boolean(this.relatedDataToAdd.length||this.relatedDataToDelete.length)},resetOperationFlags:function(e){let t=this;this.forEach((e=>{!(t.relatedDataToAdd.length&&this._alreadyHasObjectInRelatedData(e.id,t.relatedDataToAdd))&&e.hasChanged()&&(e.set(e.previousAttributes()),e.resetChangedAttrs())})),e&&this.relatedDataToAdd&&this.remove(this.relatedDataToAdd),this.relatedDataToAdd=[],this.relatedDataToDelete=[]},removeAll:function(){if(this.length){let e=this._models;this.reset(),this.relatedDataToDelete=e}},removeModelFromCollection:function(e){if(e&&e.isNew&&e.isNew()){let t=this._alreadyHasObjectInRelatedData(e.id||e.get("tempId"),this);this.remove(t)}},getFirstModelId:function(){return this.first().id},updateExistingRelatedDataItems:function(e,t){let i;e&&e.length&&e.forEach((e=>{i=this.get(e.id),i&&i.handleParseForResult(e,t)}))},getRelatedFieldDefinitionSources:function(){return this._relatedFieldDefinitionSources},setRelatedDataItemsCount:Function.prototype})})),define("DS/ENOProjectMgmtModels/Collections/Persons",["DS/ENOProjectMgmtModels/Collections/ENOProjectMgmtBaseCollection","DS/ENOProjectMgmtModels/Utils/SearchUtil","DS/ENOProjectMgmtModels/Models/Person","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t,i,s){"use strict";let n=e.extend({_uwaClassName:"Persons",model:i,getUrl:function(e,t){if(t&&t.isSearch)return s.getSearchUrl()+t.searchParams+"*"}});return n.typeAheadCallback=function(e,i,s,r){let o,l="searchStr="+encodeURIComponent(i)+"*";o=e&&e.searchTypes?encodeURIComponent(e.searchTypes):"person"===e.type?"Person":"*",l+="&typeStr="+o,r.isSearch=!0,r.searchParams=l;let a=new n;r.onComplete=function(){let e=[];a.forEach((function(i){let s=i.get("type"),n=i.get("name")||"",r=i.getFullName(),o=i.get("title")||n,l=i.get("image")||t.userPictureURL(n)||"";e.push({value:i.id,label:r||o,name:r,image:l,icon:l,login:n,sourceId:"3DSpace",rowObject:i,"ds6w:type":s})})),a.reset(),s(e,r)},a.fetch(r)},n})),define("DS/ENOProjectMgmtModels/Collections/SecurityContexts",["UWA/Class/Model","UWA/Class/Collection","DS/ENOProjectMgmtModels/Utils/DataUtils","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Models/SecurityContext","DS/ENOProjectMgmtModels/Collections/ENOProjectMgmtBaseCollection"],(function(e,t,i,s,n,r){"use strict";return r.extend({_uwaClassName:"SecurityContexts",model:n,getUrl:function(){return s.getSecurityContextUrl()},isAllOrgAreSame:function(){let e,t,i,s,n;return this.length&&(i=this.at(0).get("displayName"),s=i.split("."),3===s.length&&(t=s[1])),this.every((i=>(n=i.get("displayName"),e=n.split("."),!(!t||t!==e[1]))))},getSortedPreferences:function(){let i,s,n,r={},o=new t([],{comparator:"label"}),l=this.isAllOrgAreSame();return this.forEach((function(t){i=t.get("name"),s=t.get("displayName");let r=s.split(".");3===r.length&&(s=r[2]+"  ",l||(s+=r[1]+"  "),s+=r[0]),o.push(new e({label:s,value:i})),t.get("isDefault")&&(n=i)})),o.sort(),r.list=o.toJSON(),!n&&this.length>0&&(n=this.at(0).get("name")),r.defaultValue=n||"",r}})})),define("DS/ENOProjectMgmtModels/Collections/RelatedDataItems",["UWA/Core","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Models/NoAccessModel","DS/ENOProjectMgmtModels/Models/RelatedDataItem","DS/ENOProjectMgmtModels/Collections/ENOProjectMgmtBaseCollection"],(function(e,t,i,s,n){"use strict";let r=n.extend({_uwaClassName:"RelatedDataItems",model:s,setup:function(){return this._parent({isRelatedData:!0})},getUrl:function(e,i){let s=i.sourceType||t.APPLICATIONS.RISK;this.url=t.getAppUrl(s,i&&i.id?i.id+"/"+i.relatedSource:void 0);let n=i.customParams&&i.customParams.fieldDefinition;return n&&(this.url+=t.PARAMS.DEFINITION+n),this.url},_prepareModel:function(n,r){let o,l=e.clone(r||{},!1);return l.fieldDefinition&&l.fieldDefinition.name===t.PROJECT_CONSTANTS.PERMISSIONS?o=s:n.type?o=this.model.prototype.getModelConstructorBasedOnType(n.type):n.name===t.NO_ACCESS&&(o=i),o&&(this.model=o),this._parent.apply(this,arguments)},setRelatedDataItemsCount:function(){let e=this;this.forEach((t=>{e.relatedDataToAdd.push(t)}))}});return r})),define("DS/ENOProjectMgmtModels/Models/Task",["DS/ENOProjectMgmtModels/Models/RelatedDataItem","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Models/AppSettings","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t,i,s){"use strict";let n=["tasks","passiveTasks"],r=e.extend({_uwaClassName:"Task",HAS_CHILDREN_ATTR:s.HAS_TASK_CHILDREN,_fieldDefinitionSource:s.APPLICATIONS.TASK,_custAttrFieldDefinitionSource:s.APPLICATIONS.PROJECT,startDateAttrs:["estimatedStartDate"],endDateAttrs:["dueDate"],hasChildren:function(){let e=this._parent.apply(this,arguments);if(!e){let t=this.get(s.PASSIVE_TASKS_ATTR);e=Boolean(t&&t.length)}return e},getChildRelationsNames:function(){return n},getUrl:function(e,t){let i=UWA.clone(t||{},!1);if(this.isNew())return this.getTASKUrl(void 0,e,i);"delete"===e&&(i.force=!0);let s=this.get("actualId")||this.get("id");return this.getTASKUrl(s,e,i)},getTASKUrl:function(e,t,i){e?(this.url+="/"+e,this.url=s.getAppUrl(s.APPLICATIONS.TASK,e)):this.url=s.getAppUrl(s.APPLICATIONS.TASK);let n=i.filter,r="all"===n,o="passiveTasks"===n;return i&&(i.type&&(this.url+=s.PARAMS.TYPE+i.type),i.debug&&(this.url+=s.PARAMS.DEBUG+i.debug),i.owned&&(this.url+=s.PARAMS.OWNED+i.owned),i.fields&&(this.url+=s.PARAMS.FIELDS+i.fields,(r||o)&&(this.url+=",passiveTasks.title,passiveTasks.typeicon,passiveTasks.nlsType,passiveTasks.state,passiveTasks.estimatedStartDate,passiveTasks.dueDate,passiveTasks.description,passiveTasks.criticality,passiveTasks.warningLevel,passiveTasks.passiveSubtaskStatusIcon,passiveTasks.passiveSubtaskStatusValue,passiveTasks.estimatedDurationInputUnit,passiveTasks.estimatedDurationInputValue,passiveTasks.percentComplete,passiveTasks.typeicon")),i.include&&(this.url+=s.PARAMS.INCLUDE+i.include,(r||o)&&(this.url+=",passiveTasks")),i.force&&(this.url+=s.PARAMS.FORCE+i.force),this.get("warningLevel")&&(this.url+="&relId="+this.get("relId")),i.customParams&&(this.url+=this.getCustomParams(i.customParams))),this.url},isComplete:function(){let e=this.get("state");return Boolean("Complete"===e||this.completed)},isSummaryTask:function(){return"TRUE"===this.get(this.HAS_CHILDREN_ATTR)},isMandatoryTask:function(){return"Mandatory"===this.get("taskRequirement")},isTypeBaseline:function(){let e=this.get("kindOfProjectBaseline")||this.get("kindOfBaseline");return e?"TRUE"===e:this.get("type")===s.TYPENAMES.PROJECTBASELINE},isBaselineTask:function(){let e=i.get("context");return e&&e.isTypeBaseline()},canPromoteDemote:function(){return!("TRUE"===this.get("isSummaryTask")||this.isBaselineTask())},getDependenciesCount:function(){let e=this.get("predecessors"),t=e?e.length:0,i=this.get("successors");return t+(i?i.length:0)},convertToRequestData:function(e,t,i){let s=this._parent(e,t,i);if(s){let e=this.get("operation");if(e&&(s.operation=e),"Complete"===this.get("state")&&"CONNECT"===s.updateAction)return;"CONNECT"===s.updateAction&&delete s.predecessors,s.tasks&&(s.children=s.tasks,delete s.tasks),this.isPassiveTask()&&(s.id=this.get("actualId"))}return s},getModelConstructorBasedOnType:function(e){let i;if(t.isProjectType(e)){i=require("DS/ENOProjectMgmtModels/Models/Project")}else if(t.isTaskType(e))i=r;else if(e===s.PROJECT_CONSTANTS.WORK_CALENDAR){i=require("DS/ENOProjectMgmtModels/Models/Calendar")}return i||this._parent.apply(this,arguments)},isTypeGate:function(){return"TRUE"===this.get("isTypeGate")},isTypeMilestone:function(){return"TRUE"===this.get("isTypeMilestone")},IsGateOrMilestone:function(){return this.isTypeGate()||this.isTypeMilestone()},parse:function(e){return e&&(e[s.IS_PASSIVE_TASK]&&!e.actualId&&(e.actualId=e.id,e.id=e.relId),e.children&&UWA.extend(e,{tasks:e.children}),e.data&&e.data.length&&e.data[0].children&&UWA.extend(e.data[0],{tasks:e.data[0].children}),(e=this._parent.apply(this,arguments)).tasks&&UWA.extend(e,{children:e.tasks}),(e.title||e.name)&&UWA.extend(e,{title:e.title||e.name}),e.nextTaskId&&(e.nextTaskId=""),e.previousTaskId&&(e.previousTaskId=""),e.hasOwnProperty("warningLevel")&&delete e.sequenceOrder),e},getPassiveTasks:function(){return this.get("passiveTasks")},canEditDeliverableInheritance:function(){let e=i.get("DPM_DisableOwnershipInheritance"),t=this.get("deliverablesInheritance");return"true"===e&&"No"===t},canEdit:function(){return[s.TASK_CONSTANTS.STATE_CREATE,s.TASK_CONSTANTS.STATE_ASSIGN,s.TASK_CONSTANTS.STATE_ACTIVE].some((e=>e===this.get("state")))},isExperimentTask:function(){return"TRUE"===this.get("isExperimentTask")},isRDFTask:Function.prototype});return r})),define("DS/ENOProjectMgmtModels/Models/ModelWithContext",["UWA/Core","DS/ENOProjectMgmtModels/Collections/RelatedDataItems","DS/ENOProjectMgmtModels/Models/AppSettings","DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel"],(function(e,t,i,s){"use strict";return s.extend({_uwaClassName:"ModelWithContext",setup:function(s){let n=e.clone(s||{},!1).context||i.get("context");if(n&&this.isNew()){let e=new t;e.add(n),this.set("context",e)}}})})),define("DS/ENOProjectMgmtModels/Models/SaveModels",["DS/ENOProjectMgmtModels/Utils/DataUtils","DS/ENOProjectMgmtModels/Models/RequestData","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Models/CSRFDataModel","DS/ENOProjectMgmtModels/Models/ModelWithContext"],(function(e,t,i,s,n){"use strict";let r=n.extend({_uwaClassName:"SaveModels",getUrl:function(e,t){this.isDuplicate=this.get("isDuplicate");let s=this.get("fieldDefinitionSource")||this.getFieldDefinitionSource();return this.isDuplicate&&(s+="/"+i.APPLICATIONS.DUPLICATE),s===i.APPLICATIONS.PROFILE?(this.url=i.getAppUrl(s,s===i.APPLICATIONS.PROFILE&&"applyprofile"),this.url+=i.PARAMS.COPYCONTEXT+"false"):this.url=i.getAppUrl(s),this.url=i.getAppUrl(s,s===i.APPLICATIONS.PROFILE&&"applyprofile"),t&&(t.type&&(this.url+=i.PARAMS.TYPE+t.type),t.debug&&(this.url+=i.PARAMS.DEBUG+t.debug),t.owned&&(this.url+=i.PARAMS.OWNED+t.owned),t.fields&&(this.url+=i.PARAMS.FIELDS+t.fields),t.include&&(this.url+=i.PARAMS.INCLUDE+t.include),t.force&&(this.url+=i.PARAMS.FORCE+t.force),t.customParams&&(this.url+=t.customParams)),this.url},convertToRequestData:function(n,r,o){UWA.clone(o||{},!1);let l=new t,a=[];if("create"===n){let t,n,r;if((this.get("fieldDefinitionSource")||this.getFieldDefinitionSource())===i.APPLICATIONS.PROFILE)return this._parent.apply(this,arguments);let o=this.get("selectedNodes"),c=this.get("massUpdateModel");if(o&&o.length&&(this.isDuplicate?a=o.map((e=>({id:e.id}))):o.forEach((e=>{r=e.model,r.set(c.changedAttributes()),n=r.convertToRequestData("update"),n&&(t=n.get("data"),t&&t.length&&t.forEach((e=>{delete e.contextId,a.push(e)})))}))),!a.length){let t=e.setHelper.apply(this,arguments).options;return void(t.onComplete&&t.onComplete.apply(this,arguments))}l.set("data",a),l.set("csrf",s.prototype.getCSRF())}else if("delete"===n){let e={},t=this.get("selectedNodes"),n=this.get("id"),r=this.get("type"),o=this.get("tempId"),c=this.serviceId;n&&(e.id=n),r&&(e.type=r),o&&(e.tempId=o),c&&(e.serviceId=c),t.forEach((t=>{e={id:t.model&&t.model.get("id"),type:t.model&&t.model.get("type")},e.updateAction=i.DELETE,a.push(e)})),l.set("data",a),l.set("csrf",s.prototype.getCSRF())}return l},parse:function(e,t){let s,n,r=this,o=e&&e.data,l=this.get("fieldDefinitionSource")||this.getFieldDefinitionSource();if(this.isDuplicate)e=this.handleDuplicateDataModelParse(o,t);else if(l===i.APPLICATIONS.PROFILE){if(o&&o.length){let i=o[0];for(let s in i)if("tempId"!==s&&i.hasOwnProperty(s)){i=i[s],e=this.handleDuplicateDataModelParse(i,t);break}}}else o&&o.length&&o.forEach((e=>{s=r.getSelectedNodesById(e.id),n=s&&s.model,n&&n.parse(e,t)}));return e},getSelectedNodesById:function(e){let t=this.get("selectedNodes");return t&&t.length&&t.find((function(t){return t.model.id===e}))},handleDuplicateDataModelParse:function(e,t){let i,s=[],n=this.get("modelInstance");return e&&e.length&&e.forEach((e=>{i=new n,i.handleParseForResult(e,t),s.push(i)})),{duplicatedModels:s}},getModelConstructorBasedOnType:function(e){return e===i.TYPENAMES.RISK_PROFILE?require("DS/ENOProjectMgmtModels/Models/Profile"):this._parent.apply(this,arguments)}});return r})),define("DS/ENOProjectMgmtModels/Models/RskOpp",["UWA/Core","DS/ENOProjectMgmtModels/Collections/RelatedDataItems","DS/ENOProjectMgmtModels/Models/ModelWithContext","DS/ENOProjectMgmtModels/Utils/DataUtils","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t,i,s,n){"use strict";let r=i.extend({_uwaClassName:"RskOpp",idAttribute:"id",startDateAttrs:["estimatedStartDate"],endDateAttrs:["estimatedFinishDate"],getUrl:function(e,t){return t||(t={}),this.isNew()?this.getApplicationUrl(void 0,e,t):("delete"===e&&(t.force=!0),this.getApplicationUrl(this.get("id"),e,t))},getApplicationUrl:function(e,t,i){let s=this.getAppUrlType();return this.url=e?n.getAppUrl(s,e):n.getAppUrl(s),i&&(i.type&&(this.url+=n.PARAMS.TYPE+i.type),"true"===n.DEBUG&&(this.url+=n.PARAMS.DEBUG+n.DEBUG),i.owned&&(this.url+=n.PARAMS.OWNED+i.owned),i.fields&&(this.url+=n.PARAMS.FIELDS+i.fields),i.include&&(this.url+=n.PARAMS.INCLUDE+i.include),i.force&&(this.url+=n.PARAMS.FORCE+i.force)),this.url},createRelatedDataItems:function(e,i){return new t(e,i)},isValidConfiguration:function(){return"TRUE"===this.get("validConfiguration")},hasContextViewAccess:function(e){let t=(e=e||this.get("context"))&&e.length&&e.at(0);return t&&t.canReadAccess()},getRMCActualId:function(){let e=this.get("rmcActual");return e&&e.length&&e.at(0).id||this.get("rmcId")},getRPNValue:function(e,t,i){let s=this.getMatrixCellInfo(e,t,i);return s&&s.rpn},getRiskLevelDisplayValue:function(e,t,i){let s=this.getMatrixCellInfo(e,t,i),n=this.getSeverityInfo(e,t,i),r=s&&s.riskLevel;return r&&r+"-"+(n.nls[widget.lang]||n.name)},getMatrixCellInfo:function(e,t,i){let s=this.getMatrixCells(e);return s&&s.find((function(e){return e.Xvalue===t&&e.Yvalue===i}))},getMatrixCellInfoBasedOnKey:function(e,t,i){let n=this.getMatrixCells(e);return s.findObject(n,t,i)},getMatrixCells:function(t){let i=t instanceof e.Class.Model?t.get("matrix"):t;return i&&i.cells},getSeverityInfo:function(e,t,i){let n;if(e){let r=e.get("matrix").severity,o=this.getMatrixCellInfo(e,t,i);n=o&&s.findObject(r,"riskLevel",o.riskLevel)}return n},getRiskSeverityInfo:function(e,t,i){let s=this.get(t||"impact"),n=this.get(i||"probability");return this.getSeverityInfo(e,s,n)},getSeverityLevel:function(e){let t=this.getRiskSeverityInfo(e),i=t&&s.getSeverityItem(t);return i&&i.displayValue},getMappedValue:function(e){let t,i=this.get("impact"),n=this.get("probability"),r=e&&e.get("matrix"),o=r&&r.severity,l=e&&this.getMatrixCellInfo(e,i,n);if(l&&o){let i;i=l.defaultCellId?this.getMatrixCellInfoBasedOnKey(e,"cellId",l.defaultCellId):this.getMatrixCellInfo(e,l.Xvalue,l.Yvalue);let n=s.findObject(o,"riskLevel",i.riskLevel),r=n&&s.getSeverityItem(n);i&&r&&(t={matrixXY:i.Xvalue+i.Yvalue,mappedMatrixXY:i.Xvalue+" * "+i.Yvalue,mappedSeverity:r.displayValue,severityItem:r},this.set({mappedMatrixXY:t.mappedMatrixXY,mappedSeverity:t.mappedSeverity}))}return t},set:function(){let t,i=s.setHelper.apply(this,arguments),r=e.clone(i.attrs||{},!1);if(r&&r.hasOwnProperty(n.CONTEXT_ATTR)){let e=r[n.CONTEXT_ATTR];r.hasOwnProperty(n.HAS_CONTEXT)&&(t={},t.hasContext=Boolean("TRUE"===r[n.HAS_CONTEXT])),e&&(r[n.CONTEXT_ATTR]=this.iterateRelatedItemsForViewAccess(n.CONTEXT_ATTR,e,t))}return this._parent.apply(this,arguments)},get:function(e){let t=this._parent.apply(this,arguments);if("canEdit"===e)t&&!this.isNew()&&(t=this.canRMCConnect()||!this.hasContextViewAccess()&&this.isValidConfiguration());return t}});return r})),define("DS/ENOProjectMgmtModels/Collections/Tasks",["DS/ENOProjectMgmtModels/Collections/RelatedDataItems","DS/ENOProjectMgmtModels/Models/Task","DS/ENOProjectMgmtModels/Utils/DataUtils","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t,i,s){"use strict";return e.extend({_uwaClassName:"Tasks",_fieldDefinitionSource:s.APPLICATIONS.PROJECT,model:t,getUrl:function(e,t){return this.url=s.getAppUrl(s.APPLICATIONS.TASK),this.url+=s.PARAMS.TYPE+s.TYPENAMES.TASK,t.completed&&(this.url+=s.PARAMS.COMPLETED+t.completed),t.filter&&("owned"===t.filter?this.url+=s.PARAMS.OWNED+"true":"assigned"===t.filter&&(this.url+=s.PARAMS.ASSIGNED+"true")),t.debug&&(this.url+=s.PARAMS.DEBUG+t.debug),t.fields&&(this.url+=s.PARAMS.FIELDS+t.fields),t.include&&(this.url+=s.PARAMS.INCLUDE+t.include),t.idList&&(t.headers[s.CONTENT_TYPE]=s.COMTENT_TYPE_FORM_URL_ENCODED),t.customParams&&(this.url+=t.customParams),this.url},_getModelBasedOnType:function(e){return this._parent(e,t)},convertToRequestData:function(e,t,i){return"$ids="+i.idList}})})),define("DS/ENOProjectMgmtModels/Models/Tag",["UWA/Core","DS/ENOProjectMgmtModels/Utils/DataUtils","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel"],(function(e,t,i,s){"use strict";return s.extend({_uwaClassName:"Tag",updateTagger:function(e,t,s,n){let r=i.getFieldTaggerMap(s);r&&this._updateTaggerBasedFieldMap(t,r,s,n,e)},_updateTaggerBasedFieldMap:function(e,i,s,n,r){let o=this;for(let l in i){let a,c={},d=i[l],u=r&&r._defaultConfiguration;if(d.includes&&d.includes(".")){let[t,i]=d.split(".");if(l.contains("heatMap"))if(n){let n=o._setFieldValue(t,e,s),r=o._setFieldValue(i,e,s);a=r&&n&&r+" * "+n}else{let t=e.getMappedValue(u);a=t&&t.mappedMatrixXY}else{let r=e.get(t);r&&r.length>0?r.forEach((function(e,t){let r=o._setFieldValue(i,e,s,n);r&&(c[t]=r)})):this.unset(l)}}else a=l.contains("lastModifiedBy")?t.getLoggedInUserFullName():l.contains("reserved")||l.contains("isLastRevision")?d:o._setFieldValue(d,e,s,n,r);a&&(c[0]=a),Object.keys(c).length&&this._setTaggerValue(this,l,c)}},_setFieldValue:function(t,s,n,r,o){let l=i.getFieldDefinitionColumn(n,t),a=o&&o._defaultConfiguration;if(l&&l.range){let e=s.get(t),i=l.fieldDefinitionRangeItem[e];return i&&"state"===t?i.display||e:i&&i.value||e}if("originated"===t||"modified"===t){let i=s.get(t);return i&&e.Date.strftime(i,"%Y/%m/%d")}if("rpnValue"===t){if(r)return a=o.getMatrixConfigDefinition(s.getRMCActualId()),s.getSeverityLevel(a);let e=s&&s.getMappedValue(a);return e&&e.mappedSeverity}return s.get(t)},_setTaggerValue:function(e,t,i){if((i=Object.values(i)).length)if(e.get(t)){(e.get(t).length&&e.get(t).length>0?e.get(t):[]).length>0&&e.set(t,i)}else e.set(t,i);else e.unset(t)},updateSeverityTag:function(e,t,i){this._updateTaggerBasedFieldMap(e,{"_tag_implicit_ds6w:why/ds6w:fulfills/ds6w:severity":"rpnValue"},"",t,i)},updateMatrixTag:function(e,t,i){this._updateTaggerBasedFieldMap(e,t,"",i)}})})),define("DS/ENOProjectMgmtModels/Collections/Tags",["DS/ENOProjectMgmtModels/Collections/ENOProjectMgmtBaseCollection","DS/ENOProjectMgmtModels/Models/Tag","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t,i){"use strict";return e.extend({_uwaClassName:"Tags",model:t,getUrl:function(e,t){return t.headers[i.CONTENT_TYPE]=i.COMTENT_TYPE_FORM_URL_ENCODED+";"+i.CHARSET_UTF8,this.url=i.getTaggerUrl(),this.url},convertToRequestData:function(e,t,i){return"idList="+i.idList}})})),define("DS/ENOProjectMgmtModels/Models/Opportunity",["DS/ENOProjectMgmtCommonComponents/utils/CommonUtils","DS/ENOProjectMgmtModels/Models/RskOpp","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Models/FieldsDefinition"],(function(e,t,i,s){"use strict";let n=t.extend({_uwaClassName:"Opportunity",_fieldDefinitionSource:i.APPLICATIONS.OPPORTUNITY,_sourceType:i.APPLICATIONS.OPPORTUNITY,setup:function(){!this.get("type")&&this.set("type",i.TYPENAMES.OPPORTUNITY),this.isNew()&&this.setDefaultUOMValues(),this._parent.apply(this,arguments)},getAppUrlType:function(){return i.APPLICATIONS.OPPORTUNITY},setDefaultUOMValues:function(){if(!this.get(i.ESTIMATED_BENEFIT_ATTR)&&this.set(i.ESTIMATED_BENEFIT_ATTR,"0"),!this.get(i.ESTIMATED_BENEFIT_UNIT_ATTR)){let e=this.getUOMInputIndex();-1!==e&&this.set(i.ESTIMATED_BENEFIT_UNIT_ATTR,e)}},getUOMInputIndex:function(t){if(!isNaN(t))return t;let n;t?n="value":(n="default",t=!0);let r=s.getFieldRangeItems(this.getFieldDefinitionSource(),i.ESTIMATED_BENEFIT_UNIT_ATTR);return r&&e.findIndex(r,n,t)}});return n})),define("DS/ENOProjectMgmtModels/Models/Risk",["DS/ENOProjectMgmtModels/Models/RskOpp","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t){"use strict";let i=e.extend({_uwaClassName:"Risk",_fieldDefinitionSource:t.APPLICATIONS.RISK,_sourceType:t.APPLICATIONS.RISK,setup:function(){!this.get("type")&&this.set("type",t.TYPENAMES.RISK),this._parent.apply(this,arguments)},getAppUrlType:function(){return t.APPLICATIONS.RISK}});return i})),define("DS/ENOProjectMgmtModels/Models/Question",["UWA/Core","UWA/Promise","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Models/Calendar","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Models/RelatedDataItem"],(function(e,t,i,s,n,r){"use strict";return r.extend({_uwaClassName:"Question",init:function(e,t){let i=t&&t.fieldDefinitionSource;i&&(this._fieldDefinitionSource=i),this._parent(e,t)},parse:function(e,t){return e.children&&(e.questions=e.children,delete e.children),this._parent(e,t)},convertToRequestData:function(e,t,i){let s=this._parent(e,t,i);return s.questions&&(s.children=s.questions,delete s.questions),s}})})),define("DS/ENOProjectMgmtModels/Models/SearchObject",["DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel"],(function(e){"use strict";return e.extend({})})),define("DS/ENOProjectMgmtModels/Collections/Opportunities",["DS/ENOProjectMgmtModels/Collections/ENOProjectMgmtBaseCollection","DS/ENOProjectMgmtModels/Models/Opportunity","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t,i,s){"use strict";return e.extend({_uwaClassName:"Opportunities",_fieldDefinitionSource:s.APPLICATIONS.OPPORTUNITY,model:t,getUrl:function(e,t){this.url=s.getAppUrl(s.APPLICATIONS.OPPORTUNITY),this.url+=s.PARAMS.TYPE+s.TYPENAMES.OPPORTUNITY,t.contextId&&(this.url+=s.PARAMS.CONTEXTID+t.contextId),t.completed&&(this.url+=s.PARAMS.COMPLETED+t.completed),t.filter&&("owned"===t.filter?this.url+=s.PARAMS.OWNED+"true":"assigned"===t.filter?this.url+=s.PARAMS.ASSIGNED+"true":"candidateAssignee"===t.filter?this.url+=s.PARAMS.CANDIDATE_ASSIGNED+"true":"organization"===t.filter&&(this.url+=s.PARAMS.ORGANIZATION+"true")),"true"===s.DEBUG&&(this.url+=s.PARAMS.DEBUG+s.DEBUG),t.fields&&("candidateAssignee"===t.filter?this.url+=s.PARAMS.FIELDS+t.fields+",candidateAssignees.title,candidateAssignees.image,candidateAssignees.groupURI":this.url+=s.PARAMS.FIELDS+t.fields),t.include&&("candidateAssignee"===t.filter?this.url+=s.PARAMS.INCLUDE+t.fields+",candidateAssignees":this.url+=s.PARAMS.INCLUDE+t.include),t.idList&&(t.headers[s.CONTENT_TYPE]=s.COMTENT_TYPE_FORM_URL_ENCODED);let n=i.getFieldsDefinition(this.getFieldDefinitionSource());return n&&n.fieldDefinitionColumns||(this.url+=s.PARAMS.DEFINITION+"true"),this.url},convertToRequestData:function(e,t,i){return"$ids="+i.idList}})})),define("DS/ENOProjectMgmtModels/Collections/Questions",["DS/ENOProjectMgmtModels/Models/Question","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Collections/ENOProjectMgmtBaseCollection"],(function(e,t,i,s){"use strict";return s.extend({_uwaClassName:"Questions",model:e})})),define("DS/ENOProjectMgmtModels/Models/Profile",["DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t){"use strict";let i=e.extend({_uwaClassName:"Profile",_fieldDefinitionSource:t.APPLICATIONS.PROFILE,_sourceType:t.APPLICATIONS.PROFILE,getUrl:function(e,t){return t||(t={}),this.isNew()?this.getApplicationUrl(void 0,e,t):("delete"===e&&(t.force=!0),this.getApplicationUrl(this.get("id"),e,t))},getApplicationUrl:function(e,i,s){return this.url=e?t.getAppUrl(t.APPLICATIONS.PROFILE,e):t.getAppUrl(t.APPLICATIONS.PROFILE),s&&("true"===t.DEBUG&&(this.url+=t.PARAMS.DEBUG+t.DEBUG),s.fields&&(this.url+=t.PARAMS.FIELDS+s.fields),s.include&&(this.url+=t.PARAMS.INCLUDE+s.include)),this.url},hasActiveTemplate:function(){return"TRUE"===this.get(t.HAS_ACTIVE_TEMPLATE)},parse:function(){let e=this._parent.apply(this,arguments);return this.fetched=!0,e}});return i})),define("DS/ENOProjectMgmtModels/Collections/Profiles",["DS/ENOProjectMgmtModels/Collections/ENOProjectMgmtBaseCollection","DS/ENOProjectMgmtModels/Models/Profile","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t,i,s){"use strict";return e.extend({_uwaClassName:"Profiles",_fieldDefinitionSource:s.APPLICATIONS.PROFILE,model:t,getUrl:function(e,t){this.url=s.getAppUrl(s.APPLICATIONS.PROFILE),this.url+=s.PARAMS.TYPE+s.TYPENAMES.PROFILE,t.idList&&(t.headers[s.CONTENT_TYPE]=s.COMTENT_TYPE_FORM_URL_ENCODED),t.fields&&(this.url+=s.PARAMS.FIELDS+t.fields),t.include&&(this.url+=s.PARAMS.INCLUDE+t.include);let n=i.getFieldsDefinition(this.getFieldDefinitionSource());if(!n||!n.fieldDefinitionColumns){let e=t.customParams&&t.customParams.fieldDefinition||"true";this.url+=s.PARAMS.DEFINITION+e}return this.url}})})),define("DS/ENOProjectMgmtModels/Utils/FederatedSearch",["UWA/Core","UWA/Class/Events","DS/WAFData/WAFData","DS/ENOProjectMgmtModels/Models/AppSettings","DS/ENOProjectMgmtModels/Constants/Constants","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents"],(function(e,t,i,s,n,r){"use strict";let o={_buildRequestData:function(e){let t=e.sources||[],i=s.get("3DSpace")&&s.get("user")||s.get("dsUserLogin"),n={label:e.label||"3dplan-"+i+"-"+Date.now(),locale:e.locale||"en",with_synthesis:e.withSynthesis||Boolean(t&&-1!==t.indexOf("swym")),with_synthesis_attribute:e.withSynthesisAttribute||Boolean(t&&-1!==t.indexOf("swym")),select_predicate:e.selectPredicateArray,order_field:"relevance",refine:e.refine,select_file:["icon","thumbnail_2d"],nresults:e.numResults||10,start:0,tenant:s.get("tenant"),query:e.query,source:e.sources,specific_source_parameter:e.specific_source_parameter};return e.sendSecurityContext&&(n.login={"3dspace":{SecurityContext:s.get("collabspace")}}),n},_buildRequest:function(e){let t={method:"POST",type:"json",headers:{"Content-Type":"application/json"}};return t.data=JSON.stringify(this._buildRequestData(e)),t.onComplete=e.onComplete,t.onFailure=e.onFailure,t},escapeTwoByteChars:function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(//g,"\\")).replace(//g,"\\")).replace(//g,"\\")).replace(//g,"\\")).replace(//g,"\\")).replace(//g,"\\")).replace(//g,"\\")).replace(//g,"\\")).replace(//g,"\\")).replace(//g,"\\")).replace(//g,"\\")).replace(//g,"\\")).replace(//g,"\\")).replace(//g,"\\")).replace(//g,"\\")).replace(/\u3000/g," ")},sendRequest:function(e){let t=s.get("3DSearch")+"/search";return i.authenticatedRequest(t,this._buildRequest(e))},filterSearchSources:function(e){o._validFederatedSearchSources=o._validFederatedSearchSources||{};let t=e.slice(),n=s.get("3DSearch");return o._validFederatedSearchSources[n]?t=e.filter((function(e){return-1!==o._validFederatedSearchSources[n].indexOf(e)})):n&&!o._gettingSources&&(o._gettingSources=!0,i.authenticatedRequest(n+"/search/source",{onComplete:function(e){delete o._gettingSources,o._validFederatedSearchSources[n]=e&&JSON.parse(e).source},onFailure:function(){delete o._gettingSources}})),t},computeTypeAheadEntryBasedOnFedSearchResult:function(e,t){let i=e.attributes,s=i.length,n={};for(let e=0;e<s;e++){let s=i[e],r=s.value;switch(s.name){case"resourceid":n.value=r;break;case"preview_url":case"type_icon_url":r&&-1===r.indexOf("iconLargeDefault")&&(n.image=r);break;case"ds6w:type":case"ds6w:what/ds6w:type":n["ds6w:type"]=r;break;case"ds6w:label":n.label=r;break;case"name":t&&"member"===t.type&&(n.name=r);break;case"sourceid":n.sourceId=r;break;case"ds6w:resourceUid":n.proxyId=r}}return n},hasLoadedFederatedSearchSources:function(){return o._validFederatedSearchSources},getFederatedQueryCriteria:function(t){let i,s=e.clone(t||{},!1),n=s.criteria;if("person"===s.fieldType){if(1!==n.length)throw new Error(r.INVALID_SEARCH_CRITERIA_PERSON);i=0===n[0].length?"":"personOrGroup:("+n[0]+")"}else i="group"===s.fieldType?n+"*":n.length>1?"("+n.join(" OR ")+")":0===n.length||0===n[0].length?"":n[0];return i}};return o.eventDispatcher=new t,o.QUERY_MAX_LENGTH=8192,o.REQUEST_DELAY=100,o})),define("DS/ENOProjectMgmtModels/Collections/SearchObjects",["UWA/Core","DS/ENOProjectMgmtModels/Models/AppSettings","DS/ENOProjectMgmtModels/Models/SearchObject","DS/ENOProjectMgmtModels/Utils/DataUtils","DS/ENOProjectMgmtModels/Utils/SearchUtil","DS/ENOProjectMgmtModels/Utils/FederatedSearch","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Collections/ENOProjectMgmtBaseCollection","DS/ENOProjectMgmtCommonComponents/collection/ProjectMgmtViewCollection","DS/ENOProjectMgmtCommonComponents/components/CustomAlert","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents"],(function(e,t,i,s,n,r,o,l,a,c,d){"use strict";let u=l.extend({_uwaClassName:"SearchObjects",model:i,getUrl:function(e,t){if(t&&t.isSearch)return o.getObjectSearchUrl()+t.searchParams}});return u.typeAheadCallback=function(i,s,o,l){s=r.escapeTwoByteChars(s);let a,u=r.filterSearchSources(i.searchSource),g=["ds6w:label","ds6w:type","ds6w:type_value","type_icon_url","preview_url","ds6w:resourceUid"];return"member"===i.type&&g.push("name"),a=window.widget.getValue("oldSearch")?"("+s+"* OR "+s+")":r.getFederatedQueryCriteria({criteria:[s],fieldType:i.type}),r.sendRequest({sendSecurityContext:l.sendSecurityContext,selectPredicateArray:g,sources:u,query:a,locale:t.get("language"),specific_source_parameter:n.computeSourceParameters(i,s),withSynthesisAttribute:Boolean(u&&-1!==u.indexOf("swym")),onComplete:function(t){let s=(e.is(t,"string")?JSON.parse(t):t).results,n=[];if(s){let e=s.length;for(let t=0;t<e;t++){let e=s[t],o=r.computeTypeAheadEntryBasedOnFedSearchResult(e,i);n.push(o)}}o(n,l)},onFailure:function(e,t){let s;l.model.dispatchEvent("onChange:"+i.name);let n=t.error;s="FS_INVALID_QUERY__NOT_AUTHORIZED_QUERY__WILDCARD"===n.errorCode?d.FS_INVALID_QUERY__NOT_AUTHORIZED_QUERY__WILDCARD:n.errorMessage||"",s&&c.buildNotification({message:s},"error")}})},u.focusTypeAheadCallback=function(i,o,l,c){if(o.length<2){let d=e.clone(c||{},!1),u=d.model&&d.model.get(i.name),g=u&&s.getAttributeValues(u,"id")||[],f=widget.getValue(t.get("tenant"))||{},h=s.cloneJSONObject(f.recentContexts)||[];g.length&&h.length&&(h=h.filter((function(e){return!g.includes(e.value)})));let p=[];if(h.forEach((function(e){let t=e.value;e.image||p.push(t)})),p.length>0){let e={ids:p,sources:r.filterSearchSources(i.searchSource),specific_source_parameter:n.computeSourceParameters(i,o),selectPredicateArray:["type_icon_url","resourceid"]};new a({}).getDetailsThroughFederatedSearch(e).then((function(e){let t=new Map;if(e){let s=e.length;for(let n=0;n<s;n++){let s=e[n],o=r.computeTypeAheadEntryBasedOnFedSearchResult(s,i);t.set(o.value,o.image)}}h.forEach((function(e){let i=e.value;i&&0===i.indexOf("uuid")&&(i="<"+i+">");let s=t.get(i);s&&(e.image=s)})),l(h,c)}))}else l(h,c)}else u.typeAheadCallback.apply(this,arguments)},u})),define("DS/ENOProjectMgmtModels/Collections/Calendars",["DS/ENOProjectMgmtModels/Collections/RelatedDataItems","DS/ENOProjectMgmtModels/Models/Calendar","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t,i,s){"use strict";return e.extend({_uwaClassName:"Calendars",_fieldDefinitionSource:s.APPLICATIONS.WORK_CALENDARS,model:t,getUrl:function(e,t){if(t.customParams&&t.customParams.includes("all")?this.url=s.getAppUrl(s.APPLICATIONS.ALL_WORK_CALENDARS):this.url=s.getAppUrl(s.APPLICATIONS.WORK_CALENDARS),this.url+=s.PARAMS.TYPE+s.TYPENAMES.WORK_CALENDARS,t.debug&&(this.url+=s.PARAMS.DEBUG+t.debug),t.fields&&(this.url+=s.PARAMS.FIELDS+t.fields),t.include&&(this.url+=s.PARAMS.INCLUDE+t.include),t.idList&&(t.headers[s.CONTENT_TYPE]=s.COMTENT_TYPE_FORM_URL_ENCODED),!t.ignoreDefinition){let e=i.getFieldsDefinition(this.getFieldDefinitionSource());e&&e.fieldDefinitionColumns||(this.url+=s.PARAMS.DEFINITION+"true")}return this.url}})})),define("DS/ENOProjectMgmtModels/Collections/Risks",["DS/ENOProjectMgmtModels/Collections/ENOProjectMgmtBaseCollection","DS/ENOProjectMgmtModels/Models/Risk","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t,i,s){"use strict";return e.extend({_uwaClassName:"Risks",_fieldDefinitionSource:s.APPLICATIONS.RISK,model:t,getUrl:function(e,t){this.url=s.getAppUrl(s.APPLICATIONS.RISK),this.url+=s.PARAMS.TYPE+s.TYPENAMES.RISK,t.contextId&&(this.url+=s.PARAMS.CONTEXTID+t.contextId),t.completed&&(this.url+=s.PARAMS.COMPLETED+t.completed),t.filter&&("owned"===t.filter?this.url+=s.PARAMS.OWNED+"true":"assigned"===t.filter?this.url+=s.PARAMS.ASSIGNED+"true":"candidateAssignee"===t.filter?this.url+=s.PARAMS.CANDIDATE_ASSIGNED+"true":"organization"===t.filter&&(this.url+=s.PARAMS.ORGANIZATION+"true")),"true"===s.DEBUG&&(this.url+=s.PARAMS.DEBUG+s.DEBUG),t.fields&&("candidateAssignee"===t.filter?this.url+=s.PARAMS.FIELDS+t.fields+",candidateAssignees.title,candidateAssignees.image,candidateAssignees.groupURI":this.url+=s.PARAMS.FIELDS+t.fields),t.include&&("candidateAssignee"===t.filter?this.url+=s.PARAMS.INCLUDE+t.fields+",candidateAssignees":this.url+=s.PARAMS.INCLUDE+t.include),t.idList&&(t.headers[s.CONTENT_TYPE]=s.COMTENT_TYPE_FORM_URL_ENCODED);let n=i.getFieldsDefinition(this.getFieldDefinitionSource());return n&&n.fieldDefinitionColumns||(this.url+=s.PARAMS.DEFINITION+"true"),this.url}})})),define("DS/ENOProjectMgmtModels/Models/ProjectTemplate",["UWA/Core","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Utils/DataUtils","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel","DS/ENOProjectMgmtModels/Collections/Questions","DS/ENOProjectMgmtModels/Collections/Tasks"],(function(e,t,i,s,n,r,o){"use strict";let l=n.extend({_uwaClassName:"ProjectTemplate",_fieldDefinitionSource:t.APPLICATIONS.PROJECT_TEMPLATE,getUrl:function(e,t){return t||(t={}),this.isNew()?this.getProjectTemplateUrl(void 0,e,t):("delete"===e&&(t.force=!0),this.getProjectTemplateUrl(this.get("id"),e,t))},getProjectTemplateUrl:function(e,i,n){this.url=t.getAppUrl(t.APPLICATIONS.PROJECT_TEMPLATE,e),n&&(n.type&&(this.url+=t.PARAMS.TYPE+n.type),n.debug&&(this.url+=t.PARAMS.DEBUG+n.debug),n.owned&&(this.url+=t.PARAMS.OWNED+n.owned),n.fields&&(this.url+=t.PARAMS.FIELDS+n.fields),n.include&&(this.url+=t.PARAMS.INCLUDE+n.include),n.force&&(this.url+=t.PARAMS.FORCE+n.force),n.customParams&&"preview"==n.customParams&&(this.url=this.url.split("?")[0]+"/preview?"+this.url.split("?")[1]));let r=s.getFieldsDefinition(this.getFieldDefinitionSource());return r&&r.fieldDefinitionColumns||(this.url+=t.PARAMS.DEFINITION+"true"),this.url},getChildRelationsNames:function(){return["children"]},sync:function(){let e=i.setHelper.apply(this,arguments).options;e.customParams&&"preview"==e.customParams&&(arguments[0]="create"),this._parent.apply(this,arguments)},parse:function(e){let t=this._parent.apply(this,arguments);return t.title=t.title||t.name,t},createRelatedDataItems:function(i,s){let n,l=e.clone(s||{},!1),a=l.fieldDefinition||l.config;switch(a&&a.name){case t.PROJECT_CONSTANTS.QUESTIONS:n=new r(i,s);break;case t.PROJECT_CONSTANTS.TASKS:n=new o(i,s);break;default:n=this._parent.apply(this,arguments)}return n}});return l})),define("DS/ENOProjectMgmtModels/Models/BaseContext",["UWA/Core","DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel","DS/ENOProjectMgmtModels/Collections/Risks","DS/ENOProjectMgmtModels/Collections/Opportunities","DS/ENOProjectMgmtModels/Models/CSRFDataModel","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t,i,s,n,r){"use strict";let o=t.extend({_uwaClassName:"BaseContext",idAttribute:"id",setup:function(t,i){let s=e.clone(i||{},!1);this._fetchSource=s.fetchSource,this._sourceType=s.sourceType,this._fieldDefinitionSource=s.fieldDefinitionSource;let n=this.get(r.OBJECT_TYPE);return n&&this.set("type",n),this._parent.apply(this,arguments)},getUrl:function(e,t){t.fetchSource===r.APPLICATIONS.CONTEXT_INFO?(this.url=r.getContextInfoUrl(this.id),this._sourceType===r.APPLICATIONS.OPPORTUNITY&&(this.url+=r.PARAMS.RMCTYPE+r.TYPENAMES.OPPORTUNITY)):t.fetchSource===r.APPLICATIONS.PROJECT?(this.url+="/"+this.id,this.url=r.getAppUrl(r.APPLICATIONS.PROJECT,this.id)):t.fetchSource===r.APPLICATIONS.PROFILE?(this.url+="/"+this.id,this.url=r.getAppUrl(r.APPLICATIONS.PROFILE,this.id)):this.url=r.getObjectInfoUrl(this.id),"true"===r.DEBUG&&(this.url+=r.PARAMS.DEBUG+r.DEBUG),t.completed&&(this.url+=r.PARAMS.COMPLETED+t.completed),t.filter&&("owned"===t.filter?this.url+=r.PARAMS.OWNED+"true":"assigned"===t.filter?this.url+=r.PARAMS.ASSIGNED+"true":"candidateAssignee"===t.filter&&(this.url+=r.PARAMS.CANDIDATE_ASSIGNED+"true")),t.subFilter&&"subprojectrisks"===t.subFilter?this.url+=r.PARAMS.SUBPROJECTRISKS+"true":t.subFilter&&"subprojectopportunities"===t.subFilter&&(this.url+=r.PARAMS.SUB_PROJECT_OPPORTUNITIES+"true"),t.fields&&(this.url+=r.PARAMS.FIELDS+t.fields),t.include&&(this.url+=r.PARAMS.INCLUDE+t.include),t.definition&&(this.url+=r.PARAMS.DEFINITION+t.definition);let i=this.serviceId;i&&(this.url+=r.PARAMS.SERVICE+i);let s=this.get("type");return s&&(this.url+=r.PARAMS.TYPE+s),this.url},dataForRendering:function(){let e=this._parent.apply(this,arguments),t=this.get("image");return t&&(e.image=t),e},parse:function(e){e=this._parent.apply(this,arguments),this._sourceType===r.APPLICATIONS.RISK?e.risks=new i(e.risks,{parse:!0,add:!0,remove:!0,merge:!0}):this._sourceType===r.APPLICATIONS.OPPORTUNITY&&(e.opportunities=new s(e.opportunities,{parse:!0,add:!0,remove:!0,merge:!0}));let t=e.image,n=this.id||e.id;return e.id=n,e.physicalId=n,t&&(e.image=this.getImage(t,e.serviceId)),e},canCreate:function(){return"TRUE"===this.get(r.CREATE_DATA)},isSimpleTask:function(){return"TRUE"===this.get(r.IS_SIMPLE_TASK)},isProgramContext:function(){return"Program"===this.get("type")}});return o})),define("DS/ENOProjectMgmtModels/Models/BaseContextScope",["UWA/Core","DS/ENOProjectMgmtModels/Utils/DataUtils","DS/ENOProjectMgmtModels/Models/BaseContext","DS/ENOProjectMgmtModels/Models/AppSettings","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Collections/RelatedDataItems"],(function(e,t,i,s,n,r){"use strict";let o=i.extend({_uwaClassName:"BaseContextScope",collection:void 0,setup:function(){this.collection=new r,this._parent.apply(this,arguments)},add:function(e,i,s){let n=s.homeView;n&&t.validateModificationsPending({parentView:s.homeView,yesEventFunc:n._handleAddContexScope.bind(n,i,s)},s)},remove:function(e,i,s){return s&&e===n.CONTEXT_ATTR&&t.validateModificationsPending({parentView:s.homeView||s.parentView,yesEventFunc:this.handleRemoveContext.bind(this,e,s)},s),this._parent.apply(this,arguments)},set:function(t,i,s){if(t===n.CONTEXT_ATTR){let t=e.clone(s||{},!1),n=t.config;if(n&&n.singleObjectOnly&&this.collection.length&&(this.collection.reset(),this.collection.resetOperationFlags()),i&&i instanceof e.Class.Model){this.collection.add(i),this.setContextCache(i);let e=t.homeView||t.parentView,s=e&&e.contextView;s&&(t.callback=this.removeActiveClassNameOnContextField.bind(this,s)),this.dispatchEvent("onAdd",[t])}arguments[1]=this.collection}return this._parent.apply(this,arguments)},removeActiveClassNameOnContextField:function(e){let t=e&&e.container,i=t&&t.getElement(".drop-target");i&&i.removeClassName("active")},get:function(e){return"canEdit"===e||this._parent.apply(this,arguments)},handleRemoveContext:function(t,i){let s=e.clone(i||{},!1);s.config.singleObjectOnly&&this.collection.length&&(this.collection.reset(),this.collection.resetOperationFlags()),this.set(t,this.collection,s),this.dispatchEvent("onChange:"+t,[this,this.collection,s]),this.setContextCache(),e.extend(s,{showLoadSpinner:!0});let n=s.homeView&&s.homeView._loadDataModels?s.homeView:s.parentView;n&&n._loadDataModels(s)},setContextCache:function(t){let i,r=s.get("tenant");if(t){let e=s.getContextInfo(),n=s.getLastSelectedContextCache();n&&(t.id===n.id?(e=n,s.setSelectedViewName(s.getLastSelectedViewName())):s.clearFilterOptions(),s.clearLastSelectedContextCache()),i={id:t.id,name:t.title,type:t.get("type"),image:t.get("image")&&t.get("image").length<=256?t.get("image"):void 0,serviceId:t.get("serviceId"),expansions:e&&e.expansions||[]}}let o=widget.getValue(r)||{};r&&(e.extend(o,{context:i}),i&&this.handleRecentContexts(r,i,o),s.setTenantInfo(o)),s.set(n.CONTEXT_ATTR,t)},handleRecentContexts:function(i,s,n){let r=n.recentContexts||[],o=t.findIndex(r,"value",s.id);-1!==o?r.splice(0,0,r.splice(o,1)[0]):r.unshift({value:s.id,label:s.name,image:s.image,serviceId:s.serviceId,"ds6w:type":s.type}),e.extend(n,{recentContexts:r.slice(0,5)})},getConnectedRMC:function(){let e,t=this.getContextModel();if(t){let i=t.get("configuration");e=i&&i.length&&i[0]}return e},removeContext:function(e){this.remove("context",void 0,e)}});return o})),define("DS/ENOProjectMgmtModels/Models/Project",["UWA/Core","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Models/Task","DS/ENOProjectMgmtModels/Models/Calendar","DS/ENOProjectMgmtModels/Models/ProjectTemplate","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel","DS/ENOProjectMgmtModels/Models/AppSettings","DS/ENOProjectMgmtModels/Collections/Tasks","DS/ENOProjectMgmtModels/Collections/Calendars"],(function(e,t,i,s,n,r,o,l,a,c){"use strict";let d=["baselines","experiments"],u=o.extend({_uwaClassName:"Project",HAS_CHILDREN_ATTR:t.PROJECT_GANTT_HAS_CHILDREN_ATTR,_fieldDefinitionSource:t.APPLICATIONS.PROJECT,_relatedFieldDefinitionSources:["projects.tasks"],startDateAttrs:["estimatedStartDate"],endDateAttrs:["dueDate"],hasChildren:function(e){return"TRUE"===this.get(e)},getChildRelationsNames:function(){let e=this.get("type");if(e!==t.TYPENAMES.EXPERIMENT&&e!==t.TYPENAMES.PROJECTBASELINE)return d},getUrl:function(e,t){if(t||(t={}),this.isNew())return this.getProjectUrl(void 0,e,t);"delete"===e&&(t.force=!0);let i=this.get("actualId")||this.get("id");return this.getProjectUrl(i,e,t)},getProjectUrl:function(e,i,s){let n=this.type;if(!(n===t.TYPENAMES.EXPERIMENT||n===t.TYPENAMES.PROJECTBASELINE)||"delete"!==i&&"create"!==i){this.url=t.getAppUrl(t.APPLICATIONS.PROJECT,e);let i=this.get("createFromProject")||this.get("createFromProjectTemplate");if(i&&i.length>0){this.url=t.getAppUrl(t.APPLICATIONS.PROJECT,"copy");let e=this.get("copyProjectOptions")||this.get("copyProjectTemplateOptions");e&&e.length&&(this.url+=e.map((e=>"&"+(e.actualValue||e)+"=true")).toString().replaceAll(",",""),this.unset("copyProjectOptions"),this.unset("copyProjectTemplateOptions"));let i=this.get("bookmarkContentReplicateOption");i&&(this.url+="&bookmarkContentReplicateOption="+i,this.unset("bookmarkContentReplicateOption"));let s=this.get("referencesReplicateOption");s?(this.url+="&copyTaskReferences=true&referencesReplicateOption="+s,this.unset("referencesReplicateOption")):this.get("createFromProject")&&(this.url+="&copyTaskReferences=true&referencesReplicateOption=copy")}}else{let e=n===t.TYPENAMES.EXPERIMENT?t.APPLICATIONS.EXPERIMENT:t.APPLICATIONS.BASELINE;if("create"===i){let t=this.get("parentId");t&&(e=t+"/"+e)}this.url=t.getAppUrl(t.APPLICATIONS.PROJECT,e)}let o=s.filter,l="candidateAssignee"===o,a="all"===o,c="passiveTasks"===o;if(s){if(s.type&&(this.url+=t.PARAMS.TYPE+s.type),s.debug&&(this.url+=t.PARAMS.DEBUG+s.debug),s.owned&&(this.url+=t.PARAMS.OWNED+s.owned),l&&(this.url+=t.PARAMS.CANDIDATE_ASSIGNED+"true"),s.fields&&(this.url+=t.PARAMS.FIELDS+s.fields,(a||c)&&(this.url+=",passiveTasks.title,passiveTasks.policy,passiveTasks.typeicon,passiveTasks.nlsType,passiveTasks.state,passiveTasks.estimatedStartDate,passiveTasks.dueDate,passiveTasks.description,passiveTasks.criticality,passiveTasks.warningLevel,passiveTasks.passiveSubtaskStatusIcon,passiveTasks.passiveSubtaskStatusValue,passiveTasks.estimatedDurationInputUnit,passiveTasks.estimatedDurationInputValue,passiveTasks.percentComplete,DPMProject.image,DPMProject.title,predecessors.title,predecessors.PALId,predecessors.lagTimeInputValue,predecessors.lagTimeInputUnit,predecessors.dependencyType,predecessors.LagUnit,predecessors.From,predecessors.predTaskSeqNumber,predecessors.To,predecessors.predProjectName,predecessors.predProjectId,assignees,assignees.name,assignees.firstname,assignees.lastname,ownerInfo.name,ownerInfo.firstname,ownerInfo.lastname,passiveTasks.actualDuration,passiveTasks.actualStartDate,passiveTasks.actualFinishDate,passiveTasks.modifyAccess,passiveTasks.promoteAccess,passiveTasks.demoteAccess,passiveTasks.fromConnectAccess,passiveTasks.toConnectAccess,passiveTasks.deleteAccess,passiveTasks.changeSOVAccess,passiveTasks.constraintType,passiveTasks.constraintDate,passiveTasks.isTypeGate,passiveTasks.isTypeMilestone,passiveTasks.taskProjectId"),l&&(this.url+=",candidateAssignees.title,candidateAssignees.image,candidateAssignees.groupURI")),s.include&&(this.url+=t.PARAMS.INCLUDE+s.include,(a||c)&&(this.url+=",passiveTasks,DPMProject,predecessors,assignees,ownerInfo"),l&&(this.url+=",candidateAssignees")),s.force&&(this.url+=t.PARAMS.FORCE+s.force),s.customParams){let e=this.getCustomParams(s.customParams);c&&(e+="&includePassiveTasksOnly=true"),this.url+=e}this.get("warningLevel")&&(this.url+="&relId="+this.get("relId"))}let d=r.getFieldsDefinition(this.getFieldDefinitionSource());return d&&d.fieldDefinitionColumns||(this.url+=t.PARAMS.DEFINITION+"true"),"read"===i&&(this.url+="&validateType=true"),this.url},get:function(e){return"i3dx"===e?"i3dx:Project!b:"+this.id:this._parent.apply(this,arguments)},convertToRequestData:function(e,i,s){let n=this._parent(e,i,s);if("create"===e){let e=n.data&&n.get("data");this.get("createFromProject")||this.get("createFromProjectTemplate");e&&e.length&&e.forEach((e=>{e.updateAction===t.UPDATE_ACTION.CREATE&&e.calendar&&e.calendar.length>1&&e.calendar.forEach((e=>{e.Default="false"}))}))}if(n){let e=this.get("operation");e&&(n.operation=e)}return"CONNECT"===n.updateAction&&delete n.predecessors,this.isPassiveTask()&&(n.id=this.get("actualId")),n},createRelatedDataItems:function(i,s){let n,r=e.clone(s||{},!1),o=r.fieldDefinition||r.config;switch(o&&o.name){case t.PROJECT_CONSTANTS.BASELINES:case t.PROJECT_CONSTANTS.EXPERIMENTS:n=this.collection&&new this.collection.constructor(i,s);break;case t.PROJECT_CONSTANTS.CALENDAR:n=new c(i,s);break;case t.PROJECT_CONSTANTS.TASKS:n=new a(i,s);break;default:n=this._parent.apply(this,arguments)}return n},isProgramContext:function(){return!1},isTypeBaseline:function(){let e=this.get("kindOfProjectBaseline")||this.get("kindOfBaseline");return e?"TRUE"===e:this.get("type")===t.TYPENAMES.PROJECTBASELINE},isTypeExperiment:function(){let e=this.get("kindOfExperiment");return e?"TRUE"===e:this.get("type")===t.TYPENAMES.EXPERIMENT},isBaselineTask:function(){let e=l.get("context");return e&&e.isTypeBaseline()},parse:function(i,s){if(i[t.IS_PASSIVE_TASK]&&!i.actualId&&(i.actualId=i.id,i.id=i.relId),i.children&&e.extend(i,{tasks:i.children}),(i=this._parent.apply(this,arguments)).tasks&&e.extend(i,{children:i.tasks}),(i.title||i.name)&&(i.title=i.title||i.name),i.defaultConstraintType&&e.extend(i,{constraintType:i.defaultConstraintType}),i[t.IS_PASSIVE_TASK]){let e=this.id||i.id;i.id=e}return i.id&&e.extend(i,{physicalId:i.actualId||i.id}),i.nextTaskId&&(i.nextTaskId=""),i.previousTaskId&&(i.previousTaskId=""),i},canDelete:function(){return"TRUE"===this.get(t.CAN_DELETE_DATA)},canModify:function(){return"TRUE"===this.get(t.CAN_MODIFY_DATA)},canChangeCalendar:function(){let e=this.get("state");return("Create"===e||"Assign"===e||"Active"===e)&&this.canModify()},getModelConstructorBasedOnType:function(e){let o;if(e===t.PROJECT_CONSTANTS.WORK_CALENDAR)o=s;else r.isProjectType(e)?o=u:r.isTaskType(e)?o=i:r.isKindOfProjectTemplate(e)&&(o=n);return o||this._parent.apply(this,arguments)},getAllTasksCount:function(e,t,i){return t.modelCache&&Object.keys(t.modelCache).length},getAllTasks:function(e,t){let i=this.getRecursiveTasks(void 0,[],t);return e&&i.splice(0,0,this),new a(i)},getRecursiveTasks:function(t,i,s){let n=t?t&&t.get("tasks"):this.get("tasks");return n&&(n=Array.isArray(n)?void 0:n.toArray()),n&&n.length&&n.forEach((t=>{if(i.push(t),s&&e.is(t.getPassiveTasks,"function")){let e=t.getPassiveTasks(),s=e&&e.length&&e.toArray();s&&i.push(...s)}this.getRecursiveTasks(t,i,s)})),i},updateSequenceOrderAndPredecessor:function(e,i){let s,n={};for(let r in i){let o=e.get(r);o&&(o.set(t.SEQUENCEORDER_ATTR,i[r]),o.resetChangedAttrs(),s=o.get(t.PREDECESSORS_ATTR),s&&s.length&&s.forEach((e=>{n[e.id]=e})))}for(let i in n){let s=n[i],r=e.get(i);if(r){let e=r.get(t.SEQUENCEORDER_ATTR);s.set(t.PREDTASKSEQNUMBER_ATTR,e),s.resetChangedAttrs()}else{let i=e.get(s.get("To"));i.unset(t.PREDECESSORS_ATTR),i.resetChangedAttrs()}}},IsGateOrMilestone:function(){return!1},getCachedData:function(){return this.dataFetched?this.dataForRendering():this._parent.apply(this,arguments)},isExperimentBaselineAvailable:function(){let e=this.get(t.PROJECT_CONSTANTS.EXPERIMENTS),i=this.get(t.PROJECT_CONSTANTS.BASELINES);return e&&e.length||i&&i.length},getTransferObject:function(){let e=this._parent.apply(this,arguments);return e&&e.data&&e.data.items&&(e.data.items[0].bookmarkRootId=this.get("bookmarkRootId")),e}});return u})),define("DS/ENOProjectMgmtModels/Collections/Projects",["DS/ENOProjectMgmtModels/Models/Project","DS/ENOProjectMgmtModels/Models/AppSettings","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Collections/ENOProjectMgmtBaseCollection"],(function(e,t,i,s,n){"use strict";let r=n.extend({_uwaClassName:"Projects",_fieldDefinitionSource:s.APPLICATIONS.PROJECT,_relatedFieldDefinitionSources:["projects.tasks"],model:e,getUrl:function(e,n){this.url=s.getAppUrl(s.APPLICATIONS.PROJECT),this.url+=s.PARAMS.TYPE+s.TYPENAMES.PROJECT;let r=n.filter||t.getSelectedFilterOption(),o="all"===r,l="passiveTasks"===r;n.completed&&(this.url+=s.PARAMS.COMPLETED+n.completed),r&&(o?this.url+=s.PARAMS.ACCESSIBLE+"true":"none"!==n.completed?this.url+="&state=Create,Assign,Active,Review,Complete":this.url+="&state=Create,Assign,Active,Review"),n.debug&&(this.url+=s.PARAMS.DEBUG+n.debug),n.fields&&(this.url+=s.PARAMS.FIELDS+n.fields,(o||l)&&(this.url+=",passiveTasks.title,passiveTasks.typeicon,passiveTasks.nlsType,passiveTasks.state,passiveTasks.estimatedStartDate,passiveTasks.dueDate,passiveTasks.description,passiveTasks.criticality,passiveTasks.warningLevel,passiveTasks.passiveSubtaskStatusIcon,passiveTasks.passiveSubtaskStatusValue,passiveTasks.estimatedDurationInputUnit,passiveTasks.estimatedDurationInputValue,passiveTasks.percentComplete,passiveTasks.typeicon,DPMProject.image,DPMProject.title")),n.include&&(this.url+=s.PARAMS.INCLUDE+n.include,(o||l)&&(this.url+=",passiveTasks,DPMProject")),n.idList&&(n.headers[s.CONTENT_TYPE]=s.COMTENT_TYPE_FORM_URL_ENCODED),n.customParams?this.url+=n.customParams:(this.url+="&level=1",this.url+="&excludeSubtypes=Experiment");let a=i.getFieldsDefinition(this.getFieldDefinitionSource());return a&&a.fieldDefinitionColumns||(this.url+=s.PARAMS.DEFINITION+"true"),"read"===e&&(this.url+="&validateType=true"),this.url},convertToRequestData:function(e,t,i){return"$ids="+i.idList},_prepareModel:function(e){let t;return e.type&&(t=this.model.prototype.getModelConstructorBasedOnType(e.type)),t&&(this.model=t),this._parent.apply(this,arguments)}});return r})),define("DS/ENOProjectMgmtModels/Models/Assessment",["UWA/Core","DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Collections/RelatedDataItems"],(function(e,t,i,s,n){"use strict";return t.extend({_uwaClassName:"Assessment",_fieldDefinitionSource:i.APPLICATIONS.ASSESSMENT,_sourceType:i.APPLICATIONS.ASSESSMENT,getUrl:function(e,t){return t||(t={}),this.isNew()?this.getApplicationUrl(void 0,e,t):("delete"===e&&(t.force=!0),this.getApplicationUrl(this.get("id"),e,t))},getApplicationUrl:function(e,t,s){return e?(this.url+="/"+e,this.url=i.getAppUrl(i.APPLICATIONS.ASSESSMENT,e)):this.url=i.getAppUrl(i.APPLICATIONS.ASSESSMENT),s&&(s.type&&(this.url+=i.PARAMS.TYPE+s.type),"true"===i.DEBUG&&(this.url+=i.PARAMS.DEBUG+i.DEBUG),s.owned&&(this.url+=i.PARAMS.OWNED+s.owned),s.fields&&(this.url+=i.PARAMS.FIELDS+s.fields),s.include&&(this.url+=i.PARAMS.INCLUDE+s.include),s.force&&(this.url+=i.PARAMS.FORCE+s.force)),this.url},createRelatedDataItems:function(e,t){return new n(e,t)}})})),define("DS/ENOProjectMgmtModels/Collections/Assessments",["DS/ENOProjectMgmtModels/Collections/ENOProjectMgmtBaseCollection","DS/ENOProjectMgmtModels/Models/Assessment","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t,i,s){"use strict";return e.extend({_uwaClassName:"Assessments",_fieldDefinitionSource:s.APPLICATIONS.ASSESSMENT,model:t,getUrl:function(e,t){this.url=s.getAppUrl(s.APPLICATIONS.ASSESSMENT),this.url+=s.PARAMS.TYPE+s.TYPENAMES.ASSESSMENT,t.contextId&&(this.url+=s.PARAMS.CONTEXTID+t.contextId),t.completed&&(this.url+=s.PARAMS.COMPLETED+t.completed),t.filter&&("owned"===t.filter?this.url+=s.PARAMS.OWNED+"true":"assigned"===t.filter?this.url+=s.PARAMS.ASSIGNED+"true":"organization"===t.filter&&(this.url+=s.PARAMS.ORGANIZATION+"true")),"true"===s.DEBUG&&(this.url+=s.PARAMS.DEBUG+s.DEBUG),t.fields&&(this.url+=s.PARAMS.FIELDS+t.fields),t.include&&(this.url+=s.PARAMS.INCLUDE+t.include),t.idList&&(t.headers[s.CONTENT_TYPE]=s.COMTENT_TYPE_FORM_URL_ENCODED);let n=i.getFieldsDefinition(this.getFieldDefinitionSource());return n&&n.fieldDefinitionColumns||(this.url+=s.PARAMS.DEFINITION+"true"),this.url},convertToRequestData:function(e,t,i){return"$ids="+i.idList}})})),define("DS/ENOProjectMgmtModels/Models/MatrixConfiguration",["UWA/Core","DS/ENOProjectMgmtModels/Constants/Constants","DS/ENOProjectMgmtModels/Collections/RelatedDataItems","DS/ENOProjectMgmtModels/Models/ENOProjectMgmtBaseModel","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils"],(function(e,t,i,s,n){"use strict";let r=s.extend({_uwaClassName:"MatrixConfiguration",_fieldDefinitionSource:t.APPLICATIONS.MATRIX_CONFIGURATION,getUrl:function(e,t){return t||(t={}),this.isNew()?this.getMatrixConfigurationUrl(void 0,e,t):("delete"===e&&(t.force=!0),this.getMatrixConfigurationUrl(this.get("id"),e,t))},getMatrixConfigurationUrl:function(e,i,s){return e?(this.url+="/"+e,this.url=t.getAppUrl(t.APPLICATIONS.MATRIX_CONFIGURATION,e)):this.url=t.getAppUrl(t.APPLICATIONS.MATRIX_CONFIGURATION),s&&(s.type&&(this.url+=t.PARAMS.TYPE+s.type),"true"===t.DEBUG&&(this.url+=t.PARAMS.DEBUG+t.DEBUG),s.fields&&(this.url+=t.PARAMS.FIELDS+s.fields),s.include&&(this.url+=t.PARAMS.INCLUDE+s.include),s.force&&(this.url+=t.PARAMS.FORCE+s.force)),this.get("rmcType")===t.TYPENAMES.OPPORTUNITY&&(this.url+=t.PARAMS.RMCTYPE+t.TYPENAMES.OPPORTUNITY),this.url},createRelatedDataItems:function(e,t){return new i(e,t)},set:function(t){let i=n.setHelper.apply(this,arguments),s=e.clone(i.attrs||{},!1);if(s&&s.hasOwnProperty("configuredItems")){let e=s.configuredItems;e&&(s.configuredItems=this.iterateRelatedItemsForViewAccess("configuredItems",e))}return"import"===t&&this.isNew()&&(arguments[1]="new"),this._parent.apply(this,arguments)},get:function(e){return"canEdit"===e?this.isNew()||this.canModify():this._parent.apply(this,arguments)},parse:function(e){let t=this._parent.apply(this,arguments);return e.tempId&&delete e.tempId,this.unset("import",{silent:!0}),t}});return r})),define("DS/ENOProjectMgmtModels/Collections/MatrixConfigurations",["DS/ENOProjectMgmtModels/Collections/ENOProjectMgmtBaseCollection","DS/ENOProjectMgmtModels/Models/MatrixConfiguration","DS/ENOProjectMgmtModels/Constants/Constants"],(function(e,t,i){"use strict";return e.extend({_uwaClassName:"MatrixConfigurations",_fieldDefinitionSource:i.APPLICATIONS.MATRIX_CONFIGURATION,model:t,getUrl:function(e,t){return t.contextId?this.url=i.getAppUrl(i.APPLICATIONS.MATRIX_CONFIGURATION,t.contextId):this.url=i.getAppUrl(i.APPLICATIONS.MATRIX_CONFIGURATION),"true"===i.DEBUG&&(this.url+=i.PARAMS.DEBUG+i.DEBUG),t.fields&&(this.url+=i.PARAMS.FIELDS+t.fields),t.include&&(this.url+=i.PARAMS.INCLUDE+t.include),t.rmcType===i.TYPENAMES.OPPORTUNITY&&(this.url+=i.PARAMS.RMCTYPE+i.TYPENAMES.OPPORTUNITY),this.url+=i.PARAMS.DEFINITION+"true",this.url}})}));