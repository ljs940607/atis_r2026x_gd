define("DS/MPFSubscriptionModel/SubscriptionModel",["DS/MPFModel/MPFModel"],(e=>{"use strict";const t=Object.freeze({ACTIVE_QUANTITY:"activeQuantity",STOPPED_QUANTITY:"stoppedQuantity",QUANTITY:"quantity",END_DATE:"endDate",SALES_MODEL:"salesModel",LICENSING_SCHEME:"licensingScheme",OFFER_ID:"offerId",CODE:"code",MESSAGE:"message",PRICE:"price",CURRENCY:"currency",ONLINE_INSTANCE:"onlineInstance",STATUS:"status",CART_ID:"cartId",REASON:"reason",SUB_REASONS:"subReasons",COMMENT:"comment",STO_PROCESSING:"stoProcessing"}),r=Object.freeze({RESELLER:"Reseller",CATIA:"My3DExpCATIA",SOLIDWORKS:"My3DExpSW",DIRECT_SALES:"DirectSales"}),i=Object.freeze({YSC:"YSC",QSC:"QSC",QRC:"QRC",MSC:"MSC"}),n=Object.freeze({[i.YSC]:12,[i.QSC]:3,[i.QRC]:3,[i.MSC]:1}),s=Object.freeze({STOP_AFTER_DEADLINE:"Error.AfterStopDeadline"}),o=Object.freeze({TO_RENEW:"TORENEW",STOPPED:"STOP"}),S=e.extend({defaults(){const e={};return e[t.ACTIVE_QUANTITY]=null,e[t.STOPPED_QUANTITY]=null,e[t.END_DATE]=null,e[t.SALES_MODEL]=null,e[t.LICENSING_SCHEME]=null,e[t.OFFER_ID]=null,e},setup(e,t){this._parent(e,t),this._type="SubscriptionModel"},getActiveQuantity(){return this.get(t.ACTIVE_QUANTITY)},getStoppedQuantity(){return this.get(t.STOPPED_QUANTITY)},getEndDate(){return this.get(t.END_DATE)},getSalesModel(){return this.get(t.SALES_MODEL)},getLicensingScheme(){return this.get(t.LICENSING_SCHEME)},getOfferId(){return this.get(t.OFFER_ID)},getCode(){return this.get(t.CODE)},getMessage(){return this.get(t.MESSAGE)},getPrice(){return this.get(t.PRICE)},setOnlineInstance(e){return this.set(t.ONLINE_INSTANCE,e)},getMonthlyPrice(){return parseFloat(this.getPrice())/n[this.getLicensingScheme()]},getCurrency(){const e=this.get(t.CURRENCY);return e&&e.currency},getQuantity(){return this.get(t.QUANTITY)},getStatus(){return this.get(t.STATUS)},getCartId(){return this.get(t.CART_ID)},isCancellationInProcess(){return!!this.get(t.STO_PROCESSING)}});return S.SalesModel=r,S.Fields=t,S.RevTypes=i,S.ErrorCodes=s,S.Status=o,S})),define("DS/MPFSubscriptionModel/UnsubscribeDataProxy",["DS/MPFDataProxy/DataProxy","DS/MPFUrl/UrlUtils","DS/MPFError/NotImplementedError"],(function(e,t,r){"use strict";return e.extend({init(e){this._parent(e,"/subscription/unsubscribe")},urlGet:r.emit,urlPut:r.emit,urlPatch:r.emit,urlDelete:r.emit,doGet:r.emit,doPut:r.emit,doPatch:r.emit,doDelete:r.emit})})),define("DS/MPFSubscriptionModel/CatalogueSubscriptionsDataProxy",["DS/MPFDataProxy/DataProxy","UWA/String","DS/MPFUrl/UrlUtils"],(function(e,t,r){"use strict";return e.extend({init(e){this._parent(e,"/products/cataloguev2/{0}/subscriptions")},url(e,i){return new r(this.connector.url(t.format(this.resourcePath,e.parentResourceId))).addParameter("online-instance",e.onlineInstanceId).getUrl()}})})),define("DS/MPFSubscriptionModel/ResubscribeDataProxy",["DS/MPFDataProxy/DataProxy","DS/MPFUrl/UrlUtils","DS/MPFError/NotImplementedError"],(function(e,t,r){"use strict";return e.extend({init:function(e,t,r){this._parent(e,"/subscription/resubscribe",r)},_computeDefaultUrl:function(e,r){return new t(this.connector.url(this.resourcePath,r)).addParameter("online-instance",r.onlineInstanceId).addParameter("offerId",e.getOfferId()).addParameter("quantity",r.quantity).getUrl()},urlGet:r.emit,urlPut:r.emit,urlPatch:r.emit,urlDelete:r.emit,doGet:r.emit,doPut:r.emit,doPatch:r.emit,doDelete:r.emit})})),define("DS/MPFSubscriptionModel/SubscriptionCollection",["DS/MPFModel/MPFCollection","DS/MPFSubscriptionModel/SubscriptionModel"],(function(e,t){"use strict";const r=Object.freeze({YSC:"YSC",QSC:"QSC",QRC:"QRC",MSC:"MSC"}),i=e.extend({model:t,setup:function(e,t){this.constraints=t.constraints||null,this._parent(e,t)},getSubscriptionWithLicensingScheme(e){return Array.isArray(e)?this.find((t=>e.includes(t.getLicensingScheme()))):this.find((t=>t.getLicensingScheme()===e))}});return i.RevTypes=r,i})),define("DS/MPFSubscriptionModel/SubscriptionFactory",["UWA/Core","DS/MPFModelFactory/Factory","DS/MPFSubscriptionModel/SubscriptionModel","DS/MPFSubscriptionModel/SubscriptionCollection","DS/MPFSubscriptionModel/ResubscribeDataProxy","DS/MPFSubscriptionModel/UnsubscribeDataProxy","DS/MPFSubscriptionModel/CatalogueSubscriptionsDataProxy"],(function(e,t,r,i,n,s,o){"use strict";const S=Object.freeze({UNSUBSCRIBE:"UNSUBSCRIBE",RESUBSCRIBE:"RESUBSCRIBE",CATALOGUE_SUBSCRIPTIONS:"CATALOGUE_SUBSCRIPTIONS"}),u=t.extend({createCollection:function(e=S.RESUBSCRIBE,t,r){return this._parent(i,e,t,r)},createModel:function(e=S.RESUBSCRIBE,t,i){return this._parent(r,e,t,i)},getDataProxy:function(e){var t;return(e=e&&e.toUpperCase())===S.RESUBSCRIBE?(this.dataProxies.resubscribe||(this.dataProxies.resubscribe=new n(this.connector)),t=this.dataProxies.resubscribe):e===S.UNSUBSCRIBE?(this.dataProxies.unsubscribe||(this.dataProxies.unsubscribe=new s(this.connector)),t=this.dataProxies.unsubscribe):e===S.CATALOGUE_SUBSCRIPTIONS?t=this.getOrCreateDataProxyForType(e,o):(this.dataProxies.resubscribe||(this.dataProxies.resubscribe=new n(this.connector)),t=this.dataProxies.resubscribe),t}});return u.Types=Object.freeze(S),u}));