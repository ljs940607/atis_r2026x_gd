define("DS/TweakersEx/AutoCompleteViewModuleTweakerString",["DS/Tweakers/StringViewModules","DS/Utilities/Utils","DS/Utilities/Dom","DS/WUXAutoComplete/AutoComplete","DS/Utilities/KeyboardUtils","i18n!DS/Tweakers/assets/nls/translation"],(function(e,t,i,o,n,s){"use strict";var r=function(t,i){e.Base.call(this,t,i)};t.applyMixin(r,e.Base);let a={};return r.prototype.buildView=function(){var e=this._options.viewOptions||{};e.multiSearchMode=this._tweaker.allowMultipleValuesFlag,e.touchMode=this._tweaker._getCurrentTouchMode(),e.fireOnlyFromUIInteractionFlag=!0,e.allowFreeInputFlag=this._tweaker.allowFreeInputFlag,e.allowResetToUndefinedByUIFlag=this._tweaker.allowResetToUndefinedByUIFlag,e.placeholder=void 0!==this._tweaker.placeholder?this._tweaker.placeholder:s.get("AutoCompletePlaceHolder"),e.customFilterMessage=s.get("AutoCompleteNoValueFound"),e.minLengthBeforeSearch=this._tweaker.minLengthBeforeSearch||0,e.typeDelayBeforeSearch=this._tweaker.typeDelayBeforeSearch,e.keepSearchResultsFlag=this._tweaker.keepSearchResultsFlag,e.columnOptions=Object.assign({},e.columnOptions),void 0!==e.typeRepresentation&&(e.getChipInfo=function(e){let t=this.getDefaultChipInfo(e);return{label:e.options.value&&"object"==typeof e.options.value&&null!==e.options.value?e.options.value.label:e.getLabel(),icon:t.icon,_iconOptions:t._iconOptions}},e.columnOptions.typeRepresentation=e.typeRepresentation),this._view=new o(e),function(e){if(Object.keys(a).length)return;const t=e.getPublishedPropertiesDefaultValue();["defaultFilterOptions","filterCB","keepSearchResultsFlag","minLengthBeforeSearch","popupSizeAdjustPolicy"].forEach((e=>{a[e]=t[e]})),Object.freeze(a)}(this._view),this._tweaker.viewOptions&&this.setViewOptions(this._tweaker.viewOptions),this.setPossibleValues(this._tweaker.possibleValues),this.setValue(this._tweaker.value),this._options.className&&this._tweaker.elements.container.classList.add(this._options.className)},r.prototype.computeTweakerContentLength=function(){var e=this._tweaker._getCurrentTouchMode()?51:30;return i.computeStringWidth(this._view.value,this._tweaker.getFontSize(),this._tweaker.getFontFamily(),this._tweaker.getEditedState())+e},r.prototype._getElementToFocus=function(){return this._view._getElementToFocus()},r.prototype.handleEvents=function(){var e=this,t=this._tweaker,o=this._view;o&&t&&(i.addEventOnElement(t,o,"uncommittedChange",(function(e){e.stopPropagation(),t.onPreEdit()})),i.addEventOnElement(t,o,"change",(function(i){i.stopPropagation(),e.setTweakerValue(o.value),t.onPostEdit()})),i.addEventOnElement(t,o,"keydown",(function(e){e.keyCode===n.ESCAPE&&t.onCancelEdit()})))},r.prototype.setValue=function(e){this._view&&(this._view.value=e)},r.prototype.setPossibleValues=function(e){this._view&&(this._view.elementsTree=Array.isArray(e)?function(e){let t,i=[];return e.forEach((e=>{t="object"==typeof e?{label:e.label||e.value,value:e.value||e,tooltip:e.tooltip}:e,e.hasOwnProperty("icon")&&("object"==typeof t.value&&"object"===!t.hasOwnProperty("icon")?t.value.icon=e.icon:t.value.icon!==e.icon&&(t.icon=e.icon)),i.push(t)})),i}(e):e)},r.prototype.setPlaceholder=function(e){this._view&&(this._view.placeholder=void 0!==this._tweaker.placeholder?this._tweaker.placeholder:s.get("AutoCompletePlaceHolder"))},r.prototype.setAllowResetToUndefinedByUIFlag=function(e){this._view&&(this._view.allowResetToUndefinedByUIFlag=e)},r.prototype.setMinLengthBeforeSearch=function(e){this._view&&(this._view.minLengthBeforeSearch=e)},r.prototype.setTypeDelayBeforeSearch=function(e){this._view&&(this._view.typeDelayBeforeSearch=e)},r.prototype.setKeepSearchResultsFlag=function(e){this._view&&(this._view.keepSearchResultsFlag=e)},r.prototype.setViewOptions=function(e){this._setViewOptionsOnAbstract(this._view,e,a)},r}));var __extends=this&&this.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();define("DS/TweakersEx/TweakerPath",["require","exports","DS/Tweakers/TweakerBase","DS/Utilities/Utils","DS/Core/WebUXComponents","DS/ControlsEx/PathExplorer","DS/TreeModel/TreeDocument","DS/TreeModel/TreeNodeModel"],(function(e,t,i,o,n,s,r,a){"use strict";var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t,"publishedProperties",{get:function(){return{displayStyle:{defaultValue:"pathExplorer",type:"string"},value:{defaultValue:null,type:"DS/TreeModel/TreeNodeModel"},possibleValues:{defaultValue:null,type:"DS/TreeModel/TreeDocument"}}},enumerable:!1,configurable:!0}),t.prototype.getStringFromValue=function(e){var t="";if(e)if(e instanceof a)t=e.buildPath({buildPath:function(e,t,i){var o=e+t.getLabel();return t&&t.hasChildren()&&(o+="/"),o}});else if(Array.isArray(e))for(var i=0;i<e.length;i++)t+=e[i],i<e.length-1&&(t+="/");return t},t}(i),u=function(e,t){i.prototype.baseViewModule.call(this,e,t)};return o.applyMixin(u,i.prototype.baseViewModule),u.prototype.buildView=function(){this._tweaker.elements.container.addClassName("wux-tweakers-path");var e=this._options.viewOptions||{};e.touchMode=this._tweaker._getCurrentTouchMode(),e.disabled=this._tweaker.readOnly,e.fireOnlyFromUIInteractionFlag=!0,e.useModelSelectionFlag=!1;var t=this._tweaker.possibleValues,i=this._tweaker.value;Array.isArray(i)&&t&&t instanceof r&&(i=t.computeNodeFromLabels(i)),e.model=this._tweaker.possibleValues,e.value=i,this._view=new s(e)},u.prototype.setValue=function(e){if(this._view){var t=e;Array.isArray(e)&&(t=this._view.computeValueFromStrings(e)),this._view.value=t}},u.prototype.setPossibleValues=function(e){this._view&&(this._view.model=e)},u.prototype.handleEvents=function(){var e=this._view;if(void 0!==e){var t=this._tweaker,i=this;t.readOnly||e.addEventListener("change",(function(t){t.stopPropagation(),i.setTweakerValue(e.value)}))}},u.prototype.destroy=function(){this._tweaker&&this._tweaker.elements.container&&this._tweaker.elements.container.removeClassName("wux-tweakers-path"),i.prototype.baseViewModule.prototype.destroy.call(this)},u.prototype.computeTweakerContentLength=function(){var e=0;return this._view&&(e+=this._view.getContent().offsetWidth+7),e},l.prototype.VIEW_MODULES={pathExplorer:{classObject:u}},n.addClass(l,"TweakerPath"),l}));__extends=this&&this.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},__assign.apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(e,t,i){if(i||2===arguments.length)for(var o,n=0,s=t.length;n<s;n++)!o&&n in t||(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))};define("DS/TweakersEx/TweakerCard",["require","exports","DS/Utilities/Utils","DS/Core/WebUXComponents","DS/Tweakers/TweakerBase","DS/WUXTypings/typings/WEBUX","DS/ControlsEx/typings/types"],(function(e,t,i,o,n){"use strict";var s=function(e,t){var i=e.viewOptions;return __assign(__assign({},i),t)},r=function(e,t){return{label:t.titleText,subLabel:t.subtitle,description:t.description,icon:t.titleIcon}},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.computeHeight=function(e,t,i){var o,n,s,r,a,l,u=null===(o=null==e?void 0:e.typeRep)||void 0===o?void 0:o.modelPropertiesContract;!u&&i&&((u={}).hasPicture=!!i.picture,u.hasTitleIcon=!!i.titleIcon,u.hasTitleText=!!i.titleText,u.hasSubtitle=!!i.subtitle,u.hasDescription=!!i.description,u.hasBadges=!!i.badges,u.hasActions=!!i.actions),u||(u={hasPicture:!0,hasTitleIcon:!0,hasTitleText:!0,hasSubtitle:!0,hasDescription:!0,hasBadges:!0,hasActions:!0});var p=null===(r=null===(s=null===(n=null==e?void 0:e.typeRep)||void 0===n?void 0:n.semantics)||void 0===s?void 0:s.viewOptions)||void 0===r?void 0:r.descriptionHeight;void 0===p&&(p=1);var d=[2,9],c=[4,4],h=[4,4],w=[1,1],_=e.touchMode?1:0,f=null===(l=null===(a=null==e?void 0:e.typeRep)||void 0===a?void 0:a.semantics)||void 0===l?void 0:l.viewOptions,y=2*d[_]+2*c[_]+2*w[_],v=0;if((u.hasTitleText||u.hasTitleIcon)&&(y+=[18,18][_],v++),u.hasSubtitle&&(y+=[12,16][_],v++),u.hasDescription&&p>0&&(y+=p*[12,12][_],v++),(u.hasBadges||u.hasActions)&&(y+=[24,42][_],v++),v>0&&(y+=(v-1)*h[_]),"landscape"===(null==f?void 0:f.orientation))return y;var g=(t-2*d[_]-2*c[_]-2*w[_])*(3/4);return u.hasPicture&&(y+=g+(v>0?h[_]:0)),y},t.prototype.getStringFromValue=function(e){function t(e){return e?__spreadArray([e.titleText,e.subtitle,e.description],Array.isArray(e.badges)?e.badges.map((function(e){return e.text})):[],!0).filter(Boolean).join(" "):""}var i="";if(Array.isArray(e)){i=t(e[0]);var o="|";this.viewOptions&&(o=this.viewOptions.multipleValuesSeparator||o);for(var n=1;n<e.length;n++)i+=" "+o+" "+t(e[n])}else i=t(e);return i},Object.defineProperty(t,"publishedProperties",{get:function(){return{value:{defaultValue:void 0,type:"object"},displayStyle:{defaultValue:"card",type:"string"}}},enumerable:!1,configurable:!0}),t.prototype._preBuildView=function(t){e.prototype._preBuildView.call(this,t),this._iconClassName="wux-tweakers-string-icon"},t.prototype._applyProperties=function(t){e.prototype._applyProperties.call(this,t)},t}(n);a.prototype.VIEW_MODULES={card_readOnly:{filePath:"DS/TweakersEx/ControlsExViewModules",key:"Cards",options:{getFormattedCardOptions:s,getFormattedURLObjectOptions:r}},card:{filePath:"DS/TweakersEx/ControlsExViewModules",key:"Cards",options:{getFormattedCardOptions:s,getFormattedURLObjectOptions:r}},inlinedCard_readOnly:{filePath:"DS/TweakersEx/ControlsExViewModules",key:"InlinedCards",options:{getFormattedCardOptions:s,getFormattedURLObjectOptions:r}},inlinedCard:{filePath:"DS/TweakersEx/ControlsExViewModules",key:"InlinedCards",options:{getFormattedCardOptions:s,getFormattedURLObjectOptions:r}}};var l=function(e,t){n.prototype.baseViewModule.call(this,e,t)};return i.applyMixin(l,n.prototype.baseViewModule),l.prototype.buildView=function(e){},a.prototype.baseViewModule=l,o.addClass(a,"tweakerCard"),a}));__extends=this&&this.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();define("DS/TweakersEx/TweakerCode",["require","exports","DS/Tweakers/TweakerBase","DS/Core/WebUXComponents","DS/Utilities/Dom","DS/Utilities/Utils","UWA/Core","DS/Tweakers/TweakerUtils","DS/ControlsEx/CodeMirror"],(function(e,t,i,o,n,s,r,a,l){"use strict";var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t,"publishedProperties",{get:function(){return{mode:{defaultValue:void 0,type:"string",category:"Behavior",readOnly:!0},value:{defaultValue:void 0,type:"string",category:"Behavior"},CMOptions:{defaultValue:void 0,type:"object",category:"Behavior",advancedSetter:!0},displayStyle:{defaultValue:"codeMirror",type:"string"}}},enumerable:!1,configurable:!0}),t.prototype.buildView=function(){e.prototype.buildView.call(this),this.elements.container.addClassName("wux-tweakers-code")},t.prototype._preEditCMOptions=function(e,t){return t?{validValue:Object.assign({},e,t,{readOnly:this.readOnly})}:(window.console.error("This property cannot be set to undefined"),!1)},t.prototype._applyCMOptions=function(){this.elements._viewModule&&this.elements._viewModule.setCMOptions(this.CMOptions)},t.prototype._applyReadOnly=function(e){this.CMOptions=Object.assign({},this._properties.CMOptions.value,{readOnly:this.readOnly})},t.prototype._applyProperties=function(t){e.prototype._applyProperties.call(this,t),this.isDirty("CMOptions")&&this._applyCMOptions()},t}(i),p=function(e,t){i.prototype.baseViewModule.call(this,e,t)};s.applyMixin(p,i.prototype.baseViewModule),p.prototype.setCMOptions=function(){};var d={resizableFlag:!1};Object.freeze(d);var c=function(e,t){p.call(this,e,t)};s.applyMixin(c,p),c.prototype.buildView=function(){var e=this,t=this._options.viewOptions||{};t.value=this._tweaker.value,t.mode=this._tweaker.mode,t.CMOptions=this._tweaker.CMOptions,this._view=new l(t),this._tweaker.viewOptions&&this.setViewOptions(this._tweaker.viewOptions),n.addEventOnElement(this._view,this._view,"change",(function(t){t.stopPropagation(),e._tweaker.value=e._view.value})),n.addEventOnElement(this._view,this._view,"ready",(function(t){t.stopPropagation(),e._tweaker.fire("ready")}))},c.prototype.setValue=function(){this._view.value=this._tweaker.value},c.prototype.setCMOptions=function(){this._view.CMOptions=this._tweaker.CMOptions},c.prototype.setHeight=function(e){return!!this._view&&(this._view.setHeight(e),!0)},c.prototype.setViewOptions=function(e){this._setViewOptionsOnAbstract(this._view,e,d)};var h=function(e,t){p.call(this,e,t)};return s.applyMixin(h,p),h.prototype.buildView=function(){var e=this;this._viewInlined=r.createElement("div",{class:"wux-tweakers-code-inlineview"}),this._view=a._buildTweakerAggregateView(this._tweaker,{viewModule:this,inlined:this._viewInlined,getExtended:function(){if(!e._viewExtended){var t=e._options.viewOptions||{};t.value=e._tweaker.value,t.mode=e._tweaker.mode,t.CMOptions=e._tweaker.CMOptions,e._viewExtended=new l(t),e.setHeight(e._heightAtCreation),e._tweaker.viewOptions&&e.setViewOptions(e._tweaker.viewOptions),n.addEventOnElement(e,e._viewExtended,"change",(function(t){t.stopPropagation(),e._tweaker.value=e._viewExtended.value})),n.addEventOnElement(e,e._viewExtended,"ready",(function(t){t.stopPropagation(),e._tweaker.fire("ready")}))}return e._viewExtended}},{overlapContainer:!0,hasButton:!0,getExtendedViewHeight:function(){return"auto"}}),this._view.getContent().addClassName("wux-tweakers-code-inline"),this._view.getContent().addClassName("wux-tweakers-string-lineeditordots"),this.setValue(this._tweaker.value)},h.prototype.computeTweakerContentLength=function(){var e=this._tweaker;if(e){var t=this._tweaker._getCurrentTouchMode()?78:42,i=e.getStringFromValue(this._tweaker.value);return n.computeStringWidth(i,e.getFontSize(),e.getFontFamily(),e.getEditedState())+t}},h.prototype.setValue=function(){this._viewInlined.textContent=this._tweaker.value||"",this._viewExtended&&(this._viewExtended.value=this._tweaker.value)},h.prototype.setCMOptions=function(){this._viewExtended&&(this._viewExtended.CMOptions=this._tweaker.CMOptions)},h.prototype.setHeight=function(e){return!!e&&(this._viewExtended?this._viewExtended.setHeight(e):this._heightAtCreation=e,!0)},h.prototype.setViewOptions=function(e){this._setViewOptionsOnAbstract(this._viewExtended,e,d)},h.prototype.destroy=function(){this._viewInlined&&this._viewInlined.destroy(),delete this._viewInlined,this._viewExtended&&this._viewExtended.destroy(),delete this._viewExtended,p.prototype.destroy.call(this)},u.prototype.VIEW_MODULES={codeMirror:{classObject:c},codeMirror_readOnly:{classObject:c},codeMirrorInline:{classObject:h},codeMirrorInline_readOnly:{classObject:h}},o.addClass(u,"tweakerCode"),u})),define("DS/TweakersEx/TweakerObject2",["UWA/Core","DS/Utilities/Utils","DS/Tweakers/TweakerUtils","DS/Tweakers/TweakerBase","DS/Utilities/Object","DS/DataGridView/DataGridView","DS/TreeModel/TreeDocument"],(function(e,t,i,o,n,s,r){"use strict";let a=!1,l="#",u=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toSource","valueOf","toLocaleString"];function p(e,t){this.__contexts.push(e),t.call(this),this.__contexts.pop()}function d(e,t,i){let o=t.split(l),n=this[e];o.forEach((function(e,t){t<o.length-1&&(n=n[e])})),n[o[o.length-1]]=i}function c(){this._listOfProperties=new r({useAsyncPreExpand:!0});let t=this;this._listOfProperties.onPreExpand((function(i){let o=i.target;if("loaded"===o.options.modelLoadedState)return void o.preExpandDone();let n=function(){let e=o.getAttributeValue("value"),i=o.options.configuration;o.empty(),o.addChild(y.call(t,e,i,o.options.depth+1,o.options.path)),o.preExpandDone()},s=o.getAttributeValue("loadModel");s?s.call(t,o.getLabel(),o.options.path).then((function(i){if(i.modelLoadedState&&(o.options.modelLoadedState=i.modelLoadedState),void 0!==i.configuration){let e=h(i.configuration);o.updateOptions({configuration:i.configuration,grid:e}),d.call(t,"configuration",o.options.path,o.options.configuration)}if(void 0!==i.value){let n=Object.assign({},o.getAttributeValue("value"));e.extend(n,i.value),o.options.grid.value=n,p.call(t,"change:valueLoaded",(function(){d.call(this,"value",o.options.path,n),this._applyValue()}))}n()})):(o.updateOptions({modelLoadedState:"loaded"}),n())}))}function h(e){if(!e)return{};let t={};return void 0!==e.readOnly&&(t.editableState=!e.readOnly),void 0!==e.typeRepresentation&&(t.typeRepresentation=e.typeRepresentation),void 0!==e.authorizedTypeRepresentations&&(t.authorizedTypeRepresentations=e.authorizedTypeRepresentations),void 0!==e.getValue&&(t.getValue=e.getValue),void 0!==e.setValue&&(t.setValue=e.setValue),void 0!==e.loadModel&&(t.loadModel=e.loadModel),t}function w(e,t){if(-1!==u.indexOf(e))return!1;let i=this.filter;return"function"==typeof i?i.call(this,e,t):!this._regexp||this._regexp.test(e)}function _(e,t){if(null===e)return!1;let i=f(e);return"date"!==i&&"array"!==i&&"object"===i&&(n.isLiteralObject(e)||Object.getPrototypeOf(e).name&&""!==Object.getPrototypeOf(e).name)}function f(e){return null==e?"string":e instanceof Date?"date":Array.isArray(e)?"array":typeof e}function y(t,i,o,n){a&&console.group("Call to buildProperty",n?"of "+n:"");let s=[],r=t,u=this,p=e.extend({},i);do{Object.getOwnPropertyNames(r).forEach((function(t){if(!Object.prototype.hasOwnProperty.call(r,t))return void(a&&console.warn("Property ",t," ignored: not in current prototype"));let i=n?n+l+t:t;if(!w.call(u,t,i))return void(a&&console.warn("Property ",t," ignored: filtered"));let d=h.call(u,p[t]),c=d.getValue?d.getValue(t,i):r[t],y={label:t,grid:e.extend({value:c,editableState:!0,typeRepresentation:f(c),authorizedTypeRepresentations:"allTypes"},d),path:i,depth:o,configuration:p[t],modelLoadedState:"toBeLoaded"};_.call(u,c,o)&&(y.children=[]),a&&console.info("Property ",t," extracted: ",y),s.push(y)})),r=Object.getPrototypeOf(r)}while(r);return a&&console.groupEnd(),s}function v(){let e=[];void 0!==this.value&&null!==this.value&&(e=y.call(this,this.value,this.configuration,0)),this._listOfProperties.prepareUpdate(),this._listOfProperties.empty(),this._listOfProperties.loadModel(e),this._listOfProperties.pushUpdate(),g.call(this)}function g(){this.elements._viewModule&&this.elements._viewModule.updateListOfProperties&&this.elements._viewModule.updateListOfProperties(this._listOfProperties)}function V(){let e=this.filter;e&&new RegExp("^reg:","g").test(e)?this._regexp=new RegExp(e.substring(4,e.length)):this._regexp=null}let O=o.inherit({name:"tweakerObject2",publishedProperties:{viewModuleOptions:{defaultValue:null,type:"TweakerObject2ViewModuleOptions"},filter:{defaultValue:"reg:^[^_]",type:"string|function"},configuration:{defaultValue:null,type:"object"},displayStyle:{defaultValue:"list",type:"string"},value:{defaultValue:void 0,type:"object"},referenceValue:{defaultValue:void 0,type:"object"}},updateViewModuleOptions:function(t){e.extend(this.viewModuleOptions,t,!0),this._applyViewModuleOptions()},updateConfiguration:function(t){e.extend(this.configuration,t,!0),this._applyConfiguration()},getContextes:function(){return this.__contexts},getStringFromValue:function(){let e=!0,t="";return this._listOfProperties.getRoots().forEach((function(i){let o=i.getLabel();if(o){e||(t+=" | ");let n=i.getAttributeValue("value");Array.isArray(n)||n instanceof Date||"object"!=typeof n?t+=o+": "+JSON.stringify(n):t+=o+": {...}",e=!1}})),t},buildView:function(e){this._parent(),c.call(this),this._regexp=null,this.__contexts=[]},destroy:function(){this._listOfProperties.destroy(),this._listOfProperties=null,this._regexp=null,this._parent()},_applyValue:function(){0===this.getContextes().length?(v.call(this),p.call(this,"change:valueModified",this._parent)):this._parent()},_applyFilter:function(){V.call(this),v.call(this)},_applyConfiguration:function(){v.call(this)},_applyViewModuleOptions:function(e){this.elements._viewModule&&this.elements._viewModule.setViewModuleOptions&&this.elements._viewModule.setViewModuleOptions(this.viewModuleOptions,e)},_applyProperties:function(e){let t=this.isDirty("displayStyle")||this.isDirty("readOnly");this.isDirty("filter")&&V.call(this),this._parent(e),!t&&this.isDirty("viewModuleOptions")&&this._applyViewModuleOptions(e.viewModuleOptions),this.isDirty("value")||!this.isDirty("filter")&&!this.isDirty("configuration")||v.call(this)}});O.computeStringFromValue=function(e,t,i){return o.computeStringFromValue(e,t,i)},O.computeHeight=function(e,t,i){return o.computeHeight(e,t,i)};let m=function(e,t){o.prototype.baseViewModule.call(this,e,t)};t.applyMixin(m,o.prototype.baseViewModule),m.prototype.setViewModuleOptions=function(e){},m.prototype.updateListOfProperties=function(e,t){},m.prototype.setValue=function(e){};let b=function(e,t){m.call(this,e,t)};t.applyMixin(b,m);let C=function(){return e.extend({columnsHeader:!1,rowsHeader:!1,rowSpacing:6},this._tweaker.viewModuleOptions&&this._tweaker.viewModuleOptions.dataGridViewLayoutOptions)},M=function(){let t=this,i=e.extend({showAlternateBackgroundFlag:!1,rowSelection:"none",cellSelection:"none",cellPreselectionFeedback:"none",cellActivationFeedback:"none",treeNodeCellOptions:{buildLinks:!1,expanderStyle:"triangle"},focusNextEditableCellOnTabFlag:!0},this._tweaker.viewModuleOptions&&this._tweaker.viewModuleOptions.dataGridViewOptions);return i.columns=[{text:"Name",dataIndex:"tree",typeRepresentation:"string",width:"40%",getCellSemantics:function(e){if(e.nodeModel&&!e.nodeModel.getChildren())return{alignment:"far"}}},{visibleFlag:!1,text:"Type",dataIndex:"typeRepresentation",typeRepresentation:"enumString",getCellSemantics:function(e){if(e.nodeModel){let t=e.nodeModel.getAttributeValue("authorizedTypeRepresentations");return"allTypes"===t?{possibleValues:this.getTypeRepresentationFactory().getRegisteredEnum("allSupportedTypes")()}:{possibleValues:t}}},editableFlag:!0,editionPolicy:"EditionOnOver"},{text:"Value",dataIndex:"value",hasCellValue:function(e){return!e.nodeModel||"object"!==e.nodeModel.getAttributeValue("typeRepresentation")||!e.nodeModel.isExpanded()},getCellValue:function(i){if(i.nodeModel){let o=i.nodeModel.getAttributeValue("getValue");if(o)return o.call(t._tweaker,i.nodeModel.getLabel(),i.nodeModel.options.path);{let t=i.nodeModel.getAttributeValue("value");return"object"===i.nodeModel.getAttributeValue("typeRepresentation")&&(t=e.clone(t,!1)),t}}},setCellValue:function(e,i){if(e.nodeModel){let o=e.nodeModel.getAttributeValue("setValue");o?o.call(t._tweaker,i,e.nodeModel.getLabel(),e.nodeModel.options.path):(e.nodeModel.setAttribute("value",i),d.call(t._tweaker,"value",e.nodeModel.options.path,i));let n=e.nodeModel.getParent();n&&!n._isTrueRoot()&&t._view.updateRowView(n._getRowID(),{updateCellContent:!0}),p.call(t._tweaker,"change:valueEdited",(function(){t.setTweakerValue(this.value),this._applyValue()}))}},getCellTypeRepresentation:function(e){if(e.nodeModel){let t=e.nodeModel.getAttributeValue("typeRepresentation");return"object"===t?"subObject":t}return"string"},getCellEditableState:function(e){if(t._options.readOnly)return!1;if(e.nodeModel){return!e.nodeModel.getChildren()&&e.nodeModel.getAttributeValue("editableState")}return!1},getCellSemantics:function(e){if(e.nodeModel)return{alignment:"near"}},editionPolicy:"EditionInPlace",width:"auto"}],i.treeDocument=this._tweaker._listOfProperties,i.useAsyncPreExpand=!0,i};b.prototype.buildView=function(){this._view=new s(M.call(this)),this._view.layout.setProperties(C.call(this)),this._view.sizeColumnToFit("tree",{isUserInteraction:!1,computeAllRows:!0})},b.prototype.handleEvents=function(){this._view.addEventListener("change",(function(e){e.stopPropagation()}));let e=this;this._tweaker._listOfProperties.onPostExpand((function(){e._view.sizeColumnToFit("tree",{isUserInteraction:!1,computeAllRows:!0})}));let t=this._view.addEventListener("allCellsRendered",(function(i){e._view.removeEventListener("allCellsRendered",t),e._view.sizeColumnToFit("tree",{isUserInteraction:!1,computeAllRows:!0}),i.stopImmediatePropagation()}))},b.prototype.setViewModuleOptions=function(e){this._view.setProperties(M.call(this)),this._view.layout.setProperties(this._tweaker.viewModuleOptions&&this._tweaker.viewModuleOptions.dataGridViewLayoutOptions)},b.prototype.updateListOfProperties=function(e,t){};let k=function(e,t){m.call(this,e,t)};t.applyMixin(k,m),k.prototype.buildView=function(){let e=this._options.targetContainer?this._options.targetContainer:this._tweaker.elements.container;e&&e.addClassName("wux-tweakers-object2-label wux-tweakers-string-label"),this.formatValue()},k.prototype.setValue=function(e){this.formatValue()},k.prototype.destroy=function(){let e=this._options.targetContainer?this._options.targetContainer:this._tweaker.elements.container;e&&(e.textContent="",e.removeClassName("wux-tweakers-object2-label")),m.prototype.destroy.call(this)},k.prototype.updateListOfProperties=function(e,t){this.formatValue()},k.prototype.formatValue=function(){let e=this._options.targetContainer?this._options.targetContainer:this._tweaker.elements.container;e&&(e.textContent=""),e.textContent=this._tweaker.getStringFromValue()};let x=function(e,t){m.call(this,e,t)};return t.applyMixin(x,m),x.prototype.buildView=function(){let t=new e.createElement("div");this._labelVM=new k(this._tweaker,{targetContainer:t}),this._dataGridViewVM=new b(this._tweaker,this._options);let o=this;this._view=i._buildTweakerAggregateView(this._tweaker,{viewModule:this,inlined:t,extended:this._dataGridViewVM._view},{overlapContainer:!0,hasButton:!this._options.readOnly,getExtendedViewHeight:function(){let e=o._dataGridViewVM._view.model.length-1,t=o._dataGridViewVM._view.layout.getRowPosition(e);return t+=o._dataGridViewVM._view.layout.getRowHeight(e),t+=o._dataGridViewVM._view.layout.rowSpacing,t=Math.min(450,t+1),o._dataGridViewVM._view.height=t,t}})},x.prototype.destroy=function(){this._labelVM.destroy(),this._dataGridViewVM.destroy(),this._view.destroy()},x.prototype.setViewModuleOptions=function(e){this._labelVM.setViewModuleOptions(e),this._dataGridViewVM.setViewModuleOptions(e)},x.prototype.setValue=function(e){this._labelVM.setValue(e),this._dataGridViewVM.setValue(e)},x.prototype.updateListOfProperties=function(e,t){this._labelVM.updateListOfProperties(e,t),this._dataGridViewVM.updateListOfProperties(e,t)},x.prototype._giveFocus=function(){this._view.elements.openExtendedViewButton.getContent().focus()},O.prototype.baseViewModule=m,O.prototype.VIEW_MODULES={readOnly:{classObject:k},labelDotsList_readOnly:{classObject:x,options:{readOnly:!0}},labelDotsList:{classObject:x},list_readOnly:{classObject:b,options:{readOnly:!0}},list:{classObject:b}},O.prototype.registerViewModule=function(e,t){},O})),define("DS/TweakersEx/typings/types",[],(()=>{}));__assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},__assign.apply(this,arguments)};define("DS/TweakersEx/ControlsExViewModules",["require","exports","DS/Tweakers/TweakerBase","DS/Tweakers/URLObjectViewModules","DS/Tweakers/TweakerUtils","DS/Utilities/Utils","DS/ControlsEx/Card","DS/Tweakers/TweakerURLObject"],(function(e,t,i,o,n,s,r,a){"use strict";var l=function(e,t){this._view=[],this._container=(null==t?void 0:t.useCustomContainerDiv)||e.elements.container,i.prototype.baseViewModule.call(this,e,t)};function u(e){void 0===e&&(e={});var t=this._options,i=this._tweaker;if(t&&"function"==typeof t.getFormattedCardOptions){var o=t.getFormattedCardOptions(i,e);if("object"==typeof o)return o.highlightModel=this.highlightModel,new r(o)}}s.applyMixin(l,i.prototype.baseViewModule),l.prototype.buildView=function(){var e=this;this._view=[],Array.isArray(this._tweaker.value)?this._tweaker.value.forEach((function(t){e._view.push(u.call(e,t))})):this._view.push(u.call(this,this._tweaker.value)),this._tweaker instanceof a?this._container.classList.add("wux-tweakers-urlobject-cards"):this._container.classList.add("wux-tweakers-card")},l.prototype.handleEvents=function(){},l.prototype.setValue=function(e){this._view.forEach((function(e){e.remove(),e.destroy()})),this._view=[],this.buildView(),this.inject(this._container)},l.prototype.setTouchMode=function(e){this._view.forEach((function(t){t.touchMode=e}))},l.prototype.setHighlightModel=function(e){this.highlightModel=e,this._view.forEach((function(t){t.highlightModel=e}))};var p={orientation:"portrait",descriptionHeight:1};Object.freeze(p),l.prototype.setViewOptions=function(e){var t=this;this._view.forEach((function(i){t._setViewOptionsOnAbstract(i,e,p)}))};var d=function(e,t){this._readOnlyInlineContainer=null,this._readOnlyInline=null,this._cardsVM=null,i.prototype.baseViewModule.call(this,e,t)};return s.applyMixin(d,i.prototype.baseViewModule),d.prototype.buildView=function(){var e=this;this._readOnlyInlineContainer=document.createElement("div"),this._readOnlyInline=new o.ClickableLabel(this._tweaker,{useCustomContainerDiv:this._readOnlyInlineContainer,displayStyle:"info"}),this._view=n._buildTweakerAggregateView(this._tweaker,{viewModule:this,inlined:this._readOnlyInlineContainer,getExtended:function(){var t=document.createElement("div");return e._cardsVM=new l(e._tweaker,__assign({useCustomContainerDiv:t},e._options)),e._cardsVM.inject(t),t}},{overlapContainer:!0,getExtendedViewHeight:function(){return"auto"},ignoreContainerWidth:!0,hasButton:!1,popupAlignment:"near"}),this._tweaker instanceof a?this._view.getContent().addClassName("wux-tweakers-urlobject wux-tweakers-urlobject-divdotseditors"):this._view.getContent().addClassName("wux-tweakers-card wux-tweakers-card-divdotseditors"),this.setValue(this._tweaker.value)},d.prototype.setValue=function(e){var t,i=this;"function"==typeof this._options.getFormattedCardOptions&&("function"==typeof this._options.getFormattedURLObjectOptions&&(Array.isArray(e)?(t=[],e.forEach((function(e){t.push(i._options.getFormattedURLObjectOptions(i._tweaker,e))}))):t=this._options.getFormattedURLObjectOptions(this._tweaker,e),this._readOnlyInline.setValue(t),this._cardsVM&&this._cardsVM.setValue(this._tweaker,e)))},d.prototype.setTouchMode=function(e){this._view&&(!0===e?this._readOnlyInlineContainer.setAttributeNode(document.createAttribute("touch-mode")):this._readOnlyInlineContainer.removeAttribute("touch-mode"),!0===e?this._view.getContent().setAttributeNode(document.createAttribute("touch-mode")):this._view.getContent().removeAttribute("touch-mode"),this._readOnlyInline.setTouchMode(e),this._cardsVM&&this._cardsVM.setTouchMode(e),this._view.touchMode=e)},d.prototype.setViewOptions=function(e){this._readOnlyInline.setViewOptions(e),this._cardsVM&&this._cardsVM.setViewOptions(e)},{Cards:l,InlinedCards:d}})),define("DS/TweakersEx/AutoCompleteInlineViewModuleTweakerString",["UWA/Core","DS/Tweakers/StringViewModules","DS/Utilities/Utils","DS/Utilities/Dom","DS/TweakersEx/AutoCompleteViewModuleTweakerString","DS/Tweakers/TweakerUtils","DS/Utilities/KeyboardUtils"],(function(e,t,i,o,n,s,r){"use strict";var a=function(e,i){t.Base.call(this,e,i)};return i.applyMixin(a,t.Base),a.prototype.buildView=function(){this._labelContainer=e.createElement("div");var t=this;this._view=s._buildTweakerAggregateView(this._tweaker,{viewModule:this,inlined:this._labelContainer,getExtended:function(){return t._autoCompleteVM||(t._autoCompleteVM=new n(t._tweaker,t._options)),t._autoCompleteVM}},{overlapContainer:!0,hasButton:!this._options.readOnly,getExtendedViewHeight:function(){return"auto"},onPopupDisplay:function(){t._view.getContent().extendedViewContainer&&t._view.getContent().extendedViewContainer.getContent().setStyle("min-height",t._view.getContent().offsetHeight),t._autoCompleteVM&&t._autoCompleteVM._view&&(t._autoCompleteVM._view._showPopup(),t._autoCompleteVM._view.focus({preventScroll:!0}))},immediateOpenFlag:this._options&&this._options.immediateOpenFlag}),this._view.getContent().classList.add("wux-tweakers-string-lineeditordots"),this._tweaker.getContent().classList.add("wux-tweakers-string-autocomplete"),this.setPossibleValues(this._tweaker.possibleValues),this.setValue(this._tweaker.value),this.setTouchMode(this._tweaker._getCurrentTouchMode()),this._options.className&&this._tweaker.elements.container.classList.add(this._options.className)},a.prototype.destroy=function(){this._tweaker.elements.container&&this._tweaker.getContent().classList.remove("wux-tweakers-string-autocomplete"),this._autoCompleteVM&&this._autoCompleteVM.destroy(),this._view.getContent().extendedViewContainer&&(this._view.getContent().extendedViewContainer.visibleFlag=!1,this._view.getContent().extendedViewContainer.destroy()),this._view.getContent().openExtendedViewButton&&this._view.getContent().openExtendedViewButton.destroy(),t.Base.prototype.destroy.call(this)},a.prototype.computeTweakerContentLength=function(){const e=this._tweaker;if(!e)return;let t=this._tweaker._getCurrentTouchMode()?68:37;const i=e.getStringFromValue(this._tweaker.value);return o.computeStringWidth(i,e.getFontSize(),e.getFontFamily(),e.getEditedState())+t},a.prototype.handleEvents=function(){var e=this,t=this._tweaker,i=this._view;i&&t&&(o.addEventOnElement(t,i.getContent(),"change",(function(o){o.stopPropagation(),e.setTweakerValue(i.value),t.onPostEdit()})),o.addEventOnElement(t,i.getContent(),"keydown",(function(e){e.keyCode===r.ESCAPE&&t.onCancelEdit()})))},a.prototype.setValue=function(e){this._labelContainer&&(this._labelContainer.textContent=this._tweaker.getStringFromValue(e)),this._autoCompleteVM&&this._autoCompleteVM.setValue(e)},a.prototype.setPossibleValues=function(){this._autoCompleteVM&&this._autoCompleteVM._view&&(this._autoCompleteVM._view.possibleValues=this._tweaker.possibleValues)},a.prototype.setPlaceholder=function(){this._autoCompleteVM&&this._autoCompleteVM._view&&(this._autoCompleteVM._view.placeholder=this._tweaker.placeholder)},a.prototype.setAllowResetToUndefinedByUIFlag=function(){this._autoCompleteVM&&this._autoCompleteVM._tweaker&&(this._autoCompleteVM.allowResetToUndefinedByUIFlag=this._tweaker.allowResetToUndefinedByUIFlag)},a.prototype.setTouchMode=function(e){t.Base.prototype.setTouchMode.call(this,e),!0===e?this._view.getContent().setAttributeNode(document.createAttribute("touch-mode")):this._view.getContent().removeAttribute("touch-mode"),this._autoCompleteVM&&this._autoCompleteVM._view&&(this._autoCompleteVM._view.touchMode=e)},a.prototype.setViewOptions=function(e,t){if(this._autoCompleteVM&&this._autoCompleteVM.setViewOptions(e,t),!this._labelContainer)return;let i=t&&t.multipleValuesSeparator;(e&&e.multipleValuesSeparator)!==i&&(this._labelContainer.textContent=this._tweaker.getStringFromValue(this._tweaker.value))},a}));