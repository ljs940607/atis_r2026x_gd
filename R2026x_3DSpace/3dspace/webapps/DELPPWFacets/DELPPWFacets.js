define("DS/DELPPWFacets/common/AppCore",["UWA/Core","DS/DELModularWebAppCore/Core","DS/Controls/ModalContainer","DS/Controls/Loader","text!DS/DELPPWFacets/assets/json/AuthorizedEvents.json","text!DS/DELPPWFacets/assets/json/XMLMapping.json","text!DS/DELPPWFacets/assets/json/ModuleConfigurations.json","text!DS/DELPPWFacets/assets/json/ModelServiceOptions.json","text!DS/DELPPWFacets/assets/json/ColumnManagers.json"],(function(e,n,t,i,o,a,r,s,l){"use strict";var u,c,d,P,g,m,D,f=e.Json.decode(r),M={InsertCmdModule:"DS/DELPPWInsertCmdModule/InsertCmdModule",InsertCmdPLMNewModule:"DS/DELPPWInsertCmdPLMNewModule/InsertCmdPLMNewModule",manufacturingUIModule:"DS/DELPPWManufacturingUIModule/manufacturingUIModule",ImplementModule:"DS/DELPPWImplementModule/ImplementModule",ResultingProductModule:"DS/DELPPWResultingProductModule/ResultingProductModule"},p={AppPreferencesBehavior:"DS/DELPPWModelBehaviors/AppPreferencesBehavior",LinkBehavior:"DS/DELPPWModelBehaviors/LinkBehavior",ModelBehavior:"DS/DELPPWModelBehaviors/ModelBehavior",ResourceBehavior:"DS/DELPPWModelBehaviors/ResourceBehavior",ResultingProductBatchCmdBehavior:"DS/DELPPWModelBehaviors/ResultingProductBatchCmdBehavior",SearchBehavior:"DS/DELPPWViewBehaviors/SearchBehavior",SelectionBehavior:"DS/DELPPWViewBehaviors/SelectionBehavior",TreeListViewBehavior:"DS/DELPPWViewBehaviors/TreeListViewBehavior/TreeListViewBehavior",UXFactoryBehavior:"DS/DELPPWViewBehaviors/UXFactoryBehavior/UXFactoryBehavior",ViewBehavior:"DS/DELPPWViewBehaviors/ViewBehavior",WUXNodeModelBehavior:"DS/DELPPWViewBehaviors/WUXNodeModelBehavior/WUXNodeModelBehavior",AssignProductBehavior:"DS/DELPPWItemModelBehaviors/AssignProductBehavior",ProductImplementBehavior:"DS/DELPPWItemModelBehaviors/ProductImplementBehavior",DataGridViewBehavior:"DS/DELPPWItemViewBehaviors/DataGridViewBehavior/DataGridViewBehavior",MfgItemUXBehavor:"DS/DELPPWItemViewBehaviors/ItemUXBehavior/MfgItemUXBehavor",ProcessImplementBehavior:"DS/DELPPWProcessModelBehaviors/ProcessImplementBehavior",MfgProcessBehavior:"DS/DELPPWProcessModelBehaviors/MfgProcessBehavior"},S={AttributePlugin:"DS/DELPPWModelPlugins/AttributePlugin",BatchCmdPlugin:"DS/DELPPWModelPlugins/BatchCmdPlugin",ChangeActionPlugin:"DS/DELPPWModelPlugins/ChangeActionPlugin",DatabasePlugin:"DS/DELPPWModelPlugins/DatabasePlugin/DatabasePlugin",DocumentPlugin:"DS/DELPPWModelPlugins/DocumentPlugin",DicoPlugin:"DS/DELPPWModelPlugins/DicoPlugin",InterWidgetComPlugin:"DS/DELPPWModelPlugins/InterWidgetComPlugin",ResourcePlugin:"DS/DELPPWModelPlugins/ResourcePlugin/ResourcePlugin",WebServicePlugin:"DS/DELPPWModelPlugins/ResourcePlugin/WebServicePlugin",CfgColumnsPlugin:"DS/DELPPWViewPlugins/TreeViewPlugin/CfgColumnsPlugin",KeyBindingPlugin:"DS/DELPPWViewPlugins/KeyBindingPlugin",PlatformPlugin:"DS/DELPPWViewPlugins/TreeViewPlugin/PlatformPlugin",RelationsPlugin:"DS/DELPPWViewPlugins/RelationsPlugin",RootsPlugin:"DS/DELPPWViewPlugins/RootsPlugin",SearchPlugin:"DS/DELPPWViewPlugins/SearchPlugin/SearchPlugin",SelectionPlugin:"DS/DELPPWViewPlugins/SelectionPlugin/SelectionPlugin",TreeViewPlugin:"DS/DELPPWViewPlugins/TreeViewPlugin/TreeViewPlugin",UXComponentsPlugin:"DS/DELPPWViewPlugins/UXComponentsPlugin/UXComponentsPlugin",Viewer3DPlugin:"DS/DELPPWViewPlugins/Viewer3DPlugin",BIPlugin:"DS/DELPPWItemModelPlugins/BI/BIPlugin",BIMakeBuyPlugin:"DS/DELPPWItemModelPlugins/BI/BIMakeBuyPlugin",MfgItemPlugin:"DS/DELPPWItemModelPlugins/MfgItem/MfgItemPlugin",ProductImplementPlugin:"DS/DELPPWItemModelPlugins/ImplementPlugin/ProductImplementPlugin",MfgProcessPlugin:"DS/DELPPWProcessModelPlugins/MfgProcess/MfgProcessPlugin",ProcessImplementPlugin:"DS/DELPPWProcessModelPlugins/ImplementPlugin/ProcessImplementPlugin",Operations3DViewerPlugin:"DS/DELPPWProcessViewPlugins/Operations3DViewerPlugin"},h={CommandsService:"DS/DELPPWFacetsApplicationServices/Commands/CommandsService",ConfigService:"DS/DELPPWServices/ConfigService/ConfigService",LoggerService:"DS/DELPPWServices/LoggerService/LoggerService",ModelService:"DS/DELPPWServices/ModelService",PreferenceService:"DS/DELPPWServices/PreferenceService/PreferenceService"};return{init:function(){return new Promise((function(r,v){u=new n({appId:"DELMFN_AP",widgetTrigram:"XEN",immersiveFrame:null,isFacet:!0,cloudServiceName:"3dmfgitemsmgt",unAuthorizedTypes:["PRODUCT","PARTS"],appContext:{widget:{getId:function(){return widget.id},data:{appId:"DELMFN_AP"}}},require:{module:M,behavior:p,plugin:S,service:h},resource:{iconCatalogPath:"DS/DELPPWFacets/assets/icons/catalog.json",selectionMappingPath:"DS/DELPPWFacets/assets/json/SelectionMapping.json",rootsMappingPath:"DS/DELPPWFacets/assets/json/RootsMapping.json",commandsAvailabilityPath:"DS/DELPPWFacets/assets/json/CommandsAvailability.json",xmlConfiguration:e.Json.decode(a),indexMappingXML:"indexMappingXML",modelRelationsXML:"modelRelationsXML",relationsColumnMappingXML:"relationsColumnMappingXML",insertFormAttributeXML:"insertFormAttributeXML",modelCustomRelationsXML:"modelCustomRelationsXML",documemntColumnConfigXML:"documemntColumnConfigXML",columnConfigPathXML:"columnConfigPathXML",nlsFilePath:"DS/DELPPWFacets/assets/nls/NLS",custoParameterRegExp:"MFNParameters*",afrWorkbenchName:"DELPPWFacets.xml",afrWorkbenchModule:"DELMFNApp",ItemOOTBFiltering:"ItemOOTBFiltering"},Mediator:{authorizedEvents:e.Json.decode(o)},ModelService:e.Json.decode(s),ColumnManagers:e.Json.decode(l),PreferenceService:{appConfigPath:"DS/DELPPWFacets/AppConfig"}}),c=e.createElement("div",{class:"manModContainer",styles:{height:"100%"}}),d=e.createElement("div",{class:"ImplementModule"}),P=e.createElement("div",{class:"ResultingProductModule"}),g=e.createElement("div",{class:"InsertCmdModule"}),m=e.createElement("div",{class:"InsertCmdPLMNewModule"});let L=new i;L.on(),t.createModal(c,L.elements.container),u.useServices(["LoggerService","ConfigService","PreferenceService","ModelService","CommandsService"],(function(){u.createModule("ResultingProductModule","RESULTINGMOD",P,(function(){u.start("RESULTINGMOD",null,(function(){}))})),u.createModule("ImplementModule","IMPMOD",d,(function(){u.start("IMPMOD",null,(function(){}))})),u.createModule("InsertCmdModule","INSTCMDMOD",g,(function(){u.start("INSTCMDMOD",null,(function(){}))})),u.createModule("InsertCmdPLMNewModule","INSTCMDV2MOD",m,(function(){u.start("INSTCMDV2MOD",null,(function(){}))})),u.createModule("manufacturingUIModule","MANMOD",c,(function(){u.start("MANMOD",f.MANMOD,(function(){null!==(D=u.getInstance().MANMOD.instance)?u.waitForBackgroundTasks().then((()=>{r()})):v()}))}))}))}))},setImmersiveFrame:function(n){e.is(u)&&(u.getConfig().immersiveFrame=n)},getCore:function(){return u},getXENModule:function(){return D},getManModContainer:function(){return c}}})),define("DS/DELPPWFacets/facets/FacetCommandManager",["UWA/Class","UWA/Core","DS/CoreEvents/Events"],(function(e,n,t){"use strict";var i,o={HistoryHdr:"DS/LifecycleCmd/HistoryCmd",ActionBar_ChangeOwner:"DS/ENOCollabSharingCmds/commands/TransferOwnershipCmd/ActionBar_ChangeOwnerCmd",MaturityHdr:"DS/LifecycleCmd/MaturityCmd",DeleteHdr:"DS/LifecycleCmd/DeleteCmd",SetThePartNumber:"DS/EngineeringItemCmd/SetPartNumberCmd/SetPartCmd"},a={},r=null,s=null,l=null,u=null;return e.singleton({init:function(e){var c=Object.keys(o);r=e.context,s=e.model,l=e.logger,i=this,c.forEach((function(e){i.initCmd(e,o[e])})),t.subscribe({event:"FacetCommandManager/executeCommand"},(function(e){n.is(e)&&n.is(e.commandName)&&n.is(a[e.commandName])?(a[e.commandName].execute(e.targetNode),u=e.targetNode.displayName):console.log("FacetCommandManafer : error ,command not found")})),t.subscribe({event:"FacetCommandManager/beginCommand"},(function(e){n.is(e)&&n.is(e.commandName)&&n.is(a[e.commandName])?a[e.commandName].begin():console.log("FacetCommandManafer : error ,command not found")}))},initCmd:function(e,t){require([t],(function(t){var i=new t({ID:e,context:r});i.options.context.getSelectedNodes=function(){var e=s.getSelectedNodes();return n.is(e,"array")&&e.forEach((function(e){e.getID=function(){return e.options.referencePID},e.getInstID=function(){return null},e.getLabel=function(){return e.options.label}})),e},i.options.context.displayNotification=function(e){"primary"===e.eventID||"success"===e.eventID?l().info(u,e.msg):l().warn(u,e.msg)},a[e]=i}))},getCommand:function(e){var t=null;return n.is(e)&&(t=a[e]),t}})})),define("DS/DELPPWFacets/AppConfig",["DS/DELPPWModelServices/BehaviorUtil"],(function(e){"use strict";return{preferences:[{name:"showDialog",label:"Preferences.ShowDialog",defaultValue:"true",type:"hidden"},{name:"navigateOnIndexedDB",type:"hidden",label:"Preferences.NavOnIndexedDB",defaultValue:"false"},{name:"isXRevisionActivated",type:"hidden",label:"Preferences.isXRevisionActivated",defaultValue:!1},{name:"oneDelmiaAggregationMode",label:"Preferences.oneDelmiaAggregationRules",defaultValue:"true",type:"hidden"},{name:"separator",label:"Preferences.Separator",defaultValue:"|",type:"hidden"},{name:"navigateOnIndex",options:[{value:"Database",label:"Database"},{value:"Index",label:"Index"},{value:"IndexRelationsOnDemand",label:"Index - Relations On Demand"}],label:"Preferences.NavOnIndex",defaultValue:"Index",type:"hidden"},{name:"organization",label:"Preferences.Org",options:[],defaultValue:"",onchange:"OrganizationUpdated",type:"hidden"},{name:"collaborativeSpace",label:"Preferences.CollabSpace",options:[],defaultValue:"",onchange:"CollabSpaceUpdated",type:"hidden"},{name:"role",label:"Preferences.Role",options:[],defaultValue:"",onchange:"RoleUpdated",type:"hidden"},{name:"MASS",label:"Preferences.Mass",options:[],defaultValue:"KILOGRAM",type:"hidden"},{name:"VOLUME",label:"Preferences.Volume",options:[],defaultValue:"METER3",type:"hidden"},{name:"AREA",label:"Preferences.Area",options:[],defaultValue:"METER2",type:"hidden"},{name:"LENGTH",label:"Preferences.Length",options:[],defaultValue:"METER",type:"hidden"},{name:"TIME",label:"Preferences.Time",options:[],defaultValue:"",type:"hidden"},{name:"timeout",label:"Preferences.ServerTimeout",defaultValue:"600",onchange:"TimeoutUpdated",type:"hidden"},{name:"systemsViewColumns",type:"hidden",defaultValue:[]},{name:"consumedItemsColumns",type:"hidden",defaultValue:[]},{name:"capableResourcesColumns",type:"hidden",defaultValue:[]},{name:"forceDBModePreferences",type:"hidden",defaultValue:"false"},{name:"isManufacturingItemsVisible",type:"hidden",defaultValue:!0},{name:"isProductsPartsVisible",type:"hidden",defaultValue:!0},{name:"isMFNToggleAuxiliaryViewVisible",type:"hidden",defaultValue:!1},{name:"refreshBIOnAuthoring",type:"hidden",defaultValue:!0},{name:"isReleaseSyncXENEnabled",type:"hidden",defaultValue:!1}]}})),define("DS/DELPPWFacets/DataProvider/ManufacturingDataProvider",["UWA/Core","UWA/Class","DS/DELPPWFacets/common/AppCore","DS/DELPPWResourceServices/ResourceUtils"],(function(e,n,t,i){"use strict";var o,a,r,s;return n.singleton({init:function(e){this._parent(e),s=new Promise((function(e){t.init().then((function(){r=t.getXENModule(),e(r)}))}))},_fetchData:function(n){var t=[];return new Promise((function(r){s.then((function(s){o=s.getDatagridViewBehavior(),a=s.getModelBehavior(),e.is(n)&&(n.forEach((function(n){t.push(new Promise((function(t){o.getScopes(n,(function(n){var o,r,s=[];e.is(n)&&0!==n.length?n.length>1?s=i.getNLSValue("ManufDataProvider.Multiple"):(o=n[0].get("type"),r=a.isAKindOf(o,"CreateKit")||a.isAKindOf(o,"CreateAssembly")||a.isAKindOf(o,"CreateMaterial")?i.getNLSValue("Column.MakeOrBuy.Make"):a.isAKindOf(o,"Provide")||a.isAKindOf(o,"ProcessContinuousProvide")?i.getNLSValue("Column.MakeOrBuy.Buy"):null,s=e.is(r)?r+" - "+n[0].get("organization"):n[0].get("organization")):s=i.getNLSValue("ManufDataProvider.None"),t(s)}))})))})),Promise.all(t).then((function(e){var t=[],i=0;n.forEach((function(n){t[n]=e[i],i++})),t.length=i,r(t)})))}))}))},getInitPromise:function(){return s}})})),define("DS/DELPPWFacets/facets/ManufacturingIntentFacet",["UWA/Core","UWA/Promise","DS/EditPropWidget/facets/Common/FacetsBase","DS/CoreEvents/Events","DS/DELPPWFacets/common/AppCore","DS/DELPPWFacets/facets/FacetCommandManager","DS/PlatformAPI/PlatformAPI","DS/DELPPWFacets/DataProvider/ManufacturingDataProvider","css!DS/DELPPWFacets/DELPPWFacets.css"],(function(e,n,t,i,o,a,r,s){"use strict";var l,u,c,d,P,g,m,D,f=null,M={},p=!1,S=function(){l.show(),g.hide(),p=!0},h=function(e){m.setText(P.getPlugins("ResourcePlugin").instance.getNLSValue(e)),l.hide(),g.show(),p=!1},v=t.extend({init:function(t){var f=this;this._parent.apply(this,arguments),widget.setValue("fromXen",!0),e.is(P)?(this.elements.container||(this.elements.container=u),u.show(),d=n.resolve(c)):(this.elements.container||(this.elements.container=e.createElement("div",{class:"manufacturingFacet",styles:{height:"100%"}}),u=this.elements.container,i.subscribe({event:"ManufacturingIntent.Destroy"},(function(){u.hide()}))),d=new n((function(n,i){s.getInitPromise().then((function(s){c=s,(l=o.getManModContainer()).inject(u),o.setImmersiveFrame(t.immersiveFrame),P=o.getCore(),e.is(c)&&(M={model:c.getModel(),context:P.getConfig().appContext,logger:P.getLogger},g=e.createElement("div",{class:"enoderivedoutputs_information"}),D=e.createElement("div",{class:"content_box"}).inject(g),e.createElement("span",{class:"enoderivedoutputs_information_icon wux-ui-3ds wux-ui-3ds-5x wux-ui-3ds-docs"}).inject(D),m=e.createElement("h2",{class:"enoderivedoutputs_information_msg"}).inject(D),g.setStyle("position","relative"),g.setStyle("height","100%"),g.setStyle("vertical-align","top"),D.setStyle("position","absolute"),D.setStyle("top","calc(50% - 100px)"),D.setStyle("text-align","left"),D.setStyle("color","#303030"),D.setStyle("opacity",".2"),g.hide(),g.inject(f.elements.container),a.init(M),r.publish("XENFacetLoaded"),n(c)),i()}))})))},updateFacet:function(){var n,t=this;d.then((function(i){var o,a={context:i},r=null,s=null,l=function(){null!==f&&n===f||(i.removeRoots(),i.fetchRoot(n,a),f=n)};a.onComplete=function(n){var t;P.getLogger().log("Entering fetchRoot Completed"),t=e.is(n.get("baseType"))?n.get("baseType"):n.get("type"),e.is(n)&&(e.is(n,"array")&&(n=n[0]),i.isAvailableType(t)?(P.getLogger().log("Entering object supported condition"),S(),i.fetchXENSlide(n.get("PID"))):(P.getLogger().log("Entering object not supported condition"),h("objectTypeNotSupported")))},a.onFailure=function(){P.getLogger().log("Entering fetchRoot Failure"),h("ObjectRetrievalFailed")},e.is(t.options.appContext)&&e.is(t.options.appContext.settingManager)&&e.is(t.options.appContext.settingManager.getSecurityContext)&&(r=e.is(t.options.appContext.settingManager.getSecurityContext(),"string")&&t.options.appContext.settingManager.getSecurityContext().length>0?t.options.appContext.settingManager.getSecurityContext():null),null!==r&&i.setSecurityContext(r),o=t.getModel(),e.is(o)&&e.is(o.get("objectId"))?(n=o.get("objectId"),P.getLogger().log("Selected objects: "+n),n.indexOf(".")>0?(P.getLogger().log("Entering multi-selection condition"),h("MultiselectionMessage")):(P.getLogger().log("Entering single-Selection condition"),S(),"businessobject"===(s=o.get("metatype"))||"bus"===s?l():"relationship"===s&&(n=o.get("selReferenceID"),l()))):(P.getLogger().log("No object selected"),h("NoObjectSelected"),i.removeLoader())}))},getContent:function(){return l},getCore:function(){return P},getXENDatagridViewBehavior:function(){return c.getDatagridViewBehavior()},getXENManufacturingUIModule:function(){return c},onAction:function(e){var n=this;d.then((function(t){var i,o=n.getModel().get("objectId");if(t.setSelectedObjectID(o),"Add"===e&&p)return i=document.querySelector(".wux-button-icon-placeholder .fonticon-plus"),t.renderMenu(i.getBoundingClientRect(),o,"addToolBar")}))},destroyComponent:function(){}});return v}));