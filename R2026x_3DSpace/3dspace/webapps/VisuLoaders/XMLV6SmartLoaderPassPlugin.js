define("DS/VisuLoaders/XMLV6SmartLoaderPassPlugin",["DS/Visualization/ThreeJS_DS"],(function(e){"use strict";return function(r){this.enabled=!1,this.renderTarget=null;var t,i=r,n=new e.Frustum;this.init=function(e){e.context,t=e},this.render=function(e,r){this.enabled&&(i.isWebWorkerBusy()||this.update(e,r))},this.update=function(r,o){var a,s,u,c,d;t.autoUpdateScene&&r.updateMatrixWorld(),o.matrixWorldInverse.getInverse(o.matrixWorld),n.setFromCameraWithViewMatrix(o);var l=[];for(a=0,s=(d=r.getWebGLObjects("main")).length;a<s;a++)if(null!==(u=d[a])&&(!((c=u.object)instanceof e.Mesh)||!c.frustumCulled||n.intersectsObject(c))&&"BBox"==c.name){var p=-1;if(null!==c.boundingSphere){var h=new e.Vector3;h.copy(c.boundingSphere.center),h.applyMatrix4(c.matrixWorld);var m=new e.Vector3;m.subVectors(h,o.position);var f=m.length();p=c.boundingSphere.radius/f}l.push({name:c._occurrence.parent.node.name,priority:p})}l.sort((function(e,r){return e.priority<r.priority?1:e.priority>r.priority?-1:0})),i.loadGeometryFiles(l)}}}));